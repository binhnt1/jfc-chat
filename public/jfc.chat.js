(function(){
var ce=globalThis;function te(t){return(ce.__Zone_symbol_prefix||"__zone_symbol__")+t}function ht(){let t=ce.performance;function n(I){t&&t.mark&&t.mark(I)}function a(I,s){t&&t.measure&&t.measure(I,s)}n("Zone");class e{static __symbol__=te;static assertZonePatched(){if(ce.Promise!==S.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let s=e.current;for(;s.parent;)s=s.parent;return s}static get current(){return b.zone}static get currentTask(){return D}static __load_patch(s,i,r=!1){if(S.hasOwnProperty(s)){let E=ce[te("forceDuplicateZoneCheck")]===!0;if(!r&&E)throw Error("Already loaded patch: "+s)}else if(!ce["__Zone_disable_"+s]){let E="Zone:"+s;n(E),S[s]=i(ce,e,R),a(E,E)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(s,i){this._parent=s,this._name=i?i.name||"unnamed":"<root>",this._properties=i&&i.properties||{},this._zoneDelegate=new f(this,this._parent&&this._parent._zoneDelegate,i)}get(s){let i=this.getZoneWith(s);if(i)return i._properties[s]}getZoneWith(s){let i=this;for(;i;){if(i._properties.hasOwnProperty(s))return i;i=i._parent}return null}fork(s){if(!s)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,s)}wrap(s,i){if(typeof s!="function")throw new Error("Expecting function got: "+s);let r=this._zoneDelegate.intercept(this,s,i),E=this;return function(){return E.runGuarded(r,this,arguments,i)}}run(s,i,r,E){b={parent:b,zone:this};try{return this._zoneDelegate.invoke(this,s,i,r,E)}finally{b=b.parent}}runGuarded(s,i=null,r,E){b={parent:b,zone:this};try{try{return this._zoneDelegate.invoke(this,s,i,r,E)}catch(x){if(this._zoneDelegate.handleError(this,x))throw x}}finally{b=b.parent}}runTask(s,i,r){if(s.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(s.zone||J).name+"; Execution: "+this.name+")");let E=s,{type:x,data:{isPeriodic:ee=!1,isRefreshable:M=!1}={}}=s;if(s.state===q&&(x===U||x===k))return;let he=s.state!=A;he&&E._transitionTo(A,d);let _e=D;D=E,b={parent:b,zone:this};try{x==k&&s.data&&!ee&&!M&&(s.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,E,i,r)}catch(Q){if(this._zoneDelegate.handleError(this,Q))throw Q}}finally{let Q=s.state;if(Q!==q&&Q!==X)if(x==U||ee||M&&Q===p)he&&E._transitionTo(d,A,p);else{let Te=E._zoneDelegates;this._updateTaskCount(E,-1),he&&E._transitionTo(q,A,q),M&&(E._zoneDelegates=Te)}b=b.parent,D=_e}}scheduleTask(s){if(s.zone&&s.zone!==this){let r=this;for(;r;){if(r===s.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${s.zone.name}`);r=r.parent}}s._transitionTo(p,q);let i=[];s._zoneDelegates=i,s._zone=this;try{s=this._zoneDelegate.scheduleTask(this,s)}catch(r){throw s._transitionTo(X,p,q),this._zoneDelegate.handleError(this,r),r}return s._zoneDelegates===i&&this._updateTaskCount(s,1),s.state==p&&s._transitionTo(d,p),s}scheduleMicroTask(s,i,r,E){return this.scheduleTask(new g(F,s,i,r,E,void 0))}scheduleMacroTask(s,i,r,E,x){return this.scheduleTask(new g(k,s,i,r,E,x))}scheduleEventTask(s,i,r,E,x){return this.scheduleTask(new g(U,s,i,r,E,x))}cancelTask(s){if(s.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(s.zone||J).name+"; Execution: "+this.name+")");if(!(s.state!==d&&s.state!==A)){s._transitionTo(V,d,A);try{this._zoneDelegate.cancelTask(this,s)}catch(i){throw s._transitionTo(X,V),this._zoneDelegate.handleError(this,i),i}return this._updateTaskCount(s,-1),s._transitionTo(q,V),s.runCount=-1,s}}_updateTaskCount(s,i){let r=s._zoneDelegates;i==-1&&(s._zoneDelegates=null);for(let E=0;E<r.length;E++)r[E]._updateTaskCount(s.type,i)}}let c={name:"",onHasTask:(I,s,i,r)=>I.hasTask(i,r),onScheduleTask:(I,s,i,r)=>I.scheduleTask(i,r),onInvokeTask:(I,s,i,r,E,x)=>I.invokeTask(i,r,E,x),onCancelTask:(I,s,i,r)=>I.cancelTask(i,r)};class f{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(s,i,r){this._zone=s,this._parentDelegate=i,this._forkZS=r&&(r&&r.onFork?r:i._forkZS),this._forkDlgt=r&&(r.onFork?i:i._forkDlgt),this._forkCurrZone=r&&(r.onFork?this._zone:i._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:i._interceptZS),this._interceptDlgt=r&&(r.onIntercept?i:i._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this._zone:i._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:i._invokeZS),this._invokeDlgt=r&&(r.onInvoke?i:i._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this._zone:i._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:i._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?i:i._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this._zone:i._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:i._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?i:i._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this._zone:i._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:i._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?i:i._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this._zone:i._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:i._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?i:i._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this._zone:i._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let E=r&&r.onHasTask,x=i&&i._hasTaskZS;(E||x)&&(this._hasTaskZS=E?r:c,this._hasTaskDlgt=i,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,r.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=i,this._scheduleTaskCurrZone=this._zone),r.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=i,this._invokeTaskCurrZone=this._zone),r.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=i,this._cancelTaskCurrZone=this._zone))}fork(s,i){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,s,i):new e(s,i)}intercept(s,i,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,s,i,r):i}invoke(s,i,r,E,x){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,s,i,r,E,x):i.apply(r,E)}handleError(s,i){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,s,i):!0}scheduleTask(s,i){let r=i;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,s,i),r||(r=i);else if(i.scheduleFn)i.scheduleFn(i);else if(i.type==F)z(i);else throw new Error("Task is missing scheduleFn.");return r}invokeTask(s,i,r,E){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,s,i,r,E):i.callback.apply(r,E)}cancelTask(s,i){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,s,i);else{if(!i.cancelFn)throw Error("Task is not cancelable");r=i.cancelFn(i)}return r}hasTask(s,i){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,s,i)}catch(r){this.handleError(s,r)}}_updateTaskCount(s,i){let r=this._taskCounts,E=r[s],x=r[s]=E+i;if(x<0)throw new Error("More tasks executed then were scheduled.");if(E==0||x==0){let ee={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:s};this.hasTask(this._zone,ee)}}}class g{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(s,i,r,E,x,ee){if(this.type=s,this.source=i,this.data=E,this.scheduleFn=x,this.cancelFn=ee,!r)throw new Error("callback is not defined");this.callback=r;let M=this;s===U&&E&&E.useG?this.invoke=g.invokeTask:this.invoke=function(){return g.invokeTask.call(ce,M,this,arguments)}}static invokeTask(s,i,r){s||(s=this),K++;try{return s.runCount++,s.zone.runTask(s,i,r)}finally{K==1&&$(),K--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(q,p)}_transitionTo(s,i,r){if(this._state===i||this._state===r)this._state=s,s==q&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${s}', expecting state '${i}'${r?" or '"+r+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let T=te("setTimeout"),y=te("Promise"),w=te("then"),_=[],P=!1,L;function H(I){if(L||ce[y]&&(L=ce[y].resolve(0)),L){let s=L[w];s||(s=L.then),s.call(L,I)}else ce[T](I,0)}function z(I){K===0&&_.length===0&&H($),I&&_.push(I)}function $(){if(!P){for(P=!0;_.length;){let I=_;_=[];for(let s=0;s<I.length;s++){let i=I[s];try{i.zone.runTask(i,null,null)}catch(r){R.onUnhandledError(r)}}}R.microtaskDrainDone(),P=!1}}let J={name:"NO ZONE"},q="notScheduled",p="scheduling",d="scheduled",A="running",V="canceling",X="unknown",F="microTask",k="macroTask",U="eventTask",S={},R={symbol:te,currentZoneFrame:()=>b,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:z,showUncaughtError:()=>!e[te("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:H},b={parent:null,zone:new e(null,null)},D=null,K=0;function W(){}return a("Zone","Zone"),e}function dt(){let t=globalThis,n=t[te("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(n||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??=ht(),t.Zone}var pe=Object.getOwnPropertyDescriptor,Me=Object.defineProperty,Ae=Object.getPrototypeOf,_t=Object.create,Tt=Array.prototype.slice,je="addEventListener",He="removeEventListener",Ne=te(je),Ze=te(He),ae="true",le="false",ve=te("");function Ve(t,n){return Zone.current.wrap(t,n)}function xe(t,n,a,e,c){return Zone.current.scheduleMacroTask(t,n,a,e,c)}var j=te,we=typeof window<"u",be=we?window:void 0,Y=we&&be||globalThis,Et="removeAttribute";function Fe(t,n){for(let a=t.length-1;a>=0;a--)typeof t[a]=="function"&&(t[a]=Ve(t[a],n+"_"+a));return t}function gt(t,n){let a=t.constructor.name;for(let e=0;e<n.length;e++){let c=n[e],f=t[c];if(f){let g=pe(t,c);if(!et(g))continue;t[c]=(T=>{let y=function(){return T.apply(this,Fe(arguments,a+"."+c))};return fe(y,T),y})(f)}}}function et(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}var tt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,De=!("nw"in Y)&&typeof Y.process<"u"&&Y.process.toString()==="[object process]",Ge=!De&&!tt&&!!(we&&be.HTMLElement),nt=typeof Y.process<"u"&&Y.process.toString()==="[object process]"&&!tt&&!!(we&&be.HTMLElement),Ce={},kt=j("enable_beforeunload"),Xe=function(t){if(t=t||Y.event,!t)return;let n=Ce[t.type];n||(n=Ce[t.type]=j("ON_PROPERTY"+t.type));let a=this||t.target||Y,e=a[n],c;if(Ge&&a===be&&t.type==="error"){let f=t;c=e&&e.call(this,f.message,f.filename,f.lineno,f.colno,f.error),c===!0&&t.preventDefault()}else c=e&&e.apply(this,arguments),t.type==="beforeunload"&&Y[kt]&&typeof c=="string"?t.returnValue=c:c!=null&&!c&&t.preventDefault();return c};function Ye(t,n,a){let e=pe(t,n);if(!e&&a&&pe(a,n)&&(e={enumerable:!0,configurable:!0}),!e||!e.configurable)return;let c=j("on"+n+"patched");if(t.hasOwnProperty(c)&&t[c])return;delete e.writable,delete e.value;let f=e.get,g=e.set,T=n.slice(2),y=Ce[T];y||(y=Ce[T]=j("ON_PROPERTY"+T)),e.set=function(w){let _=this;if(!_&&t===Y&&(_=Y),!_)return;typeof _[y]=="function"&&_.removeEventListener(T,Xe),g?.call(_,null),_[y]=w,typeof w=="function"&&_.addEventListener(T,Xe,!1)},e.get=function(){let w=this;if(!w&&t===Y&&(w=Y),!w)return null;let _=w[y];if(_)return _;if(f){let P=f.call(this);if(P)return e.set.call(this,P),typeof w[Et]=="function"&&w.removeAttribute(n),P}return null},Me(t,n,e),t[c]=!0}function rt(t,n,a){if(n)for(let e=0;e<n.length;e++)Ye(t,"on"+n[e],a);else{let e=[];for(let c in t)c.slice(0,2)=="on"&&e.push(c);for(let c=0;c<e.length;c++)Ye(t,e[c],a)}}var oe=j("originalInstance");function ye(t){let n=Y[t];if(!n)return;Y[j(t)]=n,Y[t]=function(){let c=Fe(arguments,t);switch(c.length){case 0:this[oe]=new n;break;case 1:this[oe]=new n(c[0]);break;case 2:this[oe]=new n(c[0],c[1]);break;case 3:this[oe]=new n(c[0],c[1],c[2]);break;case 4:this[oe]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},fe(Y[t],n);let a=new n(function(){}),e;for(e in a)t==="XMLHttpRequest"&&e==="responseBlob"||function(c){typeof a[c]=="function"?Y[t].prototype[c]=function(){return this[oe][c].apply(this[oe],arguments)}:Me(Y[t].prototype,c,{set:function(f){typeof f=="function"?(this[oe][c]=Ve(f,t+"."+c),fe(this[oe][c],f)):this[oe][c]=f},get:function(){return this[oe][c]}})}(e);for(e in n)e!=="prototype"&&n.hasOwnProperty(e)&&(Y[t][e]=n[e])}function ue(t,n,a){let e=t;for(;e&&!e.hasOwnProperty(n);)e=Ae(e);!e&&t[n]&&(e=t);let c=j(n),f=null;if(e&&(!(f=e[c])||!e.hasOwnProperty(c))){f=e[c]=e[n];let g=e&&pe(e,n);if(et(g)){let T=a(f,c,n);e[n]=function(){return T(this,arguments)},fe(e[n],f)}}return f}function mt(t,n,a){let e=null;function c(f){let g=f.data;return g.args[g.cbIdx]=function(){f.invoke.apply(this,arguments)},e.apply(g.target,g.args),f}e=ue(t,n,f=>function(g,T){let y=a(g,T);return y.cbIdx>=0&&typeof T[y.cbIdx]=="function"?xe(y.name,T[y.cbIdx],y,c):f.apply(g,T)})}function fe(t,n){t[j("OriginalDelegate")]=n}var $e=!1,Le=!1;function yt(){if($e)return Le;$e=!0;try{let t=be.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(Le=!0)}catch{}return Le}function Je(t){return typeof t=="function"}function Ke(t){return typeof t=="number"}var pt={useG:!0},ne={},ot={},st=new RegExp("^"+ve+"(\\w+)(true|false)$"),it=j("propagationStopped");function ct(t,n){let a=(n?n(t):t)+le,e=(n?n(t):t)+ae,c=ve+a,f=ve+e;ne[t]={},ne[t][le]=c,ne[t][ae]=f}function vt(t,n,a,e){let c=e&&e.add||je,f=e&&e.rm||He,g=e&&e.listeners||"eventListeners",T=e&&e.rmAll||"removeAllListeners",y=j(c),w="."+c+":",_="prependListener",P="."+_+":",L=function(p,d,A){if(p.isRemoved)return;let V=p.callback;typeof V=="object"&&V.handleEvent&&(p.callback=k=>V.handleEvent(k),p.originalDelegate=V);let X;try{p.invoke(p,d,[A])}catch(k){X=k}let F=p.options;if(F&&typeof F=="object"&&F.once){let k=p.originalDelegate?p.originalDelegate:p.callback;d[f].call(d,A.type,k,F)}return X};function H(p,d,A){if(d=d||t.event,!d)return;let V=p||d.target||t,X=V[ne[d.type][A?ae:le]];if(X){let F=[];if(X.length===1){let k=L(X[0],V,d);k&&F.push(k)}else{let k=X.slice();for(let U=0;U<k.length&&!(d&&d[it]===!0);U++){let S=L(k[U],V,d);S&&F.push(S)}}if(F.length===1)throw F[0];for(let k=0;k<F.length;k++){let U=F[k];n.nativeScheduleMicroTask(()=>{throw U})}}}let z=function(p){return H(this,p,!1)},$=function(p){return H(this,p,!0)};function J(p,d){if(!p)return!1;let A=!0;d&&d.useG!==void 0&&(A=d.useG);let V=d&&d.vh,X=!0;d&&d.chkDup!==void 0&&(X=d.chkDup);let F=!1;d&&d.rt!==void 0&&(F=d.rt);let k=p;for(;k&&!k.hasOwnProperty(c);)k=Ae(k);if(!k&&p[c]&&(k=p),!k||k[y])return!1;let U=d&&d.eventNameToString,S={},R=k[y]=k[c],b=k[j(f)]=k[f],D=k[j(g)]=k[g],K=k[j(T)]=k[T],W;d&&d.prepend&&(W=k[j(d.prepend)]=k[d.prepend]);function I(o,u){return u?typeof o=="boolean"?{capture:o,passive:!0}:o?typeof o=="object"&&o.passive!==!1?{...o,passive:!0}:o:{passive:!0}:o}let s=function(o){if(!S.isExisting)return R.call(S.target,S.eventName,S.capture?$:z,S.options)},i=function(o){if(!o.isRemoved){let u=ne[o.eventName],v;u&&(v=u[o.capture?ae:le]);let C=v&&o.target[v];if(C){for(let m=0;m<C.length;m++)if(C[m]===o){C.splice(m,1),o.isRemoved=!0,o.removeAbortListener&&(o.removeAbortListener(),o.removeAbortListener=null),C.length===0&&(o.allRemoved=!0,o.target[v]=null);break}}}if(o.allRemoved)return b.call(o.target,o.eventName,o.capture?$:z,o.options)},r=function(o){return R.call(S.target,S.eventName,o.invoke,S.options)},E=function(o){return W.call(S.target,S.eventName,o.invoke,S.options)},x=function(o){return b.call(o.target,o.eventName,o.invoke,o.options)},ee=A?s:r,M=A?i:x,he=function(o,u){let v=typeof u;return v==="function"&&o.callback===u||v==="object"&&o.originalDelegate===u},_e=d?.diff||he,Q=Zone[j("UNPATCHED_EVENTS")],Te=t[j("PASSIVE_EVENTS")];function h(o){if(typeof o=="object"&&o!==null){let u={...o};return o.signal&&(u.signal=o.signal),u}return o}let l=function(o,u,v,C,m=!1,O=!1){return function(){let N=this||t,Z=arguments[0];d&&d.transferEventName&&(Z=d.transferEventName(Z));let G=arguments[1];if(!G)return o.apply(this,arguments);if(De&&Z==="uncaughtException")return o.apply(this,arguments);let B=!1;if(typeof G!="function"){if(!G.handleEvent)return o.apply(this,arguments);B=!0}if(V&&!V(o,G,N,arguments))return;let de=!!Te&&Te.indexOf(Z)!==-1,se=h(I(arguments[2],de)),Ee=se?.signal;if(Ee?.aborted)return;if(Q){for(let ie=0;ie<Q.length;ie++)if(Z===Q[ie])return de?o.call(N,Z,G,se):o.apply(this,arguments)}let Se=se?typeof se=="boolean"?!0:se.capture:!1,Be=se&&typeof se=="object"?se.once:!1,ft=Zone.current,Oe=ne[Z];Oe||(ct(Z,U),Oe=ne[Z]);let ze=Oe[Se?ae:le],ge=N[ze],Ue=!1;if(ge){if(Ue=!0,X){for(let ie=0;ie<ge.length;ie++)if(_e(ge[ie],G))return}}else ge=N[ze]=[];let Pe,We=N.constructor.name,qe=ot[We];qe&&(Pe=qe[Z]),Pe||(Pe=We+u+(U?U(Z):Z)),S.options=se,Be&&(S.options.once=!1),S.target=N,S.capture=Se,S.eventName=Z,S.isExisting=Ue;let me=A?pt:void 0;me&&(me.taskData=S),Ee&&(S.options.signal=void 0);let re=ft.scheduleEventTask(Pe,G,me,v,C);if(Ee){S.options.signal=Ee;let ie=()=>re.zone.cancelTask(re);o.call(Ee,"abort",ie,{once:!0}),re.removeAbortListener=()=>Ee.removeEventListener("abort",ie)}if(S.target=null,me&&(me.taskData=null),Be&&(S.options.once=!0),typeof re.options!="boolean"&&(re.options=se),re.target=N,re.capture=Se,re.eventName=Z,B&&(re.originalDelegate=G),O?ge.unshift(re):ge.push(re),m)return N}};return k[c]=l(R,w,ee,M,F),W&&(k[_]=l(W,P,E,M,F,!0)),k[f]=function(){let o=this||t,u=arguments[0];d&&d.transferEventName&&(u=d.transferEventName(u));let v=arguments[2],C=v?typeof v=="boolean"?!0:v.capture:!1,m=arguments[1];if(!m)return b.apply(this,arguments);if(V&&!V(b,m,o,arguments))return;let O=ne[u],N;O&&(N=O[C?ae:le]);let Z=N&&o[N];if(Z)for(let G=0;G<Z.length;G++){let B=Z[G];if(_e(B,m)){if(Z.splice(G,1),B.isRemoved=!0,Z.length===0&&(B.allRemoved=!0,o[N]=null,!C&&typeof u=="string")){let de=ve+"ON_PROPERTY"+u;o[de]=null}return B.zone.cancelTask(B),F?o:void 0}}return b.apply(this,arguments)},k[g]=function(){let o=this||t,u=arguments[0];d&&d.transferEventName&&(u=d.transferEventName(u));let v=[],C=at(o,U?U(u):u);for(let m=0;m<C.length;m++){let O=C[m],N=O.originalDelegate?O.originalDelegate:O.callback;v.push(N)}return v},k[T]=function(){let o=this||t,u=arguments[0];if(u){d&&d.transferEventName&&(u=d.transferEventName(u));let v=ne[u];if(v){let C=v[le],m=v[ae],O=o[C],N=o[m];if(O){let Z=O.slice();for(let G=0;G<Z.length;G++){let B=Z[G],de=B.originalDelegate?B.originalDelegate:B.callback;this[f].call(this,u,de,B.options)}}if(N){let Z=N.slice();for(let G=0;G<Z.length;G++){let B=Z[G],de=B.originalDelegate?B.originalDelegate:B.callback;this[f].call(this,u,de,B.options)}}}}else{let v=Object.keys(o);for(let C=0;C<v.length;C++){let m=v[C],O=st.exec(m),N=O&&O[1];N&&N!=="removeListener"&&this[T].call(this,N)}this[T].call(this,"removeListener")}if(F)return this},fe(k[c],R),fe(k[f],b),K&&fe(k[T],K),D&&fe(k[g],D),!0}let q=[];for(let p=0;p<a.length;p++)q[p]=J(a[p],e);return q}function at(t,n){if(!n){let f=[];for(let g in t){let T=st.exec(g),y=T&&T[1];if(y&&(!n||y===n)){let w=t[g];if(w)for(let _=0;_<w.length;_++)f.push(w[_])}}return f}let a=ne[n];a||(ct(n),a=ne[n]);let e=t[a[le]],c=t[a[ae]];return e?c?e.concat(c):e.slice():c?c.slice():[]}function bt(t,n){let a=t.Event;a&&a.prototype&&n.patchMethod(a.prototype,"stopImmediatePropagation",e=>function(c,f){c[it]=!0,e&&e.apply(c,f)})}function Pt(t,n){n.patchMethod(t,"queueMicrotask",a=>function(e,c){Zone.current.scheduleMicroTask("queueMicrotask",c[0])})}var Re=j("zoneTask");function ke(t,n,a,e){let c=null,f=null;n+=e,a+=e;let g={};function T(w){let _=w.data;_.args[0]=function(){return w.invoke.apply(this,arguments)};let P=c.apply(t,_.args);return Ke(P)?_.handleId=P:(_.handle=P,_.isRefreshable=Je(P.refresh)),w}function y(w){let{handle:_,handleId:P}=w.data;return f.call(t,_??P)}c=ue(t,n,w=>function(_,P){if(Je(P[0])){let L={isRefreshable:!1,isPeriodic:e==="Interval",delay:e==="Timeout"||e==="Interval"?P[1]||0:void 0,args:P},H=P[0];P[0]=function(){try{return H.apply(this,arguments)}finally{let{handle:A,handleId:V,isPeriodic:X,isRefreshable:F}=L;!X&&!F&&(V?delete g[V]:A&&(A[Re]=null))}};let z=xe(n,P[0],L,T,y);if(!z)return z;let{handleId:$,handle:J,isRefreshable:q,isPeriodic:p}=z.data;if($)g[$]=z;else if(J&&(J[Re]=z,q&&!p)){let d=J.refresh;J.refresh=function(){let{zone:A,state:V}=z;return V==="notScheduled"?(z._state="scheduled",A._updateTaskCount(z,1)):V==="running"&&(z._state="scheduling"),d.call(this)}}return J??$??z}else return w.apply(t,P)}),f=ue(t,a,w=>function(_,P){let L=P[0],H;Ke(L)?(H=g[L],delete g[L]):(H=L?.[Re],H?L[Re]=null:H=L),H?.type?H.cancelFn&&H.zone.cancelTask(H):w.apply(t,P)})}function Rt(t,n){let{isBrowser:a,isMix:e}=n.getGlobalObjects();if(!a&&!e||!t.customElements||!("customElements"in t))return;let c=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];n.patchCallbacks(n,t.customElements,"customElements","define",c)}function Ct(t,n){if(Zone[n.symbol("patchEventTarget")])return;let{eventNames:a,zoneSymbolEventNames:e,TRUE_STR:c,FALSE_STR:f,ZONE_SYMBOL_PREFIX:g}=n.getGlobalObjects();for(let y=0;y<a.length;y++){let w=a[y],_=w+f,P=w+c,L=g+_,H=g+P;e[w]={},e[w][f]=L,e[w][c]=H}let T=t.EventTarget;if(!(!T||!T.prototype))return n.patchEventTarget(t,n,[T&&T.prototype]),!0}function wt(t,n){n.patchEventPrototype(t,n)}function lt(t,n,a){if(!a||a.length===0)return n;let e=a.filter(f=>f.target===t);if(e.length===0)return n;let c=e[0].ignoreProperties;return n.filter(f=>c.indexOf(f)===-1)}function Qe(t,n,a,e){if(!t)return;let c=lt(t,n,a);rt(t,c,e)}function Ie(t){return Object.getOwnPropertyNames(t).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}function Dt(t,n){if(De&&!nt||Zone[t.symbol("patchEvents")])return;let a=n.__Zone_ignore_on_properties,e=[];if(Ge){let c=window;e=e.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let f=[];Qe(c,Ie(c),a&&a.concat(f),Ae(c))}e=e.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<e.length;c++){let f=n[e[c]];f?.prototype&&Qe(f.prototype,Ie(f.prototype),a)}}function St(t){t.__load_patch("legacy",n=>{let a=n[t.__symbol__("legacyPatch")];a&&a()}),t.__load_patch("timers",n=>{let a="set",e="clear";ke(n,a,e,"Timeout"),ke(n,a,e,"Interval"),ke(n,a,e,"Immediate")}),t.__load_patch("requestAnimationFrame",n=>{ke(n,"request","cancel","AnimationFrame"),ke(n,"mozRequest","mozCancel","AnimationFrame"),ke(n,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(n,a)=>{let e=["alert","prompt","confirm"];for(let c=0;c<e.length;c++){let f=e[c];ue(n,f,(g,T,y)=>function(w,_){return a.current.run(g,n,_,y)})}}),t.__load_patch("EventTarget",(n,a,e)=>{wt(n,e),Ct(n,e);let c=n.XMLHttpRequestEventTarget;c&&c.prototype&&e.patchEventTarget(n,e,[c.prototype])}),t.__load_patch("MutationObserver",(n,a,e)=>{ye("MutationObserver"),ye("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(n,a,e)=>{ye("IntersectionObserver")}),t.__load_patch("FileReader",(n,a,e)=>{ye("FileReader")}),t.__load_patch("on_property",(n,a,e)=>{Dt(e,n)}),t.__load_patch("customElements",(n,a,e)=>{Rt(n,e)}),t.__load_patch("XHR",(n,a)=>{w(n);let e=j("xhrTask"),c=j("xhrSync"),f=j("xhrListener"),g=j("xhrScheduled"),T=j("xhrURL"),y=j("xhrErrorBeforeScheduled");function w(_){let P=_.XMLHttpRequest;if(!P)return;let L=P.prototype;function H(R){return R[e]}let z=L[Ne],$=L[Ze];if(!z){let R=_.XMLHttpRequestEventTarget;if(R){let b=R.prototype;z=b[Ne],$=b[Ze]}}let J="readystatechange",q="scheduled";function p(R){let b=R.data,D=b.target;D[g]=!1,D[y]=!1;let K=D[f];z||(z=D[Ne],$=D[Ze]),K&&$.call(D,J,K);let W=D[f]=()=>{if(D.readyState===D.DONE)if(!b.aborted&&D[g]&&R.state===q){let s=D[a.__symbol__("loadfalse")];if(D.status!==0&&s&&s.length>0){let i=R.invoke;R.invoke=function(){let r=D[a.__symbol__("loadfalse")];for(let E=0;E<r.length;E++)r[E]===R&&r.splice(E,1);!b.aborted&&R.state===q&&i.call(R)},s.push(R)}else R.invoke()}else!b.aborted&&D[g]===!1&&(D[y]=!0)};return z.call(D,J,W),D[e]||(D[e]=R),U.apply(D,b.args),D[g]=!0,R}function d(){}function A(R){let b=R.data;return b.aborted=!0,S.apply(b.target,b.args)}let V=ue(L,"open",()=>function(R,b){return R[c]=b[2]==!1,R[T]=b[1],V.apply(R,b)}),X="XMLHttpRequest.send",F=j("fetchTaskAborting"),k=j("fetchTaskScheduling"),U=ue(L,"send",()=>function(R,b){if(a.current[k]===!0||R[c])return U.apply(R,b);{let D={target:R,url:R[T],isPeriodic:!1,args:b,aborted:!1},K=xe(X,d,D,p,A);R&&R[y]===!0&&!D.aborted&&K.state===q&&K.invoke()}}),S=ue(L,"abort",()=>function(R,b){let D=H(R);if(D&&typeof D.type=="string"){if(D.cancelFn==null||D.data&&D.data.aborted)return;D.zone.cancelTask(D)}else if(a.current[F]===!0)return S.apply(R,b)})}}),t.__load_patch("geolocation",n=>{n.navigator&&n.navigator.geolocation&&gt(n.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(n,a)=>{function e(c){return function(f){at(n,c).forEach(T=>{let y=n.PromiseRejectionEvent;if(y){let w=new y(c,{promise:f.promise,reason:f.rejection});T.invoke(w)}})}}n.PromiseRejectionEvent&&(a[j("unhandledPromiseRejectionHandler")]=e("unhandledrejection"),a[j("rejectionHandledHandler")]=e("rejectionhandled"))}),t.__load_patch("queueMicrotask",(n,a,e)=>{Pt(n,e)})}function Ot(t){t.__load_patch("ZoneAwarePromise",(n,a,e)=>{let c=Object.getOwnPropertyDescriptor,f=Object.defineProperty;function g(h){if(h&&h.toString===Object.prototype.toString){let l=h.constructor&&h.constructor.name;return(l||"")+": "+JSON.stringify(h)}return h?h.toString():Object.prototype.toString.call(h)}let T=e.symbol,y=[],w=n[T("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,_=T("Promise"),P=T("then"),L="__creationTrace__";e.onUnhandledError=h=>{if(e.showUncaughtError()){let l=h&&h.rejection;l?console.error("Unhandled Promise rejection:",l instanceof Error?l.message:l,"; Zone:",h.zone.name,"; Task:",h.task&&h.task.source,"; Value:",l,l instanceof Error?l.stack:void 0):console.error(h)}},e.microtaskDrainDone=()=>{for(;y.length;){let h=y.shift();try{h.zone.runGuarded(()=>{throw h.throwOriginal?h.rejection:h})}catch(l){z(l)}}};let H=T("unhandledPromiseRejectionHandler");function z(h){e.onUnhandledError(h);try{let l=a[H];typeof l=="function"&&l.call(this,h)}catch{}}function $(h){return h&&typeof h.then=="function"}function J(h){return h}function q(h){return M.reject(h)}let p=T("state"),d=T("value"),A=T("finally"),V=T("parentPromiseValue"),X=T("parentPromiseState"),F="Promise.then",k=null,U=!0,S=!1,R=0;function b(h,l){return o=>{try{I(h,l,o)}catch(u){I(h,!1,u)}}}let D=function(){let h=!1;return function(o){return function(){h||(h=!0,o.apply(null,arguments))}}},K="Promise resolved with itself",W=T("currentTaskTrace");function I(h,l,o){let u=D();if(h===o)throw new TypeError(K);if(h[p]===k){let v=null;try{(typeof o=="object"||typeof o=="function")&&(v=o&&o.then)}catch(C){return u(()=>{I(h,!1,C)})(),h}if(l!==S&&o instanceof M&&o.hasOwnProperty(p)&&o.hasOwnProperty(d)&&o[p]!==k)i(o),I(h,o[p],o[d]);else if(l!==S&&typeof v=="function")try{v.call(o,u(b(h,l)),u(b(h,!1)))}catch(C){u(()=>{I(h,!1,C)})()}else{h[p]=l;let C=h[d];if(h[d]=o,h[A]===A&&l===U&&(h[p]=h[X],h[d]=h[V]),l===S&&o instanceof Error){let m=a.currentTask&&a.currentTask.data&&a.currentTask.data[L];m&&f(o,W,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(let m=0;m<C.length;)r(h,C[m++],C[m++],C[m++],C[m++]);if(C.length==0&&l==S){h[p]=R;let m=o;try{throw new Error("Uncaught (in promise): "+g(o)+(o&&o.stack?`
`+o.stack:""))}catch(O){m=O}w&&(m.throwOriginal=!0),m.rejection=o,m.promise=h,m.zone=a.current,m.task=a.currentTask,y.push(m),e.scheduleMicroTask()}}}return h}let s=T("rejectionHandledHandler");function i(h){if(h[p]===R){try{let l=a[s];l&&typeof l=="function"&&l.call(this,{rejection:h[d],promise:h})}catch{}h[p]=S;for(let l=0;l<y.length;l++)h===y[l].promise&&y.splice(l,1)}}function r(h,l,o,u,v){i(h);let C=h[p],m=C?typeof u=="function"?u:J:typeof v=="function"?v:q;l.scheduleMicroTask(F,()=>{try{let O=h[d],N=!!o&&A===o[A];N&&(o[V]=O,o[X]=C);let Z=l.run(m,void 0,N&&m!==q&&m!==J?[]:[O]);I(o,!0,Z)}catch(O){I(o,!1,O)}},o)}let E="function ZoneAwarePromise() { [native code] }",x=function(){},ee=n.AggregateError;class M{static toString(){return E}static resolve(l){return l instanceof M?l:I(new this(null),U,l)}static reject(l){return I(new this(null),S,l)}static withResolvers(){let l={};return l.promise=new M((o,u)=>{l.resolve=o,l.reject=u}),l}static any(l){if(!l||typeof l[Symbol.iterator]!="function")return Promise.reject(new ee([],"All promises were rejected"));let o=[],u=0;try{for(let m of l)u++,o.push(M.resolve(m))}catch{return Promise.reject(new ee([],"All promises were rejected"))}if(u===0)return Promise.reject(new ee([],"All promises were rejected"));let v=!1,C=[];return new M((m,O)=>{for(let N=0;N<o.length;N++)o[N].then(Z=>{v||(v=!0,m(Z))},Z=>{C.push(Z),u--,u===0&&(v=!0,O(new ee(C,"All promises were rejected")))})})}static race(l){let o,u,v=new this((O,N)=>{o=O,u=N});function C(O){o(O)}function m(O){u(O)}for(let O of l)$(O)||(O=this.resolve(O)),O.then(C,m);return v}static all(l){return M.allWithCallback(l)}static allSettled(l){return(this&&this.prototype instanceof M?this:M).allWithCallback(l,{thenCallback:u=>({status:"fulfilled",value:u}),errorCallback:u=>({status:"rejected",reason:u})})}static allWithCallback(l,o){let u,v,C=new this((Z,G)=>{u=Z,v=G}),m=2,O=0,N=[];for(let Z of l){$(Z)||(Z=this.resolve(Z));let G=O;try{Z.then(B=>{N[G]=o?o.thenCallback(B):B,m--,m===0&&u(N)},B=>{o?(N[G]=o.errorCallback(B),m--,m===0&&u(N)):v(B)})}catch(B){v(B)}m++,O++}return m-=2,m===0&&u(N),C}constructor(l){let o=this;if(!(o instanceof M))throw new Error("Must be an instanceof Promise.");o[p]=k,o[d]=[];try{let u=D();l&&l(u(b(o,U)),u(b(o,S)))}catch(u){I(o,!1,u)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return M}then(l,o){let u=this.constructor?.[Symbol.species];(!u||typeof u!="function")&&(u=this.constructor||M);let v=new u(x),C=a.current;return this[p]==k?this[d].push(C,v,l,o):r(this,C,v,l,o),v}catch(l){return this.then(null,l)}finally(l){let o=this.constructor?.[Symbol.species];(!o||typeof o!="function")&&(o=M);let u=new o(x);u[A]=A;let v=a.current;return this[p]==k?this[d].push(v,u,l,l):r(this,v,u,l,l),u}}M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;let he=n[_]=n.Promise;n.Promise=M;let _e=T("thenPatched");function Q(h){let l=h.prototype,o=c(l,"then");if(o&&(o.writable===!1||!o.configurable))return;let u=l.then;l[P]=u,h.prototype.then=function(v,C){return new M((O,N)=>{u.call(this,O,N)}).then(v,C)},h[_e]=!0}e.patchThen=Q;function Te(h){return function(l,o){let u=h.apply(l,o);if(u instanceof M)return u;let v=u.constructor;return v[_e]||Q(v),u}}return he&&(Q(he),ue(n,"fetch",h=>Te(h))),Promise[a.__symbol__("uncaughtPromiseErrors")]=y,M})}function Nt(t){t.__load_patch("toString",n=>{let a=Function.prototype.toString,e=j("OriginalDelegate"),c=j("Promise"),f=j("Error"),g=function(){if(typeof this=="function"){let _=this[e];if(_)return typeof _=="function"?a.call(_):Object.prototype.toString.call(_);if(this===Promise){let P=n[c];if(P)return a.call(P)}if(this===Error){let P=n[f];if(P)return a.call(P)}}return a.call(this)};g[e]=a,Function.prototype.toString=g;let T=Object.prototype.toString,y="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?y:T.call(this)}})}function Zt(t,n,a,e,c){let f=Zone.__symbol__(e);if(n[f])return;let g=n[f]=n[e];n[e]=function(T,y,w){return y&&y.prototype&&c.forEach(function(_){let P=`${a}.${e}::`+_,L=y.prototype;try{if(L.hasOwnProperty(_)){let H=t.ObjectGetOwnPropertyDescriptor(L,_);H&&H.value?(H.value=t.wrapWithCurrentZone(H.value,P),t._redefineProperty(y.prototype,_,H)):L[_]&&(L[_]=t.wrapWithCurrentZone(L[_],P))}else L[_]&&(L[_]=t.wrapWithCurrentZone(L[_],P))}catch{}}),g.call(n,T,y,w)},t.attachOriginToPatched(n[e],g)}function Lt(t){t.__load_patch("util",(n,a,e)=>{let c=Ie(n);e.patchOnProperties=rt,e.patchMethod=ue,e.bindArguments=Fe,e.patchMacroTask=mt;let f=a.__symbol__("BLACK_LISTED_EVENTS"),g=a.__symbol__("UNPATCHED_EVENTS");n[g]&&(n[f]=n[g]),n[f]&&(a[f]=a[g]=n[f]),e.patchEventPrototype=bt,e.patchEventTarget=vt,e.isIEOrEdge=yt,e.ObjectDefineProperty=Me,e.ObjectGetOwnPropertyDescriptor=pe,e.ObjectCreate=_t,e.ArraySlice=Tt,e.patchClass=ye,e.wrapWithCurrentZone=Ve,e.filterProperties=lt,e.attachOriginToPatched=fe,e._redefineProperty=Object.defineProperty,e.patchCallbacks=Zt,e.getGlobalObjects=()=>({globalSources:ot,zoneSymbolEventNames:ne,eventNames:c,isBrowser:Ge,isMix:nt,isNode:De,TRUE_STR:ae,FALSE_STR:le,ZONE_SYMBOL_PREFIX:ve,ADD_EVENT_LISTENER_STR:je,REMOVE_EVENT_LISTENER_STR:He})})}function It(t){Ot(t),Nt(t),Lt(t)}var ut=dt();It(ut);St(ut);
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular v<unknown>
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)
*/

})();
(function(){
/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */(function(M,Y){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=M.document?Y(M,!0):function(Ce){if(!Ce.document)throw new Error("jQuery requires a window with a document");return Y(Ce)}:Y(M)})(typeof window<"u"?window:this,function(M,Y){"use strict";var Ce=[],B=M.document,Qt=Object.getPrototypeOf,Le=Ce.slice,St=Ce.concat,pt=Ce.push,Ye=Ce.indexOf,Qe={},Nt=Qe.toString,ze=Qe.hasOwnProperty,At=ze.toString,Jt=At.call(Object),_={},L=function(e){return typeof e=="function"&&typeof e.nodeType!="number"},ce=function(e){return e!=null&&e===e.window},ht={type:!0,src:!0,nonce:!0,noModule:!0};function Q(e,t,n){var r,o,a=(n=n||B).createElement("script");if(a.text=e,t)for(r in ht)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function He(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?Qe[Nt.call(e)]||"object":typeof e}var Je="3.4.1",i=function(e,t){return new i.fn.init(e,t)},Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Ze(e){var t=!!e&&"length"in e&&e.length,n=He(e);return!L(e)&&!ce(e)&&(n==="array"||t===0||typeof t=="number"&&0<t&&t-1 in e)}i.fn=i.prototype={jquery:Je,constructor:i,length:0,toArray:function(){return Le.call(this)},get:function(e){return e==null?Le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=i.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return i.each(this,e)},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pt,sort:Ce.sort,splice:Ce.splice},i.extend=i.fn.extend=function(){var e,t,n,r,o,a,s=arguments[0]||{},l=1,f=arguments.length,p=!1;for(typeof s=="boolean"&&(p=s,s=arguments[l]||{},l++),typeof s=="object"||L(s)||(s={}),l===f&&(s=this,l--);l<f;l++)if((e=arguments[l])!=null)for(t in e)r=e[t],t!=="__proto__"&&s!==r&&(p&&r&&(i.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[t],a=o&&!Array.isArray(n)?[]:o||i.isPlainObject(n)?n:{},o=!1,s[t]=i.extend(p,a,r)):r!==void 0&&(s[t]=r));return s},i.extend({expando:"jQuery"+(Je+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||Nt.call(e)!=="[object Object]")&&(!(t=Qt(e))||typeof(n=ze.call(t,"constructor")&&t.constructor)=="function"&&At.call(n)===Jt)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){Q(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(Ze(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return e==null?"":(e+"").replace(Ke,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(Ze(Object(e))?i.merge(n,typeof e=="string"?[e]:e):pt.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:Ye.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,a=e.length,s=!n;o<a;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(Ze(e))for(r=e.length;a<r;a++)(o=t(e[a],a,n))!=null&&s.push(o);else for(a in e)(o=t(e[a],a,n))!=null&&s.push(o);return St.apply([],s)},guid:1,support:_}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=Ce[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Qe["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,o,a,s,l,f,p,v,x,g,m,E,A,k,J,oe,ye,U="sizzle"+1*new Date,H=e.document,pe=0,$=0,K=Ut(),kt=Ut(),_t=Ut(),De=Ut(),Ve=function(u,c){return u===c&&(x=!0),0},ct={}.hasOwnProperty,he=[],ft=he.pop,Se=he.push,Z=he.push,xe=he.slice,be=function(u,c){for(var d=0,y=u.length;d<y;d++)if(u[d]===c)return d;return-1},Pe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ae="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+F+"))|)"+R+"*\\]",we=":("+F+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ae+")*)|.*)\\)|)",re=new RegExp(R+"+","g"),Te=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),dt=new RegExp("^"+R+"*,"+R+"*"),mn=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Ir=new RegExp(R+"|>"),$r=new RegExp(we),Fr=new RegExp("^"+F+"$"),zt={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+we),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+Pe+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},_r=/HTML$/i,zr=/^(?:input|select|textarea|button)$/i,Ur=/^h\d$/i,Dt=/^[^{]+\{\s*\[native \w/,Xr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vn=/[+~]/,Ie=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),$e=function(u,c,d){var y="0x"+c-65536;return y!=y||d?c:y<0?String.fromCharCode(y+65536):String.fromCharCode(y>>10|55296,1023&y|56320)},tr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nr=function(u,c){return c?u==="\0"?"\uFFFD":u.slice(0,-1)+"\\"+u.charCodeAt(u.length-1).toString(16)+" ":"\\"+u},rr=function(){g()},Vr=Vt(function(u){return u.disabled===!0&&u.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Z.apply(he=xe.call(H.childNodes),H.childNodes),he[H.childNodes.length].nodeType}catch{Z={apply:he.length?function(c,d){Se.apply(c,xe.call(d))}:function(c,d){for(var y=c.length,h=0;c[y++]=d[h++];);c.length=y-1}}}function X(u,c,d,y){var h,b,w,T,C,O,j,q=c&&c.ownerDocument,W=c?c.nodeType:9;if(d=d||[],typeof u!="string"||!u||W!==1&&W!==9&&W!==11)return d;if(!y&&((c?c.ownerDocument||c:H)!==m&&g(c),c=c||m,A)){if(W!==11&&(C=Xr.exec(u)))if(h=C[1]){if(W===9){if(!(w=c.getElementById(h)))return d;if(w.id===h)return d.push(w),d}else if(q&&(w=q.getElementById(h))&&ye(c,w)&&w.id===h)return d.push(w),d}else{if(C[2])return Z.apply(d,c.getElementsByTagName(u)),d;if((h=C[3])&&n.getElementsByClassName&&c.getElementsByClassName)return Z.apply(d,c.getElementsByClassName(h)),d}if(n.qsa&&!De[u+" "]&&(!k||!k.test(u))&&(W!==1||c.nodeName.toLowerCase()!=="object")){if(j=u,q=c,W===1&&Ir.test(u)){for((T=c.getAttribute("id"))?T=T.replace(tr,nr):c.setAttribute("id",T=U),b=(O=s(u)).length;b--;)O[b]="#"+T+" "+Xt(O[b]);j=O.join(","),q=vn.test(u)&&xn(c.parentNode)||c}try{return Z.apply(d,q.querySelectorAll(j)),d}catch{De(u,!0)}finally{T===U&&c.removeAttribute("id")}}}return f(u.replace(Te,"$1"),c,d,y)}function Ut(){var u=[];return function c(d,y){return u.push(d+" ")>r.cacheLength&&delete c[u.shift()],c[d+" "]=y}}function je(u){return u[U]=!0,u}function Re(u){var c=m.createElement("fieldset");try{return!!u(c)}catch{return!1}finally{c.parentNode&&c.parentNode.removeChild(c),c=null}}function yn(u,c){for(var d=u.split("|"),y=d.length;y--;)r.attrHandle[d[y]]=c}function ir(u,c){var d=c&&u,y=d&&u.nodeType===1&&c.nodeType===1&&u.sourceIndex-c.sourceIndex;if(y)return y;if(d){for(;d=d.nextSibling;)if(d===c)return-1}return u?1:-1}function Gr(u){return function(c){return c.nodeName.toLowerCase()==="input"&&c.type===u}}function Yr(u){return function(c){var d=c.nodeName.toLowerCase();return(d==="input"||d==="button")&&c.type===u}}function or(u){return function(c){return"form"in c?c.parentNode&&c.disabled===!1?"label"in c?"label"in c.parentNode?c.parentNode.disabled===u:c.disabled===u:c.isDisabled===u||c.isDisabled!==!u&&Vr(c)===u:c.disabled===u:"label"in c&&c.disabled===u}}function Ge(u){return je(function(c){return c=+c,je(function(d,y){for(var h,b=u([],d.length,c),w=b.length;w--;)d[h=b[w]]&&(d[h]=!(y[h]=d[h]))})})}function xn(u){return u&&typeof u.getElementsByTagName<"u"&&u}for(t in n=X.support={},a=X.isXML=function(u){var c=u.namespaceURI,d=(u.ownerDocument||u).documentElement;return!_r.test(c||d&&d.nodeName||"HTML")},g=X.setDocument=function(u){var c,d,y=u?u.ownerDocument||u:H;return y!==m&&y.nodeType===9&&y.documentElement&&(E=(m=y).documentElement,A=!a(m),H!==m&&(d=m.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",rr,!1):d.attachEvent&&d.attachEvent("onunload",rr)),n.attributes=Re(function(h){return h.className="i",!h.getAttribute("className")}),n.getElementsByTagName=Re(function(h){return h.appendChild(m.createComment("")),!h.getElementsByTagName("*").length}),n.getElementsByClassName=Dt.test(m.getElementsByClassName),n.getById=Re(function(h){return E.appendChild(h).id=U,!m.getElementsByName||!m.getElementsByName(U).length}),n.getById?(r.filter.ID=function(h){var b=h.replace(Ie,$e);return function(w){return w.getAttribute("id")===b}},r.find.ID=function(h,b){if(typeof b.getElementById<"u"&&A){var w=b.getElementById(h);return w?[w]:[]}}):(r.filter.ID=function(h){var b=h.replace(Ie,$e);return function(w){var T=typeof w.getAttributeNode<"u"&&w.getAttributeNode("id");return T&&T.value===b}},r.find.ID=function(h,b){if(typeof b.getElementById<"u"&&A){var w,T,C,O=b.getElementById(h);if(O){if((w=O.getAttributeNode("id"))&&w.value===h)return[O];for(C=b.getElementsByName(h),T=0;O=C[T++];)if((w=O.getAttributeNode("id"))&&w.value===h)return[O]}return[]}}),r.find.TAG=n.getElementsByTagName?function(h,b){return typeof b.getElementsByTagName<"u"?b.getElementsByTagName(h):n.qsa?b.querySelectorAll(h):void 0}:function(h,b){var w,T=[],C=0,O=b.getElementsByTagName(h);if(h==="*"){for(;w=O[C++];)w.nodeType===1&&T.push(w);return T}return O},r.find.CLASS=n.getElementsByClassName&&function(h,b){if(typeof b.getElementsByClassName<"u"&&A)return b.getElementsByClassName(h)},J=[],k=[],(n.qsa=Dt.test(m.querySelectorAll))&&(Re(function(h){E.appendChild(h).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",h.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+R+`*(?:''|"")`),h.querySelectorAll("[selected]").length||k.push("\\["+R+"*(?:value|"+Pe+")"),h.querySelectorAll("[id~="+U+"-]").length||k.push("~="),h.querySelectorAll(":checked").length||k.push(":checked"),h.querySelectorAll("a#"+U+"+*").length||k.push(".#.+[+~]")}),Re(function(h){h.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=m.createElement("input");b.setAttribute("type","hidden"),h.appendChild(b).setAttribute("name","D"),h.querySelectorAll("[name=d]").length&&k.push("name"+R+"*[*^$|!~]?="),h.querySelectorAll(":enabled").length!==2&&k.push(":enabled",":disabled"),E.appendChild(h).disabled=!0,h.querySelectorAll(":disabled").length!==2&&k.push(":enabled",":disabled"),h.querySelectorAll("*,:x"),k.push(",.*:")})),(n.matchesSelector=Dt.test(oe=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&Re(function(h){n.disconnectedMatch=oe.call(h,"*"),oe.call(h,"[s!='']:x"),J.push("!=",we)}),k=k.length&&new RegExp(k.join("|")),J=J.length&&new RegExp(J.join("|")),c=Dt.test(E.compareDocumentPosition),ye=c||Dt.test(E.contains)?function(h,b){var w=h.nodeType===9?h.documentElement:h,T=b&&b.parentNode;return h===T||!(!T||T.nodeType!==1||!(w.contains?w.contains(T):h.compareDocumentPosition&&16&h.compareDocumentPosition(T)))}:function(h,b){if(b){for(;b=b.parentNode;)if(b===h)return!0}return!1},Ve=c?function(h,b){if(h===b)return x=!0,0;var w=!h.compareDocumentPosition-!b.compareDocumentPosition;return w||(1&(w=(h.ownerDocument||h)===(b.ownerDocument||b)?h.compareDocumentPosition(b):1)||!n.sortDetached&&b.compareDocumentPosition(h)===w?h===m||h.ownerDocument===H&&ye(H,h)?-1:b===m||b.ownerDocument===H&&ye(H,b)?1:v?be(v,h)-be(v,b):0:4&w?-1:1)}:function(h,b){if(h===b)return x=!0,0;var w,T=0,C=h.parentNode,O=b.parentNode,j=[h],q=[b];if(!C||!O)return h===m?-1:b===m?1:C?-1:O?1:v?be(v,h)-be(v,b):0;if(C===O)return ir(h,b);for(w=h;w=w.parentNode;)j.unshift(w);for(w=b;w=w.parentNode;)q.unshift(w);for(;j[T]===q[T];)T++;return T?ir(j[T],q[T]):j[T]===H?-1:q[T]===H?1:0}),m},X.matches=function(u,c){return X(u,null,null,c)},X.matchesSelector=function(u,c){if((u.ownerDocument||u)!==m&&g(u),n.matchesSelector&&A&&!De[c+" "]&&(!J||!J.test(c))&&(!k||!k.test(c)))try{var d=oe.call(u,c);if(d||n.disconnectedMatch||u.document&&u.document.nodeType!==11)return d}catch{De(c,!0)}return 0<X(c,m,null,[u]).length},X.contains=function(u,c){return(u.ownerDocument||u)!==m&&g(u),ye(u,c)},X.attr=function(u,c){(u.ownerDocument||u)!==m&&g(u);var d=r.attrHandle[c.toLowerCase()],y=d&&ct.call(r.attrHandle,c.toLowerCase())?d(u,c,!A):void 0;return y!==void 0?y:n.attributes||!A?u.getAttribute(c):(y=u.getAttributeNode(c))&&y.specified?y.value:null},X.escape=function(u){return(u+"").replace(tr,nr)},X.error=function(u){throw new Error("Syntax error, unrecognized expression: "+u)},X.uniqueSort=function(u){var c,d=[],y=0,h=0;if(x=!n.detectDuplicates,v=!n.sortStable&&u.slice(0),u.sort(Ve),x){for(;c=u[h++];)c===u[h]&&(y=d.push(h));for(;y--;)u.splice(d[y],1)}return v=null,u},o=X.getText=function(u){var c,d="",y=0,h=u.nodeType;if(h){if(h===1||h===9||h===11){if(typeof u.textContent=="string")return u.textContent;for(u=u.firstChild;u;u=u.nextSibling)d+=o(u)}else if(h===3||h===4)return u.nodeValue}else for(;c=u[y++];)d+=o(c);return d},(r=X.selectors={cacheLength:50,createPseudo:je,match:zt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(u){return u[1]=u[1].replace(Ie,$e),u[3]=(u[3]||u[4]||u[5]||"").replace(Ie,$e),u[2]==="~="&&(u[3]=" "+u[3]+" "),u.slice(0,4)},CHILD:function(u){return u[1]=u[1].toLowerCase(),u[1].slice(0,3)==="nth"?(u[3]||X.error(u[0]),u[4]=+(u[4]?u[5]+(u[6]||1):2*(u[3]==="even"||u[3]==="odd")),u[5]=+(u[7]+u[8]||u[3]==="odd")):u[3]&&X.error(u[0]),u},PSEUDO:function(u){var c,d=!u[6]&&u[2];return zt.CHILD.test(u[0])?null:(u[3]?u[2]=u[4]||u[5]||"":d&&$r.test(d)&&(c=s(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(u[0]=u[0].slice(0,c),u[2]=d.slice(0,c)),u.slice(0,3))}},filter:{TAG:function(u){var c=u.replace(Ie,$e).toLowerCase();return u==="*"?function(){return!0}:function(d){return d.nodeName&&d.nodeName.toLowerCase()===c}},CLASS:function(u){var c=K[u+" "];return c||(c=new RegExp("(^|"+R+")"+u+"("+R+"|$)"))&&K(u,function(d){return c.test(typeof d.className=="string"&&d.className||typeof d.getAttribute<"u"&&d.getAttribute("class")||"")})},ATTR:function(u,c,d){return function(y){var h=X.attr(y,u);return h==null?c==="!=":!c||(h+="",c==="="?h===d:c==="!="?h!==d:c==="^="?d&&h.indexOf(d)===0:c==="*="?d&&-1<h.indexOf(d):c==="$="?d&&h.slice(-d.length)===d:c==="~="?-1<(" "+h.replace(re," ")+" ").indexOf(d):c==="|="&&(h===d||h.slice(0,d.length+1)===d+"-"))}},CHILD:function(u,c,d,y,h){var b=u.slice(0,3)!=="nth",w=u.slice(-4)!=="last",T=c==="of-type";return y===1&&h===0?function(C){return!!C.parentNode}:function(C,O,j){var q,W,ne,P,se,ue,fe=b!==w?"nextSibling":"previousSibling",V=C.parentNode,Be=T&&C.nodeName.toLowerCase(),le=!j&&!T,ie=!1;if(V){if(b){for(;fe;){for(P=C;P=P[fe];)if(T?P.nodeName.toLowerCase()===Be:P.nodeType===1)return!1;ue=fe=u==="only"&&!ue&&"nextSibling"}return!0}if(ue=[w?V.firstChild:V.lastChild],w&&le){for(ie=(se=(q=(W=(ne=(P=V)[U]||(P[U]={}))[P.uniqueID]||(ne[P.uniqueID]={}))[u]||[])[0]===pe&&q[1])&&q[2],P=se&&V.childNodes[se];P=++se&&P&&P[fe]||(ie=se=0)||ue.pop();)if(P.nodeType===1&&++ie&&P===C){W[u]=[pe,se,ie];break}}else if(le&&(ie=se=(q=(W=(ne=(P=C)[U]||(P[U]={}))[P.uniqueID]||(ne[P.uniqueID]={}))[u]||[])[0]===pe&&q[1]),ie===!1)for(;(P=++se&&P&&P[fe]||(ie=se=0)||ue.pop())&&!((T?P.nodeName.toLowerCase()===Be:P.nodeType===1)&&++ie&&(le&&((W=(ne=P[U]||(P[U]={}))[P.uniqueID]||(ne[P.uniqueID]={}))[u]=[pe,ie]),P===C)););return(ie-=h)===y||ie%y==0&&0<=ie/y}}},PSEUDO:function(u,c){var d,y=r.pseudos[u]||r.setFilters[u.toLowerCase()]||X.error("unsupported pseudo: "+u);return y[U]?y(c):1<y.length?(d=[u,u,"",c],r.setFilters.hasOwnProperty(u.toLowerCase())?je(function(h,b){for(var w,T=y(h,c),C=T.length;C--;)h[w=be(h,T[C])]=!(b[w]=T[C])}):function(h){return y(h,0,d)}):y}},pseudos:{not:je(function(u){var c=[],d=[],y=l(u.replace(Te,"$1"));return y[U]?je(function(h,b,w,T){for(var C,O=y(h,null,T,[]),j=h.length;j--;)(C=O[j])&&(h[j]=!(b[j]=C))}):function(h,b,w){return c[0]=h,y(c,null,w,d),c[0]=null,!d.pop()}}),has:je(function(u){return function(c){return 0<X(u,c).length}}),contains:je(function(u){return u=u.replace(Ie,$e),function(c){return-1<(c.textContent||o(c)).indexOf(u)}}),lang:je(function(u){return Fr.test(u||"")||X.error("unsupported lang: "+u),u=u.replace(Ie,$e).toLowerCase(),function(c){var d;do if(d=A?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return(d=d.toLowerCase())===u||d.indexOf(u+"-")===0;while((c=c.parentNode)&&c.nodeType===1);return!1}}),target:function(u){var c=e.location&&e.location.hash;return c&&c.slice(1)===u.id},root:function(u){return u===E},focus:function(u){return u===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(u.type||u.href||~u.tabIndex)},enabled:or(!1),disabled:or(!0),checked:function(u){var c=u.nodeName.toLowerCase();return c==="input"&&!!u.checked||c==="option"&&!!u.selected},selected:function(u){return u.parentNode&&u.parentNode.selectedIndex,u.selected===!0},empty:function(u){for(u=u.firstChild;u;u=u.nextSibling)if(u.nodeType<6)return!1;return!0},parent:function(u){return!r.pseudos.empty(u)},header:function(u){return Ur.test(u.nodeName)},input:function(u){return zr.test(u.nodeName)},button:function(u){var c=u.nodeName.toLowerCase();return c==="input"&&u.type==="button"||c==="button"},text:function(u){var c;return u.nodeName.toLowerCase()==="input"&&u.type==="text"&&((c=u.getAttribute("type"))==null||c.toLowerCase()==="text")},first:Ge(function(){return[0]}),last:Ge(function(u,c){return[c-1]}),eq:Ge(function(u,c,d){return[d<0?d+c:d]}),even:Ge(function(u,c){for(var d=0;d<c;d+=2)u.push(d);return u}),odd:Ge(function(u,c){for(var d=1;d<c;d+=2)u.push(d);return u}),lt:Ge(function(u,c,d){for(var y=d<0?d+c:c<d?c:d;0<=--y;)u.push(y);return u}),gt:Ge(function(u,c,d){for(var y=d<0?d+c:d;++y<c;)u.push(y);return u})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=Gr(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=Yr(t);function ar(){}function Xt(u){for(var c=0,d=u.length,y="";c<d;c++)y+=u[c].value;return y}function Vt(u,c,d){var y=c.dir,h=c.next,b=h||y,w=d&&b==="parentNode",T=$++;return c.first?function(C,O,j){for(;C=C[y];)if(C.nodeType===1||w)return u(C,O,j);return!1}:function(C,O,j){var q,W,ne,P=[pe,T];if(j){for(;C=C[y];)if((C.nodeType===1||w)&&u(C,O,j))return!0}else for(;C=C[y];)if(C.nodeType===1||w)if(W=(ne=C[U]||(C[U]={}))[C.uniqueID]||(ne[C.uniqueID]={}),h&&h===C.nodeName.toLowerCase())C=C[y]||C;else{if((q=W[b])&&q[0]===pe&&q[1]===T)return P[2]=q[2];if((W[b]=P)[2]=u(C,O,j))return!0}return!1}}function bn(u){return 1<u.length?function(c,d,y){for(var h=u.length;h--;)if(!u[h](c,d,y))return!1;return!0}:u[0]}function Gt(u,c,d,y,h){for(var b,w=[],T=0,C=u.length,O=c!=null;T<C;T++)(b=u[T])&&(d&&!d(b,y,h)||(w.push(b),O&&c.push(T)));return w}function wn(u,c,d,y,h,b){return y&&!y[U]&&(y=wn(y)),h&&!h[U]&&(h=wn(h,b)),je(function(w,T,C,O){var j,q,W,ne=[],P=[],se=T.length,ue=w||function(Be,le,ie){for(var qe=0,Yt=le.length;qe<Yt;qe++)X(Be,le[qe],ie);return ie}(c||"*",C.nodeType?[C]:C,[]),fe=!u||!w&&c?ue:Gt(ue,ne,u,C,O),V=d?h||(w?u:se||y)?[]:T:fe;if(d&&d(fe,V,C,O),y)for(j=Gt(V,P),y(j,[],C,O),q=j.length;q--;)(W=j[q])&&(V[P[q]]=!(fe[P[q]]=W));if(w){if(h||u){if(h){for(j=[],q=V.length;q--;)(W=V[q])&&j.push(fe[q]=W);h(null,V=[],j,O)}for(q=V.length;q--;)(W=V[q])&&-1<(j=h?be(w,W):ne[q])&&(w[j]=!(T[j]=W))}}else V=Gt(V===T?V.splice(se,V.length):V),h?h(null,T,V,O):Z.apply(T,V)})}function Tn(u){for(var c,d,y,h=u.length,b=r.relative[u[0].type],w=b||r.relative[" "],T=b?1:0,C=Vt(function(q){return q===c},w,!0),O=Vt(function(q){return-1<be(c,q)},w,!0),j=[function(q,W,ne){var P=!b&&(ne||W!==p)||((c=W).nodeType?C(q,W,ne):O(q,W,ne));return c=null,P}];T<h;T++)if(d=r.relative[u[T].type])j=[Vt(bn(j),d)];else{if((d=r.filter[u[T].type].apply(null,u[T].matches))[U]){for(y=++T;y<h&&!r.relative[u[y].type];y++);return wn(1<T&&bn(j),1<T&&Xt(u.slice(0,T-1).concat({value:u[T-2].type===" "?"*":""})).replace(Te,"$1"),d,T<y&&Tn(u.slice(T,y)),y<h&&Tn(u=u.slice(y)),y<h&&Xt(u))}j.push(d)}return bn(j)}return ar.prototype=r.filters=r.pseudos,r.setFilters=new ar,s=X.tokenize=function(u,c){var d,y,h,b,w,T,C,O=kt[u+" "];if(O)return c?0:O.slice(0);for(w=u,T=[],C=r.preFilter;w;){for(b in d&&!(y=dt.exec(w))||(y&&(w=w.slice(y[0].length)||w),T.push(h=[])),d=!1,(y=mn.exec(w))&&(d=y.shift(),h.push({value:d,type:y[0].replace(Te," ")}),w=w.slice(d.length)),r.filter)!(y=zt[b].exec(w))||C[b]&&!(y=C[b](y))||(d=y.shift(),h.push({value:d,type:b,matches:y}),w=w.slice(d.length));if(!d)break}return c?w.length:w?X.error(u):kt(u,T).slice(0)},l=X.compile=function(u,c){var d,y,h,b,w,T,C=[],O=[],j=_t[u+" "];if(!j){for(c||(c=s(u)),d=c.length;d--;)(j=Tn(c[d]))[U]?C.push(j):O.push(j);(j=_t(u,(y=O,b=0<(h=C).length,w=0<y.length,T=function(q,W,ne,P,se){var ue,fe,V,Be=0,le="0",ie=q&&[],qe=[],Yt=p,sr=q||w&&r.find.TAG("*",se),ur=pe+=Yt==null?1:Math.random()||.1,Qr=sr.length;for(se&&(p=W===m||W||se);le!==Qr&&(ue=sr[le])!=null;le++){if(w&&ue){for(fe=0,W||ue.ownerDocument===m||(g(ue),ne=!A);V=y[fe++];)if(V(ue,W||m,ne)){P.push(ue);break}se&&(pe=ur)}b&&((ue=!V&&ue)&&Be--,q&&ie.push(ue))}if(Be+=le,b&&le!==Be){for(fe=0;V=h[fe++];)V(ie,qe,W,ne);if(q){if(0<Be)for(;le--;)ie[le]||qe[le]||(qe[le]=ft.call(P));qe=Gt(qe)}Z.apply(P,qe),se&&!q&&0<qe.length&&1<Be+h.length&&X.uniqueSort(P)}return se&&(pe=ur,p=Yt),ie},b?je(T):T))).selector=u}return j},f=X.select=function(u,c,d,y){var h,b,w,T,C,O=typeof u=="function"&&u,j=!y&&s(u=O.selector||u);if(d=d||[],j.length===1){if(2<(b=j[0]=j[0].slice(0)).length&&(w=b[0]).type==="ID"&&c.nodeType===9&&A&&r.relative[b[1].type]){if(!(c=(r.find.ID(w.matches[0].replace(Ie,$e),c)||[])[0]))return d;O&&(c=c.parentNode),u=u.slice(b.shift().value.length)}for(h=zt.needsContext.test(u)?0:b.length;h--&&(w=b[h],!r.relative[T=w.type]);)if((C=r.find[T])&&(y=C(w.matches[0].replace(Ie,$e),vn.test(b[0].type)&&xn(c.parentNode)||c))){if(b.splice(h,1),!(u=y.length&&Xt(b)))return Z.apply(d,y),d;break}}return(O||l(u,j))(y,c,!A,d,!c||vn.test(u)&&xn(c.parentNode)||c),d},n.sortStable=U.split("").sort(Ve).join("")===U,n.detectDuplicates=!!x,g(),n.sortDetached=Re(function(u){return 1&u.compareDocumentPosition(m.createElement("fieldset"))}),Re(function(u){return u.innerHTML="<a href='#'></a>",u.firstChild.getAttribute("href")==="#"})||yn("type|href|height|width",function(u,c,d){if(!d)return u.getAttribute(c,c.toLowerCase()==="type"?1:2)}),n.attributes&&Re(function(u){return u.innerHTML="<input/>",u.firstChild.setAttribute("value",""),u.firstChild.getAttribute("value")===""})||yn("value",function(u,c,d){if(!d&&u.nodeName.toLowerCase()==="input")return u.defaultValue}),Re(function(u){return u.getAttribute("disabled")==null})||yn(Pe,function(u,c,d){var y;if(!d)return u[c]===!0?c.toLowerCase():(y=u.getAttributeNode(c))&&y.specified?y.value:null}),X}(M);i.find=S,i.expr=S.selectors,i.expr[":"]=i.expr.pseudos,i.uniqueSort=i.unique=S.uniqueSort,i.text=S.getText,i.isXMLDoc=S.isXML,i.contains=S.contains,i.escapeSelector=S.escape;var z=function(e,t,n){for(var r=[],o=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(o&&i(e).is(n))break;r.push(e)}return r},G=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},et=i.expr.match.needsContext;function ge(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var jt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function gt(e,t,n){return L(t)?i.grep(e,function(r,o){return!!t.call(r,o,r)!==n}):t.nodeType?i.grep(e,function(r){return r===t!==n}):typeof t!="string"?i.grep(e,function(r){return-1<Ye.call(t,r)!==n}):i.filter(t,e,n)}i.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?i.find.matchesSelector(r,e)?[r]:[]:i.find.matches(e,i.grep(t,function(o){return o.nodeType===1}))},i.fn.extend({find:function(e){var t,n,r=this.length,o=this;if(typeof e!="string")return this.pushStack(i(e).filter(function(){for(t=0;t<r;t++)if(i.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)i.find(e,o[t],n);return 1<r?i.uniqueSort(n):n},filter:function(e){return this.pushStack(gt(this,e||[],!1))},not:function(e){return this.pushStack(gt(this,e||[],!0))},is:function(e){return!!gt(this,typeof e=="string"&&et.test(e)?i(e):e||[],!1).length}});var qt,Kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||qt,typeof e=="string"){if(!(r=e[0]==="<"&&e[e.length-1]===">"&&3<=e.length?[null,e,null]:Kt.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:B,!0)),jt.test(r[1])&&i.isPlainObject(t))for(r in t)L(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=B.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):L(e)?n.ready!==void 0?n.ready(e):e(i):i.makeArray(e,this)}).prototype=i.fn,qt=i(B);var Zt=/^(?:parents|prev(?:Until|All))/,en={children:!0,contents:!0,next:!0,prev:!0};function Lt(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}i.fn.extend({has:function(e){var t=i(e,this),n=t.length;return this.filter(function(){for(var r=0;r<n;r++)if(i.contains(this,t[r]))return!0})},closest:function(e,t){var n,r=0,o=this.length,a=[],s=typeof e!="string"&&i(e);if(!et.test(e)){for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):n.nodeType===1&&i.find.matchesSelector(n,e))){a.push(n);break}}return this.pushStack(1<a.length?i.uniqueSort(a):a)},index:function(e){return e?typeof e=="string"?Ye.call(i(e),this[0]):Ye.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),i.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return z(e,"parentNode")},parentsUntil:function(e,t,n){return z(e,"parentNode",n)},next:function(e){return Lt(e,"nextSibling")},prev:function(e){return Lt(e,"previousSibling")},nextAll:function(e){return z(e,"nextSibling")},prevAll:function(e){return z(e,"previousSibling")},nextUntil:function(e,t,n){return z(e,"nextSibling",n)},prevUntil:function(e,t,n){return z(e,"previousSibling",n)},siblings:function(e){return G((e.parentNode||{}).firstChild,e)},children:function(e){return G(e.firstChild)},contents:function(e){return typeof e.contentDocument<"u"?e.contentDocument:(ge(e,"template")&&(e=e.content||e),i.merge([],e.childNodes))}},function(e,t){i.fn[e]=function(n,r){var o=i.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(o=i.filter(r,o)),1<this.length&&(en[e]||i.uniqueSort(o),Zt.test(e)&&o.reverse()),this.pushStack(o)}});var Ee=/[^\x20\t\r\n\f]+/g;function Fe(e){return e}function Oe(e){throw e}function Ht(e,t,n,r){var o;try{e&&L(o=e.promise)?o.call(e).done(t).fail(n):e&&L(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(a){n.apply(void 0,[a])}}i.Callbacks=function(e){var t,n;e=typeof e=="string"?(t=e,n={},i.each(t.match(Ee)||[],function(g,m){n[m]=!0}),n):i.extend({},e);var r,o,a,s,l=[],f=[],p=-1,v=function(){for(s=s||e.once,a=r=!0;f.length;p=-1)for(o=f.shift();++p<l.length;)l[p].apply(o[0],o[1])===!1&&e.stopOnFalse&&(p=l.length,o=!1);e.memory||(o=!1),r=!1,s&&(l=o?[]:"")},x={add:function(){return l&&(o&&!r&&(p=l.length-1,f.push(o)),function g(m){i.each(m,function(E,A){L(A)?e.unique&&x.has(A)||l.push(A):A&&A.length&&He(A)!=="string"&&g(A)})}(arguments),o&&!r&&v()),this},remove:function(){return i.each(arguments,function(g,m){for(var E;-1<(E=i.inArray(m,l,E));)l.splice(E,1),E<=p&&p--}),this},has:function(g){return g?-1<i.inArray(g,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return s=f=[],l=o="",this},disabled:function(){return!l},lock:function(){return s=f=[],o||r||(l=o=""),this},locked:function(){return!!s},fireWith:function(g,m){return s||(m=[g,(m=m||[]).slice?m.slice():m],f.push(m),r||v()),this},fire:function(){return x.fireWith(this,arguments),this},fired:function(){return!!a}};return x},i.extend({Deferred:function(e){var t=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(a){return r.then(null,a)},pipe:function(){var a=arguments;return i.Deferred(function(s){i.each(t,function(l,f){var p=L(a[f[4]])&&a[f[4]];o[f[1]](function(){var v=p&&p.apply(this,arguments);v&&L(v.promise)?v.promise().progress(s.notify).done(s.resolve).fail(s.reject):s[f[0]+"With"](this,p?[v]:arguments)})}),a=null}).promise()},then:function(a,s,l){var f=0;function p(v,x,g,m){return function(){var E=this,A=arguments,k=function(){var oe,ye;if(!(v<f)){if((oe=g.apply(E,A))===x.promise())throw new TypeError("Thenable self-resolution");ye=oe&&(typeof oe=="object"||typeof oe=="function")&&oe.then,L(ye)?m?ye.call(oe,p(f,x,Fe,m),p(f,x,Oe,m)):(f++,ye.call(oe,p(f,x,Fe,m),p(f,x,Oe,m),p(f,x,Fe,x.notifyWith))):(g!==Fe&&(E=void 0,A=[oe]),(m||x.resolveWith)(E,A))}},J=m?k:function(){try{k()}catch(oe){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(oe,J.stackTrace),f<=v+1&&(g!==Oe&&(E=void 0,A=[oe]),x.rejectWith(E,A))}};v?J():(i.Deferred.getStackHook&&(J.stackTrace=i.Deferred.getStackHook()),M.setTimeout(J))}}return i.Deferred(function(v){t[0][3].add(p(0,v,L(l)?l:Fe,v.notifyWith)),t[1][3].add(p(0,v,L(a)?a:Fe)),t[2][3].add(p(0,v,L(s)?s:Oe))}).promise()},promise:function(a){return a!=null?i.extend(a,r):r}},o={};return i.each(t,function(a,s){var l=s[2],f=s[5];r[s[1]]=l.add,f&&l.add(function(){n=f},t[3-a][2].disable,t[3-a][3].disable,t[0][2].lock,t[0][3].lock),l.add(s[3].fire),o[s[0]]=function(){return o[s[0]+"With"](this===o?void 0:this,arguments),this},o[s[0]+"With"]=l.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=Le.call(arguments),a=i.Deferred(),s=function(l){return function(f){r[l]=this,o[l]=1<arguments.length?Le.call(arguments):f,--t||a.resolveWith(r,o)}};if(t<=1&&(Ht(e,a.done(s(n)).resolve,a.reject,!t),a.state()==="pending"||L(o[n]&&o[n].then)))return a.then();for(;n--;)Ht(o[n],s(n),a.reject);return a.promise()}});var tn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(e,t){M.console&&M.console.warn&&e&&tn.test(e.name)&&M.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},i.readyException=function(e){M.setTimeout(function(){throw e})};var mt=i.Deferred();function N(){B.removeEventListener("DOMContentLoaded",N),M.removeEventListener("load",N),i.ready()}i.fn.ready=function(e){return mt.then(e).catch(function(t){i.readyException(t)}),this},i.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--i.readyWait:i.isReady)||(i.isReady=!0)!==e&&0<--i.readyWait||mt.resolveWith(B,[i])}}),i.ready.then=mt.then,B.readyState==="complete"||B.readyState!=="loading"&&!B.documentElement.doScroll?M.setTimeout(i.ready):(B.addEventListener("DOMContentLoaded",N),M.addEventListener("load",N));var me=function(e,t,n,r,o,a,s){var l=0,f=e.length,p=n==null;if(He(n)==="object")for(l in o=!0,n)me(e,t,l,n[l],!0,a,s);else if(r!==void 0&&(o=!0,L(r)||(s=!0),p&&(s?(t.call(e,r),t=null):(p=t,t=function(v,x,g){return p.call(i(v),g)})),t))for(;l<f;l++)t(e[l],n,s?r:r.call(e[l],l,t(e[l],n)));return o?e:p?t.call(e):f?t(e[0],n):a},tt=/^-ms-/,ee=/-([a-z])/g;function Ot(e,t){return t.toUpperCase()}function ve(e){return e.replace(tt,"ms-").replace(ee,Ot)}var _e=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Me(){this.expando=i.expando+Me.uid++}Me.uid=1,Me.prototype={cache:function(e){var t=e[this.expando];return t||(t={},_e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if(typeof t=="string")o[ve(t)]=n;else for(r in t)o[ve(r)]=t[r];return o},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][ve(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,r=e[this.expando];if(r!==void 0){if(t!==void 0)for(n=(t=Array.isArray(t)?t.map(ve):(t=ve(t))in r?[t]:t.match(Ee)||[]).length;n--;)delete r[t[n]];(t===void 0||i.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!i.isEmptyObject(t)}};var D=new Me,te=new Me,I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function Mt(e,t,n){var r,o;if(n===void 0&&e.nodeType===1)if(r="data-"+t.replace(nt,"-$&").toLowerCase(),typeof(n=e.getAttribute(r))=="string"){try{n=(o=n)==="true"||o!=="false"&&(o==="null"?null:o===+o+""?+o:I.test(o)?JSON.parse(o):o)}catch{}te.set(e,t,n)}else n=void 0;return n}i.extend({hasData:function(e){return te.hasData(e)||D.hasData(e)},data:function(e,t,n){return te.access(e,t,n)},removeData:function(e,t){te.remove(e,t)},_data:function(e,t,n){return D.access(e,t,n)},_removeData:function(e,t){D.remove(e,t)}}),i.fn.extend({data:function(e,t){var n,r,o,a=this[0],s=a&&a.attributes;if(e===void 0){if(this.length&&(o=te.get(a),a.nodeType===1&&!D.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name).indexOf("data-")===0&&(r=ve(r.slice(5)),Mt(a,r,o[r]));D.set(a,"hasDataAttrs",!0)}return o}return typeof e=="object"?this.each(function(){te.set(this,e)}):me(this,function(l){var f;if(a&&l===void 0)return(f=te.get(a,e))!==void 0||(f=Mt(a,e))!==void 0?f:void 0;this.each(function(){te.set(this,e,l)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){te.remove(this,e)})}}),i.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=D.get(e,t),n&&(!r||Array.isArray(n)?r=D.access(e,t,i.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=i.queue(e,t),r=n.length,o=n.shift(),a=i._queueHooks(e,t);o==="inprogress"&&(o=n.shift(),r--),o&&(t==="fx"&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){i.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return D.get(e,n)||D.access(e,n,{empty:i.Callbacks("once memory").add(function(){D.remove(e,[t+"queue",n])})})}}),i.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?i.queue(this[0],e):t===void 0?this:this.each(function(){var r=i.queue(this,e,t);i._queueHooks(this,e),e==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=i.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";s--;)(n=D.get(a[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(t)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],yt=B.documentElement,rt=function(e){return i.contains(e.ownerDocument,e)},lr={composed:!0};yt.getRootNode&&(rt=function(e){return i.contains(e.ownerDocument,e)||e.getRootNode(lr)===e.ownerDocument});var Rt=function(e,t){return(e=t||e).style.display==="none"||e.style.display===""&&rt(e)&&i.css(e,"display")==="none"},Cn=function(e,t,n,r){var o,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];for(a in o=n.apply(e,r||[]),t)e.style[a]=s[a];return o};function En(e,t,n,r){var o,a,s=20,l=r?function(){return r.cur()}:function(){return i.css(e,t,"")},f=l(),p=n&&n[3]||(i.cssNumber[t]?"":"px"),v=e.nodeType&&(i.cssNumber[t]||p!=="px"&&+f)&&vt.exec(i.css(e,t));if(v&&v[3]!==p){for(f/=2,p=p||v[3],v=+f||1;s--;)i.style(e,t,v+p),(1-a)*(1-(a=l()/f||.5))<=0&&(s=0),v/=a;v*=2,i.style(e,t,v+p),n=n||[]}return n&&(v=+v||+f||0,o=n[1]?v+(n[1]+1)*n[2]:+n[2],r&&(r.unit=p,r.start=v,r.end=o)),o}var kn={};function it(e,t){for(var n,r,o,a,s,l,f,p=[],v=0,x=e.length;v<x;v++)(r=e[v]).style&&(n=r.style.display,t?(n==="none"&&(p[v]=D.get(r,"display")||null,p[v]||(r.style.display="")),r.style.display===""&&Rt(r)&&(p[v]=(f=s=a=void 0,s=(o=r).ownerDocument,l=o.nodeName,(f=kn[l])||(a=s.body.appendChild(s.createElement(l)),f=i.css(a,"display"),a.parentNode.removeChild(a),f==="none"&&(f="block"),kn[l]=f)))):n!=="none"&&(p[v]="none",D.set(r,"display",n)));for(v=0;v<x;v++)p[v]!=null&&(e[v].style.display=p[v]);return e}i.fn.extend({show:function(){return it(this,!0)},hide:function(){return it(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){Rt(this)?i(this).show():i(this).hide()})}});var xt=/^(?:checkbox|radio)$/i,Dn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sn=/^$|^module$|\/(?:java|ecma)script/i,ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){var n;return n=typeof e.getElementsByTagName<"u"?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?e.querySelectorAll(t||"*"):[],t===void 0||t&&ge(e,t)?i.merge([e],n):n}function nn(e,t){for(var n=0,r=e.length;n<r;n++)D.set(e[n],"globalEval",!t||D.get(t[n],"globalEval"))}ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td;var bt,Bt,cr=/<|&#?\w+;/;function Nn(e,t,n,r,o){for(var a,s,l,f,p,v,x=t.createDocumentFragment(),g=[],m=0,E=e.length;m<E;m++)if((a=e[m])||a===0)if(He(a)==="object")i.merge(g,a.nodeType?[a]:a);else if(cr.test(a)){for(s=s||x.appendChild(t.createElement("div")),l=(Dn.exec(a)||["",""])[1].toLowerCase(),f=ke[l]||ke._default,s.innerHTML=f[1]+i.htmlPrefilter(a)+f[2],v=f[0];v--;)s=s.lastChild;i.merge(g,s.childNodes),(s=x.firstChild).textContent=""}else g.push(t.createTextNode(a));for(x.textContent="",m=0;a=g[m++];)if(r&&-1<i.inArray(a,r))o&&o.push(a);else if(p=rt(a),s=de(x.appendChild(a),"script"),p&&nn(s),n)for(v=0;a=s[v++];)Sn.test(a.type||"")&&n.push(a);return x}bt=B.createDocumentFragment().appendChild(B.createElement("div")),(Bt=B.createElement("input")).setAttribute("type","radio"),Bt.setAttribute("checked","checked"),Bt.setAttribute("name","t"),bt.appendChild(Bt),_.checkClone=bt.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!bt.cloneNode(!0).lastChild.defaultValue;var fr=/^key/,dr=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,An=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function at(){return!1}function pr(e,t){return e===function(){try{return B.activeElement}catch{}}()==(t==="focus")}function rn(e,t,n,r,o,a){var s,l;if(typeof t=="object"){for(l in typeof n!="string"&&(r=r||n,n=void 0),t)rn(e,l,n,r,t[l],a);return e}if(r==null&&o==null?(o=n,r=n=void 0):o==null&&(typeof n=="string"?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=at;else if(!o)return e;return a===1&&(s=o,(o=function(f){return i().off(f),s.apply(this,arguments)}).guid=s.guid||(s.guid=i.guid++)),e.each(function(){i.event.add(this,t,o,r,n)})}function Wt(e,t,n){n?(D.set(e,t,!1),i.event.add(e,t,{namespace:!1,handler:function(r){var o,a,s=D.get(this,t);if(1&r.isTrigger&&this[t]){if(s.length)(i.event.special[t]||{}).delegateType&&r.stopPropagation();else if(s=Le.call(arguments),D.set(this,t,s),o=n(this,t),this[t](),s!==(a=D.get(this,t))||o?D.set(this,t,!1):a={},s!==a)return r.stopImmediatePropagation(),r.preventDefault(),a.value}else s.length&&(D.set(this,t,{value:i.event.trigger(i.extend(s[0],i.Event.prototype),s.slice(1),this)}),r.stopImmediatePropagation())}})):D.get(e,t)===void 0&&i.event.add(e,t,ot)}i.event={global:{},add:function(e,t,n,r,o){var a,s,l,f,p,v,x,g,m,E,A,k=D.get(e);if(k)for(n.handler&&(n=(a=n).handler,o=a.selector),o&&i.find.matchesSelector(yt,o),n.guid||(n.guid=i.guid++),(f=k.events)||(f=k.events={}),(s=k.handle)||(s=k.handle=function(J){return typeof i<"u"&&i.event.triggered!==J.type?i.event.dispatch.apply(e,arguments):void 0}),p=(t=(t||"").match(Ee)||[""]).length;p--;)m=A=(l=An.exec(t[p])||[])[1],E=(l[2]||"").split(".").sort(),m&&(x=i.event.special[m]||{},m=(o?x.delegateType:x.bindType)||m,x=i.event.special[m]||{},v=i.extend({type:m,origType:A,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&i.expr.match.needsContext.test(o),namespace:E.join(".")},a),(g=f[m])||((g=f[m]=[]).delegateCount=0,x.setup&&x.setup.call(e,r,E,s)!==!1||e.addEventListener&&e.addEventListener(m,s)),x.add&&(x.add.call(e,v),v.handler.guid||(v.handler.guid=n.guid)),o?g.splice(g.delegateCount++,0,v):g.push(v),i.event.global[m]=!0)},remove:function(e,t,n,r,o){var a,s,l,f,p,v,x,g,m,E,A,k=D.hasData(e)&&D.get(e);if(k&&(f=k.events)){for(p=(t=(t||"").match(Ee)||[""]).length;p--;)if(m=A=(l=An.exec(t[p])||[])[1],E=(l[2]||"").split(".").sort(),m){for(x=i.event.special[m]||{},g=f[m=(r?x.delegateType:x.bindType)||m]||[],l=l[2]&&new RegExp("(^|\\.)"+E.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=g.length;a--;)v=g[a],!o&&A!==v.origType||n&&n.guid!==v.guid||l&&!l.test(v.namespace)||r&&r!==v.selector&&(r!=="**"||!v.selector)||(g.splice(a,1),v.selector&&g.delegateCount--,x.remove&&x.remove.call(e,v));s&&!g.length&&(x.teardown&&x.teardown.call(e,E,k.handle)!==!1||i.removeEvent(e,m,k.handle),delete f[m])}else for(m in f)i.event.remove(e,m+t[p],n,r,!0);i.isEmptyObject(f)&&D.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,s,l=i.event.fix(e),f=new Array(arguments.length),p=(D.get(this,"events")||{})[l.type]||[],v=i.event.special[l.type]||{};for(f[0]=l,t=1;t<arguments.length;t++)f[t]=arguments[t];if(l.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,l)!==!1){for(s=i.event.handlers.call(this,l,p),t=0;(o=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&a.namespace!==!1&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,(r=((i.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,f))!==void 0&&(l.result=r)===!1&&(l.preventDefault(),l.stopPropagation()));return v.postDispatch&&v.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,a,s,l=[],f=t.delegateCount,p=e.target;if(f&&p.nodeType&&!(e.type==="click"&&1<=e.button)){for(;p!==this;p=p.parentNode||this)if(p.nodeType===1&&(e.type!=="click"||p.disabled!==!0)){for(a=[],s={},n=0;n<f;n++)s[o=(r=t[n]).selector+" "]===void 0&&(s[o]=r.needsContext?-1<i(o,this).index(p):i.find(o,this,null,[p]).length),s[o]&&a.push(r);a.length&&l.push({elem:p,handlers:a})}}return p=this,f<t.length&&l.push({elem:p,handlers:t.slice(f)}),l},addProp:function(e,t){Object.defineProperty(i.Event.prototype,e,{enumerable:!0,configurable:!0,get:L(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[i.expando]?e:new i.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return xt.test(t.type)&&t.click&&ge(t,"input")&&Wt(t,"click",ot),!1},trigger:function(e){var t=this||e;return xt.test(t.type)&&t.click&&ge(t,"input")&&Wt(t,"click"),!0},_default:function(e){var t=e.target;return xt.test(t.type)&&t.click&&ge(t,"input")&&D.get(t,"click")||ge(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},i.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},i.Event=function(e,t){if(!(this instanceof i.Event))return new i.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?ot:at,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&i.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:at,isPropagationStopped:at,isImmediatePropagationStopped:at,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ot,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ot,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ot,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return e.which==null&&fr.test(e.type)?e.charCode!=null?e.charCode:e.keyCode:!e.which&&t!==void 0&&dr.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(e,t){i.event.special[e]={setup:function(){return Wt(this,e,pr),!1},trigger:function(){return Wt(this,e),!0},delegateType:t}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){i.event.special[e]={delegateType:t,bindType:t,handle:function(n){var r,o=n.relatedTarget,a=n.handleObj;return o&&(o===this||i.contains(this,o))||(n.type=a.origType,r=a.handler.apply(this,arguments),n.type=t),r}}}),i.fn.extend({on:function(e,t,n,r){return rn(this,e,t,n,r)},one:function(e,t,n,r){return rn(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,i(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&typeof t!="function"||(n=t,t=void 0),n===!1&&(n=at),this.each(function(){i.event.remove(this,e,n,t)})}});var hr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,gr=/<script|<style|<link/i,mr=/checked\s*(?:[^=]|=\s*.checked.)/i,vr=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jn(e,t){return ge(e,"table")&&ge(t.nodeType!==11?t:t.firstChild,"tr")&&i(e).children("tbody")[0]||e}function yr(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function xr(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function qn(e,t){var n,r,o,a,s,l,f,p;if(t.nodeType===1){if(D.hasData(e)&&(a=D.access(e),s=D.set(t,a),p=a.events))for(o in delete s.handle,s.events={},p)for(n=0,r=p[o].length;n<r;n++)i.event.add(t,o,p[o][n]);te.hasData(e)&&(l=te.access(e),f=i.extend({},l),te.set(t,f))}}function st(e,t,n,r){t=St.apply([],t);var o,a,s,l,f,p,v=0,x=e.length,g=x-1,m=t[0],E=L(m);if(E||1<x&&typeof m=="string"&&!_.checkClone&&mr.test(m))return e.each(function(A){var k=e.eq(A);E&&(t[0]=m.call(this,A,k.html())),st(k,t,n,r)});if(x&&(a=(o=Nn(t,e[0].ownerDocument,!1,e,r)).firstChild,o.childNodes.length===1&&(o=a),a||r)){for(l=(s=i.map(de(o,"script"),yr)).length;v<x;v++)f=o,v!==g&&(f=i.clone(f,!0,!0),l&&i.merge(s,de(f,"script"))),n.call(e[v],f,v);if(l)for(p=s[s.length-1].ownerDocument,i.map(s,xr),v=0;v<l;v++)f=s[v],Sn.test(f.type||"")&&!D.access(f,"globalEval")&&i.contains(p,f)&&(f.src&&(f.type||"").toLowerCase()!=="module"?i._evalUrl&&!f.noModule&&i._evalUrl(f.src,{nonce:f.nonce||f.getAttribute("nonce")}):Q(f.textContent.replace(vr,""),f,p))}return e}function Ln(e,t,n){for(var r,o=t?i.filter(t,e):e,a=0;(r=o[a])!=null;a++)n||r.nodeType!==1||i.cleanData(de(r)),r.parentNode&&(n&&rt(r)&&nn(de(r,"script")),r.parentNode.removeChild(r));return e}i.extend({htmlPrefilter:function(e){return e.replace(hr,"<$1></$2>")},clone:function(e,t,n){var r,o,a,s,l,f,p,v=e.cloneNode(!0),x=rt(e);if(!(_.noCloneChecked||e.nodeType!==1&&e.nodeType!==11||i.isXMLDoc(e)))for(s=de(v),r=0,o=(a=de(e)).length;r<o;r++)l=a[r],f=s[r],(p=f.nodeName.toLowerCase())==="input"&&xt.test(l.type)?f.checked=l.checked:p!=="input"&&p!=="textarea"||(f.defaultValue=l.defaultValue);if(t)if(n)for(a=a||de(e),s=s||de(v),r=0,o=a.length;r<o;r++)qn(a[r],s[r]);else qn(e,v);return 0<(s=de(v,"script")).length&&nn(s,!x&&de(e,"script")),v},cleanData:function(e){for(var t,n,r,o=i.event.special,a=0;(n=e[a])!==void 0;a++)if(_e(n)){if(t=n[D.expando]){if(t.events)for(r in t.events)o[r]?i.event.remove(n,r):i.removeEvent(n,r,t.handle);n[D.expando]=void 0}n[te.expando]&&(n[te.expando]=void 0)}}}),i.fn.extend({detach:function(e){return Ln(this,e,!0)},remove:function(e){return Ln(this,e)},text:function(e){return me(this,function(t){return t===void 0?i.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=t)})},null,e,arguments.length)},append:function(){return st(this,arguments,function(e){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||jn(this,e).appendChild(e)})},prepend:function(){return st(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=jn(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return st(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return st(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(i.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e!=null&&e,t=t??e,this.map(function(){return i.clone(this,e,t)})},html:function(e){return me(this,function(t){var n=this[0]||{},r=0,o=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!gr.test(t)&&!ke[(Dn.exec(t)||["",""])[1].toLowerCase()]){t=i.htmlPrefilter(t);try{for(;r<o;r++)(n=this[r]||{}).nodeType===1&&(i.cleanData(de(n,!1)),n.innerHTML=t);n=0}catch{}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return st(this,arguments,function(t){var n=this.parentNode;i.inArray(this,e)<0&&(i.cleanData(de(this)),n&&n.replaceChild(t,this))},e)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){i.fn[e]=function(n){for(var r,o=[],a=i(n),s=a.length-1,l=0;l<=s;l++)r=l===s?this:this.clone(!0),i(a[l])[t](r),pt.apply(o,r.get());return this.pushStack(o)}});var on=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),It=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=M),t.getComputedStyle(e)},br=new RegExp(We.join("|"),"i");function wt(e,t,n){var r,o,a,s,l=e.style;return(n=n||It(e))&&((s=n.getPropertyValue(t)||n[t])!==""||rt(e)||(s=i.style(e,t)),!_.pixelBoxStyles()&&on.test(s)&&br.test(t)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=o,l.maxWidth=a)),s!==void 0?s+"":s}function Hn(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}(function(){function e(){if(f){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",f.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(l).appendChild(f);var p=M.getComputedStyle(f);n=p.top!=="1%",s=t(p.marginLeft)===12,f.style.right="60%",a=t(p.right)===36,r=t(p.width)===36,f.style.position="absolute",o=t(f.offsetWidth/3)===12,yt.removeChild(l),f=null}}function t(p){return Math.round(parseFloat(p))}var n,r,o,a,s,l=B.createElement("div"),f=B.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=f.style.backgroundClip==="content-box",i.extend(_,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o}}))})();var On=["Webkit","Moz","ms"],Mn=B.createElement("div").style,Pn={};function an(e){var t=i.cssProps[e]||Pn[e];return t||(e in Mn?e:Pn[e]=function(n){for(var r=n[0].toUpperCase()+n.slice(1),o=On.length;o--;)if((n=On[o]+r)in Mn)return n}(e)||e)}var wr=/^(none|table(?!-c[ea]).+)/,Rn=/^--/,Tr={position:"absolute",visibility:"hidden",display:"block"},Bn={letterSpacing:"0",fontWeight:"400"};function Wn(e,t,n){var r=vt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function sn(e,t,n,r,o,a){var s=t==="width"?1:0,l=0,f=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)n==="margin"&&(f+=i.css(e,n+We[s],!0,o)),r?(n==="content"&&(f-=i.css(e,"padding"+We[s],!0,o)),n!=="margin"&&(f-=i.css(e,"border"+We[s]+"Width",!0,o))):(f+=i.css(e,"padding"+We[s],!0,o),n!=="padding"?f+=i.css(e,"border"+We[s]+"Width",!0,o):l+=i.css(e,"border"+We[s]+"Width",!0,o));return!r&&0<=a&&(f+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-f-l-.5))||0),f}function In(e,t,n){var r=It(e),o=(!_.boxSizingReliable()||n)&&i.css(e,"boxSizing",!1,r)==="border-box",a=o,s=wt(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(on.test(s)){if(!n)return s;s="auto"}return(!_.boxSizingReliable()&&o||s==="auto"||!parseFloat(s)&&i.css(e,"display",!1,r)==="inline")&&e.getClientRects().length&&(o=i.css(e,"boxSizing",!1,r)==="border-box",(a=l in e)&&(s=e[l])),(s=parseFloat(s)||0)+sn(e,t,n||(o?"border":"content"),a,r,s)+"px"}function Ne(e,t,n,r,o){return new Ne.prototype.init(e,t,n,r,o)}i.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=wt(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&e.nodeType!==3&&e.nodeType!==8&&e.style){var o,a,s,l=ve(t),f=Rn.test(t),p=e.style;if(f||(t=an(l)),s=i.cssHooks[t]||i.cssHooks[l],n===void 0)return s&&"get"in s&&(o=s.get(e,!1,r))!==void 0?o:p[t];(a=typeof n)=="string"&&(o=vt.exec(n))&&o[1]&&(n=En(e,t,o),a="number"),n!=null&&n==n&&(a!=="number"||f||(n+=o&&o[3]||(i.cssNumber[l]?"":"px")),_.clearCloneStyle||n!==""||t.indexOf("background")!==0||(p[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===void 0||(f?p.setProperty(t,n):p[t]=n))}},css:function(e,t,n,r){var o,a,s,l=ve(t);return Rn.test(t)||(t=an(l)),(s=i.cssHooks[t]||i.cssHooks[l])&&"get"in s&&(o=s.get(e,!0,n)),o===void 0&&(o=wt(e,t,r)),o==="normal"&&t in Bn&&(o=Bn[t]),n===""||n?(a=parseFloat(o),n===!0||isFinite(a)?a||0:o):o}}),i.each(["height","width"],function(e,t){i.cssHooks[t]={get:function(n,r,o){if(r)return!wr.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?In(n,t,o):Cn(n,Tr,function(){return In(n,t,o)})},set:function(n,r,o){var a,s=It(n),l=!_.scrollboxSize()&&s.position==="absolute",f=(l||o)&&i.css(n,"boxSizing",!1,s)==="border-box",p=o?sn(n,t,o,f,s):0;return f&&l&&(p-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-sn(n,t,"border",!1,s)-.5)),p&&(a=vt.exec(r))&&(a[3]||"px")!=="px"&&(n.style[t]=r,r=i.css(n,t)),Wn(0,r,p)}}}),i.cssHooks.marginLeft=Hn(_.reliableMarginLeft,function(e,t){if(t)return(parseFloat(wt(e,"marginLeft"))||e.getBoundingClientRect().left-Cn(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(e,t){i.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a=typeof n=="string"?n.split(" "):[n];r<4;r++)o[e+We[r]+t]=a[r]||a[r-2]||a[0];return o}},e!=="margin"&&(i.cssHooks[e+t].set=Wn)}),i.fn.extend({css:function(e,t){return me(this,function(n,r,o){var a,s,l={},f=0;if(Array.isArray(r)){for(a=It(n),s=r.length;f<s;f++)l[r[f]]=i.css(n,r[f],!1,a);return l}return o!==void 0?i.style(n,r,o):i.css(n,r)},e,t,1<arguments.length)}}),((i.Tween=Ne).prototype={constructor:Ne,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||i.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(i.cssNumber[n]?"":"px")},cur:function(){var e=Ne.propHooks[this.prop];return e&&e.get?e.get(this):Ne.propHooks._default.get(this)},run:function(e){var t,n=Ne.propHooks[this.prop];return this.options.duration?this.pos=t=i.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ne.propHooks._default.set(this),this}}).init.prototype=Ne.prototype,(Ne.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=i.css(e.elem,e.prop,""))&&t!=="auto"?t:0},set:function(e){i.fx.step[e.prop]?i.fx.step[e.prop](e):e.elem.nodeType!==1||!i.cssHooks[e.prop]&&e.elem.style[an(e.prop)]==null?e.elem[e.prop]=e.now:i.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ne.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},i.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},i.fx=Ne.prototype.init,i.fx.step={};var ut,$t,lt,$n,Cr=/^(?:toggle|show|hide)$/,Er=/queueHooks$/;function un(){$t&&(B.hidden===!1&&M.requestAnimationFrame?M.requestAnimationFrame(un):M.setTimeout(un,i.fx.interval),i.fx.tick())}function Fn(){return M.setTimeout(function(){ut=void 0}),ut=Date.now()}function Ft(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=We[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function _n(e,t,n){for(var r,o=(Ae.tweeners[t]||[]).concat(Ae.tweeners["*"]),a=0,s=o.length;a<s;a++)if(r=o[a].call(n,t,e))return r}function Ae(e,t,n){var r,o,a=0,s=Ae.prefilters.length,l=i.Deferred().always(function(){delete f.elem}),f=function(){if(o)return!1;for(var x=ut||Fn(),g=Math.max(0,p.startTime+p.duration-x),m=1-(g/p.duration||0),E=0,A=p.tweens.length;E<A;E++)p.tweens[E].run(m);return l.notifyWith(e,[p,m,g]),m<1&&A?g:(A||l.notifyWith(e,[p,1,0]),l.resolveWith(e,[p]),!1)},p=l.promise({elem:e,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||Fn(),duration:n.duration,tweens:[],createTween:function(x,g){var m=i.Tween(e,p.opts,x,g,p.opts.specialEasing[x]||p.opts.easing);return p.tweens.push(m),m},stop:function(x){var g=0,m=x?p.tweens.length:0;if(o)return this;for(o=!0;g<m;g++)p.tweens[g].run(1);return x?(l.notifyWith(e,[p,1,0]),l.resolveWith(e,[p,x])):l.rejectWith(e,[p,x]),this}}),v=p.props;for(!function(x,g){var m,E,A,k,J;for(m in x)if(A=g[E=ve(m)],k=x[m],Array.isArray(k)&&(A=k[1],k=x[m]=k[0]),m!==E&&(x[E]=k,delete x[m]),(J=i.cssHooks[E])&&"expand"in J)for(m in k=J.expand(k),delete x[E],k)m in x||(x[m]=k[m],g[m]=A);else g[E]=A}(v,p.opts.specialEasing);a<s;a++)if(r=Ae.prefilters[a].call(p,e,v,p.opts))return L(r.stop)&&(i._queueHooks(p.elem,p.opts.queue).stop=r.stop.bind(r)),r;return i.map(v,_n,p),L(p.opts.start)&&p.opts.start.call(e,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),i.fx.timer(i.extend(f,{elem:e,anim:p,queue:p.opts.queue})),p}i.Animation=i.extend(Ae,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return En(n.elem,e,vt.exec(t),n),n}]},tweener:function(e,t){L(e)?(t=e,e=["*"]):e=e.match(Ee);for(var n,r=0,o=e.length;r<o;r++)n=e[r],Ae.tweeners[n]=Ae.tweeners[n]||[],Ae.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,a,s,l,f,p,v,x="width"in t||"height"in t,g=this,m={},E=e.style,A=e.nodeType&&Rt(e),k=D.get(e,"fxshow");for(r in n.queue||((s=i._queueHooks(e,"fx")).unqueued==null&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,g.always(function(){g.always(function(){s.unqueued--,i.queue(e,"fx").length||s.empty.fire()})})),t)if(o=t[r],Cr.test(o)){if(delete t[r],a=a||o==="toggle",o===(A?"hide":"show")){if(o!=="show"||!k||k[r]===void 0)continue;A=!0}m[r]=k&&k[r]||i.style(e,r)}if((f=!i.isEmptyObject(t))||!i.isEmptyObject(m))for(r in x&&e.nodeType===1&&(n.overflow=[E.overflow,E.overflowX,E.overflowY],(p=k&&k.display)==null&&(p=D.get(e,"display")),(v=i.css(e,"display"))==="none"&&(p?v=p:(it([e],!0),p=e.style.display||p,v=i.css(e,"display"),it([e]))),(v==="inline"||v==="inline-block"&&p!=null)&&i.css(e,"float")==="none"&&(f||(g.done(function(){E.display=p}),p==null&&(v=E.display,p=v==="none"?"":v)),E.display="inline-block")),n.overflow&&(E.overflow="hidden",g.always(function(){E.overflow=n.overflow[0],E.overflowX=n.overflow[1],E.overflowY=n.overflow[2]})),f=!1,m)f||(k?"hidden"in k&&(A=k.hidden):k=D.access(e,"fxshow",{display:p}),a&&(k.hidden=!A),A&&it([e],!0),g.done(function(){for(r in A||it([e]),D.remove(e,"fxshow"),m)i.style(e,r,m[r])})),f=_n(A?k[r]:0,r,g),r in k||(k[r]=f.start,A&&(f.end=f.start,f.start=0))}],prefilter:function(e,t){t?Ae.prefilters.unshift(e):Ae.prefilters.push(e)}}),i.speed=function(e,t,n){var r=e&&typeof e=="object"?i.extend({},e):{complete:n||!n&&t||L(e)&&e,duration:e,easing:n&&t||t&&!L(t)&&t};return i.fx.off?r.duration=0:typeof r.duration!="number"&&(r.duration in i.fx.speeds?r.duration=i.fx.speeds[r.duration]:r.duration=i.fx.speeds._default),r.queue!=null&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){L(r.old)&&r.old.call(this),r.queue&&i.dequeue(this,r.queue)},r},i.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Rt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=i.isEmptyObject(e),a=i.speed(t,n,r),s=function(){var l=Ae(this,i.extend({},e),a);(o||D.get(this,"finish"))&&l.stop(!0)};return s.finish=s,o||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var r=function(o){var a=o.stop;delete o.stop,a(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var o=!0,a=e!=null&&e+"queueHooks",s=i.timers,l=D.get(this);if(a)l[a]&&l[a].stop&&r(l[a]);else for(a in l)l[a]&&l[a].stop&&Er.test(a)&&r(l[a]);for(a=s.length;a--;)s[a].elem!==this||e!=null&&s[a].queue!==e||(s[a].anim.stop(n),o=!1,s.splice(a,1));!o&&n||i.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=D.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=i.timers,s=r?r.length:0;for(n.finish=!0,i.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),i.each(["toggle","show","hide"],function(e,t){var n=i.fn[t];i.fn[t]=function(r,o,a){return r==null||typeof r=="boolean"?n.apply(this,arguments):this.animate(Ft(t,!0),r,o,a)}}),i.each({slideDown:Ft("show"),slideUp:Ft("hide"),slideToggle:Ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){i.fn[e]=function(n,r,o){return this.animate(t,n,r,o)}}),i.timers=[],i.fx.tick=function(){var e,t=0,n=i.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||i.fx.stop(),ut=void 0},i.fx.timer=function(e){i.timers.push(e),i.fx.start()},i.fx.interval=13,i.fx.start=function(){$t||($t=!0,un())},i.fx.stop=function(){$t=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(e,t){return e=i.fx&&i.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,r){var o=M.setTimeout(n,e);r.stop=function(){M.clearTimeout(o)}})},lt=B.createElement("input"),$n=B.createElement("select").appendChild(B.createElement("option")),lt.type="checkbox",_.checkOn=lt.value!=="",_.optSelected=$n.selected,(lt=B.createElement("input")).value="t",lt.type="radio",_.radioValue=lt.value==="t";var zn,Tt=i.expr.attrHandle;i.fn.extend({attr:function(e,t){return me(this,i.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){i.removeAttr(this,e)})}}),i.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(a!==3&&a!==8&&a!==2)return typeof e.getAttribute>"u"?i.prop(e,t,n):(a===1&&i.isXMLDoc(e)||(o=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?zn:void 0)),n!==void 0?n===null?void i.removeAttr(e,t):o&&"set"in o&&(r=o.set(e,n,t))!==void 0?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&(r=o.get(e,t))!==null?r:(r=i.find.attr(e,t))==null?void 0:r)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&t==="radio"&&ge(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(Ee);if(o&&e.nodeType===1)for(;n=o[r++];)e.removeAttribute(n)}}),zn={set:function(e,t,n){return t===!1?i.removeAttr(e,n):e.setAttribute(n,n),n}},i.each(i.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||i.find.attr;Tt[t]=function(r,o,a){var s,l,f=o.toLowerCase();return a||(l=Tt[f],Tt[f]=s,s=n(r,o,a)!=null?f:null,Tt[f]=l),s}});var kr=/^(?:input|select|textarea|button)$/i,Dr=/^(?:a|area)$/i;function Ue(e){return(e.match(Ee)||[]).join(" ")}function Xe(e){return e.getAttribute&&e.getAttribute("class")||""}function ln(e){return Array.isArray(e)?e:typeof e=="string"&&e.match(Ee)||[]}i.fn.extend({prop:function(e,t){return me(this,i.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[i.propFix[e]||e]})}}),i.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(a!==3&&a!==8&&a!==2)return a===1&&i.isXMLDoc(e)||(t=i.propFix[t]||t,o=i.propHooks[t]),n!==void 0?o&&"set"in o&&(r=o.set(e,n,t))!==void 0?r:e[t]=n:o&&"get"in o&&(r=o.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=i.find.attr(e,"tabindex");return t?parseInt(t,10):kr.test(e.nodeName)||Dr.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(i.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this}),i.fn.extend({addClass:function(e){var t,n,r,o,a,s,l,f=0;if(L(e))return this.each(function(p){i(this).addClass(e.call(this,p,Xe(this)))});if((t=ln(e)).length){for(;n=this[f++];)if(o=Xe(n),r=n.nodeType===1&&" "+Ue(o)+" "){for(s=0;a=t[s++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");o!==(l=Ue(r))&&n.setAttribute("class",l)}}return this},removeClass:function(e){var t,n,r,o,a,s,l,f=0;if(L(e))return this.each(function(p){i(this).removeClass(e.call(this,p,Xe(this)))});if(!arguments.length)return this.attr("class","");if((t=ln(e)).length){for(;n=this[f++];)if(o=Xe(n),r=n.nodeType===1&&" "+Ue(o)+" "){for(s=0;a=t[s++];)for(;-1<r.indexOf(" "+a+" ");)r=r.replace(" "+a+" "," ");o!==(l=Ue(r))&&n.setAttribute("class",l)}}return this},toggleClass:function(e,t){var n=typeof e,r=n==="string"||Array.isArray(e);return typeof t=="boolean"&&r?t?this.addClass(e):this.removeClass(e):L(e)?this.each(function(o){i(this).toggleClass(e.call(this,o,Xe(this),t),t)}):this.each(function(){var o,a,s,l;if(r)for(a=0,s=i(this),l=ln(e);o=l[a++];)s.hasClass(o)?s.removeClass(o):s.addClass(o);else e!==void 0&&n!=="boolean"||((o=Xe(this))&&D.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||e===!1?"":D.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(n.nodeType===1&&-1<(" "+Ue(Xe(n))+" ").indexOf(t))return!0;return!1}});var Sr=/\r/g;i.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=L(e),this.each(function(a){var s;this.nodeType===1&&((s=r?e.call(this,a,i(this).val()):e)==null?s="":typeof s=="number"?s+="":Array.isArray(s)&&(s=i.map(s,function(l){return l==null?"":l+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,s,"value")!==void 0||(this.value=s))})):o?(t=i.valHooks[o.type]||i.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(o,"value"))!==void 0?n:typeof(n=o.value)=="string"?n.replace(Sr,""):n??"":void 0}}),i.extend({valHooks:{option:{get:function(e){var t=i.find.attr(e,"value");return t??Ue(i.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,s=e.type==="select-one",l=s?null:[],f=s?a+1:o.length;for(r=a<0?f:s?a:0;r<f;r++)if(((n=o[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!ge(n.parentNode,"optgroup"))){if(t=i(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,r,o=e.options,a=i.makeArray(t),s=o.length;s--;)((r=o[s]).selected=-1<i.inArray(i.valHooks.option.get(r),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<i.inArray(i(e).val(),t)}},_.checkOn||(i.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),_.focusin="onfocusin"in M;var Un=/^(?:focusinfocus|focusoutblur)$/,Xn=function(e){e.stopPropagation()};i.extend(i.event,{trigger:function(e,t,n,r){var o,a,s,l,f,p,v,x,g=[n||B],m=ze.call(e,"type")?e.type:e,E=ze.call(e,"namespace")?e.namespace.split("."):[];if(a=x=s=n=n||B,n.nodeType!==3&&n.nodeType!==8&&!Un.test(m+i.event.triggered)&&(-1<m.indexOf(".")&&(m=(E=m.split(".")).shift(),E.sort()),f=m.indexOf(":")<0&&"on"+m,(e=e[i.expando]?e:new i.Event(m,typeof e=="object"&&e)).isTrigger=r?2:3,e.namespace=E.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+E.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:i.makeArray(t,[e]),v=i.event.special[m]||{},r||!v.trigger||v.trigger.apply(n,t)!==!1)){if(!r&&!v.noBubble&&!ce(n)){for(l=v.delegateType||m,Un.test(l+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),s=a;s===(n.ownerDocument||B)&&g.push(s.defaultView||s.parentWindow||M)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)x=a,e.type=1<o?l:v.bindType||m,(p=(D.get(a,"events")||{})[e.type]&&D.get(a,"handle"))&&p.apply(a,t),(p=f&&a[f])&&p.apply&&_e(a)&&(e.result=p.apply(a,t),e.result===!1&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||v._default&&v._default.apply(g.pop(),t)!==!1||!_e(n)||f&&L(n[m])&&!ce(n)&&((s=n[f])&&(n[f]=null),i.event.triggered=m,e.isPropagationStopped()&&x.addEventListener(m,Xn),n[m](),e.isPropagationStopped()&&x.removeEventListener(m,Xn),i.event.triggered=void 0,s&&(n[f]=s)),e.result}},simulate:function(e,t,n){var r=i.extend(new i.Event,n,{type:e,isSimulated:!0});i.event.trigger(r,null,t)}}),i.fn.extend({trigger:function(e,t){return this.each(function(){i.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return i.event.trigger(e,t,n,!0)}}),_.focusin||i.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(r){i.event.simulate(t,r.target,i.event.fix(r))};i.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=D.access(r,t);o||r.addEventListener(e,n,!0),D.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=D.access(r,t)-1;o?D.access(r,t,o):(r.removeEventListener(e,n,!0),D.remove(r,t))}}});var Ct=M.location,Vn=Date.now(),cn=/\?/;i.parseXML=function(e){var t;if(!e||typeof e!="string")return null;try{t=new M.DOMParser().parseFromString(e,"text/xml")}catch{t=void 0}return t&&!t.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+e),t};var Nr=/\[\]$/,Gn=/\r?\n/g,Ar=/^(?:submit|button|image|reset|file)$/i,jr=/^(?:input|select|textarea|keygen)/i;function fn(e,t,n,r){var o;if(Array.isArray(t))i.each(t,function(a,s){n||Nr.test(e)?r(e,s):fn(e+"["+(typeof s=="object"&&s!=null?a:"")+"]",s,n,r)});else if(n||He(t)!=="object")r(e,t);else for(o in t)fn(e+"["+o+"]",t[o],n,r)}i.param=function(e,t){var n,r=[],o=function(a,s){var l=L(s)?s():s;r[r.length]=encodeURIComponent(a)+"="+encodeURIComponent(l??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!i.isPlainObject(e))i.each(e,function(){o(this.name,this.value)});else for(n in e)fn(n,e[n],t,o);return r.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=i.prop(this,"elements");return e?i.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!i(this).is(":disabled")&&jr.test(this.nodeName)&&!Ar.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=i(this).val();return n==null?null:Array.isArray(n)?i.map(n,function(r){return{name:t.name,value:r.replace(Gn,`\r
`)}}):{name:t.name,value:n.replace(Gn,`\r
`)}}).get()}});var qr=/%20/g,Lr=/#.*$/,Hr=/([?&])_=[^&]*/,Or=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mr=/^(?:GET|HEAD)$/,Pr=/^\/\//,Yn={},dn={},Qn="*/".concat("*"),pn=B.createElement("a");function Jn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(Ee)||[];if(L(n))for(;r=a[o++];)r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Kn(e,t,n,r){var o={},a=e===dn;function s(l){var f;return o[l]=!0,i.each(e[l]||[],function(p,v){var x=v(t,n,r);return typeof x!="string"||a||o[x]?a?!(f=x):void 0:(t.dataTypes.unshift(x),s(x),!1)}),f}return s(t.dataTypes[0])||!o["*"]&&s("*")}function hn(e,t){var n,r,o=i.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&i.extend(!0,e,r),e}pn.href=Ct.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?hn(hn(e,i.ajaxSettings),t):hn(i.ajaxSettings,e)},ajaxPrefilter:Jn(Yn),ajaxTransport:Jn(dn),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,l,f,p,v,x,g=i.ajaxSetup({},t),m=g.context||g,E=g.context&&(m.nodeType||m.jquery)?i(m):i.event,A=i.Deferred(),k=i.Callbacks("once memory"),J=g.statusCode||{},oe={},ye={},U="canceled",H={readyState:0,getResponseHeader:function($){var K;if(f){if(!a)for(a={};K=Or.exec(o);)a[K[1].toLowerCase()+" "]=(a[K[1].toLowerCase()+" "]||[]).concat(K[2]);K=a[$.toLowerCase()+" "]}return K==null?null:K.join(", ")},getAllResponseHeaders:function(){return f?o:null},setRequestHeader:function($,K){return f==null&&($=ye[$.toLowerCase()]=ye[$.toLowerCase()]||$,oe[$]=K),this},overrideMimeType:function($){return f==null&&(g.mimeType=$),this},statusCode:function($){var K;if($)if(f)H.always($[H.status]);else for(K in $)J[K]=[J[K],$[K]];return this},abort:function($){var K=$||U;return n&&n.abort(K),pe(0,K),this}};if(A.promise(H),g.url=((e||g.url||Ct.href)+"").replace(Pr,Ct.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(Ee)||[""],g.crossDomain==null){l=B.createElement("a");try{l.href=g.url,l.href=l.href,g.crossDomain=pn.protocol+"//"+pn.host!=l.protocol+"//"+l.host}catch{g.crossDomain=!0}}if(g.data&&g.processData&&typeof g.data!="string"&&(g.data=i.param(g.data,g.traditional)),Kn(Yn,g,t,H),f)return H;for(v in(p=i.event&&g.global)&&i.active++==0&&i.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Mr.test(g.type),r=g.url.replace(Lr,""),g.hasContent?g.data&&g.processData&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(g.data=g.data.replace(qr,"+")):(x=g.url.slice(r.length),g.data&&(g.processData||typeof g.data=="string")&&(r+=(cn.test(r)?"&":"?")+g.data,delete g.data),g.cache===!1&&(r=r.replace(Hr,"$1"),x=(cn.test(r)?"&":"?")+"_="+Vn+++x),g.url=r+x),g.ifModified&&(i.lastModified[r]&&H.setRequestHeader("If-Modified-Since",i.lastModified[r]),i.etag[r]&&H.setRequestHeader("If-None-Match",i.etag[r])),(g.data&&g.hasContent&&g.contentType!==!1||t.contentType)&&H.setRequestHeader("Content-Type",g.contentType),H.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!=="*"?", "+Qn+"; q=0.01":""):g.accepts["*"]),g.headers)H.setRequestHeader(v,g.headers[v]);if(g.beforeSend&&(g.beforeSend.call(m,H,g)===!1||f))return H.abort();if(U="abort",k.add(g.complete),H.done(g.success),H.fail(g.error),n=Kn(dn,g,t,H)){if(H.readyState=1,p&&E.trigger("ajaxSend",[H,g]),f)return H;g.async&&0<g.timeout&&(s=M.setTimeout(function(){H.abort("timeout")},g.timeout));try{f=!1,n.send(oe,pe)}catch($){if(f)throw $;pe(-1,$)}}else pe(-1,"No Transport");function pe($,K,kt,_t){var De,Ve,ct,he,ft,Se=K;f||(f=!0,s&&M.clearTimeout(s),n=void 0,o=_t||"",H.readyState=0<$?4:0,De=200<=$&&$<300||$===304,kt&&(he=function(Z,xe,be){for(var Pe,R,F,ae,we=Z.contents,re=Z.dataTypes;re[0]==="*";)re.shift(),Pe===void 0&&(Pe=Z.mimeType||xe.getResponseHeader("Content-Type"));if(Pe){for(R in we)if(we[R]&&we[R].test(Pe)){re.unshift(R);break}}if(re[0]in be)F=re[0];else{for(R in be){if(!re[0]||Z.converters[R+" "+re[0]]){F=R;break}ae||(ae=R)}F=F||ae}if(F)return F!==re[0]&&re.unshift(F),be[F]}(g,H,kt)),he=function(Z,xe,be,Pe){var R,F,ae,we,re,Te={},dt=Z.dataTypes.slice();if(dt[1])for(ae in Z.converters)Te[ae.toLowerCase()]=Z.converters[ae];for(F=dt.shift();F;)if(Z.responseFields[F]&&(be[Z.responseFields[F]]=xe),!re&&Pe&&Z.dataFilter&&(xe=Z.dataFilter(xe,Z.dataType)),re=F,F=dt.shift()){if(F==="*")F=re;else if(re!=="*"&&re!==F){if(!(ae=Te[re+" "+F]||Te["* "+F])){for(R in Te)if((we=R.split(" "))[1]===F&&(ae=Te[re+" "+we[0]]||Te["* "+we[0]])){ae===!0?ae=Te[R]:Te[R]!==!0&&(F=we[0],dt.unshift(we[1]));break}}if(ae!==!0)if(ae&&Z.throws)xe=ae(xe);else try{xe=ae(xe)}catch(mn){return{state:"parsererror",error:ae?mn:"No conversion from "+re+" to "+F}}}}return{state:"success",data:xe}}(g,he,H,De),De?(g.ifModified&&((ft=H.getResponseHeader("Last-Modified"))&&(i.lastModified[r]=ft),(ft=H.getResponseHeader("etag"))&&(i.etag[r]=ft)),$===204||g.type==="HEAD"?Se="nocontent":$===304?Se="notmodified":(Se=he.state,Ve=he.data,De=!(ct=he.error))):(ct=Se,!$&&Se||(Se="error",$<0&&($=0))),H.status=$,H.statusText=(K||Se)+"",De?A.resolveWith(m,[Ve,Se,H]):A.rejectWith(m,[H,Se,ct]),H.statusCode(J),J=void 0,p&&E.trigger(De?"ajaxSuccess":"ajaxError",[H,g,De?Ve:ct]),k.fireWith(m,[H,Se]),p&&(E.trigger("ajaxComplete",[H,g]),--i.active||i.event.trigger("ajaxStop")))}return H},getJSON:function(e,t,n){return i.get(e,t,n,"json")},getScript:function(e,t){return i.get(e,void 0,t,"script")}}),i.each(["get","post"],function(e,t){i[t]=function(n,r,o,a){return L(r)&&(a=a||o,o=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:a,data:r,success:o},i.isPlainObject(n)&&n))}}),i._evalUrl=function(e,t){return i.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t)}})},i.fn.extend({wrapAll:function(e){var t;return this[0]&&(L(e)&&(e=e.call(this[0])),t=i(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return L(e)?this.each(function(t){i(this).wrapInner(e.call(this,t))}):this.each(function(){var t=i(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=L(e);return this.each(function(n){i(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(e){return!i.expr.pseudos.visible(e)},i.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new M.XMLHttpRequest}catch{}};var Rr={0:200,1223:204},Et=i.ajaxSettings.xhr();_.cors=!!Et&&"withCredentials"in Et,_.ajax=Et=!!Et,i.ajaxTransport(function(e){var t,n;if(_.cors||Et&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(l){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,l==="abort"?s.abort():l==="error"?typeof s.status!="number"?o(0,"error"):o(s.status,s.statusText):o(Rr[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),s.onabort!==void 0?s.onabort=n:s.onreadystatechange=function(){s.readyState===4&&M.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}}),i.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return i.globalEval(e),e}}}),i.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),i.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=i("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(a){t.remove(),n=null,a&&o(a.type==="error"?404:200,a.type)}),B.head.appendChild(t[0])},abort:function(){n&&n()}}});var Zn,er=[],gn=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||i.expando+"_"+Vn++;return this[e]=!0,e}}),i.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,s=e.jsonp!==!1&&(gn.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&gn.test(e.data)&&"data");if(s||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=L(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(gn,"$1"+r):e.jsonp!==!1&&(e.url+=(cn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||i.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=M[r],M[r]=function(){a=arguments},n.always(function(){o===void 0?i(M).removeProp(r):M[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,er.push(r)),a&&L(o)&&o(a[0]),a=o=void 0}),"script"}),_.createHTMLDocument=((Zn=B.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",Zn.childNodes.length===2),i.parseHTML=function(e,t,n){return typeof e!="string"?[]:(typeof t=="boolean"&&(n=t,t=!1),t||(_.createHTMLDocument?((r=(t=B.implementation.createHTMLDocument("")).createElement("base")).href=B.location.href,t.head.appendChild(r)):t=B),a=!n&&[],(o=jt.exec(e))?[t.createElement(o[1])]:(o=Nn([e],t,a),a&&a.length&&i(a).remove(),i.merge([],o.childNodes)));var r,o,a},i.fn.load=function(e,t,n){var r,o,a,s=this,l=e.indexOf(" ");return-1<l&&(r=Ue(e.slice(l)),e=e.slice(0,l)),L(t)?(n=t,t=void 0):t&&typeof t=="object"&&(o="POST"),0<s.length&&i.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(f){a=arguments,s.html(r?i("<div>").append(i.parseHTML(f)).find(r):f)}).always(n&&function(f,p){s.each(function(){n.apply(this,a||[f.responseText,p,f])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(e){return i.grep(i.timers,function(t){return e===t.elem}).length},i.offset={setOffset:function(e,t,n){var r,o,a,s,l,f,p=i.css(e,"position"),v=i(e),x={};p==="static"&&(e.style.position="relative"),l=v.offset(),a=i.css(e,"top"),f=i.css(e,"left"),(p==="absolute"||p==="fixed")&&-1<(a+f).indexOf("auto")?(s=(r=v.position()).top,o=r.left):(s=parseFloat(a)||0,o=parseFloat(f)||0),L(t)&&(t=t.call(e,n,i.extend({},l))),t.top!=null&&(x.top=t.top-l.top+s),t.left!=null&&(x.left=t.left-l.left+o),"using"in t?t.using.call(e,x):v.css(x)}},i.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(o){i.offset.setOffset(this,e,o)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if(i.css(r,"position")==="fixed")t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&i.css(e,"position")==="static";)e=e.parentNode;e&&e!==r&&e.nodeType===1&&((o=i(e).offset()).top+=i.css(e,"borderTopWidth",!0),o.left+=i.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-i.css(r,"marginTop",!0),left:t.left-o.left-i.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&i.css(e,"position")==="static";)e=e.offsetParent;return e||yt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";i.fn[e]=function(r){return me(this,function(o,a,s){var l;if(ce(o)?l=o:o.nodeType===9&&(l=o.defaultView),s===void 0)return l?l[t]:o[a];l?l.scrollTo(n?l.pageXOffset:s,n?s:l.pageYOffset):o[a]=s},e,r,arguments.length)}}),i.each(["top","left"],function(e,t){i.cssHooks[t]=Hn(_.pixelPosition,function(n,r){if(r)return r=wt(n,t),on.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(e,t){i.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){i.fn[r]=function(o,a){var s=arguments.length&&(n||typeof o!="boolean"),l=n||(o===!0||a===!0?"margin":"border");return me(this,function(f,p,v){var x;return ce(f)?r.indexOf("outer")===0?f["inner"+e]:f.document.documentElement["client"+e]:f.nodeType===9?(x=f.documentElement,Math.max(f.body["scroll"+e],x["scroll"+e],f.body["offset"+e],x["offset"+e],x["client"+e])):v===void 0?i.css(f,p,l):i.style(f,p,v,l)},t,s?o:void 0,s)}})}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){i.fn[t]=function(n,r){return 0<arguments.length?this.on(t,null,n,r):this.trigger(t)}}),i.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),i.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}}),i.proxy=function(e,t){var n,r,o;if(typeof t=="string"&&(n=e[t],t=e,e=n),L(e))return r=Le.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(Le.call(arguments)))}).guid=e.guid=e.guid||i.guid++,o},i.holdReady=function(e){e?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=ge,i.isFunction=L,i.isWindow=ce,i.camelCase=ve,i.type=He,i.now=Date.now,i.isNumeric=function(e){var t=i.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i});var Br=M.jQuery,Wr=M.$;return i.noConflict=function(e){return M.$===i&&(M.$=Wr),e&&M.jQuery===i&&(M.jQuery=Br),i},Y||(M.jQuery=M.$=i),i}),function(M){M(["jquery"],function(Y){return function(){function Ce(S,z,G){return L({type:Ke.error,iconClass:ce().iconClasses.error,message:S,optionsOverride:G,title:z})}function B(S,z){return S||(S=ce()),Q=Y("#"+S.containerId),Q.length||z&&(Q=At(S)),Q}function Qt(S,z,G){return L({type:Ke.info,iconClass:ce().iconClasses.info,message:S,optionsOverride:G,title:z})}function Le(S){He=S}function St(S,z,G){return L({type:Ke.success,iconClass:ce().iconClasses.success,message:S,optionsOverride:G,title:z})}function pt(S,z,G){return L({type:Ke.warning,iconClass:ce().iconClasses.warning,message:S,optionsOverride:G,title:z})}function Ye(S,z){var G=ce();Q||B(G),ze(S,G,z)||Nt(G)}function Qe(S){var z=ce();return Q||B(z),S&&Y(":focus",S).length===0?void ht(S):void(Q.children().length&&Q.remove())}function Nt(S){for(var z=Q.children(),G=z.length-1;G>=0;G--)ze(Y(z[G]),S)}function ze(S,z,G){var et=!(!G||!G.force)&&G.force;return!(!S||!et&&Y(":focus",S).length!==0)&&(S[z.hideMethod]({duration:z.hideDuration,easing:z.hideEasing,complete:function(){ht(S)}}),!0)}function At(S){return Q=Y("<div/>").attr("id",S.containerId).addClass(S.positionClass),Q.appendTo(Y(S.target)),Q}function Jt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function _(S){He&&He(S)}function L(S){function z(I){return I==null&&(I=""),I.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G(){gt(),Kt(),Zt(),en(),Lt(),Ee(),qt(),et()}function et(){var I="";switch(S.iconClass){case"toast-success":case"toast-info":I="polite";break;default:I="assertive"}ee.attr("aria-live",I)}function ge(){N.closeOnHover&&ee.hover(tn,Ht),!N.onclick&&N.tapToDismiss&&ee.click(Oe),N.closeButton&&Me&&Me.click(function(I){I.stopPropagation?I.stopPropagation():I.cancelBubble!==void 0&&I.cancelBubble!==!0&&(I.cancelBubble=!0),N.onCloseClick&&N.onCloseClick(I),Oe(!0)}),N.onclick&&ee.click(function(I){N.onclick(I),Oe()})}function jt(){ee.hide(),ee[N.showMethod]({duration:N.showDuration,easing:N.showEasing,complete:N.onShown}),N.timeOut>0&&(tt=setTimeout(Oe,N.timeOut),D.maxHideTime=parseFloat(N.timeOut),D.hideEta=new Date().getTime()+D.maxHideTime,N.progressBar&&(D.intervalId=setInterval(mt,10)))}function gt(){S.iconClass&&ee.addClass(N.toastClass).addClass(me)}function qt(){N.newestOnTop?Q.prepend(ee):Q.append(ee)}function Kt(){if(S.title){var I=S.title;N.escapeHtml&&(I=z(S.title)),Ot.append(I).addClass(N.titleClass),ee.append(Ot)}}function Zt(){if(S.message){var I=S.message;N.escapeHtml&&(I=z(S.message)),ve.append(I).addClass(N.messageClass),ee.append(ve)}}function en(){N.closeButton&&(Me.addClass(N.closeClass).attr("role","button"),ee.prepend(Me))}function Lt(){N.progressBar&&(_e.addClass(N.progressClass),ee.prepend(_e))}function Ee(){N.rtl&&ee.addClass("rtl")}function Fe(I,nt){if(I.preventDuplicates){if(nt.message===Je)return!0;Je=nt.message}return!1}function Oe(I){var nt=I&&N.closeMethod!==!1?N.closeMethod:N.hideMethod,Mt=I&&N.closeDuration!==!1?N.closeDuration:N.hideDuration,Pt=I&&N.closeEasing!==!1?N.closeEasing:N.hideEasing;if(!Y(":focus",ee).length||I)return clearTimeout(D.intervalId),ee[nt]({duration:Mt,easing:Pt,complete:function(){ht(ee),clearTimeout(tt),N.onHidden&&te.state!=="hidden"&&N.onHidden(),te.state="hidden",te.endTime=new Date,_(te)}})}function Ht(){(N.timeOut>0||N.extendedTimeOut>0)&&(tt=setTimeout(Oe,N.extendedTimeOut),D.maxHideTime=parseFloat(N.extendedTimeOut),D.hideEta=new Date().getTime()+D.maxHideTime)}function tn(){clearTimeout(tt),D.hideEta=0,ee.stop(!0,!0)[N.showMethod]({duration:N.showDuration,easing:N.showEasing})}function mt(){var I=(D.hideEta-new Date().getTime())/D.maxHideTime*100;_e.width(I+"%")}var N=ce(),me=S.iconClass||N.iconClass;if(typeof S.optionsOverride<"u"&&(N=Y.extend(N,S.optionsOverride),me=S.optionsOverride.iconClass||me),!Fe(N,S)){i++,Q=B(N,!0);var tt=null,ee=Y("<div/>"),Ot=Y("<div/>"),ve=Y("<div/>"),_e=Y("<div/>"),Me=Y(N.closeHtml),D={intervalId:null,hideEta:null,maxHideTime:null},te={toastId:i,state:"visible",startTime:new Date,options:N,map:S};return G(),jt(),ge(),_(te),N.debug&&console&&console.log(te),ee}}function ce(){return Y.extend({},Jt(),Ze.options)}function ht(S){Q||(Q=B()),S.is(":visible")||(S.remove(),S=null,Q.children().length===0&&(Q.remove(),Je=void 0))}var Q,He,Je,i=0,Ke={error:"error",info:"info",success:"success",warning:"warning"},Ze={clear:Ye,remove:Qe,error:Ce,getContainer:B,info:Qt,options:{},subscribe:Le,success:St,version:"2.1.4",warning:pt};return Ze}()})}(typeof define=="function"&&define.amd?define:function(M,Y){typeof module<"u"&&module.exports?module.exports=Y(require("jquery")):window.toastr=Y(window.jQuery)});

})();
(function(){
var iC=Object.create;var ml=Object.defineProperty,oC=Object.defineProperties,sC=Object.getOwnPropertyDescriptor,aC=Object.getOwnPropertyDescriptors,cC=Object.getOwnPropertyNames,Zh=Object.getOwnPropertySymbols,uC=Object.getPrototypeOf,Yh=Object.prototype.hasOwnProperty,lC=Object.prototype.propertyIsEnumerable;var Jh=(e,t,n)=>t in e?ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t)=>{for(var n in t||={})Yh.call(t,n)&&Jh(e,n,t[n]);if(Zh)for(var n of Zh(t))lC.call(t,n)&&Jh(e,n,t[n]);return e},Re=(e,t)=>oC(e,aC(t));var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var vl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dC=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of cC(t))!Yh.call(e,i)&&i!==n&&ml(e,i,{get:()=>t[i],enumerable:!(r=sC(t,i))||r.enumerable});return e};var Qh=(e,t,n)=>(n=e!=null?iC(uC(e)):{},dC(t||!e||!e.__esModule?ml(n,"default",{value:e,enumerable:!0}):n,e));var ne=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function pn(e){return(Wn.__Zone_symbol_prefix||"__zone_symbol__")+e}function fC(){let e=Wn.performance;function t(K){e&&e.mark&&e.mark(K)}function n(K,X){e&&e.measure&&e.measure(K,X)}t("Zone");let r=(()=>{class K{static __symbol__=pn;static assertZonePatched(){if(Wn.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let E=K.current;for(;E.parent;)E=E.parent;return E}static get current(){return U.zone}static get currentTask(){return Q}static __load_patch(E,x,te=!1){if(O.hasOwnProperty(E)){let ce=Wn[pn("forceDuplicateZoneCheck")]===!0;if(!te&&ce)throw Error("Already loaded patch: "+E)}else if(!Wn["__Zone_disable_"+E]){let ce="Zone:"+E;t(ce),O[E]=x(Wn,K,j),n(ce,ce)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(E,x){this._parent=E,this._name=x?x.name||"unnamed":"<root>",this._properties=x&&x.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,x)}get(E){let x=this.getZoneWith(E);if(x)return x._properties[E]}getZoneWith(E){let x=this;for(;x;){if(x._properties.hasOwnProperty(E))return x;x=x._parent}return null}fork(E){if(!E)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,E)}wrap(E,x){if(typeof E!="function")throw new Error("Expecting function got: "+E);let te=this._zoneDelegate.intercept(this,E,x),ce=this;return function(){return ce.runGuarded(te,this,arguments,x)}}run(E,x,te,ce){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,E,x,te,ce)}finally{U=U.parent}}runGuarded(E,x=null,te,ce){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,E,x,te,ce)}catch(Ve){if(this._zoneDelegate.handleError(this,Ve))throw Ve}}finally{U=U.parent}}runTask(E,x,te){if(E.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(E.zone||I).name+"; Execution: "+this.name+")");let ce=E,{type:Ve,data:{isPeriodic:Me=!1,isRefreshable:St=!1}={}}=E;if(E.state===_&&(Ve===F||Ve===S))return;let It=E.state!=m;It&&ce._transitionTo(m,h);let at=Q;Q=ce,U={parent:U,zone:this};try{Ve==S&&E.data&&!Me&&!St&&(E.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,ce,x,te)}catch(ct){if(this._zoneDelegate.handleError(this,ct))throw ct}}finally{let ct=E.state;if(ct!==_&&ct!==v)if(Ve==F||Me||St&&ct===y)It&&ce._transitionTo(h,m,y);else{let q=ce._zoneDelegates;this._updateTaskCount(ce,-1),It&&ce._transitionTo(_,m,_),St&&(ce._zoneDelegates=q)}U=U.parent,Q=at}}scheduleTask(E){if(E.zone&&E.zone!==this){let te=this;for(;te;){if(te===E.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${E.zone.name}`);te=te.parent}}E._transitionTo(y,_);let x=[];E._zoneDelegates=x,E._zone=this;try{E=this._zoneDelegate.scheduleTask(this,E)}catch(te){throw E._transitionTo(v,y,_),this._zoneDelegate.handleError(this,te),te}return E._zoneDelegates===x&&this._updateTaskCount(E,1),E.state==y&&E._transitionTo(h,y),E}scheduleMicroTask(E,x,te,ce){return this.scheduleTask(new s(T,E,x,te,ce,void 0))}scheduleMacroTask(E,x,te,ce,Ve){return this.scheduleTask(new s(S,E,x,te,ce,Ve))}scheduleEventTask(E,x,te,ce,Ve){return this.scheduleTask(new s(F,E,x,te,ce,Ve))}cancelTask(E){if(E.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(E.zone||I).name+"; Execution: "+this.name+")");if(!(E.state!==h&&E.state!==m)){E._transitionTo(D,h,m);try{this._zoneDelegate.cancelTask(this,E)}catch(x){throw E._transitionTo(v,D),this._zoneDelegate.handleError(this,x),x}return this._updateTaskCount(E,-1),E._transitionTo(_,D),E.runCount=-1,E}}_updateTaskCount(E,x){let te=E._zoneDelegates;x==-1&&(E._zoneDelegates=null);for(let ce=0;ce<te.length;ce++)te[ce]._updateTaskCount(E.type,x)}}return K})(),i={name:"",onHasTask:(K,X,E,x)=>K.hasTask(E,x),onScheduleTask:(K,X,E,x)=>K.scheduleTask(E,x),onInvokeTask:(K,X,E,x,te,ce)=>K.invokeTask(E,x,te,ce),onCancelTask:(K,X,E,x)=>K.cancelTask(E,x)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(X,E,x){this._zone=X,this._parentDelegate=E,this._forkZS=x&&(x&&x.onFork?x:E._forkZS),this._forkDlgt=x&&(x.onFork?E:E._forkDlgt),this._forkCurrZone=x&&(x.onFork?this._zone:E._forkCurrZone),this._interceptZS=x&&(x.onIntercept?x:E._interceptZS),this._interceptDlgt=x&&(x.onIntercept?E:E._interceptDlgt),this._interceptCurrZone=x&&(x.onIntercept?this._zone:E._interceptCurrZone),this._invokeZS=x&&(x.onInvoke?x:E._invokeZS),this._invokeDlgt=x&&(x.onInvoke?E:E._invokeDlgt),this._invokeCurrZone=x&&(x.onInvoke?this._zone:E._invokeCurrZone),this._handleErrorZS=x&&(x.onHandleError?x:E._handleErrorZS),this._handleErrorDlgt=x&&(x.onHandleError?E:E._handleErrorDlgt),this._handleErrorCurrZone=x&&(x.onHandleError?this._zone:E._handleErrorCurrZone),this._scheduleTaskZS=x&&(x.onScheduleTask?x:E._scheduleTaskZS),this._scheduleTaskDlgt=x&&(x.onScheduleTask?E:E._scheduleTaskDlgt),this._scheduleTaskCurrZone=x&&(x.onScheduleTask?this._zone:E._scheduleTaskCurrZone),this._invokeTaskZS=x&&(x.onInvokeTask?x:E._invokeTaskZS),this._invokeTaskDlgt=x&&(x.onInvokeTask?E:E._invokeTaskDlgt),this._invokeTaskCurrZone=x&&(x.onInvokeTask?this._zone:E._invokeTaskCurrZone),this._cancelTaskZS=x&&(x.onCancelTask?x:E._cancelTaskZS),this._cancelTaskDlgt=x&&(x.onCancelTask?E:E._cancelTaskDlgt),this._cancelTaskCurrZone=x&&(x.onCancelTask?this._zone:E._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let te=x&&x.onHasTask,ce=E&&E._hasTaskZS;(te||ce)&&(this._hasTaskZS=te?x:i,this._hasTaskDlgt=E,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,x.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=E,this._scheduleTaskCurrZone=this._zone),x.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=E,this._invokeTaskCurrZone=this._zone),x.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=E,this._cancelTaskCurrZone=this._zone))}fork(X,E){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,X,E):new r(X,E)}intercept(X,E,x){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,X,E,x):E}invoke(X,E,x,te,ce){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,X,E,x,te,ce):E.apply(x,te)}handleError(X,E){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,X,E):!0}scheduleTask(X,E){let x=E;if(this._scheduleTaskZS)this._hasTaskZS&&x._zoneDelegates.push(this._hasTaskDlgtOwner),x=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,X,E),x||(x=E);else if(E.scheduleFn)E.scheduleFn(E);else if(E.type==T)g(E);else throw new Error("Task is missing scheduleFn.");return x}invokeTask(X,E,x,te){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,X,E,x,te):E.callback.apply(x,te)}cancelTask(X,E){let x;if(this._cancelTaskZS)x=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,X,E);else{if(!E.cancelFn)throw Error("Task is not cancelable");x=E.cancelFn(E)}return x}hasTask(X,E){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,X,E)}catch(x){this.handleError(X,x)}}_updateTaskCount(X,E){let x=this._taskCounts,te=x[X],ce=x[X]=te+E;if(ce<0)throw new Error("More tasks executed then were scheduled.");if(te==0||ce==0){let Ve={microTask:x.microTask>0,macroTask:x.macroTask>0,eventTask:x.eventTask>0,change:X};this.hasTask(this._zone,Ve)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(X,E,x,te,ce,Ve){if(this.type=X,this.source=E,this.data=te,this.scheduleFn=ce,this.cancelFn=Ve,!x)throw new Error("callback is not defined");this.callback=x;let Me=this;X===F&&te&&te.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(Wn,Me,this,arguments)}}static invokeTask(X,E,x){X||(X=this),he++;try{return X.runCount++,X.zone.runTask(X,E,x)}finally{he==1&&C(),he--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(_,y)}_transitionTo(X,E,x){if(this._state===E||this._state===x)this._state=X,X==_&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${X}', expecting state '${E}'${x?" or '"+x+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=pn("setTimeout"),c=pn("Promise"),u=pn("then"),l=[],d=!1,p;function f(K){if(p||Wn[c]&&(p=Wn[c].resolve(0)),p){let X=p[u];X||(X=p.then),X.call(p,K)}else Wn[a](K,0)}function g(K){he===0&&l.length===0&&f(C),K&&l.push(K)}function C(){if(!d){for(d=!0;l.length;){let K=l;l=[];for(let X=0;X<K.length;X++){let E=K[X];try{E.zone.runTask(E,null,null)}catch(x){j.onUnhandledError(x)}}}j.microtaskDrainDone(),d=!1}}let I={name:"NO ZONE"},_="notScheduled",y="scheduling",h="scheduled",m="running",D="canceling",v="unknown",T="microTask",S="macroTask",F="eventTask",O={},j={symbol:pn,currentZoneFrame:()=>U,onUnhandledError:re,microtaskDrainDone:re,scheduleMicroTask:g,showUncaughtError:()=>!r[pn("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:re,patchMethod:()=>re,bindArguments:()=>[],patchThen:()=>re,patchMacroTask:()=>re,patchEventPrototype:()=>re,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>re,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>re,wrapWithCurrentZone:()=>re,filterProperties:()=>[],attachOriginToPatched:()=>re,_redefineProperty:()=>re,patchCallbacks:()=>re,nativeScheduleMicroTask:f},U={parent:null,zone:new r(null,null)},Q=null,he=0;function re(){}return n("Zone","Zone"),r}function pC(){let e=globalThis,t=e[pn("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(t||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return e.Zone??=fC(),e.Zone}function El(e,t){return Zone.current.wrap(e,t)}function Sl(e,t,n,r,i){return Zone.current.scheduleMacroTask(e,t,n,r,i)}function Tl(e,t){for(let n=e.length-1;n>=0;n--)typeof e[n]=="function"&&(e[n]=El(e[n],t+"_"+n));return e}function vC(e,t){let n=e.constructor.name;for(let r=0;r<t.length;r++){let i=t[r],o=e[i];if(o){let s=Go(e,i);if(!im(s))continue;e[i]=(a=>{let c=function(){return a.apply(this,Tl(arguments,n+"."+i))};return dr(c,a),c})(o)}}}function im(e){return e?e.writable===!1?!1:!(typeof e.get=="function"&&typeof e.set>"u"):!0}function Xh(e,t,n){let r=Go(e,t);if(!r&&n&&Go(n,t)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=He("on"+t+"patched");if(e.hasOwnProperty(i)&&e[i])return;delete r.writable,delete r.value;let o=r.get,s=r.set,a=t.slice(2),c=ya[a];c||(c=ya[a]=He("ON_PROPERTY"+a)),r.set=function(u){let l=this;if(!l&&e===pt&&(l=pt),!l)return;typeof l[c]=="function"&&l.removeEventListener(a,Kh),s?.call(l,null),l[c]=u,typeof u=="function"&&l.addEventListener(a,Kh,!1)},r.get=function(){let u=this;if(!u&&e===pt&&(u=pt),!u)return null;let l=u[c];if(l)return l;if(o){let d=o.call(this);if(d)return r.set.call(this,d),typeof u[mC]=="function"&&u.removeAttribute(t),d}return null},bl(e,t,r),e[i]=!0}function am(e,t,n){if(t)for(let r=0;r<t.length;r++)Xh(e,"on"+t[r],n);else{let r=[];for(let i in e)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)Xh(e,r[i],n)}}function Bo(e){let t=pt[e];if(!t)return;pt[He(e)]=t,pt[e]=function(){let i=Tl(arguments,e);switch(i.length){case 0:this[Pn]=new t;break;case 1:this[Pn]=new t(i[0]);break;case 2:this[Pn]=new t(i[0],i[1]);break;case 3:this[Pn]=new t(i[0],i[1],i[2]);break;case 4:this[Pn]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},dr(pt[e],t);let n=new t(function(){}),r;for(r in n)e==="XMLHttpRequest"&&r==="responseBlob"||function(i){typeof n[i]=="function"?pt[e].prototype[i]=function(){return this[Pn][i].apply(this[Pn],arguments)}:bl(pt[e].prototype,i,{set:function(o){typeof o=="function"?(this[Pn][i]=El(o,e+"."+i),dr(this[Pn][i],o)):this[Pn][i]=o},get:function(){return this[Pn][i]}})}(r);for(r in t)r!=="prototype"&&t.hasOwnProperty(r)&&(pt[e][r]=t[r])}function lr(e,t,n){let r=e;for(;r&&!r.hasOwnProperty(t);)r=Il(r);!r&&e[t]&&(r=e);let i=He(t),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[t];let s=r&&Go(r,t);if(im(s)){let a=n(o,i,t);r[t]=function(){return a(this,arguments)},dr(r[t],o)}}return o}function DC(e,t,n){let r=null;function i(o){let s=o.data;return s.args[s.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(s.target,s.args),o}r=lr(e,t,o=>function(s,a){let c=n(s,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?Sl(c.name,a[c.cbIdx],c,i):o.apply(s,a)})}function dr(e,t){e[He("OriginalDelegate")]=t}function _C(){if(em)return _l;em=!0;try{let e=qo.navigator.userAgent;(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1||e.indexOf("Edge/")!==-1)&&(_l=!0)}catch{}return _l}function tm(e){return typeof e=="function"}function nm(e){return typeof e=="number"}function dm(e,t){let n=(t?t(e):e)+ur,r=(t?t(e):e)+cr,i=Ho+n,o=Ho+r;gn[e]={},gn[e][ur]=i,gn[e][cr]=o}function bC(e,t,n,r){let i=r&&r.add||wl,o=r&&r.rm||Ml,s=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",c=He(i),u="."+i+":",l="prependListener",d="."+l+":",p=function(y,h,m){if(y.isRemoved)return;let D=y.callback;typeof D=="object"&&D.handleEvent&&(y.callback=S=>D.handleEvent(S),y.originalDelegate=D);let v;try{y.invoke(y,h,[m])}catch(S){v=S}let T=y.options;if(T&&typeof T=="object"&&T.once){let S=y.originalDelegate?y.originalDelegate:y.callback;h[o].call(h,m.type,S,T)}return v};function f(y,h,m){if(h=h||e.event,!h)return;let D=y||h.target||e,v=D[gn[h.type][m?cr:ur]];if(v){let T=[];if(v.length===1){let S=p(v[0],D,h);S&&T.push(S)}else{let S=v.slice();for(let F=0;F<S.length&&!(h&&h[lm]===!0);F++){let O=p(S[F],D,h);O&&T.push(O)}}if(T.length===1)throw T[0];for(let S=0;S<T.length;S++){let F=T[S];t.nativeScheduleMicroTask(()=>{throw F})}}}let g=function(y){return f(this,y,!1)},C=function(y){return f(this,y,!0)};function I(y,h){if(!y)return!1;let m=!0;h&&h.useG!==void 0&&(m=h.useG);let D=h&&h.vh,v=!0;h&&h.chkDup!==void 0&&(v=h.chkDup);let T=!1;h&&h.rt!==void 0&&(T=h.rt);let S=y;for(;S&&!S.hasOwnProperty(i);)S=Il(S);if(!S&&y[i]&&(S=y),!S||S[c])return!1;let F=h&&h.eventNameToString,O={},j=S[c]=S[i],U=S[He(o)]=S[o],Q=S[He(s)]=S[s],he=S[He(a)]=S[a],re;h&&h.prepend&&(re=S[He(h.prepend)]=S[h.prepend]);function K(P,$){return $?typeof P=="boolean"?{capture:P,passive:!0}:P?typeof P=="object"&&P.passive!==!1?Re(_e({},P),{passive:!0}):P:{passive:!0}:P}let X=function(P){if(!O.isExisting)return j.call(O.target,O.eventName,O.capture?C:g,O.options)},E=function(P){if(!P.isRemoved){let $=gn[P.eventName],fe;$&&(fe=$[P.capture?cr:ur]);let Ie=fe&&P.target[fe];if(Ie){for(let pe=0;pe<Ie.length;pe++)if(Ie[pe]===P){Ie.splice(pe,1),P.isRemoved=!0,P.removeAbortListener&&(P.removeAbortListener(),P.removeAbortListener=null),Ie.length===0&&(P.allRemoved=!0,P.target[fe]=null);break}}}if(P.allRemoved)return U.call(P.target,P.eventName,P.capture?C:g,P.options)},x=function(P){return j.call(O.target,O.eventName,P.invoke,O.options)},te=function(P){return re.call(O.target,O.eventName,P.invoke,O.options)},ce=function(P){return U.call(P.target,P.eventName,P.invoke,P.options)},Ve=m?X:x,Me=m?E:ce,St=function(P,$){let fe=typeof $;return fe==="function"&&P.callback===$||fe==="object"&&P.originalDelegate===$},It=h?.diff||St,at=Zone[He("UNPATCHED_EVENTS")],ct=e[He("PASSIVE_EVENTS")];function q(P){if(typeof P=="object"&&P!==null){let $=_e({},P);return P.signal&&($.signal=P.signal),$}return P}let H=function(P,$,fe,Ie,pe=!1,xe=!1){return function(){let Ne=this||e,Oe=arguments[0];h&&h.transferEventName&&(Oe=h.transferEventName(Oe));let Qe=arguments[1];if(!Qe)return P.apply(this,arguments);if(_a&&Oe==="uncaughtException")return P.apply(this,arguments);let Ke=!1;if(typeof Qe!="function"){if(!Qe.handleEvent)return P.apply(this,arguments);Ke=!0}if(D&&!D(P,Qe,Ne,arguments))return;let Tr=!!ct&&ct.indexOf(Oe)!==-1,$n=q(K(arguments[2],Tr)),ji=$n?.signal;if(ji?.aborted)return;if(at){for(let zn=0;zn<at.length;zn++)if(Oe===at[zn])return Tr?P.call(Ne,Oe,Qe,$n):P.apply(this,arguments)}let gl=$n?typeof $n=="boolean"?!0:$n.capture:!1,Hh=$n&&typeof $n=="object"?$n.once:!1,rC=Zone.current,hl=gn[Oe];hl||(dm(Oe,F),hl=gn[Oe]);let qh=hl[gl?cr:ur],Ui=Ne[qh],$h=!1;if(Ui){if($h=!0,v){for(let zn=0;zn<Ui.length;zn++)if(It(Ui[zn],Qe))return}}else Ui=Ne[qh]=[];let ma,zh=Ne.constructor.name,Wh=cm[zh];Wh&&(ma=Wh[Oe]),ma||(ma=zh+$+(F?F(Oe):Oe)),O.options=$n,Hh&&(O.options.once=!1),O.target=Ne,O.capture=gl,O.eventName=Oe,O.isExisting=$h;let Uo=m?CC:void 0;Uo&&(Uo.taskData=O),ji&&(O.options.signal=void 0);let kn=rC.scheduleEventTask(ma,Qe,Uo,fe,Ie);if(ji){O.options.signal=ji;let zn=()=>kn.zone.cancelTask(kn);P.call(ji,"abort",zn,{once:!0}),kn.removeAbortListener=()=>ji.removeEventListener("abort",zn)}if(O.target=null,Uo&&(Uo.taskData=null),Hh&&(O.options.once=!0),typeof kn.options!="boolean"&&(kn.options=$n),kn.target=Ne,kn.capture=gl,kn.eventName=Oe,Ke&&(kn.originalDelegate=Qe),xe?Ui.unshift(kn):Ui.push(kn),pe)return Ne}};return S[i]=H(j,u,Ve,Me,T),re&&(S[l]=H(re,d,te,Me,T,!0)),S[o]=function(){let P=this||e,$=arguments[0];h&&h.transferEventName&&($=h.transferEventName($));let fe=arguments[2],Ie=fe?typeof fe=="boolean"?!0:fe.capture:!1,pe=arguments[1];if(!pe)return U.apply(this,arguments);if(D&&!D(U,pe,P,arguments))return;let xe=gn[$],Ne;xe&&(Ne=xe[Ie?cr:ur]);let Oe=Ne&&P[Ne];if(Oe)for(let Qe=0;Qe<Oe.length;Qe++){let Ke=Oe[Qe];if(It(Ke,pe)){if(Oe.splice(Qe,1),Ke.isRemoved=!0,Oe.length===0&&(Ke.allRemoved=!0,P[Ne]=null,!Ie&&typeof $=="string")){let Tr=Ho+"ON_PROPERTY"+$;P[Tr]=null}return Ke.zone.cancelTask(Ke),T?P:void 0}}return U.apply(this,arguments)},S[s]=function(){let P=this||e,$=arguments[0];h&&h.transferEventName&&($=h.transferEventName($));let fe=[],Ie=fm(P,F?F($):$);for(let pe=0;pe<Ie.length;pe++){let xe=Ie[pe],Ne=xe.originalDelegate?xe.originalDelegate:xe.callback;fe.push(Ne)}return fe},S[a]=function(){let P=this||e,$=arguments[0];if($){h&&h.transferEventName&&($=h.transferEventName($));let fe=gn[$];if(fe){let Ie=fe[ur],pe=fe[cr],xe=P[Ie],Ne=P[pe];if(xe){let Oe=xe.slice();for(let Qe=0;Qe<Oe.length;Qe++){let Ke=Oe[Qe],Tr=Ke.originalDelegate?Ke.originalDelegate:Ke.callback;this[o].call(this,$,Tr,Ke.options)}}if(Ne){let Oe=Ne.slice();for(let Qe=0;Qe<Oe.length;Qe++){let Ke=Oe[Qe],Tr=Ke.originalDelegate?Ke.originalDelegate:Ke.callback;this[o].call(this,$,Tr,Ke.options)}}}}else{let fe=Object.keys(P);for(let Ie=0;Ie<fe.length;Ie++){let pe=fe[Ie],xe=um.exec(pe),Ne=xe&&xe[1];Ne&&Ne!=="removeListener"&&this[a].call(this,Ne)}this[a].call(this,"removeListener")}if(T)return this},dr(S[i],j),dr(S[o],U),he&&dr(S[a],he),Q&&dr(S[s],Q),!0}let _=[];for(let y=0;y<n.length;y++)_[y]=I(n[y],r);return _}function fm(e,t){if(!t){let o=[];for(let s in e){let a=um.exec(s),c=a&&a[1];if(c&&(!t||c===t)){let u=e[s];if(u)for(let l=0;l<u.length;l++)o.push(u[l])}}return o}let n=gn[t];n||(dm(t),n=gn[t]);let r=e[n[ur]],i=e[n[cr]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function IC(e,t){let n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,o){i[lm]=!0,r&&r.apply(i,o)})}function wC(e,t){t.patchMethod(e,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}function Bi(e,t,n,r){let i=null,o=null;t+=r,n+=r;let s={};function a(u){let l=u.data;l.args[0]=function(){return u.invoke.apply(this,arguments)};let d=i.apply(e,l.args);return nm(d)?l.handleId=d:(l.handle=d,l.isRefreshable=tm(d.refresh)),u}function c(u){let{handle:l,handleId:d}=u.data;return o.call(e,l??d)}i=lr(e,t,u=>function(l,d){if(tm(d[0])){let p={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?d[1]||0:void 0,args:d},f=d[0];d[0]=function(){try{return f.apply(this,arguments)}finally{let{handle:m,handleId:D,isPeriodic:v,isRefreshable:T}=p;!v&&!T&&(D?delete s[D]:m&&(m[va]=null))}};let g=Sl(t,d[0],p,a,c);if(!g)return g;let{handleId:C,handle:I,isRefreshable:_,isPeriodic:y}=g.data;if(C)s[C]=g;else if(I&&(I[va]=g,_&&!y)){let h=I.refresh;I.refresh=function(){let{zone:m,state:D}=g;return D==="notScheduled"?(g._state="scheduled",m._updateTaskCount(g,1)):D==="running"&&(g._state="scheduling"),h.call(this)}}return I??C??g}else return u.apply(e,d)}),o=lr(e,n,u=>function(l,d){let p=d[0],f;nm(p)?(f=s[p],delete s[p]):(f=p?.[va],f?p[va]=null:f=p),f?.type?f.cancelFn&&f.zone.cancelTask(f):u.apply(e,d)})}function MC(e,t){let{isBrowser:n,isMix:r}=t.getGlobalObjects();if(!n&&!r||!e.customElements||!("customElements"in e))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,e.customElements,"customElements","define",i)}function EC(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=t.getGlobalObjects();for(let c=0;c<n.length;c++){let u=n[c],l=u+o,d=u+i,p=s+l,f=s+d;r[u]={},r[u][o]=p,r[u][i]=f}let a=e.EventTarget;if(!(!a||!a.prototype))return t.patchEventTarget(e,t,[a&&a.prototype]),!0}function SC(e,t){t.patchEventPrototype(e,t)}function pm(e,t,n){if(!n||n.length===0)return t;let r=n.filter(o=>o.target===e);if(r.length===0)return t;let i=r[0].ignoreProperties;return t.filter(o=>i.indexOf(o)===-1)}function rm(e,t,n,r){if(!e)return;let i=pm(e,t,n);am(e,i,r)}function Cl(e){return Object.getOwnPropertyNames(e).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function TC(e,t){if(_a&&!sm||Zone[e.symbol("patchEvents")])return;let n=t.__Zone_ignore_on_properties,r=[];if(xl){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];rm(i,Cl(i),n&&n.concat(o),Il(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=t[r[i]];o?.prototype&&rm(o.prototype,Cl(o.prototype),n)}}function xC(e){e.__load_patch("legacy",t=>{let n=t[e.__symbol__("legacyPatch")];n&&n()}),e.__load_patch("timers",t=>{let n="set",r="clear";Bi(t,n,r,"Timeout"),Bi(t,n,r,"Interval"),Bi(t,n,r,"Immediate")}),e.__load_patch("requestAnimationFrame",t=>{Bi(t,"request","cancel","AnimationFrame"),Bi(t,"mozRequest","mozCancel","AnimationFrame"),Bi(t,"webkitRequest","webkitCancel","AnimationFrame")}),e.__load_patch("blocking",(t,n)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];lr(t,o,(s,a,c)=>function(u,l){return n.current.run(s,t,l,c)})}}),e.__load_patch("EventTarget",(t,n,r)=>{SC(t,r),EC(t,r);let i=t.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(t,r,[i.prototype])}),e.__load_patch("MutationObserver",(t,n,r)=>{Bo("MutationObserver"),Bo("WebKitMutationObserver")}),e.__load_patch("IntersectionObserver",(t,n,r)=>{Bo("IntersectionObserver")}),e.__load_patch("FileReader",(t,n,r)=>{Bo("FileReader")}),e.__load_patch("on_property",(t,n,r)=>{TC(r,t)}),e.__load_patch("customElements",(t,n,r)=>{MC(t,r)}),e.__load_patch("XHR",(t,n)=>{u(t);let r=He("xhrTask"),i=He("xhrSync"),o=He("xhrListener"),s=He("xhrScheduled"),a=He("xhrURL"),c=He("xhrErrorBeforeScheduled");function u(l){let d=l.XMLHttpRequest;if(!d)return;let p=d.prototype;function f(j){return j[r]}let g=p[yl],C=p[Dl];if(!g){let j=l.XMLHttpRequestEventTarget;if(j){let U=j.prototype;g=U[yl],C=U[Dl]}}let I="readystatechange",_="scheduled";function y(j){let U=j.data,Q=U.target;Q[s]=!1,Q[c]=!1;let he=Q[o];g||(g=Q[yl],C=Q[Dl]),he&&C.call(Q,I,he);let re=Q[o]=()=>{if(Q.readyState===Q.DONE)if(!U.aborted&&Q[s]&&j.state===_){let X=Q[n.__symbol__("loadfalse")];if(Q.status!==0&&X&&X.length>0){let E=j.invoke;j.invoke=function(){let x=Q[n.__symbol__("loadfalse")];for(let te=0;te<x.length;te++)x[te]===j&&x.splice(te,1);!U.aborted&&j.state===_&&E.call(j)},X.push(j)}else j.invoke()}else!U.aborted&&Q[s]===!1&&(Q[c]=!0)};return g.call(Q,I,re),Q[r]||(Q[r]=j),F.apply(Q,U.args),Q[s]=!0,j}function h(){}function m(j){let U=j.data;return U.aborted=!0,O.apply(U.target,U.args)}let D=lr(p,"open",()=>function(j,U){return j[i]=U[2]==!1,j[a]=U[1],D.apply(j,U)}),v="XMLHttpRequest.send",T=He("fetchTaskAborting"),S=He("fetchTaskScheduling"),F=lr(p,"send",()=>function(j,U){if(n.current[S]===!0||j[i])return F.apply(j,U);{let Q={target:j,url:j[a],isPeriodic:!1,args:U,aborted:!1},he=Sl(v,h,Q,y,m);j&&j[c]===!0&&!Q.aborted&&he.state===_&&he.invoke()}}),O=lr(p,"abort",()=>function(j,U){let Q=f(j);if(Q&&typeof Q.type=="string"){if(Q.cancelFn==null||Q.data&&Q.data.aborted)return;Q.zone.cancelTask(Q)}else if(n.current[T]===!0)return O.apply(j,U)})}}),e.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&vC(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),e.__load_patch("PromiseRejectionEvent",(t,n)=>{function r(i){return function(o){fm(t,i).forEach(a=>{let c=t.PromiseRejectionEvent;if(c){let u=new c(i,{promise:o.promise,reason:o.rejection});a.invoke(u)}})}}t.PromiseRejectionEvent&&(n[He("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),n[He("rejectionHandledHandler")]=r("rejectionhandled"))}),e.__load_patch("queueMicrotask",(t,n,r)=>{wC(t,r)})}function kC(e){e.__load_patch("ZoneAwarePromise",(t,n,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function s(q){if(q&&q.toString===Object.prototype.toString){let H=q.constructor&&q.constructor.name;return(H||"")+": "+JSON.stringify(q)}return q?q.toString():Object.prototype.toString.call(q)}let a=r.symbol,c=[],u=t[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,l=a("Promise"),d=a("then"),p="__creationTrace__";r.onUnhandledError=q=>{if(r.showUncaughtError()){let H=q&&q.rejection;H?console.error("Unhandled Promise rejection:",H instanceof Error?H.message:H,"; Zone:",q.zone.name,"; Task:",q.task&&q.task.source,"; Value:",H,H instanceof Error?H.stack:void 0):console.error(q)}},r.microtaskDrainDone=()=>{for(;c.length;){let q=c.shift();try{q.zone.runGuarded(()=>{throw q.throwOriginal?q.rejection:q})}catch(H){g(H)}}};let f=a("unhandledPromiseRejectionHandler");function g(q){r.onUnhandledError(q);try{let H=n[f];typeof H=="function"&&H.call(this,q)}catch{}}function C(q){return q&&typeof q.then=="function"}function I(q){return q}function _(q){return Me.reject(q)}let y=a("state"),h=a("value"),m=a("finally"),D=a("parentPromiseValue"),v=a("parentPromiseState"),T="Promise.then",S=null,F=!0,O=!1,j=0;function U(q,H){return P=>{try{K(q,H,P)}catch($){K(q,!1,$)}}}let Q=function(){let q=!1;return function(P){return function(){q||(q=!0,P.apply(null,arguments))}}},he="Promise resolved with itself",re=a("currentTaskTrace");function K(q,H,P){let $=Q();if(q===P)throw new TypeError(he);if(q[y]===S){let fe=null;try{(typeof P=="object"||typeof P=="function")&&(fe=P&&P.then)}catch(Ie){return $(()=>{K(q,!1,Ie)})(),q}if(H!==O&&P instanceof Me&&P.hasOwnProperty(y)&&P.hasOwnProperty(h)&&P[y]!==S)E(P),K(q,P[y],P[h]);else if(H!==O&&typeof fe=="function")try{fe.call(P,$(U(q,H)),$(U(q,!1)))}catch(Ie){$(()=>{K(q,!1,Ie)})()}else{q[y]=H;let Ie=q[h];if(q[h]=P,q[m]===m&&H===F&&(q[y]=q[v],q[h]=q[D]),H===O&&P instanceof Error){let pe=n.currentTask&&n.currentTask.data&&n.currentTask.data[p];pe&&o(P,re,{configurable:!0,enumerable:!1,writable:!0,value:pe})}for(let pe=0;pe<Ie.length;)x(q,Ie[pe++],Ie[pe++],Ie[pe++],Ie[pe++]);if(Ie.length==0&&H==O){q[y]=j;let pe=P;try{throw new Error("Uncaught (in promise): "+s(P)+(P&&P.stack?`
`+P.stack:""))}catch(xe){pe=xe}u&&(pe.throwOriginal=!0),pe.rejection=P,pe.promise=q,pe.zone=n.current,pe.task=n.currentTask,c.push(pe),r.scheduleMicroTask()}}}return q}let X=a("rejectionHandledHandler");function E(q){if(q[y]===j){try{let H=n[X];H&&typeof H=="function"&&H.call(this,{rejection:q[h],promise:q})}catch{}q[y]=O;for(let H=0;H<c.length;H++)q===c[H].promise&&c.splice(H,1)}}function x(q,H,P,$,fe){E(q);let Ie=q[y],pe=Ie?typeof $=="function"?$:I:typeof fe=="function"?fe:_;H.scheduleMicroTask(T,()=>{try{let xe=q[h],Ne=!!P&&m===P[m];Ne&&(P[D]=xe,P[v]=Ie);let Oe=H.run(pe,void 0,Ne&&pe!==_&&pe!==I?[]:[xe]);K(P,!0,Oe)}catch(xe){K(P,!1,xe)}},P)}let te="function ZoneAwarePromise() { [native code] }",ce=function(){},Ve=t.AggregateError;class Me{static toString(){return te}static resolve(H){return H instanceof Me?H:K(new this(null),F,H)}static reject(H){return K(new this(null),O,H)}static withResolvers(){let H={};return H.promise=new Me((P,$)=>{H.resolve=P,H.reject=$}),H}static any(H){if(!H||typeof H[Symbol.iterator]!="function")return Promise.reject(new Ve([],"All promises were rejected"));let P=[],$=0;try{for(let pe of H)$++,P.push(Me.resolve(pe))}catch{return Promise.reject(new Ve([],"All promises were rejected"))}if($===0)return Promise.reject(new Ve([],"All promises were rejected"));let fe=!1,Ie=[];return new Me((pe,xe)=>{for(let Ne=0;Ne<P.length;Ne++)P[Ne].then(Oe=>{fe||(fe=!0,pe(Oe))},Oe=>{Ie.push(Oe),$--,$===0&&(fe=!0,xe(new Ve(Ie,"All promises were rejected")))})})}static race(H){let P,$,fe=new this((xe,Ne)=>{P=xe,$=Ne});function Ie(xe){P(xe)}function pe(xe){$(xe)}for(let xe of H)C(xe)||(xe=this.resolve(xe)),xe.then(Ie,pe);return fe}static all(H){return Me.allWithCallback(H)}static allSettled(H){return(this&&this.prototype instanceof Me?this:Me).allWithCallback(H,{thenCallback:$=>({status:"fulfilled",value:$}),errorCallback:$=>({status:"rejected",reason:$})})}static allWithCallback(H,P){let $,fe,Ie=new this((Oe,Qe)=>{$=Oe,fe=Qe}),pe=2,xe=0,Ne=[];for(let Oe of H){C(Oe)||(Oe=this.resolve(Oe));let Qe=xe;try{Oe.then(Ke=>{Ne[Qe]=P?P.thenCallback(Ke):Ke,pe--,pe===0&&$(Ne)},Ke=>{P?(Ne[Qe]=P.errorCallback(Ke),pe--,pe===0&&$(Ne)):fe(Ke)})}catch(Ke){fe(Ke)}pe++,xe++}return pe-=2,pe===0&&$(Ne),Ie}constructor(H){let P=this;if(!(P instanceof Me))throw new Error("Must be an instanceof Promise.");P[y]=S,P[h]=[];try{let $=Q();H&&H($(U(P,F)),$(U(P,O)))}catch($){K(P,!1,$)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Me}then(H,P){let $=this.constructor?.[Symbol.species];(!$||typeof $!="function")&&($=this.constructor||Me);let fe=new $(ce),Ie=n.current;return this[y]==S?this[h].push(Ie,fe,H,P):x(this,Ie,fe,H,P),fe}catch(H){return this.then(null,H)}finally(H){let P=this.constructor?.[Symbol.species];(!P||typeof P!="function")&&(P=Me);let $=new P(ce);$[m]=m;let fe=n.current;return this[y]==S?this[h].push(fe,$,H,H):x(this,fe,$,H,H),$}}Me.resolve=Me.resolve,Me.reject=Me.reject,Me.race=Me.race,Me.all=Me.all;let St=t[l]=t.Promise;t.Promise=Me;let It=a("thenPatched");function at(q){let H=q.prototype,P=i(H,"then");if(P&&(P.writable===!1||!P.configurable))return;let $=H.then;H[d]=$,q.prototype.then=function(fe,Ie){return new Me((xe,Ne)=>{$.call(this,xe,Ne)}).then(fe,Ie)},q[It]=!0}r.patchThen=at;function ct(q){return function(H,P){let $=q.apply(H,P);if($ instanceof Me)return $;let fe=$.constructor;return fe[It]||at(fe),$}}return St&&(at(St),lr(t,"fetch",q=>ct(q))),Promise[n.__symbol__("uncaughtPromiseErrors")]=c,Me})}function PC(e){e.__load_patch("toString",t=>{let n=Function.prototype.toString,r=He("OriginalDelegate"),i=He("Promise"),o=He("Error"),s=function(){if(typeof this=="function"){let l=this[r];if(l)return typeof l=="function"?n.call(l):Object.prototype.toString.call(l);if(this===Promise){let d=t[i];if(d)return n.call(d)}if(this===Error){let d=t[o];if(d)return n.call(d)}}return n.call(this)};s[r]=n,Function.prototype.toString=s;let a=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:a.call(this)}})}function NC(e,t,n,r,i){let o=Zone.__symbol__(r);if(t[o])return;let s=t[o]=t[r];t[r]=function(a,c,u){return c&&c.prototype&&i.forEach(function(l){let d=`${n}.${r}::`+l,p=c.prototype;try{if(p.hasOwnProperty(l)){let f=e.ObjectGetOwnPropertyDescriptor(p,l);f&&f.value?(f.value=e.wrapWithCurrentZone(f.value,d),e._redefineProperty(c.prototype,l,f)):p[l]&&(p[l]=e.wrapWithCurrentZone(p[l],d))}else p[l]&&(p[l]=e.wrapWithCurrentZone(p[l],d))}catch{}}),s.call(t,a,c,u)},e.attachOriginToPatched(t[r],s)}function OC(e){e.__load_patch("util",(t,n,r)=>{let i=Cl(t);r.patchOnProperties=am,r.patchMethod=lr,r.bindArguments=Tl,r.patchMacroTask=DC;let o=n.__symbol__("BLACK_LISTED_EVENTS"),s=n.__symbol__("UNPATCHED_EVENTS");t[s]&&(t[o]=t[s]),t[o]&&(n[o]=n[s]=t[o]),r.patchEventPrototype=IC,r.patchEventTarget=bC,r.isIEOrEdge=_C,r.ObjectDefineProperty=bl,r.ObjectGetOwnPropertyDescriptor=Go,r.ObjectCreate=gC,r.ArraySlice=hC,r.patchClass=Bo,r.wrapWithCurrentZone=El,r.filterProperties=pm,r.attachOriginToPatched=dr,r._redefineProperty=Object.defineProperty,r.patchCallbacks=NC,r.getGlobalObjects=()=>({globalSources:cm,zoneSymbolEventNames:gn,eventNames:i,isBrowser:xl,isMix:sm,isNode:_a,TRUE_STR:cr,FALSE_STR:ur,ZONE_SYMBOL_PREFIX:Ho,ADD_EVENT_LISTENER_STR:wl,REMOVE_EVENT_LISTENER_STR:Ml})})}function RC(e){kC(e),PC(e),OC(e)}var Wn,Go,bl,Il,gC,hC,wl,Ml,yl,Dl,cr,ur,Ho,He,Da,qo,pt,mC,om,_a,xl,sm,ya,yC,Kh,Pn,em,_l,CC,gn,cm,um,lm,va,gm,hm=L(()=>{"use strict";Wn=globalThis;Go=Object.getOwnPropertyDescriptor,bl=Object.defineProperty,Il=Object.getPrototypeOf,gC=Object.create,hC=Array.prototype.slice,wl="addEventListener",Ml="removeEventListener",yl=pn(wl),Dl=pn(Ml),cr="true",ur="false",Ho=pn("");He=pn,Da=typeof window<"u",qo=Da?window:void 0,pt=Da&&qo||globalThis,mC="removeAttribute";om=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,_a=!("nw"in pt)&&typeof pt.process<"u"&&pt.process.toString()==="[object process]",xl=!_a&&!om&&!!(Da&&qo.HTMLElement),sm=typeof pt.process<"u"&&pt.process.toString()==="[object process]"&&!om&&!!(Da&&qo.HTMLElement),ya={},yC=He("enable_beforeunload"),Kh=function(e){if(e=e||pt.event,!e)return;let t=ya[e.type];t||(t=ya[e.type]=He("ON_PROPERTY"+e.type));let n=this||e.target||pt,r=n[t],i;if(xl&&n===qo&&e.type==="error"){let o=e;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&e.preventDefault()}else i=r&&r.apply(this,arguments),e.type==="beforeunload"&&pt[yC]&&typeof i=="string"?e.returnValue=i:i!=null&&!i&&e.preventDefault();return i};Pn=He("originalInstance");em=!1,_l=!1;CC={useG:!0},gn={},cm={},um=new RegExp("^"+Ho+"(\\w+)(true|false)$"),lm=He("propagationStopped");va=He("zoneTask");gm=pC();RC(gm);xC(gm)});var mm=L(()=>{});var wt,Ca=L(()=>{"use strict";wt=class{static platformId=5;static adminId="imAdmin";static secret="openIM123";static apiAddr="https://im.vigo-global.com/api";static wsAddr="wss://im.vigo-global.com/msg_gateway"}});var hn,vm=L(()=>{"use strict";Ca();hn=class{static ToUrl(t,n,r){if(n&&n.length>0){let o="";n.forEach(s=>{s.value!==void 0&&(o+=o?"&"+s.key+"="+s.value:s.key+"="+s.value)}),t+="?"+o}if(t.indexOf("//")==0||t.indexOf("http")>=0)return t;let i=r||wt.apiAddr;return!i.endsWith("/")&&!t.startsWith("/")?i+"/"+t:i+t}}});var Ge,xr=L(()=>{"use strict";Ge=class{static emojiList=["\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F602}","\u{1F923}","\u{1F60A}","\u{1F607}","\u{1F642}","\u{1F643}","\u{1F609}","\u{1F60C}","\u{1F60D}","\u{1F970}","\u{1F618}","\u{1F617}","\u{1F619}","\u{1F61A}","\u{1F60B}","\u{1F61B}","\u{1F61D}","\u{1F61C}","\u{1F92A}","\u{1F928}","\u{1F9D0}","\u{1F913}","\u{1F60E}","\u{1F929}","\u{1F973}","\u{1F60F}","\u{1F612}","\u{1F61E}","\u{1F614}","\u{1F61F}","\u{1F615}","\u{1F641}","\u2639\uFE0F","\u{1F623}","\u{1F616}","\u{1F62B}","\u{1F629}","\u{1F97A}","\u{1F622}","\u{1F62D}","\u{1F624}","\u{1F620}","\u{1F621}","\u{1F92C}","\u{1F92F}","\u{1F633}","\u{1F975}","\u{1F976}","\u{1F631}","\u{1F628}","\u{1F630}","\u{1F625}","\u{1F613}","\u{1F917}","\u{1F914}","\u{1F92D}","\u{1F92B}","\u{1F925}","\u{1F636}","\u{1F610}","\u{1F611}","\u{1F62C}","\u{1F644}","\u{1F62F}","\u{1F626}","\u{1F627}","\u{1F62E}","\u{1F632}","\u{1F971}","\u{1F634}","\u{1F924}","\u{1F62A}","\u{1F635}","\u{1F910}","\u{1F974}","\u{1F922}","\u{1F92E}","\u{1F927}","\u{1F637}","\u{1F912}","\u{1F915}","\u{1F911}","\u{1F920}","\u{1F608}","\u{1F44D}","\u{1F44E}","\u{1F44C}","\u270C\uFE0F","\u{1F91E}","\u{1F91F}","\u{1F918}","\u{1F919}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F595}","\u{1F447}","\u261D\uFE0F","\u{1F44B}","\u{1F91A}","\u{1F590}\uFE0F","\u270B","\u{1F596}","\u{1F44F}","\u{1F64C}","\u{1F932}","\u{1F91D}","\u{1F64F}","\u270D\uFE0F","\u{1F485}","\u{1F933}","\u{1F4AA}","\u{1F9BE}","\u{1F9BF}","\u2764\uFE0F","\u{1F9E1}","\u{1F49B}","\u{1F49A}","\u{1F499}","\u{1F49C}","\u{1F5A4}","\u{1F90D}","\u{1F90E}","\u{1F494}","\u2763\uFE0F","\u{1F495}","\u{1F49E}","\u{1F493}","\u{1F497}","\u{1F496}","\u{1F498}","\u{1F49D}","\u{1F49F}","\u262E\uFE0F","\u271D\uFE0F","\u262A\uFE0F","\u{1F549}\uFE0F","\u2638\uFE0F","\u2721\uFE0F","\u{1F52F}","\u{1F54E}","\u262F\uFE0F","\u2626\uFE0F","\u{1F6D0}"];static avatarDefault="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiMzQjgyRjYiLz4KPHN2ZyB4PSI2IiB5PSI2IiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yMCAyMVYxOUE0IDQgMCAwIDAgMTYgMTVIOEE0IDQgMCAwIDAgNCAyMFYyMSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGNpcmNsZSBjeD0iMTIiIGN5PSI3IiByPSI0IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4KPC9zdmc+";static createUniqueId(){return Date.now().toString()+Math.floor(Math.random()*1e3).toString().padStart(3,"0")}static getRandomDarkColor(){let t=Math.floor(Math.random()*361),n=Math.floor(Math.random()*31)+25,r=Math.floor(Math.random()*31)+70;return`hsl(${t}, ${r}%, ${n}%)`}static getRandomElement(t){if(!Array.isArray(t)||t.length===0)return;let n=Math.floor(Math.random()*t.length);return t[n]}static isImageFile(t){return["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp"].includes(t.type.toLowerCase())}static formatFileSize(t){if(t===0)return"0 Bytes";let n=1024,r=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,i)).toFixed(2))+" "+r[i]}static getImageDimensions(t){return new Promise((n,r)=>{let i=new Image,o=URL.createObjectURL(t);i.onload=()=>{URL.revokeObjectURL(o),n({width:i.naturalWidth,height:i.naturalHeight})},i.onerror=()=>{URL.revokeObjectURL(o),r(new Error("Failed to load image"))},i.src=o})}static validateImageFile(t,n=5*1024*1024){return new Promise((r,i)=>ne(this,null,function*(){try{if(!this.isImageFile(t)){i(new Error("Invalid image file type"));return}if(t.size>n){i(new Error(`Image size exceeds ${this.formatFileSize(n)} limit`));return}let o=yield this.getImageDimensions(t),s=1e4;if(o.width>s||o.height>s){i(new Error(`Image dimensions too large (max: ${s}px)`));return}r(!0)}catch(o){i(o)}}))}}});var Gi,Hi,Nn,$o=L(()=>{"use strict";Gi=(o=>(o[o.Close=0]="Close",o[o.Icon=1]="Icon",o[o.Minibar=2]="Minibar",o[o.Minimize=3]="Minimize",o[o.Maximize=4]="Maximize",o))(Gi||{}),Hi=(n=>(n[n.Top=1]="Top",n[n.Widget=2]="Widget",n))(Hi||{}),Nn=class{Object;Type;Description;constructor(t,n,r){this.Object=n||null,this.Description=r||"",this.Type=t||1}static IsSuccess(t){return t?(t.Type||t.type)==1:!1}static ToEntity(t){return t.errCode==0?{Description:"",Object:t.data,Type:1}:{Object:t,Type:3,Description:t.errMsg}}static ToException(t){let n;return t&&t.status==0&&(n="The system connection has been interrupted, please try again later"),{Object:t,Type:2,Description:n||t}}static ToFail(t,n){return{Object:n,Description:t,Type:3}}}});var ba=L(()=>{"use strict"});function Pl(){return kl}function fr(e){let t=kl;return kl=e,t}function qi(e){return e===AC||e?.name==="\u0275NotFound"}var kl,AC,Ia,Nl=L(()=>{"use strict";AC=Symbol("NotFound"),Ia=class extends Error{name="\u0275NotFound";constructor(t){super(t)}}});function Ta(e,t){return Object.is(e,t)}function Se(e){let t=gt;return gt=e,t}function xa(){return gt}function ka(e){if(wa)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(e);let t=gt.nextProducerIndex++;if(Aa(gt),t<gt.producerNode.length&&gt.producerNode[t]!==e&&Wo(gt)){let n=gt.producerNode[t];Ra(n,gt.producerIndexOfThis[t])}gt.producerNode[t]!==e&&(gt.producerNode[t]=e,gt.producerIndexOfThis[t]=Wo(gt)?Dm(e,gt,t):0),gt.producerLastReadVersion[t]=e.version}function ym(){Ol++}function Pa(e){if(!(Wo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ol)){if(!e.producerMustRecompute(e)&&!Na(e)){Sa(e);return}e.producerRecomputeValue(e),Sa(e)}}function Rl(e){if(e.liveConsumerNode===void 0)return;let t=wa;wa=!0;try{for(let n of e.liveConsumerNode)n.dirty||LC(n)}finally{wa=t}}function Al(){return gt?.consumerAllowSignalWrites!==!1}function LC(e){e.dirty=!0,Rl(e),e.consumerMarkedDirty?.(e)}function Sa(e){e.dirty=!1,e.lastCleanEpoch=Ol}function $i(e){return e&&(e.nextProducerIndex=0),Se(e)}function Zo(e,t){if(Se(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Wo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ra(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Na(e){Aa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Pa(n),r!==n.version))return!0}return!1}function Oa(e){if(Aa(e),Wo(e))for(let t=0;t<e.producerNode.length;t++)Ra(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Dm(e,t,n){if(_m(e),e.liveConsumerNode.length===0&&Cm(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Dm(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ra(e,t){if(_m(e),e.liveConsumerNode.length===1&&Cm(e))for(let r=0;r<e.producerNode.length;r++)Ra(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Aa(i),i.producerIndexOfThis[r]=t}}function Wo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Aa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function _m(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Cm(e){return e.producerNode!==void 0}function Fa(e){FC?.(e)}function La(e,t){let n=Object.create(VC);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Pa(n),ka(n),n.value===zo)throw n.error;return n.value};return r[zt]=n,Fa(n),r}function jC(){throw new Error}function Im(e){bm(e)}function Fl(e){bm=e}function Ll(e,t){let n=Object.create(Mm);n.value=e,t!==void 0&&(n.equal=t);let r=()=>wm(n);return r[zt]=n,Fa(n),[r,s=>Va(n,s),s=>Vl(n,s)]}function wm(e){return ka(e),e.value}function Va(e,t){Al()||Im(e),e.equal(e.value,t)||(e.value=t,BC(e))}function Vl(e,t){Al()||Im(e),Va(e,t(e.value))}function BC(e){e.version++,ym(),Rl(e),UC?.(e)}var gt,wa,Ol,FC,zt,Yr,Ma,Ea,zo,VC,bm,UC,Mm,zi=L(()=>{"use strict";gt=null,wa=!1,Ol=1,FC=null,zt=Symbol("SIGNAL");Yr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Ma=Symbol("UNSET"),Ea=Symbol("COMPUTING"),zo=Symbol("ERRORED"),VC=Re(_e({},Yr),{value:Ma,dirty:!0,error:null,equal:Ta,kind:"computed",producerMustRecompute(e){return e.value===Ma||e.value===Ea},producerRecomputeValue(e){if(e.value===Ea)throw new Error("");let t=e.value;e.value=Ea;let n=$i(e),r,i=!1;try{r=e.computation(),Se(null),i=t!==Ma&&t!==zo&&r!==zo&&e.equal(t,r)}catch(o){r=zo,e.error=o}finally{Zo(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});bm=jC;UC=null;Mm=Re(_e({},Yr),{equal:Ta,value:void 0,kind:"signal"})});function Le(e){return typeof e=="function"}var xt=L(()=>{"use strict"});function ja(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var jl=L(()=>{"use strict"});var Ua,Em=L(()=>{"use strict";jl();Ua=ja(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n})});function Jo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ul=L(()=>{"use strict"});function Ba(e){return e instanceof Ft||e&&"closed"in e&&Le(e.remove)&&Le(e.add)&&Le(e.unsubscribe)}function Sm(e){Le(e)?e():e.unsubscribe()}var Ft,Bl,Yo=L(()=>{"use strict";xt();Em();Ul();Ft=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Le(r))try{r()}catch(o){t=o instanceof Ua?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sm(o)}catch(s){t=t??[],s instanceof Ua?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ua(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Sm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Jo(n,t)}remove(t){let{_finalizers:n}=this;n&&Jo(n,t),t instanceof e&&t._removeParent(this)}};Ft.EMPTY=(()=>{let e=new Ft;return e.closed=!0,e})();Bl=Ft.EMPTY});var On,Qo=L(()=>{"use strict";On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Wi,Gl=L(()=>{"use strict";Wi={setTimeout(e,t,...n){let{delegate:r}=Wi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Wi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});function Ga(e){Wi.setTimeout(()=>{let{onUnhandledError:t}=On;if(t)t(e);else throw e})}var Hl=L(()=>{"use strict";Qo();Gl()});function ql(){}var Tm=L(()=>{"use strict"});function km(e){return $l("E",void 0,e)}function Pm(e){return $l("N",e,void 0)}function $l(e,t,n){return{kind:e,value:t,error:n}}var xm,Nm=L(()=>{"use strict";xm=$l("C",void 0,void 0)});function Zi(e){if(On.useDeprecatedSynchronousErrorHandling){let t=!Qr;if(t&&(Qr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else e()}function Om(e){On.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=e)}var Qr,Ha=L(()=>{"use strict";Qo();Qr=null});function zl(e,t){return GC.call(e,t)}function qa(e){On.useDeprecatedSynchronousErrorHandling?Om(e):Ga(e)}function HC(e){throw e}function Wl(e,t){let{onStoppedNotification:n}=On;n&&Wi.setTimeout(()=>n(e,t))}var Kr,GC,Zl,Ji,qC,Jl=L(()=>{"use strict";xt();Yo();Qo();Hl();Tm();Nm();Gl();Ha();Kr=class extends Ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ba(t)&&t.add(this)):this.destination=qC}static create(t,n,r){return new Ji(t,n,r)}next(t){this.isStopped?Wl(Pm(t),this):this._next(t)}error(t){this.isStopped?Wl(km(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wl(xm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GC=Function.prototype.bind;Zl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){qa(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){qa(r)}else qa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){qa(n)}}},Ji=class extends Kr{constructor(t,n,r){super();let i;if(Le(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&zl(t.next,o),error:t.error&&zl(t.error,o),complete:t.complete&&zl(t.complete,o)}):i=t}this.destination=new Zl(i)}};qC={closed:!0,next:ql,error:HC,complete:ql}});var Yi,$a=L(()=>{"use strict";Yi=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function za(e){return e}var Yl=L(()=>{"use strict"});function Rm(e){return e.length===0?za:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Am=L(()=>{"use strict";Yl()});function Fm(e){var t;return(t=e??On.Promise)!==null&&t!==void 0?t:Promise}function $C(e){return e&&Le(e.next)&&Le(e.error)&&Le(e.complete)}function zC(e){return e&&e instanceof Kr||$C(e)&&Ba(e)}var Je,pr=L(()=>{"use strict";Jl();Yo();$a();Am();Qo();xt();Ha();Je=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=zC(n)?n:new Ji(n,r,i);return Zi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Fm(r),new r((i,o)=>{let s=new Ji({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yi](){return this}pipe(...n){return Rm(n)(this)}toPromise(n){return n=Fm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})()});function WC(e){return Le(e?.lift)}function kt(e){return t=>{if(WC(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var gr=L(()=>{"use strict";xt()});function Pt(e,t,n,r,i){return new Ql(e,t,n,r,i)}var Ql,kr=L(()=>{"use strict";Jl();Ql=class extends Kr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}}});var Lm,Vm=L(()=>{"use strict";jl();Lm=ja(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var mn,Wa,Za=L(()=>{"use strict";pr();Yo();Vm();Ul();Ha();mn=(()=>{class e extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Wa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Lm}next(n){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bl:(this.currentObservers=null,o.push(n),new Ft(()=>{this.currentObservers=null,Jo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Je;return n.source=this,n}}return e.create=(t,n)=>new Wa(t,n),e})(),Wa=class extends mn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Bl}}});var ht,jm=L(()=>{"use strict";Za();ht=class extends mn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}});var Kl,Um=L(()=>{"use strict";Kl={now(){return(Kl.delegate||Date).now()},delegate:void 0}});var Ko,Bm=L(()=>{"use strict";Za();Um();Ko=class extends mn{constructor(t=1/0,n=1/0,r=Kl){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}});var Ja,Xl=L(()=>{"use strict";pr();Ja=new Je(e=>e.complete())});function Gm(e){return e&&Le(e.schedule)}var Hm=L(()=>{"use strict";xt()});function ed(e){return e[e.length-1]}function qm(e){return Le(ed(e))?e.pop():void 0}function Ya(e){return Gm(ed(e))?e.pop():void 0}function $m(e,t){return typeof ed(e)=="number"?e.pop():t}var Qa=L(()=>{"use strict";xt();Hm()});function Wm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function zm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xr(e){return this instanceof Xr?(this.v=e,this):new Xr(e)}function Zm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(C){return new Promise(function(I,_){o.push([f,C,I,_])>1||c(f,C)})},g&&(i[f]=g(i[f])))}function c(f,g){try{u(r[f](g))}catch(C){p(o[0][3],C)}}function u(f){f.value instanceof Xr?Promise.resolve(f.value.v).then(l,d):p(o[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Jm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof zm=="function"?zm(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var td=L(()=>{"use strict"});var Ka,nd=L(()=>{"use strict";Ka=e=>e&&typeof e.length=="number"&&typeof e!="function"});function Xa(e){return Le(e?.then)}var rd=L(()=>{"use strict";xt()});function ec(e){return Le(e[Yi])}var id=L(()=>{"use strict";$a();xt()});function tc(e){return Symbol.asyncIterator&&Le(e?.[Symbol.asyncIterator])}var od=L(()=>{"use strict";xt()});function nc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var sd=L(()=>{"use strict"});function ZC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rc,ad=L(()=>{"use strict";rc=ZC()});function ic(e){return Le(e?.[rc])}var cd=L(()=>{"use strict";ad();xt()});function oc(e){return Zm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Xr(n.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{n.releaseLock()}})}function sc(e){return Le(e?.getReader)}var ac=L(()=>{"use strict";td();xt()});function Nt(e){if(e instanceof Je)return e;if(e!=null){if(ec(e))return JC(e);if(Ka(e))return YC(e);if(Xa(e))return QC(e);if(tc(e))return Ym(e);if(ic(e))return KC(e);if(sc(e))return XC(e)}throw nc(e)}function JC(e){return new Je(t=>{let n=e[Yi]();if(Le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YC(e){return new Je(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function QC(e){return new Je(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ga)})}function KC(e){return new Je(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Ym(e){return new Je(t=>{eb(e,t).catch(n=>t.error(n))})}function XC(e){return Ym(oc(e))}function eb(e,t){var n,r,i,o;return Wm(this,void 0,void 0,function*(){try{for(n=Jm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}var hr=L(()=>{"use strict";td();nd();rd();pr();id();od();sd();cd();ac();xt();Hl();$a()});function vn(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}var Xo=L(()=>{"use strict"});function cc(e,t=0){return kt((n,r)=>{n.subscribe(Pt(r,i=>vn(r,e,()=>r.next(i),t),()=>vn(r,e,()=>r.complete(),t),i=>vn(r,e,()=>r.error(i),t)))})}var ud=L(()=>{"use strict";Xo();gr();kr()});function uc(e,t=0){return kt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}var ld=L(()=>{"use strict";gr()});function Qm(e,t){return Nt(e).pipe(uc(t),cc(t))}var Km=L(()=>{"use strict";hr();ud();ld()});function Xm(e,t){return Nt(e).pipe(uc(t),cc(t))}var ev=L(()=>{"use strict";hr();ud();ld()});function tv(e,t){return new Je(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}var nv=L(()=>{"use strict";pr()});function rv(e,t){return new Je(n=>{let r;return vn(n,t,()=>{r=e[rc](),vn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Le(r?.return)&&r.return()})}var iv=L(()=>{"use strict";pr();ad();xt();Xo()});function lc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Je(n=>{vn(n,t,()=>{let r=e[Symbol.asyncIterator]();vn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}var dd=L(()=>{"use strict";pr();Xo()});function ov(e,t){return lc(oc(e),t)}var sv=L(()=>{"use strict";dd();ac()});function av(e,t){if(e!=null){if(ec(e))return Qm(e,t);if(Ka(e))return tv(e,t);if(Xa(e))return Xm(e,t);if(tc(e))return lc(e,t);if(ic(e))return rv(e,t);if(sc(e))return ov(e,t)}throw nc(e)}var cv=L(()=>{"use strict";Km();ev();nv();iv();dd();id();rd();nd();cd();od();sd();ac();sv()});function ei(e,t){return t?av(e,t):Nt(e)}var dc=L(()=>{"use strict";cv();hr()});function fc(...e){let t=Ya(e);return ei(e,t)}var uv=L(()=>{"use strict";Qa();dc()});function mt(e,t){return kt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>{r.next(e.call(t,o,i++))}))})}var es=L(()=>{"use strict";gr();kr()});function nb(e,t){return tb(t)?e(...t):e(t)}function lv(e){return mt(t=>nb(e,t))}var tb,dv=L(()=>{"use strict";es();({isArray:tb}=Array)});function fv(e){if(e.length===1){let t=e[0];if(rb(t))return{args:t,keys:null};if(ab(t)){let n=sb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ab(e){return e&&typeof e=="object"&&ib(e)===ob}var rb,ib,ob,sb,pv=L(()=>{"use strict";({isArray:rb}=Array),{getPrototypeOf:ib,prototype:ob,keys:sb}=Object});function gv(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}var hv=L(()=>{"use strict"});function mv(e,t,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,p=()=>{d&&!c.length&&!u&&t.complete()},f=C=>u<r?g(C):c.push(C),g=C=>{o&&t.next(C),u++;let I=!1;Nt(n(C,l++)).subscribe(Pt(t,_=>{i?.(_),o?f(_):t.next(_)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<r;){let _=c.shift();s?vn(t,s,()=>g(_)):g(_)}p()}catch(_){t.error(_)}}))};return e.subscribe(Pt(t,f,()=>{d=!0,p()})),()=>{a?.()}}var vv=L(()=>{"use strict";hr();Xo();kr()});function Qi(e,t,n=1/0){return Le(t)?Qi((r,i)=>mt((o,s)=>t(r,o,i,s))(Nt(e(r,i))),n):(typeof t=="number"&&(n=t),kt((r,i)=>mv(r,i,e,n)))}var fd=L(()=>{"use strict";es();hr();gr();vv();xt()});function yv(e=1/0){return Qi(za,e)}var Dv=L(()=>{"use strict";fd();Yl()});function pd(...e){let t=qm(e),{args:n,keys:r}=fv(e),i=new Je(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Nt(n[l]).subscribe(Pt(o,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?gv(r,a):a),o.complete())}))}});return t?i.pipe(lv(t)):i}var _v=L(()=>{"use strict";pr();pv();hr();Qa();kr();dv();hv()});function gd(...e){let t=Ya(e),n=$m(e,1/0),r=e;return r.length?r.length===1?Nt(r[0]):yv(n)(ei(r,t)):Ja}var Cv=L(()=>{"use strict";Dv();hr();Xl();Qa();dc()});function Pr(e,t){return kt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>e.call(t,o,i++)&&r.next(o)))})}var hd=L(()=>{"use strict";gr();kr()});var bv=L(()=>{"use strict"});function md(e,t){return Le(t)?Qi(e,t,1):Qi(e,1)}var Iv=L(()=>{"use strict";fd();xt()});function vd(e){return e<=0?()=>Ja:kt((t,n)=>{let r=0;t.subscribe(Pt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}var wv=L(()=>{"use strict";Xl();gr();kr()});function yd(e){return kt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}var Mv=L(()=>{"use strict";gr()});function ts(e,t){return kt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Pt(r,c=>{i?.unsubscribe();let u=0,l=o++;Nt(e(c,l)).subscribe(i=Pt(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Ev=L(()=>{"use strict";hr();gr();kr()});var yn=L(()=>{"use strict";pr();Za();jm();Bm();Yo();_v();dc();Cv();uv();bv();hd();es();wv()});function Sv(e){let t=Se(null);try{return e()}finally{Se(t)}}var Tv=L(()=>{"use strict";zi();});var Dd=L(()=>{"use strict";zi();});function cb(e){return`NG0${Math.abs(e)}`}function yc(e,t){return`${cb(e)}${t?": "+t:""}`}function tt(e){for(let t in e)if(e[t]===tt)return t;throw Error("")}function Nv(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Yt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Yt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Nd(e,t){return e?t?`${e} ${t}`:e:t||""}function si(e){return e.__forward_ref__=si,e.toString=function(){return Yt(this())},e}function Tt(e){return Od(e)?e():e}function Od(e){return typeof e=="function"&&e.hasOwnProperty(ub)&&e.__forward_ref__===si}function Ov(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Dc(e){return lb(e,_c)}function lb(e,t){return e.hasOwnProperty(t)&&e[t]||null}function db(e){let t=e?.[_c]??null;return t||null}function Cd(e){return e&&e.hasOwnProperty(gc)?e[gc]:null}function Rd(e){return e&&!!e.\u0275providers}function Xi(e){return typeof e=="string"?e:e==null?"":String(e)}function Rv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Xi(e)}function Vd(e,t){throw new de(-200,e)}function Cc(e,t){throw new de(-201,!1)}function Av(){return bd}function Lt(e){let t=bd;return bd=e,t}function jd(e,t,n){let r=Dc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Cc(e,"Injector")}function mb(e,t=0){let n=Pl();if(n===void 0)throw new de(-203,!1);if(n===null)return jd(e,void 0,t);{let r=vb(t),i=n.retrieve(e,r);if(qi(i)){if(r.optional)return null;throw i}return i}}function Te(e,t=0){return(Av()||mb)(Tt(e),t)}function Ce(e,t){return Te(e,ni(t))}function ni(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vb(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Md(e){let t=[];for(let n=0;n<e.length;n++){let r=Tt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new de(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=yb(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(Te(i,o))}else t.push(Te(r))}return t}function Ud(e,t){return e[Id]=t,e.prototype[Id]=t,e}function yb(e){return e[Id]}function Db(e,t,n,r){let i=e[hc];throw t[kv]&&i.unshift(t[kv]),e.message=_b(`
`+e.message,i,n,r),e[pb]=i,e[hc]=null,e}function _b(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==hb?e.slice(2):e;let i=Yt(t);if(Array.isArray(t))i=t.map(Yt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Yt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(gb,`
  `)}`}function Nr(e,t){let n=e.hasOwnProperty(rs);return n?e[rs]:null}function Fv(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Lv(e){return e.flat(Number.POSITIVE_INFINITY)}function bc(e,t){e.forEach(n=>Array.isArray(n)?bc(n,t):t(n))}function Bd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function os(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Vv(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function jv(e,t,n){let r=eo(e,t);return r>=0?e[r|1]=n:(r=~r,Vv(e,r,t,n)),r}function Ic(e,t){let n=eo(e,t);if(n>=0)return e[n|1]}function eo(e,t){return Cb(e,t,1)}function Cb(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}function ui(e){return e[Ad]||null}function qd(e){return e[Fd]||null}function Uv(e){return e[Ld]||null}function ss(e){return{\u0275providers:e}}function Bv(...e){return{\u0275providers:$d(!0,e),\u0275fromNgModule:!0}}function $d(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return bc(t,s=>{let a=s;mc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Gv(i,o),n}function Gv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];zd(i,o=>{t(o,r)})}}function mc(e,t,n,r){if(e=Tt(e),!e)return!1;let i=null,o=Cd(e),s=!o&&ui(e);if(!o&&!s){let c=e.ngModule;if(o=Cd(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)mc(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{bc(o.imports,l=>{mc(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Gv(u,t)}if(!a){let u=Nr(i)||(()=>new i);t({provide:i,useFactory:u,deps:Qt},i),t({provide:Hd,useValue:i,multi:!0},i),t({provide:ci,useValue:()=>Te(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;zd(c,l=>{t(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function zd(e,t){for(let n of e)Rd(n)&&(n=n.\u0275providers),Array.isArray(n)?zd(n,t):t(n)}function Hv(e){return e!==null&&typeof e=="object"&&bb in e}function Ib(e){return!!(e&&e.useExisting)}function wb(e){return!!(e&&e.useFactory)}function ri(e){return typeof e=="function"}function qv(e){return!!e.useClass}function cs(){return _d===void 0&&(_d=new is),_d}function Ed(e){let t=Dc(e),n=t!==null?t.factory:Nr(e);if(n!==null)return n;if(e instanceof De)throw new de(204,!1);if(e instanceof Function)return Mb(e);throw new de(204,!1)}function Mb(e){if(e.length>0)throw new de(204,!1);let n=db(e);return n!==null?()=>n.factory(e):()=>new e}function Eb(e){if(Hv(e))return Ki(void 0,e.useValue);{let t=Wd(e);return Ki(t,pc)}}function Wd(e,t,n){let r;if(ri(e)){let i=Tt(e);return Nr(i)||Ed(i)}else if(Hv(e))r=()=>Tt(e.useValue);else if(wb(e))r=()=>e.useFactory(...Md(e.deps||[]));else if(Ib(e))r=()=>Te(Tt(e.useExisting));else{let i=Tt(e&&(e.useClass||e.provide));if(Sb(e))r=()=>new i(...Md(e.deps));else return Nr(i)||Ed(i)}return r}function ns(e){if(e.destroyed)throw new de(205,!1)}function Ki(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Sb(e){return!!e.deps}function Tb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function xb(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Sd(e,t){for(let n of e)Array.isArray(n)?Sd(n,t):n&&Rd(n)?Sd(n.\u0275providers,t):t(n)}function to(e,t){let n;e instanceof ii?(ns(e),n=e):n=new wd(e);let r,i=fr(n),o=Lt(void 0);try{return t()}finally{fr(i),Lt(o)}}function $v(){return Av()!==void 0||Pl()!=null}function Xn(e){return Array.isArray(e)&&typeof e[zv]=="object"}function An(e){return Array.isArray(e)&&e[zv]===!0}function Ec(e){return(e.flags&4)!==0}function Lr(e){return e.componentOffset>-1}function ps(e){return(e.flags&1)===1}function er(e){return!!e.template}function io(e){return(e[we]&512)!==0}function gi(e){return(e[we]&256)===256}function bn(e){for(;Array.isArray(e);)e=e[Rn];return e}function Qd(e,t){return bn(t[e])}function Fn(e,t){return bn(t[e.index])}function Sc(e,t){return e.data[t]}function Kd(e,t){return e[t]}function Xd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function In(e,t){let n=t[e];return Xn(n)?n:n[Rn]}function Zv(e){return(e[we]&4)===4}function Tc(e){return(e[we]&128)===128}function Jv(e){return An(e[Mt])}function hi(e,t){return t==null?null:e[t]}function ef(e){e[fi]=0}function xc(e){e[we]&1024||(e[we]|=1024,Tc(e)&&gs(e))}function Yv(e,t){for(;e>0;)t=t[di],e--;return t}function oo(e){return!!(e[we]&9216||e[Kt]?.dirty)}function kc(e){e[Qn].changeDetectionScheduler?.notify(8),e[we]&64&&(e[we]|=1024),oo(e)&&gs(e)}function gs(e){e[Qn].changeDetectionScheduler?.notify(0);let t=Or(e);for(;t!==null&&!(t[we]&8192||(t[we]|=8192,!Tc(t)));)t=Or(t)}function tf(e,t){if(gi(e))throw new de(911,!1);e[mr]===null&&(e[mr]=[]),e[mr].push(t)}function Qv(e,t){if(e[mr]===null)return;let n=e[mr].indexOf(t);n!==-1&&e[mr].splice(n,1)}function Or(e){let t=e[Mt];return An(t)?t[Mt]:t}function nf(e){return e[no]??=[]}function rf(e){return e.cleanup??=[]}function Kv(e,t,n,r){let i=nf(t);i.push(n),e.firstCreatePass&&rf(e).push(r,i.length-1)}function Xv(){return ke.lFrame.elementDepthCount}function e0(){ke.lFrame.elementDepthCount++}function t0(){ke.lFrame.elementDepthCount--}function Pc(){return ke.bindingsEnabled}function n0(){return ke.skipHydrationRootTNode!==null}function r0(e){return ke.skipHydrationRootTNode===e}function i0(){ke.skipHydrationRootTNode=null}function je(){return ke.lFrame.lView}function vt(){return ke.lFrame.tView}function z(e){return ke.lFrame.contextLView=e,e[Ot]}function W(e){return ke.lFrame.contextLView=null,e}function Ut(){let e=of();for(;e!==null&&e.type===64;)e=e.parent;return e}function of(){return ke.lFrame.currentTNode}function o0(){let e=ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Vr(e,t){let n=ke.lFrame;n.currentTNode=e,n.isParent=t}function Nc(){return ke.lFrame.isParent}function sf(){ke.lFrame.isParent=!1}function af(e){Ov("Must never be called in production mode"),kb=e}function cf(){return Td}function uf(e){let t=Td;return Td=e,t}function Oc(){let e=ke.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function s0(e){return ke.lFrame.bindingIndex=e}function so(){return ke.lFrame.bindingIndex++}function a0(e){let t=ke.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function c0(){return ke.lFrame.inI18n}function u0(e,t){let n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=e,Rc(t)}function l0(){return ke.lFrame.currentDirectiveIndex}function Rc(e){ke.lFrame.currentDirectiveIndex=e}function d0(e){let t=ke.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function lf(){return ke.lFrame.currentQueryIndex}function Ac(e){ke.lFrame.currentQueryIndex=e}function Pb(e){let t=e[Ee];return t.type===2?t.declTNode:t.type===1?e[_n]:null}function df(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=Pb(o),i===null||(o=o[di],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=ke.lFrame=f0();return r.currentTNode=t,r.lView=e,!0}function Fc(e){let t=f0(),n=e[Ee];ke.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function f0(){let e=ke.lFrame,t=e===null?null:e.child;return t===null?p0(e):t}function p0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function g0(){let e=ke.lFrame;return ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}function Lc(){let e=g0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function h0(e){return(ke.lFrame.contextLView=Yv(e,ke.lFrame.contextLView))[Ot]}function mi(){return ke.lFrame.selectedIndex}function jr(e){ke.lFrame.selectedIndex=e}function Vc(){let e=ke.lFrame;return Sc(e.tView,e.selectedIndex)}function me(){ke.lFrame.currentNamespace=Yd}function Ae(){Nb()}function Nb(){ke.lFrame.currentNamespace=null}function m0(){return ke.lFrame.currentNamespace}function ms(){return v0}function vs(e){v0=e}function xd(e,t=null,n=null,r){let i=y0(e,t,n,r);return i.resolveInjectorInitializers(),i}function y0(e,t=null,n=null,r,i=new Set){let o=[n||Qt,Bv(e)];return r=r||(typeof e=="object"?void 0:Yt(e)),new ii(o,t||cs(),r||null,i)}function Ob(){return new kd(je())}function pf(e){return typeof e=="function"&&e[zt]!==void 0}function ao(e,t){let[n,r,i]=Ll(e,t?.equal),o=n,s=o[zt];return o.set=r,o.update=i,o.asReadonly=_0.bind(o),o}function _0(){let e=this[zt];if(e.readonlyFn===void 0){let t=()=>this();t[zt]=e,e.readonlyFn=t}return e.readonlyFn}function gf(e){return pf(e)&&typeof e.set=="function"}function _s(...e){}var vc,de,oi,ub,_c,gc,De,Ad,Fd,Ld,rs,ai,xv,bd,fb,ti,Id,wd,hc,pb,gb,hb,kv,Rr,Qt,ci,Gd,Hd,is,bb,as,pc,Pv,_d,Wt,ii,Rn,Ee,we,Mt,Dn,_n,us,no,Ot,li,Qn,nt,ro,Zd,di,Cn,Ar,fi,Kn,ls,Jd,mr,wc,ds,Kt,Mc,Vt,zv,Fr,fs,pi,jt,Yd,Wv,ke,hs,kb,Td,ff,v0,Zn,Xt,ys,kd,Jn,Ln,D0,Yn,Ds,hf,mf,vi,jc,vf,Pd,Uc=L(()=>{"use strict";Nl();zi();yn();Nl();Dd();vc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",de=class extends Error{code;constructor(t,n){super(yc(t,n)),this.code=t}};oi=globalThis;ub=tt({__forward_ref__:tt});_c=tt({\u0275prov:tt}),gc=tt({\u0275inj:tt}),De=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};Ad=tt({\u0275cmp:tt}),Fd=tt({\u0275dir:tt}),Ld=tt({\u0275pipe:tt}),rs=tt({\u0275fac:tt}),ai=tt({__NG_ELEMENT_ID__:tt}),xv=tt({__NG_ENV_ID__:tt});fb={},ti=fb,Id="__NG_DI_FLAG__",wd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ni(n)||0;try{return this.injector.get(t,r&8?null:ti,r)}catch(i){if(qi(i))return i;throw i}}},hc="ngTempTokenPath",pb="ngTokenPath",gb=/\n/gm,hb="\u0275",kv="__source";Rr={},Qt=[],ci=new De(""),Gd=new De("",-1),Hd=new De(""),is=class{get(t,n=ti){if(n===ti)throw new Ia(`NullInjectorError: No provider for ${Yt(t)}!`);return n}};bb=tt({provide:String,useValue:tt});as=new De(""),pc={},Pv={};Wt=class{},ii=class extends Wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Sd(t,s=>this.processProvider(s)),this.records.set(Gd,Ki(void 0,this)),i.has("environment")&&this.records.set(Wt,Ki(void 0,this));let o=this.records.get(as);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hd,Qt,{self:!0}))}retrieve(t,n){let r=ni(n)||0;try{return this.get(t,ti,r)}catch(i){if(qi(i))return i;throw i}}destroy(){ns(this),this._destroyed=!0;let t=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(t)}}onDestroy(t){return ns(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ns(this);let n=fr(this),r=Lt(void 0),i;try{return t()}finally{fr(n),Lt(r)}}get(t,n=ti,r){if(ns(this),t.hasOwnProperty(xv))return t[xv](this);let i=ni(r),o,s=fr(this),a=Lt(void 0);try{if(!(i&4)){let u=this.records.get(t);if(u===void 0){let l=xb(t)&&Dc(t);l&&this.injectableDefInScope(l)?u=Ki(Ed(t),pc):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u)}let c=i&2?cs():this.parent;return n=i&8&&n===ti?null:n,c.get(t,n)}catch(c){if(qi(c)){if((c[hc]=c[hc]||[]).unshift(Yt(t)),s)throw c;return Db(c,t,"R3InjectorError",this.source)}else throw c}finally{Lt(a),fr(s)}}resolveInjectorInitializers(){let t=Se(null),n=fr(this),r=Lt(void 0),i;try{let o=this.get(ci,Qt,{self:!0});for(let s of o)s()}finally{fr(n),Lt(r),Se(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Yt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Tt(t);let n=ri(t)?t:Tt(t&&t.provide),r=Eb(t);if(!ri(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ki(void 0,pc,!0),i.factory=()=>Md(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Se(null);try{return n.value===Pv?Vd(Yt(t)):n.value===pc&&(n.value=Pv,n.value=n.factory()),typeof n.value=="object"&&n.value&&Tb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Se(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Tt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};Rn=0,Ee=1,we=2,Mt=3,Dn=4,_n=5,us=6,no=7,Ot=8,li=9,Qn=10,nt=11,ro=12,Zd=13,di=14,Cn=15,Ar=16,fi=17,Kn=18,ls=19,Jd=20,mr=21,wc=22,ds=23,Kt=24,Mc=25,Vt=26,zv=1,Fr=7,fs=8,pi=9,jt=10;Yd="svg",Wv="math";ke={lFrame:p0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},hs=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(hs||{}),kb=0,Td=!1;ff=g0;v0=!0;Zn=class e{static THROW_IF_NOT_FOUND=ti;static NULL=new is;static create(t,n){if(Array.isArray(t))return xd({name:""},n,t,"");{let r=t.name??"";return xd({name:r},t.parent,t.providers,r)}}static \u0275prov=Pe({token:e,providedIn:"any",factory:()=>Te(Gd)});static __NG_ELEMENT_ID__=-1},Xt=new De(""),ys=(()=>{class e{static __NG_ELEMENT_ID__=Ob;static __NG_ENV_ID__=n=>n}return e})(),kd=class extends ys{_lView;constructor(t){super(),this._lView=t}get destroyed(){return gi(this._lView)}onDestroy(t){let n=this._lView;return tf(n,t),()=>Qv(n,t)}};Jn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ln=new De("",{providedIn:"root",factory:()=>{let e=Ce(Wt),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Jn),t.handleError(n))}}}),D0={provide:ci,useValue:()=>void Ce(Jn),multi:!0};Yn=class{},Ds=new De("",{providedIn:"root",factory:()=>!1}),hf=new De(""),mf=new De(""),vi=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ht(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Je(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}return e})(),jc=(()=>{class e{internalPendingTasks=Ce(vi);scheduler=Ce(Yn);errorHandler=Ce(Ln);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}return e})();vf=(()=>{class e{static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new Pd})}return e})(),Pd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}});var Cs=L(()=>{"use strict";Iv();hd();Mv();es();Ev()});function po(e){return{toString:e}.toString()}function Gb(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function J0(e,t,n){return po(()=>{let r=Gb(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Bc)?c[Bc]:Object.defineProperty(c,Bc,{value:[]})[Bc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Hb(e){return typeof e=="function"}function Y0(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Q0(e){return e.type.prototype.ngOnChanges&&(e.setInput=$b),qb}function qb(){let e=X0(this),t=e?.current;if(t){let n=e.previous;if(n===Rr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function $b(e,t,n,r,i){let o=this.declaredInputs[r],s=X0(e)||zb(e,{previous:Rr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Wc(u&&u.currentValue,n,c===Rr),Y0(e,t,i,n)}function X0(e){return e[K0]||null}function zb(e,t){return e[K0]=t}function Wb(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Q0(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function ip(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function Hc(e,t,n){ey(e,t,3,n)}function qc(e,t,n,r){(e[we]&3)===n&&ey(e,t,n,r)}function yf(e,t){let n=e[we];(n&3)===t&&(n&=16383,n+=1,e[we]=n)}function ey(e,t,n,r){let i=r!==void 0?e[fi]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[fi]+=65536),(a<o||o==-1)&&(Zb(e,n,t,c),e[fi]=(e[fi]&4294901760)+c+2),c++}function b0(e,t){Ye(4,e,t);let n=Se(null);try{t.call(e)}finally{Se(n),Ye(5,e,t)}}function Zb(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[we]>>14<e[fi]>>16&&(e[we]&3)===t&&(e[we]+=16384,b0(a,o)):b0(a,o)}function Jb(e){return(e.flags&8)!==0}function Yb(e){return(e.flags&16)!==0}function Qb(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];Xb(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Kb(e){return e===3||e===4||e===6}function Xb(e){return e.charCodeAt(0)===64}function lo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?I0(e,n,i,null,t[++r]):I0(e,n,i,null,null))}}return e}function I0(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function ty(e){return e!==uo}function Zc(e){return e&32767}function eI(e){return e>>16}function Jc(e,t){let n=eI(e),r=t;for(;n>0;)r=r[di],n--;return r}function Yc(e){let t=xf;return xf=e,t}function rI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ai)&&(r=n[ai]),r==null&&(r=n[ai]=nI++);let i=r&ny,o=1<<i;t.data[e+(i>>ry)]|=o}function Qc(e,t){let n=iy(e,t);if(n!==-1)return n;let r=t[Ee];r.firstCreatePass&&(e.injectorIndex=t.length,Df(r.data,e),Df(t,null),Df(r.blueprint,null));let i=op(e,t),o=e.injectorIndex;if(ty(i)){let s=Zc(i),a=Jc(i,t),c=a[Ee].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function Df(e,t){e.push(0,0,0,0,0,0,0,0,t)}function iy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function op(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=uy(i),r===null)return uo;if(n++,i=i[di],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return uo}function kf(e,t,n){rI(e,t,n)}function oy(e,t,n){if(n&8||e!==void 0)return e;Cc(t,"NodeInjector")}function sy(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[li],o=Lt(void 0);try{return i?i.get(t,r,n&8):jd(t,r,n&8)}finally{Lt(o)}}return oy(r,t,n)}function ay(e,t,n,r=0,i){if(e!==null){if(t[we]&2048&&!(r&2)){let s=aI(e,t,n,r,tr);if(s!==tr)return s}let o=cy(e,t,n,r,tr);if(o!==tr)return o}return sy(t,n,r,i)}function cy(e,t,n,r,i){let o=oI(n);if(typeof o=="function"){if(!df(t,e,r))return r&1?oy(i,n,r):sy(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Cc(n);else return s}finally{ff()}}else if(typeof o=="number"){let s=null,a=iy(e,t),c=uo,u=r&1?t[Cn][_n]:null;for((a===-1||r&4)&&(c=a===-1?op(e,t):t[a+8],c===uo||!M0(r,!1)?a=-1:(s=t[Ee],a=Zc(c),t=Jc(c,t)));a!==-1;){let l=t[Ee];if(w0(o,a,l.data)){let d=iI(a,t,n,s,r,u);if(d!==tr)return d}c=t[a+8],c!==uo&&M0(r,t[Ee].data[a+8]===u)&&w0(o,a,t)?(s=l,a=Zc(c),t=Jc(c,t)):a=-1}}return i}function iI(e,t,n,r,i,o){let s=t[Ee],a=s.data[e+8],c=r==null?Lr(a)&&xf:r!=s&&(a.type&3)!==0,u=i&1&&o===a,l=$c(a,s,n,c,u);return l!==null?ws(t,s,l,a):tr}function $c(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=r?a:a+l,p=i?a+l:u;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&er(f)&&f.type===n)return c}return null}function ws(e,t,n,r){let i=e[n],o=t.data;if(i instanceof _i){let s=i;s.resolving&&Vd(Rv(o[n]));let a=Yc(s.canSeeViewProviders);s.resolving=!0;let c=o[n].type||o[n],u,l=s.injectImpl?Lt(s.injectImpl):null,d=df(e,r,0);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&Wb(n,o[n],t)}finally{l!==null&&Lt(l),Yc(a),s.resolving=!1,ff()}}return i}function oI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ai)?e[ai]:void 0;return typeof t=="number"?t>=0?t&ny:sI:t}function w0(e,t,n){let r=1<<e;return!!(n[t+(e>>ry)]&r)}function M0(e,t){return!(e&2)&&!(e&1&&t)}function sI(){return new Di(Ut(),je())}function sp(e){return po(()=>{let t=e.prototype.constructor,n=t[rs]||Pf(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[rs]||Pf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pf(e){return Od(e)?()=>{let t=Pf(Tt(e));return t&&t()}:Nr(e)}function aI(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[we]&2048&&!io(s);){let a=cy(o,s,n,r|2,tr);if(a!==tr)return a;let c=o.parent;if(!c){let u=s[Jd];if(u){let l=u.get(n,tr,r);if(l!==tr)return l}c=uy(s),s=s[di]}o=c}return i}function uy(e){let t=e[Ee],n=t.type;return n===2?t.declTNode:n===1?e[_n]:null}function cI(){return go(Ut(),je())}function go(e,t){return new Un(Fn(e,t))}function uI(e){return e instanceof Un?e.nativeElement:e}function lI(){return this._results[Symbol.iterator]()}function ly(e){return(e.flags&128)===128}function fI(){return dI++}function pI(e){dy.set(e[ls],e)}function Nf(e){dy.delete(e[ls])}function ho(e,t){Xn(t)?(e[E0]=t[ls],pI(t)):e[E0]=t}function fy(e){return gy(e[ro])}function py(e){return gy(e[Dn])}function gy(e){for(;e!==null&&!An(e);)e=e[Dn];return e}function cp(e){Of=e}function hy(){if(Of!==void 0)return Of;if(typeof document<"u")return document;throw new de(210,!1)}function yI(e,t,n,r){vI(e,t,n,r)}function Dy(e,t,n=!1){return DI(e,t,n)}function _y(e,t){let n=e.contentQueries;if(n!==null){let r=Se(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Ac(o),a.contentQueries(2,t[s],s)}}}finally{Se(r)}}}function Rf(e,t,n){Ac(0);let r=Se(null);try{t(e,n)}finally{Se(r)}}function up(e,t,n){if(Ec(t)){let r=Se(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Se(r)}}}function lp(e){return e instanceof Xc?e.changingThisBreaksApplicationSecurity:e}function Cy(e,t){let n=by(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${vc})`)}return n===t}function by(e){return e instanceof Xc&&e.getTypeName()||null}function Iy(e){return e=String(e),e.match(_I)?e:"unsafe:"+e}function yt(e){let t=CI();return t?t.sanitize(dp.URL,e)||"":Cy(e,"URL")?lp(e):Iy(Xi(e))}function CI(){let e=je();return e&&e[Qn].sanitizer}function MI(e){return e.replace(bI,t=>t.replace(II,wI))}function ks(e){return e.ownerDocument.defaultView}function Ps(e){return e.ownerDocument}function EI(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function SI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&EI(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(fp(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function fp(e){return e.type===4&&e.value!==wy}function TI(e,t,n){let r=e.type===4&&!n?wy:e.value;return t===r}function xI(e,t,n){let r=4,i=e.attrs,o=i!==null?NI(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Vn(r)&&!Vn(c))return!1;if(s&&Vn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!TI(e,c,n)||c===""&&t.length===1){if(Vn(r))return!1;s=!0}}else if(r&8){if(i===null||!SI(e,i,c,n)){if(Vn(r))return!1;s=!0}}else{let u=t[++a],l=kI(c,i,fp(e),n);if(l===-1){if(Vn(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Vn(r))return!1;s=!0}}}}return Vn(r)||s}function Vn(e){return(e&1)===0}function kI(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OI(t,e)}function PI(e,t,n=!1){for(let r=0;r<t.length;r++)if(xI(e,t[r],n))return!0;return!1}function NI(e){for(let t=0;t<e.length;t++){let n=e[t];if(Kb(n))return t}return e.length}function OI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function S0(e,t){return e?":not("+t.trim()+")":t}function RI(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vn(s)&&(t+=S0(o,i),i=""),r=s,o=o||!Vn(r);n++}return i!==""&&(t+=S0(o,i)),t}function AI(e){return e.map(RI).join(",")}function FI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Vn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}function LI(e,t){return e.createText(t)}function VI(e,t,n){e.setValue(t,n)}function jI(e,t){return e.createComment(MI(t))}function My(e,t,n){return e.createElement(t,n)}function eu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ey(e,t,n){e.appendChild(t,n)}function T0(e,t,n,r,i){r!==null?eu(e,t,n,r,i):Ey(e,t,n)}function UI(e,t,n){e.removeChild(null,t,n)}function BI(e,t,n){e.setAttribute(t,"style",n)}function GI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sy(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Qb(e,t,r),i!==null&&GI(e,t,i),o!==null&&BI(e,t,o)}function pp(e,t,n,r,i,o,s,a,c,u,l){let d=Vt+r,p=d+i,f=HI(d,p),g=typeof u=="function"?u():u;return f[Ee]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function HI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:nr);return n}function qI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=pp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gp(e,t,n,r,i,o,s,a,c,u,l){let d=t.blueprint.slice();return d[Rn]=i,d[we]=r|4|128|8|64|1024,(u!==null||e&&e[we]&2048)&&(d[we]|=2048),ef(d),d[Mt]=d[di]=e,d[Ot]=n,d[Qn]=s||e&&e[Qn],d[nt]=a||e&&e[nt],d[li]=c||e&&e[li]||null,d[_n]=o,d[ls]=fI(),d[us]=l,d[Jd]=u,d[Cn]=t.type==2?e[Cn]:d,d}function $I(e,t,n){let r=Fn(t,e),i=qI(n),o=e[Qn].rendererFactory,s=hp(e,gp(e,i,null,Ty(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Ty(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function xy(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function hp(e,t){return e[ro]?e[Zd][Dn]=t:e[ro]=t,e[Zd]=t,t}function M(e=1){ky(vt(),je(),mi()+e,!1)}function ky(e,t,n,r){if(!r)if((t[we]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Hc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&qc(t,o,0,n)}jr(n)}function Af(e,t,n,r){let i=Se(null);try{let[o,s,a]=e.inputs[n],c=null;(s&uu.SignalBased)!==0&&(c=t[o][zt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Y0(t,c,o,r)}finally{Se(i)}}function Py(e,t,n,r,i){let o=mi(),s=r&2;try{jr(-1),s&&t.length>Vt&&ky(e,t,Vt,!1),Ye(s?2:0,i,n),n(r,i)}finally{jr(o),Ye(s?3:1,i,n)}}function lu(e,t,n){KI(e,t,n),(n.flags&64)===64&&XI(e,t,n)}function mp(e,t,n=Fn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function zI(e,t,n,r){let o=r.get(yy,vy)||n===yr.ShadowDom,s=e.selectRootElement(t,o);return WI(s),s}function WI(e){ZI(e)}function JI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ny(e,t,n,r,i,o){let s=t[Ee];if(yp(e,s,t,n,r)){Lr(e)&&QI(t,e.index);return}YI(e,t,n,r,i,o)}function YI(e,t,n,r,i,o){if(e.type&3){let s=Fn(e,t);n=JI(n),r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function QI(e,t){let n=In(t,e);n[we]&16||(n[we]|=64)}function KI(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Lr(n)&&$I(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Qc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=ws(t,e,s,n);if(ho(c,t),o!==null&&rw(t,s-r,c,a,n,o),er(a)){let u=In(n.index,t);u[Ot]=ws(t,e,s,n)}}}function XI(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=l0();try{jr(o);for(let a=r;a<i;a++){let c=e.data[a],u=t[a];Rc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ew(c,u)}}finally{jr(-1),Rc(s)}}function ew(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function vp(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];PI(t,o.selectors,!1)&&(r??=[],er(o)?r.unshift(o):r.push(o))}return r}function tw(e,t,n,r,i,o){let s=Fn(e,t);nw(t[nt],s,o,e.value,n,r,i)}function nw(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Xi(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function rw(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Af(r,n,c,u)}}function iw(e,t){let n=e[li];if(!n)return;n.get(Ln,null)?.(t)}function yp(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];Af(d,n[u],l,i),a=!0}if(o)for(let c of o){let u=n[c],l=t.data[c];Af(l,u,r,i),a=!0}return a}function ow(e,t){let n=In(t,e),r=n[Ee];sw(r,n);let i=n[Rn];i!==null&&n[us]===null&&(n[us]=Dy(i,n[li])),Ye(18),Dp(r,n,n[Ot]),Ye(19,n[Ot])}function sw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Dp(e,t,n){Fc(t);try{let r=e.viewQuery;r!==null&&Rf(1,r,n);let i=e.template;i!==null&&Py(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Kn]?.finishViewCreation(e),e.staticContentQueries&&_y(e,t),e.staticViewQueries&&Rf(2,e.viewQuery,n);let o=e.components;o!==null&&aw(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[we]&=-5,Lc()}}function aw(e,t){for(let n=0;n<t.length;n++)ow(e,t[n])}function cw(e,t,n,r){let i=Se(null);try{let o=t.tView,a=e[we]&4096?4096:16,c=gp(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[Ar]=u;let l=e[Kn];return l!==null&&(c[Kn]=l.createEmbeddedView(o)),Dp(o,c,n),c}finally{Se(i)}}function x0(e,t){return!t||t.firstChild===null||ly(e)}function _p(e,t){return lw(e,t)}function Cp(e){return(e.flags&32)===32}function co(e,t,n,r,i){if(r!=null){let o,s=!1;An(r)?o=r:Xn(r)&&(s=!0,r=r[Rn]);let a=bn(r);e===0&&n!==null?i==null?Ey(t,n,a):eu(t,n,a,i||null,!0):e===1&&n!==null?eu(t,n,a,i||null,!0):e===2?UI(t,a,s):e===3&&t.destroyNode(a),o!=null&&bw(t,e,o,n,i)}}function dw(e,t){Oy(e,t),t[Rn]=null,t[_n]=null}function fw(e,t,n,r,i,o){r[Rn]=i,r[_n]=t,fu(e,r,n,1,i,o)}function Oy(e,t){t[Qn].changeDetectionScheduler?.notify(9),fu(e,t,t[nt],2,null,null)}function pw(e){let t=e[ro];if(!t)return _f(e[Ee],e);for(;t;){let n=null;if(Xn(t))n=t[ro];else{let r=t[jt];r&&(n=r)}if(!n){for(;t&&!t[Dn]&&t!==e;)Xn(t)&&_f(t[Ee],t),t=t[Mt];t===null&&(t=e),Xn(t)&&_f(t[Ee],t),n=t&&t[Dn]}t=n}}function bp(e,t){let n=e[pi],r=n.indexOf(t);n.splice(r,1)}function Ry(e,t){if(gi(t))return;let n=t[nt];n.destroyNode&&fu(e,t,n,3,null,null),pw(t)}function _f(e,t){if(gi(t))return;let n=Se(null);try{t[we]&=-129,t[we]|=256,t[Kt]&&Oa(t[Kt]),hw(e,t),gw(e,t),t[Ee].type===1&&t[nt].destroy();let r=t[Ar];if(r!==null&&An(t[Mt])){r!==t[Mt]&&bp(r,t);let i=t[Kn];i!==null&&i.detachView(e)}Nf(t)}finally{Se(n)}}function gw(e,t){let n=e.cleanup,r=t[no];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[no]=null);let i=t[mr];if(i!==null){t[mr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[ds];if(o!==null){t[ds]=null;for(let s of o)s.destroy()}}function hw(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof _i)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ye(4,a,c);try{c.call(a)}finally{Ye(5,a,c)}}else{Ye(4,i,o);try{o.call(i)}finally{Ye(5,i,o)}}}}}function mw(e,t,n){return vw(e,t.parent,n)}function vw(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Rn];if(Lr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===yr.None||i===yr.Emulated)return null}return Fn(r,n)}function yw(e,t,n){return _w(e,t,n)}function Dw(e,t,n){return e.type&40?Fn(e,n):null}function du(e,t,n,r){let i=mw(e,r,t),o=t[nt],s=r.parent||t[_n],a=yw(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)T0(o,i,n[c],a,!1);else T0(o,i,n,a,!1);P0!==void 0&&P0(o,r,t,n,i)}function bs(e,t){if(t!==null){let n=t.type;if(n&3)return Fn(t,e);if(n&4)return Ff(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return bs(e,r);{let i=e[t.index];return An(i)?Ff(-1,i):bn(i)}}else{if(n&128)return bs(e,t.next);if(n&32)return _p(t,e)()||bn(e[t.index]);{let r=Ay(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Or(e[Cn]);return bs(i,r)}else return bs(e,t.next)}}}return null}function Ay(e,t){if(t!==null){let r=e[Cn][_n],i=t.projection;return r.projection[i]}return null}function Ff(e,t){let n=jt+e+1;if(n<t.length){let r=t[n],i=r[Ee].firstChild;if(i!==null)return bs(r,i)}return t[Fr]}function Ip(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&ho(bn(a),r),n.flags|=2),!Cp(n))if(c&8)Ip(e,t,n.child,r,i,o,!1),co(t,e,i,a,o);else if(c&32){let u=_p(n,r),l;for(;l=u();)co(t,e,i,l,o);co(t,e,i,a,o)}else c&16?Cw(e,t,r,n,i,o):co(t,e,i,a,o);n=s?n.projectionNext:n.next}}function fu(e,t,n,r,i,o){Ip(n,r,e.firstChild,t,i,o,!1)}function Cw(e,t,n,r,i,o){let s=n[Cn],c=s[_n].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];co(t,e,i,l,o)}else{let u=c,l=s[Mt];ly(r)&&(u.flags|=128),Ip(e,t,u,l,i,o,!0)}}function bw(e,t,n,r,i){let o=n[Fr],s=bn(n);o!==s&&co(t,e,r,o,i);for(let a=jt;a<n.length;a++){let c=n[a];fu(c[Ee],c,e,t,r,o)}}function Iw(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),e.setStyle(n,r,i,o))}}function Ms(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(bn(o)),An(o)&&Fy(o,r);let s=n.type;if(s&8)Ms(e,t,n.child,r);else if(s&32){let a=_p(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ay(t,n);if(Array.isArray(a))r.push(...a);else{let c=Or(t[Cn]);Ms(c[Ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Fy(e,t){for(let n=jt;n<e.length;n++){let r=e[n],i=r[Ee].firstChild;i!==null&&Ms(r[Ee],r,i,t)}e[Fr]!==e[Rn]&&t.push(e[Fr])}function Ly(e){if(e[Mc]!==null){for(let t of e[Mc])t.impl.addSequence(t);e[Mc].length=0}}function ww(e){return e[Kt]??Mw(e)}function Mw(e){let t=Vy.pop()??Object.create(Sw);return t.lView=e,t}function Ew(e){e.lView[Kt]!==e&&(e.lView=null,Vy.push(e))}function Tw(e){let t=e[Kt]??Object.create(xw);return t.lView=e,t}function jy(e){return e.type!==2}function Uy(e){if(e[ds]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[ds])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[we]&8192)}}function wp(e,t=0){let r=e[Qn].rendererFactory,i=!1;i||r.begin?.();try{Pw(e,t)}finally{i||r.end?.()}}function Pw(e,t){let n=cf();try{uf(!0),Lf(e,t);let r=0;for(;oo(e);){if(r===kw)throw new de(103,!1);r++,Lf(e,1)}}finally{uf(n)}}function By(e,t){af(t?hs.Exhaustive:hs.OnlyDirtyViews);try{wp(e)}finally{af(hs.Off)}}function Nw(e,t,n,r){if(gi(t))return;let i=t[we],o=!1,s=!1;Fc(t);let a=!0,c=null,u=null;o||(jy(e)?(u=ww(t),c=$i(u)):xa()===null?(a=!1,u=Tw(t),c=$i(u)):t[Kt]&&(Oa(t[Kt]),t[Kt]=null));try{ef(t),s0(e.bindingStartIndex),n!==null&&Py(e,t,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=e.preOrderCheckHooks;f!==null&&Hc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&qc(t,f,0,null),yf(t,0)}if(s||Ow(t),Uy(t),Gy(t,0),e.contentQueries!==null&&_y(e,t),!o)if(l){let f=e.contentCheckHooks;f!==null&&Hc(t,f)}else{let f=e.contentHooks;f!==null&&qc(t,f,1),yf(t,1)}Aw(e,t);let d=e.components;d!==null&&qy(t,d,0);let p=e.viewQuery;if(p!==null&&Rf(2,p,r),!o)if(l){let f=e.viewCheckHooks;f!==null&&Hc(t,f)}else{let f=e.viewHooks;f!==null&&qc(t,f,2),yf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[wc]){for(let f of t[wc])f();t[wc]=null}o||(Ly(t),t[we]&=-73)}catch(l){throw o||gs(t),l}finally{u!==null&&(Zo(u,c),a&&Ew(u)),Lc()}}function Gy(e,t){for(let n=fy(e);n!==null;n=py(n))for(let r=jt;r<n.length;r++){let i=n[r];Hy(i,t)}}function Ow(e){for(let t=fy(e);t!==null;t=py(t)){if(!(t[we]&2))continue;let n=t[pi];for(let r=0;r<n.length;r++){let i=n[r];xc(i)}}}function Rw(e,t,n){Ye(18);let r=In(t,e);Hy(r,n),Ye(19,r[Ot])}function Hy(e,t){Tc(e)&&Lf(e,t)}function Lf(e,t){let r=e[Ee],i=e[we],o=e[Kt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Na(o)),s||=!1,o&&(o.dirty=!1),e[we]&=-9217,s)Nw(r,e,r.template,e[Ot]);else if(i&8192){let a=Se(null);try{Uy(e),Gy(e,1);let c=r.components;c!==null&&qy(e,c,1),Ly(e)}finally{Se(a)}}}function qy(e,t,n){for(let r=0;r<t.length;r++)Rw(e,t[r],n)}function Aw(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let o=i,s=n[++r],a=n[++r];u0(s,o);let c=t[o];Ye(24,c),a(2,c),Ye(25,c)}}}finally{jr(-1)}}function Mp(e,t){let n=cf()?64:1088;for(e[Qn].changeDetectionScheduler?.notify(t);e;){e[we]|=n;let r=Or(e);if(io(e)&&!r)return e;e=r}return null}function $y(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Fw(e,t,n,r=!0){let i=t[Ee];if(Lw(i,t,e,n),r){let s=Ff(n,e),a=t[nt],c=a.parentNode(e[Fr]);c!==null&&fw(i,e[_n],a,t,c,s)}let o=t[us];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vf(e,t){if(e.length<=jt)return;let n=jt+t,r=e[n];if(r){let i=r[Ar];i!==null&&i!==e&&bp(i,r),t>0&&(e[n-1][Dn]=r[Dn]);let o=os(e,jt+t);dw(r[Ee],r);let s=o[Kn];s!==null&&s.detachView(o[Ee]),r[Mt]=null,r[Dn]=null,r[we]&=-129}return r}function Lw(e,t,n,r){let i=jt+r,o=n.length;r>0&&(n[i-1][Dn]=t),r<o-jt?(t[Dn]=n[i],Bd(n,jt+r,t)):(n.push(t),t[Dn]=null),t[Mt]=n;let s=t[Ar];s!==null&&n!==s&&zy(s,t);let a=t[Kn];a!==null&&a.insertView(e),kc(t),t[we]|=128}function zy(e,t){let n=e[pi],r=t[Mt];if(Xn(r))e[we]|=2;else{let i=r[Mt][Cn];t[Cn]!==i&&(e[we]|=2)}n===null?e[pi]=[t]:n.push(t)}function Ep(e){return oo(e._lView)||!!(e._lView[we]&64)}function Sp(e){xc(e._lView)}function Vw(){return Tp(Ut(),je())}function Tp(e,t){return e.type&4?new Br(t,e,go(e,t)):null}function pu(e,t,n,r,i){let o=e.data[t];if(o===null)o=jw(e,t,n,r,i),c0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=o0();o.injectorIndex=s===null?-1:s.injectorIndex}return Vr(o,!0),o}function jw(e,t,n,r,i){let o=of(),s=Nc(),a=s?o:o&&o.parent,c=e.data[t]=Bw(e,a,n,t,r,i);return Uw(e,c,o,s),c}function Uw(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Bw(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return n0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function N0(e,t){return Gw(e,t)}function Hw(){let e=je(),t=Ut(),n=In(t.index,e);return(Xn(n)?n:e)[nt]}function Bf(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Nd(i,a);else if(o==2){let c=a,u=t[++s];r=Nd(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function ge(e,t=0){let n=je();if(n===null)return Te(e,t);let r=Ut();return ay(r,n,Tt(e),t)}function xp(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}zw(e,t,n,a,o,c,u)}o!==null&&r!==null&&qw(n,r,o)}function qw(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new de(-301,!1);r.push(t[i],o)}}function $w(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function zw(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&er(f)&&(c=!0,$w(e,n,p)),kf(Qc(n,t),e,f.type)}Kw(n,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=xy(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=lo(n.mergedAttrs,f.hostAttrs),Zw(e,n,t,d,f),Qw(d,f,i),s!==null&&s.has(f)){let[C,I]=s.get(f);n.directiveToIndex.set(f.type,[d,C+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!u&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}Ww(e,n,o)}function Ww(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))O0(0,t,i,r),O0(1,t,i,r),A0(t,r,!1);else{let o=n.get(i);R0(0,t,o,r),R0(1,t,o,r),A0(t,r,!0)}}}function O0(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Jy(t,o)}}function R0(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Jy(t,s)}}function Jy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function A0(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||fp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Zw(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Nr(i.type,!0)),s=new _i(o,er(i),ge);e.blueprint[r]=s,n[r]=s,Jw(e,t,r,xy(e,n,i.hostVars,nr),i)}function Jw(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Yw(s)!=a&&s.push(a),s.push(n,r,o)}}function Yw(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Qw(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;er(t)&&(n[""]=e)}}function Kw(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Yy(e,t,n,r,i,o,s,a){let c=t.consts,u=hi(c,s),l=pu(t,e,2,r,u);return o&&xp(t,n,l,hi(c,a),i),l.mergedAttrs=lo(l.mergedAttrs,l.attrs),l.attrs!==null&&Bf(l,l.attrs,!1),l.mergedAttrs!==null&&Bf(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function Qy(e,t){ip(e,t),Ec(t)&&e.queries.elementEnd(t)}function kp(e){return hu(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Ky(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function hu(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Xy(e,t,n){return e[t]=n}function Dr(e,t,n){if(n===nr)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Xw(e,t,n,r){let i=Dr(e,t,n);return Dr(e,t+1,r)||i}function Cf(e,t,n){return function r(i){let o=Lr(e)?In(e.index,t):t;Mp(o,5);let s=t[Ot],a=F0(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=F0(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function F0(e,t,n,r){let i=Se(null);try{return Ye(6,t,n),n(r)!==!1}catch(o){return iw(e,o),!1}finally{Ye(7,t,n),Se(i)}}function eM(e,t,n,r,i,o,s,a){let c=ps(e),u=!1,l=null;if(!r&&c&&(l=tM(t,n,o,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Fn(e,n),p=r?r(d):d;yI(n,p,o,a);let f=i.listen(p,o,a),g=r?C=>r(bn(C[e.index])):e.index;e1(g,t,n,o,a,f,!1)}return u}function tM(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[no],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function e1(e,t,n,r,i,o,s){let a=t.firstCreatePass?rf(t):null,c=nf(n),u=c.length;c.push(i,o),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function L0(e,t,n,r,i,o){let s=t[n],a=t[Ee],u=a.data[n].outputs[r],d=s[u].subscribe(o);e1(e.index,a,t,i,o,d,!0)}function nM(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&uu.SignalBased)!==0};return i&&(o.transform=i),o})}function rM(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function iM(e,t,n){let r=t instanceof Wt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Uf(n,r):n}function oM(e){let t=e.get(Ci,null);if(t===null)throw new de(407,!1);let n=e.get(Zy,null),r=e.get(Yn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function sM(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return My(t,n,n==="svg"?Yd:n==="math"?Wv:null)}function aM(e,t,n,r){let i=e?["ng-version","20.0.6"]:FI(t.selectors[0]),o=null,s=null,a=0;if(n)for(let l of n)a+=l[Gf].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let p of d.bindings){a+=p[Gf].requiredVars;let f=l+1;p.create&&(p.targetIdx=f,(o??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,p=qd(d);c.push(p)}return pp(0,null,cM(o,s),1,a,c,null,null,null,[i],null)}function cM(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function V0(e){let t=e[Gf].kind;return t==="input"||t==="twoWay"}function uM(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function lM(){let e=Ut();return n1(e,je())}function j0(e){return e[fs]}function bf(e){return e[fs]||(e[fs]=[])}function n1(e,t){let n,r=t[e.index];return An(r)?n=r:(n=$y(r,t,null,e),t[e.index]=n,hp(t,n)),pM(n,t,e,r),new t1(n,e,t)}function fM(e,t){let n=e[nt],r=n.createComment(""),i=Fn(t,e),o=n.parentNode(i);return eu(n,o,r,n.nextSibling(i),!1),r}function hM(e,t,n){return gM(e,t,n)}function mM(e,t,n,r){if(e[Fr])return;let i;n.type&8?i=bn(r):i=fM(t,n),e[Fr]=i}function vM(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function yM(e,t){return e.type&11?go(e,t):e.type&4?Tp(e,t):null}function DM(e,t,n,r){return n===-1?yM(t,e):n===-2?_M(e,t,r):ws(e,e[Ee],n,t)}function _M(e,t,n){if(n===Un)return go(t,e);if(n===Br)return Tp(t,e);if(n===Mi)return n1(t,e)}function r1(e,t,n,r){let i=t[Kn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(DM(t,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Jf(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=r1(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=t[-c];for(let d=jt;d<l.length;d++){let p=l[d];p[Ar]===p[Mt]&&Jf(p[Ee],p,u,r)}if(l[pi]!==null){let d=l[pi];for(let p=0;p<d.length;p++){let f=d[p];Jf(f[Ee],f,u,r)}}}}}return r}function CM(e,t){return e[Kn].queries[t].queryList}function bM(e,t,n){let r=new Kc((n&4)===4);return Kv(e,t,r,r.destroy),(t[Kn]??=new $f).queries.push(new qf(r))-1}function IM(e,t,n){let r=vt();return r.firstCreatePass&&(MM(r,new zf(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),bM(r,je(),t)}function wM(e){return e.split(",").map(t=>t.trim())}function MM(e,t,n){e.queries===null&&(e.queries=new Wf),e.queries.track(new Zf(t,n))}function Pp(e,t){return e.queries.getByIndex(t)}function EM(e,t){let n=e[Ee],r=Pp(n,t);return r.crossesNgTemplate?Jf(n,e,t,[]):r1(n,e,r,t)}function Np(e){U0.has(e)||(U0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function i1(e,t,n=null){return new Ts({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Bt(e){return po(()=>{let t=o1(e),n=Re(_e({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ap.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(SM).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yr.Emulated,styles:e.styles||Qt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Np("NgStandalone"),s1(n);let r=e.dependencies;return n.directiveDefs=B0(r,!1),n.pipeDefs=B0(r,!0),n.id=NM(n),n})}function TM(e){return ui(e)||qd(e)}function xM(e){return e!==null}function Gr(e){return po(()=>({type:e.type,bootstrap:e.bootstrap||Qt,declarations:e.declarations||Qt,imports:e.imports||Qt,exports:e.exports||Qt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kM(e,t){if(e==null)return Rr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=uu.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function PM(e){if(e==null)return Rr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function wn(e){return po(()=>{let t=o1(e);return s1(t),t})}function Zt(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function o1(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Rr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Qt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kM(e.inputs,t),outputs:PM(e.outputs),debugInfo:null}}function s1(e){e.features?.forEach(t=>t(e))}function B0(e,t){if(!e)return null;let n=t?Uv:TM;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(xM)}function NM(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function OM(e){return Object.getPrototypeOf(e.prototype).constructor}function Ei(e){let t=OM(e.type),n=!0,r=[e];for(;t;){let i;if(er(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new de(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=If(e.inputs),s.declaredInputs=If(e.declaredInputs),s.outputs=If(e.outputs);let a=i.hostBindings;a&&VM(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&FM(e,c),u&&LM(e,u),RM(e,i),Nv(e.outputs,i.outputs),er(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ei&&(n=!1)}}t=Object.getPrototypeOf(t)}AM(r)}function RM(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function AM(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=lo(i.hostAttrs,n=lo(n,i.hostAttrs))}}function If(e){return e===Rr?{}:e===Qt?[]:e}function FM(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function LM(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function VM(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function jM(e,t,n,r,i,o,s,a,c){let u=t.consts,l=pu(t,e,4,s||null,a||null);Pc()&&xp(t,n,l,hi(u,c),vp),l.mergedAttrs=lo(l.mergedAttrs,l.attrs),ip(t,l);let d=l.tView=pp(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}function UM(e,t,n,r,i,o,s,a,c,u,l){let d=n+Vt,p=t.firstCreatePass?jM(d,t,e,r,i,o,s,a,u):t.data[d];c&&(p.flags|=c),Vr(p,!1);let f=BM(t,e,p,n);ms()&&du(t,e,f,p),ho(f,e);let g=$y(f,e,f,p);return e[d]=g,hp(e,g),hM(g,p,e),ps(p)&&lu(t,e,p),u!=null&&mp(e,p,l),p}function J(e,t,n,r,i,o,s,a){let c=je(),u=vt(),l=hi(u.consts,o);return UM(c,u,e,t,n,r,i,l,void 0,s,a),J}function GM(e,t,n,r){return vs(!0),t[nt].createComment("")}function c1(e){let t,n;function r(){e=_s;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function G0(e){return queueMicrotask(()=>e()),()=>{e=_s}}function Ap(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $M(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){c1(()=>{e.callbackScheduled=!1,Qf(e),e.isCheckStableRunning=!0,Ap(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Qf(e)}function zM(e){let t=()=>{$M(e)},n=HM++;e._inner=e._inner.fork({name:"angular",properties:{[Rp]:!0,[nu]:n,[nu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(WM(c))return r.invokeTask(o,s,a,c);try{return H0(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),q0(e)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return H0(e),r.invoke(o,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ZM(c)&&t(),q0(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Qf(e),Ap(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Qf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function H0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function q0(e){e._nesting--,Ap(e)}function WM(e){return u1(e,"__ignore_ng_zone__")}function ZM(e){return u1(e,"__scheduler_tick__")}function u1(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function Si(e){return!!e&&typeof e.then=="function"}function mu(e){return!!e&&typeof e.subscribe=="function"}function p1(){Fl(()=>{let e="";throw new de(600,e)})}function g1(e){return e.isBoundToModule}function Is(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vo(e,t,n,r){let i=je(),o=so();if(Dr(i,o,t)){let s=vt(),a=Vc();tw(a,i,e,t,n,r)}return vo}function N(e,t,n){let r=je(),i=so();if(Dr(r,i,t)){let o=vt(),s=Vc();Ny(s,r,e,t,r[nt],n)}return N}function $0(e,t,n,r,i){yp(t,e,n,i?"class":"style",r)}function b(e,t,n,r){let i=je(),o=vt(),s=Vt+e,a=i[nt],c=o.firstCreatePass?Yy(s,o,i,t,vp,Pc(),n,r):o.data[s],u=YM(o,i,c,a,t,e);i[s]=u;let l=ps(c);return Vr(c,!0),Sy(a,u,c),!Cp(c)&&ms()&&du(o,i,u,c),(Xv()===0||l)&&ho(u,i),e0(),l&&(lu(o,i,c),up(o,c,i)),r!==null&&mp(i,c),b}function w(){let e=Ut();Nc()?sf():(e=e.parent,Vr(e,!1));let t=e;r0(t)&&i0(),t0();let n=vt();return n.firstCreatePass&&Qy(n,t),t.classesWithoutHost!=null&&Jb(t)&&$0(n,t,je(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Yb(t)&&$0(n,t,je(),t.stylesWithoutHost,!1),w}function Y(e,t,n,r){return b(e,t,n,r),w(),Y}function QM(e,t,n,r,i){let o=t.consts,s=hi(o,r),a=pu(t,e,8,"ng-container",s);s!==null&&Bf(a,s,!0);let c=hi(o,i);return Pc()&&xp(t,n,a,c,vp),a.mergedAttrs=lo(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function yo(e,t,n){let r=je(),i=vt(),o=e+Vt,s=i.firstCreatePass?QM(o,i,r,t,n):i.data[o];Vr(s,!0);let a=KM(i,r,s,e);return r[o]=a,ms()&&du(i,r,a,s),ho(a,r),ps(s)&&(lu(i,r,s),up(i,s,r)),n!=null&&mp(r,s),yo}function Do(){let e=Ut(),t=vt();return Nc()?sf():(e=e.parent,Vr(e,!1)),t.firstCreatePass&&(ip(t,e),Ec(e)&&t.queries.elementEnd(e)),Do}function ve(){return je()}function XM(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}function tn(e){let t=tE(e),n=z0(t);if(n)return n;let r=t.split("-")[0];if(n=z0(r),n)return n;if(r==="en")return eE;throw new de(701,!1)}function z0(e){return e in wf||(wf[e]=oi.ng&&oi.ng.common&&oi.ng.common.locales&&oi.ng.common.locales[e]),wf[e]}function tE(e){return e.toLowerCase().replace(/_/g,"-")}function h1(e){typeof e=="string"&&(nE=e.toLowerCase().replace(/_/g,"-"))}function G(e,t,n){let r=je(),i=vt(),o=Ut();return m1(i,r,r[nt],o,e,t,n),G}function m1(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Cf(r,t,o),eM(r,e,t,s,n,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let d=0;d<l.length;d+=2){let p=l[d],f=l[d+1];c??=Cf(r,t,o),L0(r,t,p,f,i,c)}if(u&&u.length)for(let d of u)c??=Cf(r,t,o),L0(r,t,d,i,i,c)}}function R(e=1){return h0(e)}function xi(e,t,n){IM(e,t,n)}function ki(e){let t=je(),n=vt(),r=lf();Ac(r+1);let i=Pp(n,r);if(e.dirty&&Zv(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=EM(t,r);e.reset(o,uI),e.notifyOnChanges()}return!0}return!1}function Pi(){return CM(je(),lf())}function Gc(e,t){return e<<17|t<<2}function bi(e){return e>>17&32767}function rE(e){return(e&2)==2}function iE(e,t){return e&131071|t<<17}function Kf(e){return e|2}function fo(e){return(e&131068)>>2}function Mf(e,t){return e&-131069|t<<2}function oE(e){return(e&1)===1}function Xf(e){return e|1}function sE(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=bi(s),c=fo(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||eo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let p=bi(e[a+1]);e[r+1]=Gc(p,a),p!==0&&(e[p+1]=Mf(e[p+1],r)),e[a+1]=iE(e[a+1],r)}else e[r+1]=Gc(a,0),a!==0&&(e[a+1]=Mf(e[a+1],r)),a=r;else e[r+1]=Gc(c,0),a===0?a=r:e[c+1]=Mf(e[c+1],r),c=r;u&&(e[r+1]=Kf(e[r+1])),W0(e,l,r,!0),W0(e,l,r,!1),aE(t,l,e,r,o),s=Gc(a,c),o?t.classBindings=s:t.styleBindings=s}function aE(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&eo(o,t)>=0&&(n[r+1]=Xf(n[r+1]))}function W0(e,t,n,r){let i=e[n+1],o=t===null,s=r?bi(i):fo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];cE(c,t)&&(a=!0,e[s+1]=r?Xf(u):Kf(u)),s=r?bi(u):fo(u)}a&&(e[n+1]=r?Kf(i):Xf(i))}function cE(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?eo(e,t)>=0:!1}function rr(e,t,n){return v1(e,t,n,!1),rr}function $e(e,t){return v1(e,t,null,!0),$e}function v1(e,t,n,r){let i=je(),o=vt(),s=a0(2);if(o.firstUpdatePass&&lE(o,e,s,r),t!==nr&&Dr(i,s,t)){let a=o.data[mi()];hE(o,a,i,i[nt],e,i[s+1]=mE(t,n),r,s)}}function uE(e,t){return t>=e.expandoStartIndex}function lE(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[mi()],s=uE(e,n);vE(o,r)&&t===null&&!s&&(t=!1),t=dE(i,o,t,r),sE(i,o,t,n,s,r)}}function dE(e,t,n,r){let i=d0(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ef(null,e,t,n,r),n=xs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Ef(i,e,t,n,r),o===null){let c=fE(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Ef(null,e,t,c[1],r),c=xs(c,t.attrs,r),pE(e,t,r,c))}else o=gE(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function fE(e,t,n){let r=n?t.classBindings:t.styleBindings;if(fo(r)!==0)return e[bi(r)]}function pE(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[bi(i)]=r}function gE(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=xs(r,s,n)}return xs(r,t.attrs,n)}function Ef(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=xs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function xs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),jv(e,s,n?!0:t[++o]))}return e===void 0?null:e}function hE(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=oE(u)?Z0(c,t,n,i,fo(u),s):void 0;if(!iu(l)){iu(o)||rE(u)&&(o=Z0(c,null,n,i,a,s));let d=Qd(mi(),n);Iw(r,s,d,i,o)}}function Z0(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[i+1];p===nr&&(p=d?Qt:void 0);let f=d?Ic(p,r):l===r?p:void 0;if(u&&!iu(f)&&(f=Ic(c,r)),iu(f)&&(a=f,s))return a;let g=e[i+1];i=s?bi(g):fo(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Ic(c,r))}return a}function iu(e){return e!==void 0}function mE(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Yt(lp(e)))),e}function vE(e,t){return(e.flags&(t?8:16))!==0}function V(e,t=""){let n=je(),r=vt(),i=e+Vt,o=r.firstCreatePass?pu(r,i,1,t,null):r.data[i],s=yE(r,n,o,t,e);n[i]=s,ms()&&du(r,n,s,o),Vr(o,!1)}function DE(e,t,n,r=""){return Dr(e,so(),n)?t+Xi(n)+r:nr}function be(e){return et("",e),be}function et(e,t,n){let r=je(),i=DE(r,e,t,n);return i!==nr&&_E(r,mi(),i),et}function _E(e,t,n){let r=Qd(t,e);VI(e[nt],r,n)}function _o(e,t,n){gf(t)&&(t=t());let r=je(),i=so();if(Dr(r,i,t)){let o=vt(),s=Vc();Ny(s,r,e,t,r[nt],n)}return _o}function Rs(e,t){let n=gf(e);return n&&e.set(t),n}function Co(e,t){let n=je(),r=vt(),i=Ut();return m1(r,n,n[nt],i,e,t),Co}function Vp(e){return Dr(je(),so(),e)?Xi(e):nr}function CE(e,t,n){let r=vt();if(r.firstCreatePass){let i=er(e);ep(n,r.data,r.blueprint,i,!0),ep(t,r.data,r.blueprint,i,!1)}}function ep(e,t,n,r,i){if(e=Tt(e),Array.isArray(e))for(let o=0;o<e.length;o++)ep(e[o],t,n,r,i);else{let o=vt(),s=je(),a=Ut(),c=ri(e)?e:Tt(e.provide),u=Wd(e),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(ri(e)||!e.multi){let f=new _i(u,i,ge),g=Tf(c,t,i?l:l+p,d);g===-1?(kf(Qc(a,s),o,c),Sf(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Tf(c,t,l+p,d),g=Tf(c,t,l,l+p),C=f>=0&&n[f],I=g>=0&&n[g];if(i&&!I||!i&&!C){kf(Qc(a,s),o,c);let _=wE(i?IE:bE,n.length,i,r,u);!i&&I&&(n[g].providerFactory=_),Sf(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=y1(n[i?g:f],u,!i&&r);Sf(o,e,f>-1?f:g,_)}!i&&r&&I&&n[g].componentProviders++}}}function Sf(e,t,n,r){let i=ri(t),o=qv(t);if(i||o){let c=(o?Tt(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function y1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tf(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function bE(e,t,n,r){return tp(this.multi,[])}function IE(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ws(n,n[Ee],this.providerFactory.index,r);o=a.slice(0,s),tp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],tp(i,o);return o}function tp(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function wE(e,t,n,r,i){let o=new _i(e,n,ge);return o.multi=[],o.index=t,o.componentProviders=0,y1(o,i,r&&!n),o}function bo(e,t=[]){return n=>{n.providersResolver=(r,i)=>CE(r,i?i(e):e,t)}}function Ni(e,t,n,r){return _1(je(),Oc(),e,t,n,r)}function D1(e,t){let n=e[t];return n===nr?void 0:n}function _1(e,t,n,r,i,o){let s=t+n;return Dr(e,s,i)?Xy(e,s+1,o?r.call(o,i):r(i)):D1(e,s+1)}function ME(e,t,n,r,i,o,s){let a=t+n;return Xw(e,a,i,o)?Xy(e,a+2,s?r.call(s,i,o):r(i,o)):D1(e,a+2)}function oe(e,t){let n=vt(),r,i=e+Vt;n.firstCreatePass?(r=EE(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Nr(r.type,!0)),s,a=Lt(ge);try{let c=Yc(!1),u=o();return Yc(c),Xd(n,je(),i,u),u}finally{Lt(a)}}function EE(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function se(e,t,n){let r=e+Vt,i=je(),o=Kd(i,r);return C1(i,r)?_1(i,Oc(),t,o.transform,n,o):o.transform(n)}function jp(e,t,n,r){let i=e+Vt,o=je(),s=Kd(o,i);return C1(o,i)?ME(o,Oc(),t,s.transform,n,r,s):s.transform(n,r)}function C1(e,t){return e[Ee].data[t].pure}function Up({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new it(Re(_e({},Gp()),{scheduleInRootZone:n})),[{provide:it,useFactory:e},{provide:ci,multi:!0,useFactory:()=>{let r=Ce(SE,{optional:!0});return()=>r.initialize()}},{provide:ci,multi:!0,useFactory:()=>{let r=Ce(TE);return()=>{r.initialize()}}},t===!0?{provide:hf,useValue:!0}:[],{provide:mf,useValue:n??a1},{provide:Ln,useFactory:()=>{let r=Ce(it),i=Ce(Wt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Jn),o.handleError(s))})}}}]}function Bp(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Up({ngZoneFactory:()=>{let i=Gp(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Np("NgZone_CoalesceEvent"),new it(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ss([{provide:b1,useValue:!0},{provide:Ds,useValue:!1},r])}function Gp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}function xE(){return typeof $localize<"u"&&$localize.locale||Os}var Bc,np,rp,Wc,ou,K0,C0,Ye,uo,_i,xf,tI,ny,ry,nI,tr,Di,Un,Kc,ap,dy,dI,E0,Of,su,gI,au,mo,cu,hI,mI,vy,yy,vI,DI,yr,Xc,_I,dp,bI,II,wI,wy,nr,uu,ZI,k0,uw,lw,jn,_w,P0,Vy,Sw,xw,kw,Ur,Br,mF,Gw,Wy,gu,jf,Ii,Ci,wi,Zy,zc,Uf,Gf,Hf,Es,tu,Mi,dM,t1,pM,gM,qf,$f,zf,Wf,Zf,U0,Ss,Ts,SM,BM,Op,Ns,a1,Yf,en,Rp,nu,HM,it,qM,ru,l1,Fp,d1,Lp,f1,JM,Ti,YM,KM,yi,eE,wf,ot,Os,nE,yE,SE,b1,TE,I1,As,Hp=L(()=>{"use strict";Uc();zi();yn();Dd();Cs();Bc="__parameters__";np=Ud(J0("Optional"),8),rp=Ud(J0("SkipSelf"),4);Wc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};ou=(()=>{let e=()=>Q0;return e.ngInherit=!0,e})();K0="__ngSimpleChanges__";C0=[],Ye=function(e,t=null,n){for(let r=0;r<C0.length;r++){let i=C0[r];i(e,t,n)}};uo=-1,_i=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};xf=!0;tI=256,ny=tI-1,ry=5,nI=0,tr={};Di=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ay(this._tNode,this._lView,t,ni(r),n)}};Un=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=cI}return e})();Kc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new mn}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Lv(t);(this._changesDetected=!Fv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=lI};ap=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ap||{}),dy=new Map,dI=0;E0="__ngContext__";su=new De("",{providedIn:"root",factory:()=>gI}),gI="ng",au=new De(""),mo=new De("",{providedIn:"platform",factory:()=>"unknown"}),cu=new De("",{providedIn:"root",factory:()=>hy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),hI="h",mI="b",vy=!1,yy=new De("",{providedIn:"root",factory:()=>vy});vI=(e,t,n,r)=>{};DI=()=>null;yr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yr||{}),Xc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vc})`}};_I=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;dp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(dp||{});bI=/^>|^->|<!--|-->|--!>|<!-$/g,II=/(<|>)/g,wI="\u200B$1\u200B";wy="ng-template";nr={};uu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(uu||{});ZI=()=>null;k0=!1,uw=new De("");jn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(jn||{});_w=Dw;Vy=[];Sw=Re(_e({},Yr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{gs(e.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});xw=Re(_e({},Yr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Or(e.lView);for(;t&&!jy(t[Ee]);)t=Or(t);t&&xc(t)},consumerOnSignalRead(){this.lView[Kt]=this}});kw=100;Ur=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[Ee];return Ms(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Ot]}set context(t){this._lView[Ot]=t}get destroyed(){return gi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Mt];if(An(t)){let n=t[fs],r=n?n.indexOf(this):-1;r>-1&&(Vf(t,r),os(n,r))}this._attachedToViewContainer=!1}Ry(this._lView[Ee],this._lView)}onDestroy(t){tf(this._lView,t)}markForCheck(){Mp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[we]&=-129}reattach(){kc(this._lView),this._lView[we]|=128}detectChanges(){this._lView[we]|=1024,wp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[li].get(uw,k0)}catch{this.exhaustive=k0}}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=io(this._lView),n=this._lView[Ar];n!==null&&!t&&bp(n,this._lView),Oy(this._lView[Ee],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=t;let n=io(this._lView),r=this._lView[Ar];r!==null&&!n&&zy(r,this._lView),kc(this._lView)}};Br=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Vw;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=cw(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ur(o)}}return e})();mF=new RegExp(`^(\\d+)*(${mI}|${hI})*(.*)`),Gw=()=>null;Wy=class{},gu=class{},jf=class{resolveComponentFactory(t){throw new de(917,!1)}},Ii=class{static NULL=new jf},Ci=class{},wi=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Hw()}return e})();Zy=(()=>{class e{static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>null})}return e})(),zc={},Uf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,zc,r);return i!==zc||n===zc?i:this.parentInjector.get(t,n,r)}};Gf=Symbol("BINDING"),Hf=class extends Ii{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ui(t);return new Es(n,this.ngModule)}};Es=class extends gu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=nM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rM(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=AI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Ye(22);let a=Se(null);try{let c=this.componentDef,u=aM(r,c,s,o),l=iM(c,i||this.ngModule,t),d=oM(l),p=d.rendererFactory.createRenderer(null,c),f=r?zI(p,r,c.encapsulation,l):sM(c,p),g=s?.some(V0)||o?.some(_=>typeof _!="function"&&_.bindings.some(V0)),C=gp(null,u,null,512|Ty(c),null,null,d,p,l,null,Dy(f,l,!0));C[Vt]=f,Fc(C);let I=null;try{let _=Yy(Vt,u,C,"#host",()=>u.directiveRegistry,!0,0);f&&(Sy(p,f,_),ho(f,C)),lu(u,C,_),up(u,_,C),Qy(u,_),n!==void 0&&uM(_,this.ngContentSelectors,n),I=In(_.index,C),C[Ot]=I[Ot],Dp(u,C,null)}catch(_){throw I!==null&&Nf(I),Nf(C),_}finally{Ye(23),Lc()}return new tu(this.componentType,C,!!g)}finally{Se(a)}}};tu=class extends Wy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Sc(n[Ee],Vt),this.location=go(this._tNode,n),this.instance=In(this._tNode.index,n)[Ot],this.hostView=this.changeDetectorRef=new Ur(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=yp(r,i[Ee],i,t,n);this.previousInputValues.set(t,n);let s=In(r.index,i);Mp(s,1)}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};Mi=(()=>{class e{static __NG_ELEMENT_ID__=lM}return e})();dM=Mi,t1=class extends dM{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let t=op(this._hostTNode,this._hostLView);if(ty(t)){let n=Jc(t,this._hostLView),r=Zc(t),i=n[Ee].data[r+8];return new Di(i,n)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=j0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=N0(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,x0(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!Hb(t),u;if(c)u=n;else{let I=n||{};u=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let l=c?t:new Es(ui(t)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(c?d:this.parentInjector).get(Wt,null);_&&(o=_)}let p=ui(l.componentType??{}),f=N0(this._lContainer,p?.id??null),g=f?.firstChild??null,C=l.create(d,i,g,o,s,a);return this.insertImpl(C.hostView,u,x0(this._hostTNode,f)),C}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(Jv(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Mt],u=new t1(c,c[_n],c[Mt]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Fw(s,i,o,r),t.attachToViewContainerRef(),Bd(bf(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=j0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Vf(this._lContainer,n);r&&(os(bf(this._lContainer),n),Ry(r[Ee],r))}detach(t){let n=this._adjustIndex(t,-1),r=Vf(this._lContainer,n);return r&&os(bf(this._lContainer),n)!=null?new Ur(r):null}_adjustIndex(t,n=0){return t??this.length+n}};pM=mM,gM=()=>!1;qf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},$f=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Pp(t,n).matches!==null&&this.queries[n].setDirty()}},zf=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=wM(t):this.predicate=t}},Wf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Zf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,vM(n,o)),this.matchTNodeWithReadOption(t,n,$c(n,t,o,!1,!1))}else r===Br?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,$c(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Un||i===Mi||i===Br&&n.type&4)this.addMatch(n.index,-2);else{let o=$c(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};U0=new Set;Ss=class{},Ts=class extends Ss{injector;componentFactoryResolver=new Hf(this);instance=null;constructor(t){super();let n=new ii([...t.providers,{provide:Ss,useValue:this},{provide:Ii,useValue:this.componentFactoryResolver}],t.parent||cs(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};SM=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=$d(!1,n.type),i=r.length>0?i1([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Pe({token:e,providedIn:"environment",factory:()=>new e(Te(Wt))})}return e})();BM=GM;Op=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Op||{}),Ns=new De(""),a1=!1,Yf=class extends mn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,$v()&&(this.destroyRef=Ce(ys,{optional:!0})??void 0,this.pendingTasks=Ce(vi,{optional:!0})??void 0)}emit(t){let n=Se(null);try{super.next(t)}finally{Se(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ft&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},en=Yf;Rp="isAngularZone",nu=Rp+"_ID",HM=0,it=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new en(!1);onMicrotaskEmpty=new en(!1);onStable=new en(!1);onError=new en(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=a1}=t;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,zM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Rp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new de(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,qM,_s,_s);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},qM={};ru=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new en;onMicrotaskEmpty=new en;onStable=new en;onError=new en;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};l1=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}return e})();Fp=new De("");d1=new De(""),Lp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Ce(d1,{optional:!0})??[];injector=Ce(Zn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=to(this.injector,i);if(Si(o))n.push(o);else if(mu(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f1=new De("");JM=10,Ti=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ce(Ln);afterRenderManager=Ce(l1);zonelessEnabled=Ce(Ds);rootEffectScheduler=Ce(vf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new mn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Ce(vi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(mt(n=>!n))}constructor(){Ce(Ns,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Ce(Wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Zn.NULL){return this._injector.get(it).run(()=>{Ye(10);let s=n instanceof gu;if(!this._injector.get(Lp).done){let g="";throw new de(405,g)}let c;s?c=n:c=this._injector.get(Ii).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=g1(c)?void 0:this._injector.get(Ss),l=r||c.selector,d=c.create(i,[],l,u),p=d.location.nativeElement,f=d.injector.get(Fp,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Is(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),Ye(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Op.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new de(101,!1);let n=Se(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Se(n),this.afterTick.next(),Ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ci,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<JM;)Ye(14),this.synchronizeOnce(),Ye(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!oo(i))continue;let o=r&&!this.zonelessEnabled?0:1;wp(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>oo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Is(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(f1,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Is(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new de(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();YM=(e,t,n,r,i,o)=>(vs(!0),My(r,i,m0()));KM=(e,t,n,r)=>(vs(!0),jI(t[nt],""));yi=void 0;eE=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",XM],wf={};ot=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ot||{});Os="en-US",nE=Os;yE=(e,t,n,r,i)=>(vs(!0),LI(t[nt],r));SE=(()=>{class e{zone=Ce(it);changeDetectionScheduler=Ce(Yn);applicationRef=Ce(Ti);applicationErrorHandler=Ce(Ln);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),b1=new De("",{factory:()=>!1});TE=(()=>{class e{subscription=new Ft;initialized=!1;zone=Ce(it);pendingTasks=Ce(vi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),I1=(()=>{class e{applicationErrorHandler=Ce(Ln);appRef=Ce(Ti);taskService=Ce(vi);ngZone=Ce(it);zonelessEnabled=Ce(Ds);tracing=Ce(Ns,{optional:!0});disableScheduling=Ce(hf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ft;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ce(mf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ru||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?G0:c1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,G0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();As=new De("",{providedIn:"root",factory:()=>Ce(As,{optional:!0,skipSelf:!0})||xE()})});function Bn(e){return Sv(e)}function Fs(e,t){return La(e,t?.equal)}var w1,M1=L(()=>{"use strict";zi();Tv();w1=class{[zt];constructor(t){this[zt]=t}destroy(){this[zt].destroy()}}});function Ls(e){return!e.moduleRef}function GE(e){let t=Ls(e)?e.r3Injector:e.moduleRef.injector,n=t.get(it);return n.run(()=>{Ls(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Ln),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ls(e)){let o=()=>t.destroy(),s=e.platformInjector.get(qp);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(qp);s.add(o),e.moduleRef.onDestroy(()=>{Is(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return qE(r,n,()=>{let o=t.get(Lp);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(As,Os);if(h1(s||Os),!t.get(BE,!0))return Ls(e)?t.get(Ti):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ls(e)){let c=t.get(Ti);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return HE?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function qE(e,t,n){try{let r=n();return Si(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}function $E(e=[],t){return Zn.create({name:t,providers:[{provide:as,useValue:"platform"},{provide:qp,useValue:new Set([()=>vu=null])},...e]})}function zE(e=[]){if(vu)return vu;let t=$E(e);return vu=t,p1(),WE(t),t}function WE(e){let t=e.get(au,null);to(e,()=>{t?.forEach(n=>n())})}function ZE(e){return JE(Ut(),je(),(e&16)===16)}function JE(e,t,n){if(Lr(e)&&!n){let r=In(e.index,t);return new Ur(r,r)}else if(e.type&175){let r=t[Cn];return new Ur(r,t)}return null}function E1(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function S1(){return new Kp([new $p])}function T1(){return new _u([new Jp])}function x1(e){Ye(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=zE(r),o=[Up({}),{provide:Yn,useExisting:I1},D0,...n||[]],s=new Ts({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return GE({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Ye(9)}}function k1(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var UE,qp,BE,HE,vu,Du,$p,YE,zp,Wp,Zp,yu,Jp,Yp,Qp,Kp,_u,ze=L(()=>{"use strict";Uc();Uc();Hp();Hp();M1();UE=new De("");UE.__NG_ELEMENT_ID__=e=>{let t=Ut();if(t===null)throw new de(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new de(204,!1)};qp=new De(""),BE=new De("");vu=null;Du=(()=>{class e{static __NG_ELEMENT_ID__=ZE}return e})();$p=class{constructor(){}supports(t){return kp(t)}create(t){return new zp(t)}},YE=(e,t)=>t,zp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||YE}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<E1(r,i,o)?n:r,a=E1(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let p=0;p<u;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;l<=g&&g<u&&(o[p]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!kp(t))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Ky(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Wp(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new yu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Wp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Zp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Zp,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};Jp=class{constructor(){}supports(t){return t instanceof Map||hu(t)}create(){return new Yp}},Yp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||hu(t)))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Qp(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},Qp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};Kp=(()=>{class e{factories;static \u0275prov=Pe({token:e,providedIn:"root",factory:S1});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||S1()),deps:[[e,new rp,new np]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new de(901,!1)}}return e})();_u=(()=>{class e{static \u0275prov=Pe({token:e,providedIn:"root",factory:T1});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||T1()),deps:[[e,new rp,new np]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new de(901,!1)}}return e})();});function Vs(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Ri,Xp=L(()=>{"use strict";Ri=class{}});function QE(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}function P1(e){return encodeURIComponent(e).replace(KE,(t,n)=>XE[n]??t)}function Cu(e){return`${e}`}function eS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function N1(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function O1(e){return typeof Blob<"u"&&e instanceof Blob}function R1(e){return typeof FormData<"u"&&e instanceof FormData}function tS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function eg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive}}function sS(e,t){return t(e)}function aS(e,t,n){return(r,i)=>to(n,()=>t(r,o=>e(o,i)))}function lS(e){return"responseURL"in e&&e.responseURL?e.responseURL:uS.test(e.getAllResponseHeaders())?e.getResponseHeader(L1):null}function mS(e,t){let n=e.url.toLowerCase();if(!Ce(H1)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=Ce(Gs).getToken(),i=Ce(gS);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function ng(...e){let t=[Eu,tg,Mu,{provide:wo,useExisting:Mu},{provide:js,useFactory:()=>Ce(oS,{optional:!0})??Ce(tg)},{provide:U1,useValue:mS,multi:!0},{provide:H1,useValue:!0},{provide:Gs,useClass:hS}];for(let n of e)t.push(...n.\u0275providers);return ss(t)}var wo,js,Hr,bu,KE,XE,_r,Iu,A1,F1,L1,V1,j1,nS,Io,Ai,Mo,wu,Us,Bs,rS,iS,Eu,oS,U1,B1,G1,Mu,cS,uS,tg,H1,dS,fS,pS,gS,Gs,hS,rg=L(()=>{"use strict";ze();ze();Cs();yn();Xp();wo=class{},js=class{},Hr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}},bu=class{encodeKey(t){return P1(t)}encodeValue(t){return P1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};KE=/%(\d[a-f0-9])/gi,XE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};_r=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new bu,t.fromString){if(t.fromObject)throw new de(2805,!1);this.map=QE(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Cu):[Cu(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Cu(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Cu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}},Iu=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};A1="Content-Type",F1="Accept",L1="X-Request-URL",V1="text/plain",j1="application/json",nS=`${j1}, ${V1}, */*`,Io=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(eS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hr,this.context??=new Iu,!this.params)this.params=new _r,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||N1(this.body)||O1(this.body)||R1(this.body)||tS(this.body)?this.body:this.body instanceof _r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||R1(this.body)?null:O1(this.body)?this.body.type||null:N1(this.body)?null:typeof this.body=="string"?V1:this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?j1:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((f,g)=>f.set(g,t.setHeaders[g]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,g)=>f.set(g,t.setParams[g]),d)),new e(n,r,a,{params:d,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:s,keepalive:o})}},Ai=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ai||{}),Mo=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Hr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},wu=class e extends Mo{constructor(t={}){super(t)}type=Ai.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Us=class e extends Mo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ai.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Bs=class extends Mo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},rS=200,iS=204;Eu=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Io)o=n;else{let c;i.headers instanceof Hr?c=i.headers:c=new Hr(i.headers);let u;i.params&&(i.params instanceof _r?u=i.params:u=new _r({fromObject:i.params})),o=new Io(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=fc(o).pipe(md(c=>this.handler.handle(c)));if(n instanceof Io||i.observe==="events")return s;let a=s.pipe(Pr(c=>c instanceof Us));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(mt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new de(2806,!1);return c.body}));case"blob":return a.pipe(mt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new de(2807,!1);return c.body}));case"text":return a.pipe(mt(c=>{if(c.body!==null&&typeof c.body!="string")throw new de(2808,!1);return c.body}));case"json":default:return a.pipe(mt(c=>c.body))}case"response":return a;default:throw new de(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,eg(i,r))}post(n,r,i={}){return this.request("POST",n,eg(i,r))}put(n,r,i={}){return this.request("PUT",n,eg(i,r))}static \u0275fac=function(r){return new(r||e)(Te(wo))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),oS=new De("");U1=new De(""),B1=new De(""),G1=new De("",{providedIn:"root",factory:()=>!0}),Mu=(()=>{class e extends wo{backend;injector;chain=null;pendingTasks=Ce(jc);contributeToStability=Ce(G1);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(U1),...this.injector.get(B1,[])]));this.chain=r.reduceRight((i,o)=>aS(i,o,this.injector),sS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(yd(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(Te(js),Te(Wt))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),cS=/^\)\]\}',?\n/,uS=RegExp(`^${L1}:`,"m");tg=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new de(-2800,!1);n.keepalive;let r=this.xhrFactory;return fc(null).pipe(ts(()=>new Je(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((C,I)=>s.setRequestHeader(C,I.join(","))),n.headers.has(F1)||s.setRequestHeader(F1,nS),!n.headers.has(A1)){let C=n.detectContentTypeHeader();C!==null&&s.setRequestHeader(A1,C)}if(n.responseType){let C=n.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let C=s.statusText||"OK",I=new Hr(s.getAllResponseHeaders()),_=lS(s)||n.url;return c=new wu({headers:I,status:s.status,statusText:C,url:_}),c},l=()=>{let{headers:C,status:I,statusText:_,url:y}=u(),h=null;I!==iS&&(h=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=h?rS:0);let m=I>=200&&I<300;if(n.responseType==="json"&&typeof h=="string"){let D=h;h=h.replace(cS,"");try{h=h!==""?JSON.parse(h):null}catch(v){h=D,m&&(m=!1,h={error:v,text:h})}}m?(o.next(new Us({body:h,headers:C,status:I,statusText:_,url:y||void 0})),o.complete()):o.error(new Bs({error:h,headers:C,status:I,statusText:_,url:y||void 0}))},d=C=>{let{url:I}=u(),_=new Bs({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(_)},p=!1,f=C=>{p||(o.next(u()),p=!0);let I={type:Ai.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(I.total=C.total),n.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),o.next(I)},g=C=>{let I={type:Ai.UploadProgress,loaded:C.loaded};C.lengthComputable&&(I.total=C.total),o.next(I)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Ai.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(Te(Ri))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),H1=new De(""),dS="XSRF-TOKEN",fS=new De("",{providedIn:"root",factory:()=>dS}),pS="X-XSRF-TOKEN",gS=new De("",{providedIn:"root",factory:()=>pS}),Gs=class{},hS=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vs(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(Te(Xt),Te(fS))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})()});var ig=L(()=>{"use strict";rg();rg();});var ir,Hs=L(()=>{"use strict";vm();xr();$o();Ca();ba();ze();ig();ir=class e{constructor(t){this.http=t}getAdminToken(){return ne(this,null,function*(){let t="openim_admin_token",r="openim_admin_token_expiration",i=new Date().getTime(),o=localStorage.getItem(t),s=localStorage.getItem(r);if(o&&s&&parseInt(s,10)>i+3e5)return o;let a=hn.ToUrl("/auth/get_admin_token"),c={secret:wt.secret,userID:wt.adminId};return this.callApi(a,c,!1).then(u=>{if(Nn.IsSuccess(u)){let{token:l,expireTimeSeconds:d}=u.Object,p=i+d*1e3;return localStorage.setItem(r,p.toString()),localStorage.setItem(t,l),l}return null})})}userRegister(t){return ne(this,null,function*(){let n=hn.ToUrl("/user/user_register"),r={secret:wt.secret,users:[{userId:t.userID,gender:t.gender,faceURL:t.faceURL,nickname:t.userID,ex:JSON.stringify({type:t.type,email:t.email,phone:t.phone})}]};return yield this.callApi(n,r)})}updateUserInfo(t){return ne(this,null,function*(){let n=hn.ToUrl("/user/update_user_info_ex"),r={userInfo:{userID:t.userID,gender:t.gender,faceURL:t.faceURL,nickname:t.userID,ex:JSON.stringify({type:t.type,email:t.email,phone:t.phone})}};return yield this.callApi(n,r)})}getUserToken(t){return ne(this,null,function*(){let r="openim_"+t+"_token",i="openim_"+t+"_token_expiration",o=new Date().getTime(),s=hn.ToUrl("/auth/get_user_token"),a={userID:t,platformID:wt.platformId};return this.callApi(s,a).then(c=>ne(this,null,function*(){if(Nn.IsSuccess(c)){let{token:u,expireTimeSeconds:l}=c.Object,d=o+l*1e3;return localStorage.setItem(i,d.toString()),localStorage.setItem(r,u),u}return null}))})}getJoinedRooms(t){return ne(this,null,function*(){let n=hn.ToUrl("/group/get_joined_group_list"),r={fromUserID:t,pagination:{pageNumber:1,showNumber:100}};return yield this.callApi(n,r).then(o=>{if(Nn.IsSuccess(o)){let s=o.Object.groups;return s&&s.length>0&&s.forEach(a=>{a.introduction||(a.introduction="open"),a.symbol=a.ex&&a.ex.indexOf("{")>=0?JSON.parse(a.ex).symbol:a.groupName.substring(0,2),a.bgColor=a.ex&&a.ex.indexOf("{")>=0?JSON.parse(a.ex).bgColor:Ge.getRandomDarkColor()}),s}return null})})}getUserInfos(t){return ne(this,null,function*(){let n=hn.ToUrl("/user/get_users_info"),r={userIDs:t};return yield this.callApi(n,r).then(o=>{if(Nn.IsSuccess(o)){let s=o.Object.usersInfo;return s&&s.length>0&&s.forEach(a=>{a.email=a.ex?JSON.parse(a.ex).email:"",a.phone=a.ex?JSON.parse(a.ex).phone:"",a.type=a.ex?JSON.parse(a.ex).type:"customer"}),s}return null})})}createRoom(t){return ne(this,null,function*(){let n=t.ownerUserID.substring(0,1),r=t.memberUserIDs[0].substring(0,1),i=hn.ToUrl("/group/create_group"),o={ownerUserID:t.ownerUserID,memberUserIDs:t.memberUserIDs,adminUserIDs:[wt.adminId],groupInfo:{groupType:2,lookMemberInfo:1,needVerification:0,applyMemberFriend:1,introduction:"open",groupName:t.groupName,ex:JSON.stringify({bgColor:t.bgColor,symbol:n+r}),groupID:"RO_"+Ge.createUniqueId()}};return yield this.callApi(i,o)})}getUsers(t=1e3){return ne(this,null,function*(){let n=hn.ToUrl("/user/get_users"),r={pagination:{pageNumber:1,showNumber:t}};return yield this.callApi(n,r).then(o=>{if(Nn.IsSuccess(o)){let s=o.Object.users;return s&&s.length>0&&s.forEach(a=>{a.email=a.ex?JSON.parse(a.ex).email:"",a.phone=a.ex?JSON.parse(a.ex).phone:"",a.type=a.ex?JSON.parse(a.ex).type:"customer"}),s}return null})})}getOnlineUsers(t){return ne(this,null,function*(){let n=hn.ToUrl("/user/get_users_online_status"),r={userIDs:t};return yield this.callApi(n,r).then(o=>Nn.IsSuccess(o)?o.Object.users:null)})}callApi(t,n,r=!0){return ne(this,null,function*(){n||(n={});let i={operationID:Ge.createUniqueId()};return r&&(i.token=yield this.getAdminToken()),yield this.http.post(t,n,{headers:i}).toPromise().then(o=>Nn.ToEntity(o)).catch(o=>ne(this,null,function*(){return Nn.ToException(o)}))})}static \u0275fac=function(n){return new(n||e)(Te(Eu))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}});var z1=vl(($1,Su)=>{"use strict";(function(e,t){"use strict";typeof define=="function"&&define.amd?define(t):typeof Su=="object"&&Su.exports?Su.exports=t():e.log=t()})($1,function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},o=null;function s(g,C){var I=g[C];if(typeof I.bind=="function")return I.bind(g);try{return Function.prototype.bind.call(I,g)}catch{return function(){return Function.prototype.apply.apply(I,[g,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(g){return g==="debug"&&(g="log"),typeof console===t?!1:g==="trace"&&n?a:console[g]!==void 0?s(console,g):console.log!==void 0?s(console,"log"):e}function u(){for(var g=this.getLevel(),C=0;C<r.length;C++){var I=r[C];this[I]=C<g?e:this.methodFactory(I,g,this.name)}if(this.log=this.debug,typeof console===t&&g<this.levels.SILENT)return"No console available for logging"}function l(g){return function(){typeof console!==t&&(u.call(this),this[g].apply(this,arguments))}}function d(g,C,I){return c(g)||l.apply(this,arguments)}function p(g,C){var I=this,_,y,h,m="loglevel";typeof g=="string"?m+=":"+g:typeof g=="symbol"&&(m=void 0);function D(O){var j=(r[O]||"silent").toUpperCase();if(!(typeof window===t||!m)){try{window.localStorage[m]=j;return}catch{}try{window.document.cookie=encodeURIComponent(m)+"="+j+";"}catch{}}}function v(){var O;if(!(typeof window===t||!m)){try{O=window.localStorage[m]}catch{}if(typeof O===t)try{var j=window.document.cookie,U=encodeURIComponent(m),Q=j.indexOf(U+"=");Q!==-1&&(O=/^([^;]+)/.exec(j.slice(Q+U.length+1))[1])}catch{}return I.levels[O]===void 0&&(O=void 0),O}}function T(){if(!(typeof window===t||!m)){try{window.localStorage.removeItem(m)}catch{}try{window.document.cookie=encodeURIComponent(m)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function S(O){var j=O;if(typeof j=="string"&&I.levels[j.toUpperCase()]!==void 0&&(j=I.levels[j.toUpperCase()]),typeof j=="number"&&j>=0&&j<=I.levels.SILENT)return j;throw new TypeError("log.setLevel() called with invalid level: "+O)}I.name=g,I.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},I.methodFactory=C||d,I.getLevel=function(){return h??y??_},I.setLevel=function(O,j){return h=S(O),j!==!1&&D(h),u.call(I)},I.setDefaultLevel=function(O){y=S(O),v()||I.setLevel(O,!1)},I.resetLevel=function(){h=null,T(),u.call(I)},I.enableAll=function(O){I.setLevel(I.levels.TRACE,O)},I.disableAll=function(O){I.setLevel(I.levels.SILENT,O)},I.rebuild=function(){if(o!==I&&(_=S(o.getLevel())),u.call(I),o===I)for(var O in i)i[O].rebuild()},_=S(o?o.getLevel():"WARN");var F=v();F!=null&&(h=S(F)),u.call(I)}o=new p,o.getLogger=function(C){if(typeof C!="symbol"&&typeof C!="string"||C==="")throw new TypeError("You must supply a name when creating a logger.");var I=i[C];return I||(I=i[C]=new p(C,o.methodFactory)),I};var f=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=f),o},o.getLoggers=function(){return i},o.default=o,o})});var J1=vl((W1,Z1)=>{"use strict";(function(e){if(typeof W1=="object")Z1.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}})(function(e){"use strict";var t=function(_,y){return _+y&4294967295},n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(_,y,h,m,D,v){return y=t(t(y,_),t(m,v)),t(y<<D|y>>>32-D,h)}function i(_,y){var h=_[0],m=_[1],D=_[2],v=_[3];h+=(m&D|~m&v)+y[0]-680876936|0,h=(h<<7|h>>>25)+m|0,v+=(h&m|~h&D)+y[1]-389564586|0,v=(v<<12|v>>>20)+h|0,D+=(v&h|~v&m)+y[2]+606105819|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&h)+y[3]-1044525330|0,m=(m<<22|m>>>10)+D|0,h+=(m&D|~m&v)+y[4]-176418897|0,h=(h<<7|h>>>25)+m|0,v+=(h&m|~h&D)+y[5]+1200080426|0,v=(v<<12|v>>>20)+h|0,D+=(v&h|~v&m)+y[6]-1473231341|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&h)+y[7]-45705983|0,m=(m<<22|m>>>10)+D|0,h+=(m&D|~m&v)+y[8]+1770035416|0,h=(h<<7|h>>>25)+m|0,v+=(h&m|~h&D)+y[9]-1958414417|0,v=(v<<12|v>>>20)+h|0,D+=(v&h|~v&m)+y[10]-42063|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&h)+y[11]-1990404162|0,m=(m<<22|m>>>10)+D|0,h+=(m&D|~m&v)+y[12]+1804603682|0,h=(h<<7|h>>>25)+m|0,v+=(h&m|~h&D)+y[13]-40341101|0,v=(v<<12|v>>>20)+h|0,D+=(v&h|~v&m)+y[14]-1502002290|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&h)+y[15]+1236535329|0,m=(m<<22|m>>>10)+D|0,h+=(m&v|D&~v)+y[1]-165796510|0,h=(h<<5|h>>>27)+m|0,v+=(h&D|m&~D)+y[6]-1069501632|0,v=(v<<9|v>>>23)+h|0,D+=(v&m|h&~m)+y[11]+643717713|0,D=(D<<14|D>>>18)+v|0,m+=(D&h|v&~h)+y[0]-373897302|0,m=(m<<20|m>>>12)+D|0,h+=(m&v|D&~v)+y[5]-701558691|0,h=(h<<5|h>>>27)+m|0,v+=(h&D|m&~D)+y[10]+38016083|0,v=(v<<9|v>>>23)+h|0,D+=(v&m|h&~m)+y[15]-660478335|0,D=(D<<14|D>>>18)+v|0,m+=(D&h|v&~h)+y[4]-405537848|0,m=(m<<20|m>>>12)+D|0,h+=(m&v|D&~v)+y[9]+568446438|0,h=(h<<5|h>>>27)+m|0,v+=(h&D|m&~D)+y[14]-1019803690|0,v=(v<<9|v>>>23)+h|0,D+=(v&m|h&~m)+y[3]-187363961|0,D=(D<<14|D>>>18)+v|0,m+=(D&h|v&~h)+y[8]+1163531501|0,m=(m<<20|m>>>12)+D|0,h+=(m&v|D&~v)+y[13]-1444681467|0,h=(h<<5|h>>>27)+m|0,v+=(h&D|m&~D)+y[2]-51403784|0,v=(v<<9|v>>>23)+h|0,D+=(v&m|h&~m)+y[7]+1735328473|0,D=(D<<14|D>>>18)+v|0,m+=(D&h|v&~h)+y[12]-1926607734|0,m=(m<<20|m>>>12)+D|0,h+=(m^D^v)+y[5]-378558|0,h=(h<<4|h>>>28)+m|0,v+=(h^m^D)+y[8]-2022574463|0,v=(v<<11|v>>>21)+h|0,D+=(v^h^m)+y[11]+1839030562|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^h)+y[14]-35309556|0,m=(m<<23|m>>>9)+D|0,h+=(m^D^v)+y[1]-1530992060|0,h=(h<<4|h>>>28)+m|0,v+=(h^m^D)+y[4]+1272893353|0,v=(v<<11|v>>>21)+h|0,D+=(v^h^m)+y[7]-155497632|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^h)+y[10]-1094730640|0,m=(m<<23|m>>>9)+D|0,h+=(m^D^v)+y[13]+681279174|0,h=(h<<4|h>>>28)+m|0,v+=(h^m^D)+y[0]-358537222|0,v=(v<<11|v>>>21)+h|0,D+=(v^h^m)+y[3]-722521979|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^h)+y[6]+76029189|0,m=(m<<23|m>>>9)+D|0,h+=(m^D^v)+y[9]-640364487|0,h=(h<<4|h>>>28)+m|0,v+=(h^m^D)+y[12]-421815835|0,v=(v<<11|v>>>21)+h|0,D+=(v^h^m)+y[15]+530742520|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^h)+y[2]-995338651|0,m=(m<<23|m>>>9)+D|0,h+=(D^(m|~v))+y[0]-198630844|0,h=(h<<6|h>>>26)+m|0,v+=(m^(h|~D))+y[7]+1126891415|0,v=(v<<10|v>>>22)+h|0,D+=(h^(v|~m))+y[14]-1416354905|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~h))+y[5]-57434055|0,m=(m<<21|m>>>11)+D|0,h+=(D^(m|~v))+y[12]+1700485571|0,h=(h<<6|h>>>26)+m|0,v+=(m^(h|~D))+y[3]-1894986606|0,v=(v<<10|v>>>22)+h|0,D+=(h^(v|~m))+y[10]-1051523|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~h))+y[1]-2054922799|0,m=(m<<21|m>>>11)+D|0,h+=(D^(m|~v))+y[8]+1873313359|0,h=(h<<6|h>>>26)+m|0,v+=(m^(h|~D))+y[15]-30611744|0,v=(v<<10|v>>>22)+h|0,D+=(h^(v|~m))+y[6]-1560198380|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~h))+y[13]+1309151649|0,m=(m<<21|m>>>11)+D|0,h+=(D^(m|~v))+y[4]-145523070|0,h=(h<<6|h>>>26)+m|0,v+=(m^(h|~D))+y[11]-1120210379|0,v=(v<<10|v>>>22)+h|0,D+=(h^(v|~m))+y[2]+718787259|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~h))+y[9]-343485551|0,m=(m<<21|m>>>11)+D|0,_[0]=h+_[0]|0,_[1]=m+_[1]|0,_[2]=D+_[2]|0,_[3]=v+_[3]|0}function o(_){var y=[],h;for(h=0;h<64;h+=4)y[h>>2]=_.charCodeAt(h)+(_.charCodeAt(h+1)<<8)+(_.charCodeAt(h+2)<<16)+(_.charCodeAt(h+3)<<24);return y}function s(_){var y=[],h;for(h=0;h<64;h+=4)y[h>>2]=_[h]+(_[h+1]<<8)+(_[h+2]<<16)+(_[h+3]<<24);return y}function a(_){var y=_.length,h=[1732584193,-271733879,-1732584194,271733878],m,D,v,T,S,F;for(m=64;m<=y;m+=64)i(h,o(_.substring(m-64,m)));for(_=_.substring(m-64),D=_.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0;m<D;m+=1)v[m>>2]|=_.charCodeAt(m)<<(m%4<<3);if(v[m>>2]|=128<<(m%4<<3),m>55)for(i(h,v),m=0;m<16;m+=1)v[m]=0;return T=y*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(T[2],16),F=parseInt(T[1],16)||0,v[14]=S,v[15]=F,i(h,v),h}function c(_){var y=_.length,h=[1732584193,-271733879,-1732584194,271733878],m,D,v,T,S,F;for(m=64;m<=y;m+=64)i(h,s(_.subarray(m-64,m)));for(_=m-64<y?_.subarray(m-64):new Uint8Array(0),D=_.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0;m<D;m+=1)v[m>>2]|=_[m]<<(m%4<<3);if(v[m>>2]|=128<<(m%4<<3),m>55)for(i(h,v),m=0;m<16;m+=1)v[m]=0;return T=y*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(T[2],16),F=parseInt(T[1],16)||0,v[14]=S,v[15]=F,i(h,v),h}function u(_){var y="",h;for(h=0;h<4;h+=1)y+=n[_>>h*8+4&15]+n[_>>h*8&15];return y}function l(_){var y;for(y=0;y<_.length;y+=1)_[y]=u(_[y]);return _.join("")}l(a("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(t=function(_,y){var h=(_&65535)+(y&65535),m=(_>>16)+(y>>16)+(h>>16);return m<<16|h&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function _(y,h){return y=y|0||0,y<0?Math.max(y+h,0):Math.min(y,h)}ArrayBuffer.prototype.slice=function(y,h){var m=this.byteLength,D=_(y,m),v=m,T,S,F,O;return h!==e&&(v=_(h,m)),D>v?new ArrayBuffer(0):(T=v-D,S=new ArrayBuffer(T),F=new Uint8Array(S),O=new Uint8Array(this,D,T),F.set(O),S)}}();function d(_){return/[\u0080-\uFFFF]/.test(_)&&(_=unescape(encodeURIComponent(_))),_}function p(_,y){var h=_.length,m=new ArrayBuffer(h),D=new Uint8Array(m),v;for(v=0;v<h;v+=1)D[v]=_.charCodeAt(v);return y?D:m}function f(_){return String.fromCharCode.apply(null,new Uint8Array(_))}function g(_,y,h){var m=new Uint8Array(_.byteLength+y.byteLength);return m.set(new Uint8Array(_)),m.set(new Uint8Array(y),_.byteLength),h?m:m.buffer}function C(_){var y=[],h=_.length,m;for(m=0;m<h-1;m+=2)y.push(parseInt(_.substr(m,2),16));return String.fromCharCode.apply(String,y)}function I(){this.reset()}return I.prototype.append=function(_){return this.appendBinary(d(_)),this},I.prototype.appendBinary=function(_){this._buff+=_,this._length+=_.length;var y=this._buff.length,h;for(h=64;h<=y;h+=64)i(this._hash,o(this._buff.substring(h-64,h)));return this._buff=this._buff.substring(h-64),this},I.prototype.end=function(_){var y=this._buff,h=y.length,m,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v;for(m=0;m<h;m+=1)D[m>>2]|=y.charCodeAt(m)<<(m%4<<3);return this._finish(D,h),v=l(this._hash),_&&(v=C(v)),this.reset(),v},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},I.prototype.setState=function(_){return this._buff=_.buff,this._length=_.length,this._hash=_.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(_,y){var h=y,m,D,v;if(_[h>>2]|=128<<(h%4<<3),h>55)for(i(this._hash,_),h=0;h<16;h+=1)_[h]=0;m=this._length*8,m=m.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(m[2],16),v=parseInt(m[1],16)||0,_[14]=D,_[15]=v,i(this._hash,_)},I.hash=function(_,y){return I.hashBinary(d(_),y)},I.hashBinary=function(_,y){var h=a(_),m=l(h);return y?C(m):m},I.ArrayBuffer=function(){this.reset()},I.ArrayBuffer.prototype.append=function(_){var y=g(this._buff.buffer,_,!0),h=y.length,m;for(this._length+=_.byteLength,m=64;m<=h;m+=64)i(this._hash,s(y.subarray(m-64,m)));return this._buff=m-64<h?new Uint8Array(y.buffer.slice(m-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(_){var y=this._buff,h=y.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D,v;for(D=0;D<h;D+=1)m[D>>2]|=y[D]<<(D%4<<3);return this._finish(m,h),v=l(this._hash),_&&(v=C(v)),this.reset(),v},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var _=I.prototype.getState.call(this);return _.buff=f(_.buff),_},I.ArrayBuffer.prototype.setState=function(_){return _.buff=p(_.buff,!0),I.prototype.setState.call(this,_)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(_,y){var h=c(new Uint8Array(_)),m=l(h);return y?C(m):m},I})});var Eo,$s,qs,Y1,Q1,K1=L(()=>{"use strict";Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(qs=0;qs<Eo.length;qs++)$s[Eo.charCodeAt(qs)]=qs;Y1=function(e){var t=new Uint8Array(e),n,r=t.length,i="";for(n=0;n<r;n+=3)i+=Eo[t[n]>>2],i+=Eo[(t[n]&3)<<4|t[n+1]>>4],i+=Eo[(t[n+1]&15)<<2|t[n+2]>>6],i+=Eo[t[n+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i},Q1=function(e){var t=e.length*.75,n=e.length,r,i=0,o,s,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=new ArrayBuffer(t),l=new Uint8Array(u);for(r=0;r<n;r+=4)o=$s[e.charCodeAt(r)],s=$s[e.charCodeAt(r+1)],a=$s[e.charCodeAt(r+2)],c=$s[e.charCodeAt(r+3)],l[i++]=o<<2|s>>4,l[i++]=(s&15)<<4|a>>2,l[i++]=(a&3)<<6|c&63;return u}});function tD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(i,o){if(i){if(typeof i=="string")return tD(i,o);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?tD(i,o):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yS(){for(var e=0,t=0,n=0;n<28;n+=7){var r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}var i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,!(128&i))return this.assertBounds(),[e,t];for(var o=3;o<=31;o+=7){var s=this.buf[this.pos++];if(t|=(127&s)<<o,!(128&s))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function sg(e,t,n){for(var r=0;r<28;r+=7){var i=e>>>r,o=!(!(i>>>7)&&t==0);if(n.push(255&(o?128|i:i)),!o)return}var s=e>>>28&15|(7&t)<<4,a=!!(t>>3);if(n.push(255&(a?128|s:s)),a){for(var c=3;c<31;c+=7){var u=t>>>c,l=!!(u>>>7);if(n.push(255&(l?128|u:u)),!l)return}n.push(t>>>31&1)}}function nD(e){var t=e[0]==="-";t&&(e=e.slice(1));var n=1e6,r=0,i=0;function o(s,a){var c=Number(e.slice(s,a));i*=n,(r=r*n+c)>=xu&&(i+=r/xu|0,r%=xu)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?lD(r,i):$g(r,i)}function rD(e,t){var n=function(u,l){return{lo:u>>>0,hi:l>>>0}}(e,t);if(e=n.lo,(t=n.hi)<=2097151)return String(xu*t+e);var r=16777215&(e>>>24|t<<8),i=t>>16&65535,o=(16777215&e)+6777216*r+6710656*i,s=r+8147497*i,a=2*i,c=1e7;return o>=c&&(s+=Math.floor(o/c),o%=c),s>=c&&(a+=Math.floor(s/c),s%=c),a.toString()+iD(s)+iD(o)}function $g(e,t){return{lo:0|e,hi:0|t}}function lD(e,t){return t=~t,e?e=1+~e:t+=1,$g(e,t)}function oD(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(var n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function DS(){var e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<7,!(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<14,!(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<21,!(128&e))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(var n=5;128&e&&n<10;n++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function _S(){var e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){var t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),i=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse:function(o){var s=typeof o=="bigint"?o:BigInt(o);if(s>n||s<t)throw new Error("invalid int64: "+o);return s},uParse:function(o){var s=typeof o=="bigint"?o:BigInt(o);if(s>i||s<r)throw new Error("invalid uint64: "+o);return s},enc:function(o){return e.setBigInt64(0,this.parse(o),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc:function(o){return e.setBigInt64(0,this.uParse(o),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:function(o,s){return e.setInt32(0,o,!0),e.setInt32(4,s,!0),e.getBigInt64(0,!0)},uDec:function(o,s){return e.setInt32(0,o,!0),e.setInt32(4,s,!0),e.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse:function(o){return typeof o!="string"&&(o=o.toString()),sD(o),o},uParse:function(o){return typeof o!="string"&&(o=o.toString()),aD(o),o},enc:function(o){return typeof o!="string"&&(o=o.toString()),sD(o),nD(o)},uEnc:function(o){return typeof o!="string"&&(o=o.toString()),aD(o),nD(o)},dec:function(o,s){return function(a,c){var u=$g(a,c),l=2147483648&u.hi;l&&(u=lD(u.lo,u.hi));var d=rD(u.lo,u.hi);return l?"-"+d:d}(o,s)},uDec:function(o,s){return rD(o,s)}}}function sD(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function aD(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}function dD(){if(globalThis[ag]==null){var e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[ag]={encodeUtf8:function(n){return e.encode(n)},decodeUtf8:function(n){return t.decode(n)},checkUtf8:function(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[ag]}function cg(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int32: "+e)}function cD(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint32: "+e)}function qe(e){var t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}var Tu,X1,eD,ug,uD,xu,iD,Mn,qr,ag,ae,A,Gt,lg,zs,dg,CS,fg,pg,bS,IS,gg,hg,nn,wS,mg,vg,yg,MS,Dg,_g,Cg,Ws,Zs,ES,SS,bg,TS,xS,Ig,wg,kS,Mg,Eg,PS,Sg,Tg,xg,kg,Pg,Ng,Og,Rg,Ag,NS,Fg,Lg,Vg,jg,Ug,Bg,Gg,Ht,qt,Hg,qg,OS,RS,st,fD=L(()=>{"use strict";Tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:void 0,X1=function(){function e(){}return e.prototype.decode=function(t){if(!ArrayBuffer.isView(t)){var n=Object.prototype.toString.call(t);if(n!=="[object ArrayBuffer]"&&n!=="[object SharedArrayBuffer]"&&n!=="[object Object]")throw new TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");t=new Uint8Array(t)}for(var r=t,i=[],o=0,s=r.length;o<s;){var a=r[o],c=void 0;if(128&a){if((224&a)==192)c=(31&a)<<6|63&r[o+1],o+=2;else if((240&a)==224)c=(15&a)<<12|(63&r[o+1])<<6|63&r[o+2],o+=3;else{if((248&a)!=240){i.push(65533),o++;continue}c=(7&a)<<18|(63&r[o+1])<<12|(63&r[o+2])<<6|63&r[o+3],o+=4}if(c>65535){var u=c-65536;i.push(55296+(u>>10)),i.push(56320+(1023&u))}else i.push(c)}else i.push(a),o++}return String.fromCharCode.apply(String,i)},e}(),eD=function(){function e(){}return e.prototype.encode=function(t){for(var n=[],r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<t.length){var o=t.charCodeAt(r+1);o>=56320&&o<=57343&&(i=o-56320+(i-55296<<10)+65536,r++)}i<=127?n.push(i):i<=2047?(n.push(192|i>>6),n.push(128|63&i)):i<=65535?(n.push(224|i>>12),n.push(128|i>>6&63),n.push(128|63&i)):(n.push(240|i>>18),n.push(128|i>>12&63),n.push(128|i>>6&63),n.push(128|63&i))}return new Uint8Array(n)},e}(),Tu.TextDecoder||(Tu.TextDecoder=X1,Tu.TextEncoder=eD);(function(e){e[e.PullOrderAsc=0]="PullOrderAsc",e[e.PullOrderDesc=1]="PullOrderDesc",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ug||(ug={}));uD={__proto__:null,protobufPackage:"openim.sdkws",get PullOrder(){return ug}};xu=4294967296;iD=function(e){var t=String(e);return"0000000".slice(t.length)+t};Mn=_S();ag=Symbol.for("@bufbuild/protobuf/text-encoding");(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(qr||(qr={}));ae=function(){function e(n){n===void 0&&(n=dD().encodeUtf8),this.encodeUtf8=void 0,this.chunks=void 0,this.buf=void 0,this.stack=[],this.encodeUtf8=n,this.chunks=[],this.buf=[]}var t=e.prototype;return t.finish=function(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);for(var n=0,r=0;r<this.chunks.length;r++)n+=this.chunks[r].length;for(var i=new Uint8Array(n),o=0,s=0;s<this.chunks.length;s++)i.set(this.chunks[s],o),o+=this.chunks[s].length;return this.chunks=[],i},t.fork=function(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this},t.join=function(){var n=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(n.byteLength),this.raw(n)},t.tag=function(n,r){return this.uint32((n<<3|r)>>>0)},t.raw=function(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this},t.uint32=function(n){for(cD(n);n>127;)this.buf.push(127&n|128),n>>>=7;return this.buf.push(n),this},t.int32=function(n){return cg(n),oD(n,this.buf),this},t.bool=function(n){return this.buf.push(n?1:0),this},t.bytes=function(n){return this.uint32(n.byteLength),this.raw(n)},t.string=function(n){var r=this.encodeUtf8(n);return this.uint32(r.byteLength),this.raw(r)},t.float=function(n){(function(i){if(typeof i=="string"){var o=i;if(i=Number(i),isNaN(i)&&o!=="NaN")throw new Error("invalid float32: "+o)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>34028234663852886e22||i<-34028234663852886e22))throw new Error("invalid float32: "+i)})(n);var r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,n,!0),this.raw(r)},t.double=function(n){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,n,!0),this.raw(r)},t.fixed32=function(n){cD(n);var r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,n,!0),this.raw(r)},t.sfixed32=function(n){cg(n);var r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,n,!0),this.raw(r)},t.sint32=function(n){return cg(n),oD(n=(n<<1^n>>31)>>>0,this.buf),this},t.sfixed64=function(n){var r=new Uint8Array(8),i=new DataView(r.buffer),o=Mn.enc(n);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(r)},t.fixed64=function(n){var r=new Uint8Array(8),i=new DataView(r.buffer),o=Mn.uEnc(n);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(r)},t.int64=function(n){var r=Mn.enc(n);return sg(r.lo,r.hi,this.buf),this},t.sint64=function(n){var r=Mn.enc(n),i=r.hi>>31;return sg(r.lo<<1^i,(r.hi<<1|r.lo>>>31)^i,this.buf),this},t.uint64=function(n){var r=Mn.uEnc(n);return sg(r.lo,r.hi,this.buf),this},e}(),A=function(){function e(n,r){r===void 0&&(r=dD().decodeUtf8),this.decodeUtf8=void 0,this.pos=void 0,this.len=void 0,this.buf=void 0,this.view=void 0,this.varint64=yS,this.uint32=DS,this.decodeUtf8=r,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength)}var t=e.prototype;return t.tag=function(){var n=this.uint32(),r=n>>>3,i=7&n;if(r<=0||i<0||i>5)throw new Error("illegal tag: field no "+r+" wire type "+i);return[r,i]},t.skip=function(n,r){var i=this.pos;switch(n){case qr.Varint:for(;128&this.buf[this.pos++];);break;case qr.Bit64:this.pos+=4;case qr.Bit32:this.pos+=4;break;case qr.LengthDelimited:var o=this.uint32();this.pos+=o;break;case qr.StartGroup:for(;;){var s=this.tag(),a=s[0],c=s[1];if(c===qr.EndGroup){if(r!==void 0&&a!==r)throw new Error("invalid end group tag");break}this.skip(c,a)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)},t.assertBounds=function(){if(this.pos>this.len)throw new RangeError("premature EOF")},t.int32=function(){return 0|this.uint32()},t.sint32=function(){var n=this.uint32();return n>>>1^-(1&n)},t.int64=function(){return Mn.dec.apply(Mn,this.varint64())},t.uint64=function(){return Mn.uDec.apply(Mn,this.varint64())},t.sint64=function(){var n=this.varint64(),r=n[0],i=n[1],o=-(1&r);return Mn.dec(r=(r>>>1|(1&i)<<31)^o,i=i>>>1^o)},t.bool=function(){var n=this.varint64();return n[0]!==0||n[1]!==0},t.fixed32=function(){return this.view.getUint32((this.pos+=4)-4,!0)},t.sfixed32=function(){return this.view.getInt32((this.pos+=4)-4,!0)},t.fixed64=function(){return Mn.uDec(this.sfixed32(),this.sfixed32())},t.sfixed64=function(){return Mn.dec(this.sfixed32(),this.sfixed32())},t.float=function(){return this.view.getFloat32((this.pos+=4)-4,!0)},t.double=function(){return this.view.getFloat64((this.pos+=8)-8,!0)},t.bytes=function(){var n=this.uint32(),r=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(r,r+n)},t.string=function(){return this.decodeUtf8(this.bytes())},e}();Gt={encode:function(e,t){return t===void 0&&(t=new ae),e.title!==""&&t.uint32(10).string(e.title),e.desc!==""&&t.uint32(18).string(e.desc),e.ex!==""&&t.uint32(26).string(e.ex),e.iOSPushSound!==""&&t.uint32(34).string(e.iOSPushSound),e.iOSBadgeCount!==!1&&t.uint32(40).bool(e.iOSBadgeCount),e.signalInfo!==""&&t.uint32(50).string(e.signalInfo),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={title:"",desc:"",ex:"",iOSPushSound:"",iOSBadgeCount:!1,signalInfo:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.title=n.string();continue;case 2:if(o!==18)break;i.desc=n.string();continue;case 3:if(o!==26)break;i.ex=n.string();continue;case 4:if(o!==34)break;i.iOSPushSound=n.string();continue;case 5:if(o!==40)break;i.iOSBadgeCount=n.bool();continue;case 6:if(o!==50)break;i.signalInfo=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},lg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==!1&&t.uint32(16).bool(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==16)break;i.value=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},zs={encode:function(e,t){t===void 0&&(t=new ae),e.sendID!==""&&t.uint32(10).string(e.sendID),e.recvID!==""&&t.uint32(18).string(e.recvID),e.groupID!==""&&t.uint32(26).string(e.groupID),e.clientMsgID!==""&&t.uint32(34).string(e.clientMsgID),e.serverMsgID!==""&&t.uint32(42).string(e.serverMsgID),e.senderPlatformID!==0&&t.uint32(48).int32(e.senderPlatformID),e.senderNickname!==""&&t.uint32(58).string(e.senderNickname),e.senderFaceURL!==""&&t.uint32(66).string(e.senderFaceURL),e.sessionType!==0&&t.uint32(72).int32(e.sessionType),e.msgFrom!==0&&t.uint32(80).int32(e.msgFrom),e.contentType!==0&&t.uint32(88).int32(e.contentType),e.content.length!==0&&t.uint32(98).bytes(e.content),e.seq!==0&&t.uint32(112).int64(e.seq),e.sendTime!==0&&t.uint32(120).int64(e.sendTime),e.createTime!==0&&t.uint32(128).int64(e.createTime),e.status!==0&&t.uint32(136).int32(e.status),e.isRead!==!1&&t.uint32(144).bool(e.isRead),Object.entries(e.options).forEach(function(c){lg.encode({key:c[0],value:c[1]},t.uint32(154).fork()).join()}),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(162).fork()).join();for(var n,r=Dt(e.atUserIDList);!(n=r()).done;){var i=n.value;t.uint32(170).string(i)}e.attachedInfo!==""&&t.uint32(178).string(e.attachedInfo),e.ex!==""&&t.uint32(186).string(e.ex),e.keyVersion!==0&&t.uint32(320).int32(e.keyVersion);for(var o,s=Dt(e.dstUserIDs);!(o=s()).done;){var a=o.value;t.uint32(330).string(a)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={sendID:"",recvID:"",groupID:"",clientMsgID:"",serverMsgID:"",senderPlatformID:0,senderNickname:"",senderFaceURL:"",sessionType:0,msgFrom:0,contentType:0,content:new Uint8Array(0),seq:0,sendTime:0,createTime:0,status:0,isRead:!1,options:{},offlinePushInfo:void 0,atUserIDList:[],attachedInfo:"",ex:"",keyVersion:0,dstUserIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.sendID=n.string();continue;case 2:if(o!==18)break;i.recvID=n.string();continue;case 3:if(o!==26)break;i.groupID=n.string();continue;case 4:if(o!==34)break;i.clientMsgID=n.string();continue;case 5:if(o!==42)break;i.serverMsgID=n.string();continue;case 6:if(o!==48)break;i.senderPlatformID=n.int32();continue;case 7:if(o!==58)break;i.senderNickname=n.string();continue;case 8:if(o!==66)break;i.senderFaceURL=n.string();continue;case 9:if(o!==72)break;i.sessionType=n.int32();continue;case 10:if(o!==80)break;i.msgFrom=n.int32();continue;case 11:if(o!==88)break;i.contentType=n.int32();continue;case 12:if(o!==98)break;i.content=n.bytes();continue;case 14:if(o!==112)break;i.seq=qe(n.int64());continue;case 15:if(o!==120)break;i.sendTime=qe(n.int64());continue;case 16:if(o!==128)break;i.createTime=qe(n.int64());continue;case 17:if(o!==136)break;i.status=n.int32();continue;case 18:if(o!==144)break;i.isRead=n.bool();continue;case 19:if(o!==154)break;var s=lg.decode(n,n.uint32());s.value!==void 0&&(i.options[s.key]=s.value);continue;case 20:if(o!==162)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 21:if(o!==170)break;i.atUserIDList.push(n.string());continue;case 22:if(o!==178)break;i.attachedInfo=n.string();continue;case 23:if(o!==186)break;i.ex=n.string();continue;case 40:if(o!==320)break;i.keyVersion=n.int32();continue;case 41:if(o!==330)break;i.dstUserIDs.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},dg={encode:function(e,t){return t===void 0&&(t=new ae),e.conversationID!==""&&t.uint32(10).string(e.conversationID),e.begin!==0&&t.uint32(16).int64(e.begin),e.end!==0&&t.uint32(24).int64(e.end),e.num!==0&&t.uint32(32).int64(e.num),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={conversationID:"",begin:0,end:0,num:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.conversationID=n.string();continue;case 2:if(o!==16)break;i.begin=qe(n.int64());continue;case 3:if(o!==24)break;i.end=qe(n.int64());continue;case 4:if(o!==32)break;i.num=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},CS={encode:function(e,t){t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID);for(var n,r=Dt(e.seqRanges);!(n=r()).done;)dg.encode(n.value,t.uint32(18).fork()).join();return e.order!==0&&t.uint32(24).int32(e.order),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",seqRanges:[],order:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.seqRanges.push(dg.decode(n,n.uint32()));continue;case 3:if(o!==24)break;i.order=n.int32();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},fg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==0&&t.uint32(16).int64(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==16)break;i.value=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},pg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==0&&t.uint32(16).int64(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==16)break;i.value=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},bS={encode:function(e,t){return t===void 0&&(t=new ae),Object.entries(e.maxSeqs).forEach(function(n){fg.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.minSeqs).forEach(function(n){pg.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={maxSeqs:{},minSeqs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=fg.decode(n,n.uint32());s.value!==void 0&&(i.maxSeqs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=pg.decode(n,n.uint32());a.value!==void 0&&(i.minSeqs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},IS={encode:function(e,t){return t===void 0&&(t=new ae),Object.entries(e.msgs).forEach(function(n){gg.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.notificationMsgs).forEach(function(n){hg.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={msgs:{},notificationMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=gg.decode(n,n.uint32());s.value!==void 0&&(i.msgs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=hg.decode(n,n.uint32());a.value!==void 0&&(i.notificationMsgs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},gg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},hg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},nn={encode:function(e,t){t===void 0&&(t=new ae);for(var n,r=Dt(e.Msgs);!(n=r()).done;)zs.encode(n.value,t.uint32(10).fork()).join();return e.isEnd!==!1&&t.uint32(16).bool(e.isEnd),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={Msgs:[],isEnd:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.Msgs.push(zs.decode(n,n.uint32()));continue;case 2:if(o!==16)break;i.isEnd=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},wS={encode:function(e,t){return t===void 0&&(t=new ae),Object.entries(e.msgs).forEach(function(n){mg.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.notificationMsgs).forEach(function(n){vg.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={msgs:{},notificationMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=mg.decode(n,n.uint32());s.value!==void 0&&(i.msgs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=vg.decode(n,n.uint32());a.value!==void 0&&(i.notificationMsgs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},mg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},vg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},yg={encode:function(e,t){t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID),t.uint32(18).fork();for(var n,r=Dt(e.onlinePlatformIDs);!(n=r()).done;)t.int32(n.value);return t.join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",onlinePlatformIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o===16){i.onlinePlatformIDs.push(n.int32());continue}if(o===18){for(var s=n.uint32()+n.pos;n.pos<s;)i.onlinePlatformIDs.push(n.int32());continue}}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},MS={encode:function(e,t){t===void 0&&(t=new ae);for(var n,r=Dt(e.subscribers);!(n=r()).done;)yg.encode(n.value,t.uint32(10).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={subscribers:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.subscribers.push(yg.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Dg={encode:function(e,t){return t===void 0&&(t=new ae),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID),e.conversationID!==""&&t.uint32(18).string(e.conversationID),e.recvMsgOpt!==0&&t.uint32(24).int32(e.recvMsgOpt),e.conversationType!==0&&t.uint32(32).int32(e.conversationType),e.userID!==""&&t.uint32(42).string(e.userID),e.groupID!==""&&t.uint32(50).string(e.groupID),e.isPinned!==!1&&t.uint32(56).bool(e.isPinned),e.attachedInfo!==""&&t.uint32(66).string(e.attachedInfo),e.isPrivateChat!==!1&&t.uint32(72).bool(e.isPrivateChat),e.groupAtType!==0&&t.uint32(80).int32(e.groupAtType),e.ex!==""&&t.uint32(90).string(e.ex),e.burnDuration!==0&&t.uint32(96).int32(e.burnDuration),e.minSeq!==0&&t.uint32(104).int64(e.minSeq),e.maxSeq!==0&&t.uint32(112).int64(e.maxSeq),e.msgDestructTime!==0&&t.uint32(120).int64(e.msgDestructTime),e.latestMsgDestructTime!==0&&t.uint32(128).int64(e.latestMsgDestructTime),e.isMsgDestruct!==!1&&t.uint32(136).bool(e.isMsgDestruct),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",conversationID:"",recvMsgOpt:0,conversationType:0,userID:"",groupID:"",isPinned:!1,attachedInfo:"",isPrivateChat:!1,groupAtType:0,ex:"",burnDuration:0,minSeq:0,maxSeq:0,msgDestructTime:0,latestMsgDestructTime:0,isMsgDestruct:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==18)break;i.conversationID=n.string();continue;case 3:if(o!==24)break;i.recvMsgOpt=n.int32();continue;case 4:if(o!==32)break;i.conversationType=n.int32();continue;case 5:if(o!==42)break;i.userID=n.string();continue;case 6:if(o!==50)break;i.groupID=n.string();continue;case 7:if(o!==56)break;i.isPinned=n.bool();continue;case 8:if(o!==66)break;i.attachedInfo=n.string();continue;case 9:if(o!==72)break;i.isPrivateChat=n.bool();continue;case 10:if(o!==80)break;i.groupAtType=n.int32();continue;case 11:if(o!==90)break;i.ex=n.string();continue;case 12:if(o!==96)break;i.burnDuration=n.int32();continue;case 13:if(o!==104)break;i.minSeq=qe(n.int64());continue;case 14:if(o!==112)break;i.maxSeq=qe(n.int64());continue;case 15:if(o!==120)break;i.msgDestructTime=qe(n.int64());continue;case 16:if(o!==128)break;i.latestMsgDestructTime=qe(n.int64());continue;case 17:if(o!==136)break;i.isMsgDestruct=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},_g={encode:function(e,t){return t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID),e.nickname!==""&&t.uint32(18).string(e.nickname),e.faceURL!==""&&t.uint32(26).string(e.faceURL),e.ex!==""&&t.uint32(34).string(e.ex),e.createTime!==0&&t.uint32(40).int64(e.createTime),e.appMangerLevel!==0&&t.uint32(48).int32(e.appMangerLevel),e.globalRecvMsgOpt!==0&&t.uint32(56).int32(e.globalRecvMsgOpt),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",nickname:"",faceURL:"",ex:"",createTime:0,appMangerLevel:0,globalRecvMsgOpt:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.nickname=n.string();continue;case 3:if(o!==26)break;i.faceURL=n.string();continue;case 4:if(o!==34)break;i.ex=n.string();continue;case 5:if(o!==40)break;i.createTime=qe(n.int64());continue;case 6:if(o!==48)break;i.appMangerLevel=n.int32();continue;case 7:if(o!==56)break;i.globalRecvMsgOpt=n.int32();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Cg={encode:function(e,t){return t===void 0&&(t=new ae),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID),e.friendUserID!==""&&t.uint32(18).string(e.friendUserID),e.remark!==""&&t.uint32(26).string(e.remark),e.createTime!==0&&t.uint32(32).int64(e.createTime),e.addSource!==0&&t.uint32(40).int32(e.addSource),e.operatorUserID!==""&&t.uint32(50).string(e.operatorUserID),e.ex!==""&&t.uint32(58).string(e.ex),e.isPinned!==!1&&t.uint32(64).bool(e.isPinned),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",friendUserID:"",remark:"",createTime:0,addSource:0,operatorUserID:"",ex:"",isPinned:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==18)break;i.friendUserID=n.string();continue;case 3:if(o!==26)break;i.remark=n.string();continue;case 4:if(o!==32)break;i.createTime=qe(n.int64());continue;case 5:if(o!==40)break;i.addSource=n.int32();continue;case 6:if(o!==50)break;i.operatorUserID=n.string();continue;case 7:if(o!==58)break;i.ex=n.string();continue;case 8:if(o!==64)break;i.isPinned=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ws={encode:function(e,t){return t===void 0&&(t=new ae),e.groupID!==""&&t.uint32(10).string(e.groupID),e.groupName!==""&&t.uint32(18).string(e.groupName),e.notification!==""&&t.uint32(26).string(e.notification),e.introduction!==""&&t.uint32(34).string(e.introduction),e.faceURL!==""&&t.uint32(42).string(e.faceURL),e.ownerUserID!==""&&t.uint32(50).string(e.ownerUserID),e.createTime!==0&&t.uint32(56).int64(e.createTime),e.memberCount!==0&&t.uint32(64).uint32(e.memberCount),e.ex!==""&&t.uint32(74).string(e.ex),e.status!==0&&t.uint32(80).int32(e.status),e.creatorUserID!==""&&t.uint32(90).string(e.creatorUserID),e.groupType!==0&&t.uint32(96).int32(e.groupType),e.needVerification!==0&&t.uint32(104).int32(e.needVerification),e.lookMemberInfo!==0&&t.uint32(112).int32(e.lookMemberInfo),e.applyMemberFriend!==0&&t.uint32(120).int32(e.applyMemberFriend),e.notificationUpdateTime!==0&&t.uint32(128).int64(e.notificationUpdateTime),e.notificationUserID!==""&&t.uint32(138).string(e.notificationUserID),e.displayIsRead!==!1&&t.uint32(144).bool(e.displayIsRead),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={groupID:"",groupName:"",notification:"",introduction:"",faceURL:"",ownerUserID:"",createTime:0,memberCount:0,ex:"",status:0,creatorUserID:"",groupType:0,needVerification:0,lookMemberInfo:0,applyMemberFriend:0,notificationUpdateTime:0,notificationUserID:"",displayIsRead:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.groupID=n.string();continue;case 2:if(o!==18)break;i.groupName=n.string();continue;case 3:if(o!==26)break;i.notification=n.string();continue;case 4:if(o!==34)break;i.introduction=n.string();continue;case 5:if(o!==42)break;i.faceURL=n.string();continue;case 6:if(o!==50)break;i.ownerUserID=n.string();continue;case 7:if(o!==56)break;i.createTime=qe(n.int64());continue;case 8:if(o!==64)break;i.memberCount=n.uint32();continue;case 9:if(o!==74)break;i.ex=n.string();continue;case 10:if(o!==80)break;i.status=n.int32();continue;case 11:if(o!==90)break;i.creatorUserID=n.string();continue;case 12:if(o!==96)break;i.groupType=n.int32();continue;case 13:if(o!==104)break;i.needVerification=n.int32();continue;case 14:if(o!==112)break;i.lookMemberInfo=n.int32();continue;case 15:if(o!==120)break;i.applyMemberFriend=n.int32();continue;case 16:if(o!==128)break;i.notificationUpdateTime=qe(n.int64());continue;case 17:if(o!==138)break;i.notificationUserID=n.string();continue;case 18:if(o!==144)break;i.displayIsRead=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Zs={encode:function(e,t){return t===void 0&&(t=new ae),e.conversation!==void 0&&Dg.encode(e.conversation,t.uint32(10).fork()).join(),e.lastMsg!==void 0&&zs.encode(e.lastMsg,t.uint32(18).fork()).join(),e.user!==void 0&&_g.encode(e.user,t.uint32(26).fork()).join(),e.friend!==void 0&&Cg.encode(e.friend,t.uint32(34).fork()).join(),e.group!==void 0&&Ws.encode(e.group,t.uint32(42).fork()).join(),e.maxSeq!==0&&t.uint32(48).int64(e.maxSeq),e.readSeq!==0&&t.uint32(56).int64(e.readSeq),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={conversation:void 0,lastMsg:void 0,user:void 0,friend:void 0,group:void 0,maxSeq:0,readSeq:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.conversation=Dg.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.lastMsg=zs.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.user=_g.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.friend=Cg.decode(n,n.uint32());continue;case 5:if(o!==42)break;i.group=Ws.decode(n,n.uint32());continue;case 6:if(o!==48)break;i.maxSeq=qe(n.int64());continue;case 7:if(o!==56)break;i.readSeq=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},ES={encode:function(e,t){t===void 0&&(t=new ae),e.unreadCount!==0&&t.uint32(8).int64(e.unreadCount);for(var n,r=Dt(e.conversations);!(n=r()).done;)Zs.encode(n.value,t.uint32(18).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={unreadCount:0,conversations:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.unreadCount=qe(n.int64());continue;case 2:if(o!==18)break;i.conversations.push(Zs.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},SS={encode:function(e,t){t===void 0&&(t=new ae),e.unreadCount!==0&&t.uint32(8).int64(e.unreadCount);for(var n,r=Dt(e.conversations);!(n=r()).done;)Zs.encode(n.value,t.uint32(18).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={unreadCount:0,conversations:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.unreadCount=qe(n.int64());continue;case 2:if(o!==18)break;i.conversations.push(Zs.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},bg={encode:function(e,t){t===void 0&&(t=new ae),e.conversationID!==""&&t.uint32(18).string(e.conversationID),t.uint32(26).fork();for(var n,r=Dt(e.seqs);!(n=r()).done;)t.int64(n.value);return t.join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={conversationID:"",seqs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;i.conversationID=n.string();continue;case 3:if(o===24){i.seqs.push(qe(n.int64()));continue}if(o===26){for(var s=n.uint32()+n.pos;n.pos<s;)i.seqs.push(qe(n.int64()));continue}}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},TS={encode:function(e,t){t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID);for(var n,r=Dt(e.conversations);!(n=r()).done;)bg.encode(n.value,t.uint32(18).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",conversations:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.conversations.push(bg.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},xS={encode:function(e,t){return t===void 0&&(t=new ae),Object.entries(e.msgs).forEach(function(n){Ig.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.notificationMsgs).forEach(function(n){wg.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={msgs:{},notificationMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=Ig.decode(n,n.uint32());s.value!==void 0&&(i.msgs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=wg.decode(n,n.uint32());a.value!==void 0&&(i.notificationMsgs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ig={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},wg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},kS={encode:function(e,t){return t===void 0&&(t=new ae),Object.entries(e.seqs).forEach(function(n){Eg.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={seqs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=Eg.decode(n,n.uint32());s.value!==void 0&&(i.seqs[s.key]=s.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Mg={encode:function(e,t){return t===void 0&&(t=new ae),e.maxSeq!==0&&t.uint32(8).int64(e.maxSeq),e.hasReadSeq!==0&&t.uint32(16).int64(e.hasReadSeq),e.maxSeqTime!==0&&t.uint32(24).int64(e.maxSeqTime),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={maxSeq:0,hasReadSeq:0,maxSeqTime:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.maxSeq=qe(n.int64());continue;case 2:if(o!==16)break;i.hasReadSeq=qe(n.int64());continue;case 3:if(o!==24)break;i.maxSeqTime=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Eg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&Mg.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=Mg.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},PS={encode:function(e,t){return t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID),e.conversationID!==""&&t.uint32(18).string(e.conversationID),Object.entries(e.clientMsgs).forEach(function(n){Sg.encode({key:n[0],value:n[1]},t.uint32(26).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",conversationID:"",clientMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.conversationID=n.string();continue;case 3:if(o!==26)break;var s=Sg.decode(n,n.uint32());s.value!==void 0&&(i.clientMsgs[s.key]=s.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Sg={encode:function(e,t){return t===void 0&&(t=new ae),e.key!==""&&t.uint32(10).string(e.key),e.value!==""&&t.uint32(18).string(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Tg={encode:function(e,t){t===void 0&&(t=new ae),e.token!==""&&t.uint32(10).string(e.token),e.roomID!==""&&t.uint32(18).string(e.roomID),e.liveURL!==""&&t.uint32(26).string(e.liveURL);for(var n,r=Dt(e.busyLineUserIDList);!(n=r()).done;){var i=n.value;t.uint32(34).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",roomID:"",liveURL:"",busyLineUserIDList:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.roomID=n.string();continue;case 3:if(o!==26)break;i.liveURL=n.string();continue;case 4:if(o!==34)break;i.busyLineUserIDList.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},xg={encode:function(e,t){return t===void 0&&(t=new ae),e.invite!==void 0&&Tg.encode(e.invite,t.uint32(10).fork()).join(),e.inviteInGroup!==void 0&&kg.encode(e.inviteInGroup,t.uint32(18).fork()).join(),e.cancel!==void 0&&Pg.encode(e.cancel,t.uint32(26).fork()).join(),e.accept!==void 0&&Ng.encode(e.accept,t.uint32(34).fork()).join(),e.hungUp!==void 0&&Og.encode(e.hungUp,t.uint32(42).fork()).join(),e.reject!==void 0&&Rg.encode(e.reject,t.uint32(50).fork()).join(),e.getTokenByRoomID!==void 0&&Ag.encode(e.getTokenByRoomID,t.uint32(58).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invite:void 0,inviteInGroup:void 0,cancel:void 0,accept:void 0,hungUp:void 0,reject:void 0,getTokenByRoomID:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invite=Tg.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.inviteInGroup=kg.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.cancel=Pg.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.accept=Ng.decode(n,n.uint32());continue;case 5:if(o!==42)break;i.hungUp=Og.decode(n,n.uint32());continue;case 6:if(o!==50)break;i.reject=Rg.decode(n,n.uint32());continue;case 7:if(o!==58)break;i.getTokenByRoomID=Ag.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},kg={encode:function(e,t){t===void 0&&(t=new ae),e.token!==""&&t.uint32(10).string(e.token),e.roomID!==""&&t.uint32(18).string(e.roomID),e.liveURL!==""&&t.uint32(26).string(e.liveURL);for(var n,r=Dt(e.busyLineUserIDList);!(n=r()).done;){var i=n.value;t.uint32(34).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",roomID:"",liveURL:"",busyLineUserIDList:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.roomID=n.string();continue;case 3:if(o!==26)break;i.liveURL=n.string();continue;case 4:if(o!==34)break;i.busyLineUserIDList.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Pg={encode:function(e,t){return t===void 0&&(t=new ae),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},Ng={encode:function(e,t){return t===void 0&&(t=new ae),e.token!==""&&t.uint32(10).string(e.token),e.roomID!==""&&t.uint32(18).string(e.roomID),e.liveURL!==""&&t.uint32(26).string(e.liveURL),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",roomID:"",liveURL:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.roomID=n.string();continue;case 3:if(o!==26)break;i.liveURL=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Og={encode:function(e,t){return t===void 0&&(t=new ae),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},Rg={encode:function(e,t){return t===void 0&&(t=new ae),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},Ag={encode:function(e,t){return t===void 0&&(t=new ae),e.token!==""&&t.uint32(10).string(e.token),e.liveURL!==""&&t.uint32(18).string(e.liveURL),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",liveURL:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.liveURL=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},NS={encode:function(e,t){return t===void 0&&(t=new ae),e.signalResp!==void 0&&xg.encode(e.signalResp,t.uint32(10).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={signalResp:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.signalResp=xg.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Fg={encode:function(e,t){return t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&qt.encode(e.participant,t.uint32(26).fork()).join(),e.userID!==""&&t.uint32(34).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=qt.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Lg={encode:function(e,t){return t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&qt.encode(e.participant,t.uint32(26).fork()).join(),e.userID!==""&&t.uint32(34).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=qt.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Vg={encode:function(e,t){return t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&qt.encode(e.participant,t.uint32(26).fork()).join(),e.userID!==""&&t.uint32(34).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=qt.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},jg={encode:function(e,t){return t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&qt.encode(e.participant,t.uint32(26).fork()).join(),e.opUserPlatformID!==0&&t.uint32(32).int32(e.opUserPlatformID),e.userID!==""&&t.uint32(42).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,opUserPlatformID:0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=qt.decode(n,n.uint32());continue;case 4:if(o!==32)break;i.opUserPlatformID=n.int32();continue;case 5:if(o!==42)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ug={encode:function(e,t){return t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.userID!==""&&t.uint32(26).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Bg={encode:function(e,t){return t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&qt.encode(e.participant,t.uint32(26).fork()).join(),e.opUserPlatformID!==0&&t.uint32(32).int32(e.opUserPlatformID),e.userID!==""&&t.uint32(42).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,opUserPlatformID:0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=qt.decode(n,n.uint32());continue;case 4:if(o!==32)break;i.opUserPlatformID=n.int32();continue;case 5:if(o!==42)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Gg={encode:function(e,t){return t===void 0&&(t=new ae),e.roomID!==""&&t.uint32(10).string(e.roomID),e.participant!==void 0&&qt.encode(e.participant,t.uint32(18).fork()).join(),e.userID!==""&&t.uint32(26).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={roomID:"",participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.roomID=n.string();continue;case 2:if(o!==18)break;i.participant=qt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ht={encode:function(e,t){t===void 0&&(t=new ae),e.inviterUserID!==""&&t.uint32(10).string(e.inviterUserID);for(var n,r=Dt(e.inviteeUserIDList);!(n=r()).done;){var i=n.value;t.uint32(18).string(i)}e.customData!==""&&t.uint32(26).string(e.customData),e.groupID!==""&&t.uint32(34).string(e.groupID),e.roomID!==""&&t.uint32(42).string(e.roomID),e.timeout!==0&&t.uint32(48).int32(e.timeout),e.mediaType!==""&&t.uint32(58).string(e.mediaType),e.platformID!==0&&t.uint32(64).int32(e.platformID),e.sessionType!==0&&t.uint32(72).int32(e.sessionType),e.initiateTime!==0&&t.uint32(80).int64(e.initiateTime);for(var o,s=Dt(e.busyLineUserIDList);!(o=s()).done;){var a=o.value;t.uint32(90).string(a)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={inviterUserID:"",inviteeUserIDList:[],customData:"",groupID:"",roomID:"",timeout:0,mediaType:"",platformID:0,sessionType:0,initiateTime:0,busyLineUserIDList:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.inviterUserID=n.string();continue;case 2:if(o!==18)break;i.inviteeUserIDList.push(n.string());continue;case 3:if(o!==26)break;i.customData=n.string();continue;case 4:if(o!==34)break;i.groupID=n.string();continue;case 5:if(o!==42)break;i.roomID=n.string();continue;case 6:if(o!==48)break;i.timeout=n.int32();continue;case 7:if(o!==58)break;i.mediaType=n.string();continue;case 8:if(o!==64)break;i.platformID=n.int32();continue;case 9:if(o!==72)break;i.sessionType=n.int32();continue;case 10:if(o!==80)break;i.initiateTime=qe(n.int64());continue;case 11:if(o!==90)break;i.busyLineUserIDList.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},qt={encode:function(e,t){return t===void 0&&(t=new ae),e.groupInfo!==void 0&&Ws.encode(e.groupInfo,t.uint32(10).fork()).join(),e.groupMemberInfo!==void 0&&Hg.encode(e.groupMemberInfo,t.uint32(18).fork()).join(),e.userInfo!==void 0&&qg.encode(e.userInfo,t.uint32(26).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={groupInfo:void 0,groupMemberInfo:void 0,userInfo:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.groupInfo=Ws.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.groupMemberInfo=Hg.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.userInfo=qg.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Hg={encode:function(e,t){return t===void 0&&(t=new ae),e.groupID!==""&&t.uint32(10).string(e.groupID),e.userID!==""&&t.uint32(18).string(e.userID),e.roleLevel!==0&&t.uint32(24).int32(e.roleLevel),e.joinTime!==0&&t.uint32(32).int64(e.joinTime),e.nickname!==""&&t.uint32(42).string(e.nickname),e.faceURL!==""&&t.uint32(50).string(e.faceURL),e.appMangerLevel!==0&&t.uint32(56).int32(e.appMangerLevel),e.joinSource!==0&&t.uint32(64).int32(e.joinSource),e.operatorUserID!==""&&t.uint32(74).string(e.operatorUserID),e.ex!==""&&t.uint32(82).string(e.ex),e.muteEndTime!==0&&t.uint32(88).int64(e.muteEndTime),e.inviterUserID!==""&&t.uint32(98).string(e.inviterUserID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={groupID:"",userID:"",roleLevel:0,joinTime:0,nickname:"",faceURL:"",appMangerLevel:0,joinSource:0,operatorUserID:"",ex:"",muteEndTime:0,inviterUserID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.groupID=n.string();continue;case 2:if(o!==18)break;i.userID=n.string();continue;case 3:if(o!==24)break;i.roleLevel=n.int32();continue;case 4:if(o!==32)break;i.joinTime=qe(n.int64());continue;case 5:if(o!==42)break;i.nickname=n.string();continue;case 6:if(o!==50)break;i.faceURL=n.string();continue;case 7:if(o!==56)break;i.appMangerLevel=n.int32();continue;case 8:if(o!==64)break;i.joinSource=n.int32();continue;case 9:if(o!==74)break;i.operatorUserID=n.string();continue;case 10:if(o!==82)break;i.ex=n.string();continue;case 11:if(o!==88)break;i.muteEndTime=qe(n.int64());continue;case 12:if(o!==98)break;i.inviterUserID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},qg={encode:function(e,t){return t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID),e.nickname!==""&&t.uint32(18).string(e.nickname),e.faceURL!==""&&t.uint32(26).string(e.faceURL),e.ex!==""&&t.uint32(34).string(e.ex),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",nickname:"",faceURL:"",ex:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.nickname=n.string();continue;case 3:if(o!==26)break;i.faceURL=n.string();continue;case 4:if(o!==34)break;i.ex=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},OS={encode:function(e,t){return t===void 0&&(t=new ae),e.invite!==void 0&&Fg.encode(e.invite,t.uint32(10).fork()).join(),e.inviteInGroup!==void 0&&Lg.encode(e.inviteInGroup,t.uint32(18).fork()).join(),e.cancel!==void 0&&Vg.encode(e.cancel,t.uint32(26).fork()).join(),e.accept!==void 0&&jg.encode(e.accept,t.uint32(34).fork()).join(),e.hungUp!==void 0&&Ug.encode(e.hungUp,t.uint32(42).fork()).join(),e.reject!==void 0&&Bg.encode(e.reject,t.uint32(50).fork()).join(),e.getTokenByRoomID!==void 0&&Gg.encode(e.getTokenByRoomID,t.uint32(58).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invite:void 0,inviteInGroup:void 0,cancel:void 0,accept:void 0,hungUp:void 0,reject:void 0,getTokenByRoomID:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invite=Fg.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.inviteInGroup=Lg.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.cancel=Vg.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.accept=jg.decode(n,n.uint32());continue;case 5:if(o!==42)break;i.hungUp=Ug.decode(n,n.uint32());continue;case 6:if(o!==50)break;i.reject=Bg.decode(n,n.uint32());continue;case 7:if(o!==58)break;i.getTokenByRoomID=Gg.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},RS={encode:function(e,t){t===void 0&&(t=new ae),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join();for(var n,r=Dt(e.participant);!(n=r()).done;)qt.encode(n.value,t.uint32(18).fork()).join();return e.groupID!==""&&t.uint32(26).string(e.groupID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,participant:[],groupID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.participant.push(qt.decode(n,n.uint32()));continue;case 3:if(o!==26)break;i.groupID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},st={__proto__:null,OfflinePushInfo:Gt,MsgData_OptionsEntry:lg,MsgData:zs,SeqRange:dg,PullMessageBySeqsReq:CS,SubUserOnlineStatus:{encode:function(e,t){t===void 0&&(t=new ae);for(var n,r=Dt(e.subscribeUserID);!(n=r()).done;){var i=n.value;t.uint32(10).string(i)}for(var o,s=Dt(e.unsubscribeUserID);!(o=s()).done;){var a=o.value;t.uint32(18).string(a)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={subscribeUserID:[],unsubscribeUserID:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.subscribeUserID.push(n.string());continue;case 2:if(o!==18)break;i.unsubscribeUserID.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},GetMaxSeqResp_MaxSeqsEntry:fg,GetMaxSeqResp_MinSeqsEntry:pg,GetMaxSeqResp:bS,PullMessageBySeqsResp:IS,PullMessageBySeqsResp_MsgsEntry:gg,PullMessageBySeqsResp_NotificationMsgsEntry:hg,PullMsgs:nn,UserSendMsgResp:{encode:function(e,t){return t===void 0&&(t=new ae),e.serverMsgID!==""&&t.uint32(10).string(e.serverMsgID),e.clientMsgID!==""&&t.uint32(18).string(e.clientMsgID),e.sendTime!==0&&t.uint32(24).int64(e.sendTime),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={serverMsgID:"",clientMsgID:"",sendTime:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.serverMsgID=n.string();continue;case 2:if(o!==18)break;i.clientMsgID=n.string();continue;case 3:if(o!==24)break;i.sendTime=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},PushMessages:wS,PushMessages_MsgsEntry:mg,PushMessages_NotificationMsgsEntry:vg,SetAppBackgroundStatusResp:{encode:function(e,t){return t===void 0&&(t=new ae),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},SubUserOnlineStatusElem:yg,SubUserOnlineStatusTips:MS,ServerConfig:{encode:function(e,t){return t===void 0&&(t=new ae),e.isEncryption!==!1&&t.uint32(8).bool(e.isEncryption),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={isEncryption:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.isEncryption=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},GetActiveConversationsReq:{encode:function(e,t){return t===void 0&&(t=new ae),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID),e.count!==0&&t.uint32(16).int64(e.count),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",count:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==16)break;i.count=qe(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},GetConversationsReq:{encode:function(e,t){t===void 0&&(t=new ae),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID);for(var n,r=Dt(e.conversationIDs);!(n=r()).done;){var i=n.value;t.uint32(18).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",conversationIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==18)break;i.conversationIDs.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Conversation:Dg,UserInfo:_g,FriendInfoOnly:Cg,GroupInfo:Ws,ConversationMsg:Zs,GetActiveConversationsResp:ES,GetConversationsResp:SS,GetConversationsHasReadAndMaxSeqReq:{encode:function(e,t){t===void 0&&(t=new ae),e.userID!==""&&t.uint32(10).string(e.userID);for(var n,r=Dt(e.conversationIDs);!(n=r()).done;){var i=n.value;t.uint32(18).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",conversationIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.conversationIDs.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},ConversationSeqs:bg,GetSeqMessageReq:TS,GetSeqMessageResp:xS,GetSeqMessageResp_MsgsEntry:Ig,GetSeqMessageResp_NotificationMsgsEntry:wg,GetConversationsHasReadAndMaxSeqResp:kS,Seqs:Mg,GetConversationsHasReadAndMaxSeqResp_SeqsEntry:Eg,MarkGroupMessageReadReq:PS,MarkGroupMessageReadReq_ClientMsgsEntry:Sg,SignalInviteResp:Tg,SignalResp:xg,SignalInviteInGroupResp:kg,SignalCancelResp:Pg,SignalAcceptResp:Ng,SignalHungUpResp:Og,SignalRejectResp:Rg,SignalGetTokenByRoomIDResp:Ag,SignalMessageAssembleResp:NS,SignalInviteReq:Fg,SignalInviteInGroupReq:Lg,SignalCancelReq:Vg,SignalAcceptReq:jg,SignalHungUpReq:Ug,SignalRejectReq:Bg,SignalGetTokenByRoomIDReq:Gg,InvitationInfo:Ht,ParticipantMetaData:qt,GroupMemberFullInfo:Hg,PublicUserInfo:qg,SignalReq:OS,SignalOnStreamChangeReq:{encode:function(e,t){return t===void 0&&(t=new ae),e.roomID!==""&&t.uint32(10).string(e.roomID),e.streamType!==""&&t.uint32(18).string(e.streamType),e.mute!==!1&&t.uint32(24).bool(e.mute),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={roomID:"",streamType:"",mute:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.roomID=n.string();continue;case 2:if(o!==18)break;i.streamType=n.string();continue;case 3:if(o!==24)break;i.mute=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},SignalOnRoomParticipantDisconnectedReq:RS}});function pD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hn(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function ah(e){return"__private_"+AS+++"_"+e}function zg(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(i,o){if(i){if(typeof i=="string")return pD(i,o);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?pD(i,o):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(null,arguments)}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kg(e)}function xD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Js(e,t)}function kD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kD=function(){return!!e})()}function PD(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Js(e,t){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Js(e,t)}function Xg(e){var t=typeof Map=="function"?new Map:void 0;return Xg=function(n){if(n===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(i,o,s){if(kD())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,o);var c=new(i.bind.apply(i,a));return s&&Js(c,s.prototype),c}(n,arguments,Kg(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Js(r,n)},Xg(e)}function ZS(e){if(e===void 0&&(e=GS),!Hn(this,Ir)[Ir].has(e))throw new Error("Unknown string encoding '"+e+"'");return e}function Yg(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function Ct(e,t,n){if(!e.s){if(n instanceof Li){if(!n.s)return void(n.o=Ct.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Ct.bind(null,e,t),Ct.bind(null,e,2));e.s=t,e.v=n;let r=e.o;r&&r(e)}}function zr(e){return e instanceof Li&&1&e.s}function on(e,t,n){if(!e.s){if(n instanceof AD){if(!n.s)return void(n.o=on.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(on.bind(null,e,t),on.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function sn(e,t,n){if(!e.s){if(n instanceof FD){if(!n.s)return void(n.o=sn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(sn.bind(null,e,t),sn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function an(e,t,n){if(!e.s){if(n instanceof LD){if(!n.s)return void(n.o=an.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(an.bind(null,e,t),an.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function cn(e,t,n){if(!e.s){if(n instanceof VD){if(!n.s)return void(n.o=cn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(cn.bind(null,e,t),cn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function un(e,t,n){if(!e.s){if(n instanceof uh){if(!n.s)return void(n.o=un.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(un.bind(null,e,t),un.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function ku(e){return e instanceof uh&&1&e.s}function SD(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function Qg(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function ln(e,t,n){if(!e.s){if(n instanceof lh){if(!n.s)return void(n.o=ln.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(ln.bind(null,e,t),ln.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function Pu(e){return e instanceof lh&&1&e.s}var ie,Ou,AS,ue,k,Fe,Wg,FS,B,$r,Ue,dt,_t,ye,lt,Mr,or,Ru,gD,br,LS,Au,hD,mD,vD,eh,yD,wr,DD,th,To,Z,rt,nh,_D,CD,En,bD,ID,Gn,VS,ju,jS,rh,ch,Zg,US,Fu,Et,BS,We,ee,ih,wD,GS,So,ND,HS,qS,$S,zS,WS,Fi,Ir,Cr,xo,JS,OD,Lu,ko,YS,QS,KS,XS,oh,Nu,Sn,Be,sh,Vu,RD,MD,Jg,e2,t2,n2,Li,ED,r2,AD,i2,o2,s2,a2,FD,c2,u2,l2,LD,d2,f2,p2,g2,VD,uh,rn,h2,TD,m2,v2,lh,jD,Ys=L(()=>{"use strict";ie=Qh(z1()),Ou=Qh(J1());K1();fD();AS=0;Wg=function(e){try{if(!e.ok)throw new Error(e.statusText);return Promise.resolve(e.json()).then(function(t){if(t.errCode!==0)throw new Error(t.errMsg);return t.data})}catch(t){return Promise.reject(t)}},FS={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",csv:"text/csv",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",svg:"image/svg+xml",mp3:"audio/mpeg",mp4:"video/mp4",wav:"audio/wav",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xml:"application/xml",zip:"application/zip",tar:"application/x-tar","7z":"application/x-7z-compressed",rar:"application/vnd.rar",ogg:"audio/ogg",midi:"audio/midi",webm:"audio/webm",avi:"video/x-msvideo",mpeg:"video/mpeg",ts:"video/mp2t",mov:"video/quicktime",wmv:"video/x-ms-wmv",flv:"video/x-flv",mkv:"video/x-matroska",webp:"image/webp",heic:"image/heic",psd:"image/vnd.adobe.photoshop",ai:"application/postscript",eps:"application/postscript",ttf:"font/ttf",otf:"font/otf",woff:"font/woff",woff2:"font/woff2",jsonld:"application/ld+json",ics:"text/calendar",sh:"application/x-sh",php:"application/x-httpd-php",jar:"application/java-archive"};(function(e){e.InitSDK="InitSDK",e.Login="Login",e.Logout="Logout",e.GetLoginStatus="GetLoginStatus",e.GetLoginUserID="GetLoginUserID",e.GetSelfUserInfo="GetSelfUserInfo",e.SetSelfInfo="SetSelfInfo",e.GetUsersInfo="GetUsersInfo",e.SubscribeUsersStatus="SubscribeUsersStatus",e.UnsubscribeUsersStatus="UnsubscribeUsersStatus",e.GetSubscribeUsersStatus="GetSubscribeUsersStatus",e.SetAppBackgroundStatus="SetAppBackgroundStatus",e.NetworkStatusChanged="NetworkStatusChanged",e.SetGlobalRecvMessageOpt="SetGlobalRecvMessageOpt",e.AcceptFriendApplication="AcceptFriendApplication",e.AddBlack="AddBlack",e.AddFriend="AddFriend",e.CheckFriend="CheckFriend",e.DeleteFriend="DeleteFriend",e.GetBlackList="GetBlackList",e.GetFriendApplicationListAsApplicant="GetFriendApplicationListAsApplicant",e.GetFriendApplicationListAsRecipient="GetFriendApplicationListAsRecipient",e.GetFriendList="GetFriendList",e.GetFriendListPage="GetFriendListPage",e.GetSpecifiedFriendsInfo="GetSpecifiedFriendsInfo",e.RefuseFriendApplication="RefuseFriendApplication",e.RemoveBlack="RemoveBlack",e.SearchFriends="SearchFriends",e.UpdateFriends="UpdateFriends",e.CreateGroup="CreateGroup",e.JoinGroup="JoinGroup",e.InviteUserToGroup="InviteUserToGroup",e.GetJoinedGroupList="GetJoinedGroupList",e.GetJoinedGroupListPage="GetJoinedGroupListPage",e.SearchGroups="SearchGroups",e.GetSpecifiedGroupsInfo="GetSpecifiedGroupsInfo",e.SetGroupInfo="SetGroupInfo",e.GetGroupApplicationListAsRecipient="GetGroupApplicationListAsRecipient",e.GetGroupApplicationListAsApplicant="GetGroupApplicationListAsApplicant",e.AcceptGroupApplication="AcceptGroupApplication",e.RefuseGroupApplication="RefuseGroupApplication",e.GetGroupMemberList="GetGroupMemberList",e.GetSpecifiedGroupMembersInfo="GetSpecifiedGroupMembersInfo",e.SearchGroupMembers="SearchGroupMembers",e.SetGroupMemberInfo="SetGroupMemberInfo",e.GetGroupMemberOwnerAndAdmin="GetGroupMemberOwnerAndAdmin",e.GetGroupMemberListByJoinTimeFilter="GetGroupMemberListByJoinTimeFilter",e.KickGroupMember="KickGroupMember",e.ChangeGroupMemberMute="ChangeGroupMemberMute",e.ChangeGroupMute="ChangeGroupMute",e.TransferGroupOwner="TransferGroupOwner",e.DismissGroup="DismissGroup",e.QuitGroup="QuitGroup",e.GetUsersInGroup="GetUsersInGroup",e.IsJoinGroup="IsJoinGroup",e.GetAllConversationList="GetAllConversationList",e.GetConversationListSplit="GetConversationListSplit",e.GetOneConversation="GetOneConversation",e.GetMultipleConversation="GetMultipleConversation",e.GetConversationIDBySessionType="GetConversationIDBySessionType",e.GetTotalUnreadMsgCount="GetTotalUnreadMsgCount",e.MarkConversationMessageAsRead="MarkConversationMessageAsRead",e.SetConversationDraft="SetConversationDraft",e.PinConversation="PinConversation",e.SetConversationRecvMessageOpt="SetConversationRecvMessageOpt",e.SetConversationPrivateChat="SetConversationPrivateChat",e.SetConversationBurnDuration="SetConversationBurnDuration",e.ResetConversationGroupAtType="ResetConversationGroupAtType",e.HideConversation="HideConversation",e.HideAllConversation="HideAllConversation",e.ClearConversationAndDeleteAllMsg="ClearConversationAndDeleteAllMsg",e.DeleteConversationAndDeleteAllMsg="DeleteConversationAndDeleteAllMsg",e.ChangeInputStates="ChangeInputStates",e.GetInputStates="GetInputStates",e.CreateTextMessage="CreateTextMessage",e.CreateTextAtMessage="CreateTextAtMessage",e.CreateImageMessageByFile="CreateImageMessageByFile",e.CreateImageMessageByURL="CreateImageMessageByURL",e.CreateSoundMessageByFile="CreateSoundMessageByFile",e.CreateSoundMessageByURL="CreateSoundMessageByURL",e.CreateVideoMessageByFile="CreateVideoMessageByFile",e.CreateVideoMessageByURL="CreateVideoMessageByURL",e.CreateFileMessageByFile="CreateFileMessageByFile",e.CreateFileMessageByURL="CreateFileMessageByURL",e.CreateMergerMessage="CreateMergerMessage",e.CreateForwardMessage="CreateForwardMessage",e.CreateLocationMessage="CreateLocationMessage",e.CreateQuoteMessage="CreateQuoteMessage",e.CreateCardMessage="CreateCardMessage",e.CreateCustomMessage="CreateCustomMessage",e.CreateFaceMessage="CreateFaceMessage",e.SendMessage="SendMessage",e.SendMessageNotOss="SendMessageNotOss",e.UploadFile="UploadFile",e.TypingStatusUpdate="TypingStatusUpdate",e.RevokeMessage="RevokeMessage",e.DeleteMessage="DeleteMessage",e.DeleteMessageFromLocalStorage="DeleteMessageFromLocalStorage",e.DeleteAllMsgFromLocal="DeleteAllMsgFromLocal",e.DeleteAllMsgFromLocalAndSvr="DeleteAllMsgFromLocalAndSvr",e.SearchLocalMessages="SearchLocalMessages",e.GetAdvancedHistoryMessageList="GetAdvancedHistoryMessageList",e.GetAdvancedHistoryMessageListReverse="GetAdvancedHistoryMessageListReverse",e.FindMessageList="FindMessageList",e.InsertGroupMessageToLocalStorage="InsertGroupMessageToLocalStorage",e.InsertSingleMessageToLocalStorage="InsertSingleMessageToLocalStorage",e.SetMessageLocalEx="SetMessageLocalEx",e.SetConversation="SetConversation"})(k||(k={})),function(e){e.GetFriendVersion="GetFriendVersion",e.GetGroupVersion="GetGroupVersion",e.GetJoinedGroupIDList="GetJoinedGroupIDList",e.GetGroupMemberVersion="GetGroupMemberVersion",e.GetConversationVersion="GetConversationVersion",e.GetConversationsHasReadAndMaxSeq="GetConversationsHasReadAndMaxSeq",e.GetDesignatedFriendsApplication="GetDesignatedFriendsApplication",e.GetDesignatedGroupApplication="GetDesignatedGroupApplication",e.GetDesignatedBlackUser="GetDesignatedBlackUser",e.GetActiveConversations="GetActiveConversations",e.GetDesignatedConversation="GetDesignatedConversation",e.GetNotNotifyConversationIDs="GetNotNotifyConversationIDs",e.GetFullFriendUserIDs="GetFullFriendUserIDs",e.GetFullGroupMemberUserIDs="GetFullGroupMemberUserIDs"}(Fe||(Fe={}));LS=((ue={})[k.AddFriend]="/friend/add_friend",ue[k.CheckFriend]="/friend/is_friend",ue[k.DeleteFriend]="/friend/delete_friend",ue[k.AcceptFriendApplication]="/friend/add_friend_response",ue[k.RefuseFriendApplication]="/friend/add_friend_response",ue[k.GetFriendListPage]="/friend/get_friend_list",ue[k.GetSpecifiedFriendsInfo]="/friend/get_designated_friends",ue[k.GetFriendApplicationListAsApplicant]="/friend/get_self_friend_apply_list",ue[k.GetFriendApplicationListAsRecipient]="/friend/get_friend_apply_list",ue[k.UpdateFriends]="/friend/update_friends",ue[k.AddBlack]="/friend/add_black",ue[k.RemoveBlack]="/friend/remove_black",ue[k.GetBlackList]="/friend/get_black_list",ue[k.CreateGroup]="/group/create_group",ue[k.JoinGroup]="/group/join_group",ue[k.InviteUserToGroup]="/group/invite_user_to_group",ue[k.GetJoinedGroupListPage]="/group/get_joined_group_list",ue[k.GetSpecifiedGroupsInfo]="/group/get_groups_info",ue[k.SetGroupInfo]="/group/set_group_info_ex",ue[k.GetGroupApplicationListAsApplicant]="/group/get_user_req_group_applicationList",ue[k.GetGroupApplicationListAsRecipient]="/group/get_recv_group_applicationList",ue[k.AcceptGroupApplication]="/group/group_application_response",ue[k.RefuseGroupApplication]="/group/group_application_response",ue[k.GetGroupMemberList]="/group/get_group_member_list",ue[k.GetSpecifiedGroupMembersInfo]="/group/get_group_members_info",ue[k.SetGroupMemberInfo]="/group/set_group_member_info",ue[k.KickGroupMember]="/group/kick_group",ue[k.TransferGroupOwner]="/group/transfer_group",ue[k.DismissGroup]="/group/dismiss_group",ue[k.QuitGroup]="/group/quit_group",ue[k.GetSelfUserInfo]="/user/get_users_info",ue[k.SetSelfInfo]="/user/update_user_info_ex",ue[k.GetUsersInfo]="/user/get_users_info",ue[k.SubscribeUsersStatus]="/user/subscribe_users_status",ue[k.UnsubscribeUsersStatus]="/user/subscribe_users_status",ue[k.GetSubscribeUsersStatus]="/user/get_subscribe_users_status",ue[k.SetGlobalRecvMessageOpt]="/user/set_global_msg_recv_opt",ue[k.RevokeMessage]="/msg/revoke_msg",ue[k.DeleteMessage]="/msg/delete_msgs",ue[k.DeleteConversationAndDeleteAllMsg]="/msg/clear_conversation_msg",ue[k.DeleteAllMsgFromLocalAndSvr]="/msg/user_clear_all_msg",ue[k.MarkConversationMessageAsRead]="/msg/mark_conversation_as_read",ue[k.SetConversation]="/conversation/set_conversations",ue[Fe.GetFriendVersion]="/friend/get_incremental_friends",ue[Fe.GetGroupVersion]="/group/get_incremental_join_groups",ue[Fe.GetJoinedGroupIDList]="/group/get_full_join_group_ids",ue[Fe.GetGroupMemberVersion]="/group/get_incremental_group_members_batch",ue[Fe.GetConversationVersion]="/conversation/get_incremental_conversations",ue[Fe.GetConversationsHasReadAndMaxSeq]="/conversation/get_conversations_has_read_and_max_seq",ue[Fe.GetDesignatedFriendsApplication]="/friend/get_designated_friend_apply",ue[Fe.GetDesignatedGroupApplication]="/group/get_specified_user_group_request_info",ue[Fe.GetDesignatedBlackUser]="/friend/get_specified_blacks",ue[Fe.GetActiveConversations]="/jssdk/get_active_conversations",ue[Fe.GetDesignatedConversation]="/jssdk/get_conversations",ue[Fe.GetNotNotifyConversationIDs]="/conversation/get_not_notify_conversation_ids",ue[Fe.GetFullFriendUserIDs]="/friend/get_full_friend_user_ids",ue[Fe.GetFullGroupMemberUserIDs]="/group/get_full_group_member_user_ids",ue);(function(e){e.OnConnectFailed="OnConnectFailed",e.OnConnectSuccess="OnConnectSuccess",e.OnConnecting="OnConnecting",e.OnKickedOffline="OnKickedOffline",e.OnSelfInfoUpdated="OnSelfInfoUpdated",e.OnUserTokenExpired="OnUserTokenExpired",e.OnUserTokenInvalid="OnUserTokenInvalid",e.OnProgress="OnProgress",e.OnRecvNewMessage="OnRecvNewMessage",e.OnRecvNewMessages="OnRecvNewMessages",e.OnRecvOfflineNewMessage="onRecvOfflineNewMessage",e.OnRecvOfflineNewMessages="onRecvOfflineNewMessages",e.OnNewRecvMessageRevoked="OnNewRecvMessageRevoked",e.OnRecvC2CReadReceipt="OnRecvC2CReadReceipt",e.OnRecvGroupReadReceipt="OnRecvGroupReadReceipt",e.OnConversationChanged="OnConversationChanged",e.OnNewConversation="OnNewConversation",e.OnConversationUserInputStatusChanged="OnConversationUserInputStatusChanged",e.OnSyncServerFailed="OnSyncServerFailed",e.OnSyncServerFinish="OnSyncServerFinish",e.OnSyncServerProgress="OnSyncServerProgress",e.OnSyncServerStart="OnSyncServerStart",e.OnTotalUnreadMessageCountChanged="OnTotalUnreadMessageCountChanged",e.OnBlackAdded="OnBlackAdded",e.OnBlackDeleted="OnBlackDeleted",e.OnFriendApplicationAccepted="OnFriendApplicationAccepted",e.OnFriendApplicationAdded="OnFriendApplicationAdded",e.OnFriendApplicationDeleted="OnFriendApplicationDeleted",e.OnFriendApplicationRejected="OnFriendApplicationRejected",e.OnFriendInfoChanged="OnFriendInfoChanged",e.OnFriendAdded="OnFriendAdded",e.OnFriendDeleted="OnFriendDeleted",e.OnJoinedGroupAdded="OnJoinedGroupAdded",e.OnJoinedGroupDeleted="OnJoinedGroupDeleted",e.OnGroupDismissed="OnGroupDismissed",e.OnGroupMemberAdded="OnGroupMemberAdded",e.OnGroupMemberDeleted="OnGroupMemberDeleted",e.OnGroupApplicationAdded="OnGroupApplicationAdded",e.OnGroupApplicationDeleted="OnGroupApplicationDeleted",e.OnGroupInfoChanged="OnGroupInfoChanged",e.OnGroupMemberInfoChanged="OnGroupMemberInfoChanged",e.OnGroupApplicationAccepted="OnGroupApplicationAccepted",e.OnGroupApplicationRejected="OnGroupApplicationRejected",e.UploadComplete="UploadComplete",e.OnRecvCustomBusinessMessage="OnRecvCustomBusinessMessage",e.OnUserStatusChanged="OnUserStatusChanged",e.OnUploadLogsProgress="OnUploadLogsProgress",e.OnReceiveNewInvitation="OnReceiveNewInvitation",e.OnInviteeAccepted="OnInviteeAccepted",e.OnInviteeRejected="OnInviteeRejected",e.OnInvitationCancelled="OnInvitationCancelled",e.OnHangUp="OnHangUp",e.OnInvitationTimeout="OnInvitationTimeout",e.OnInviteeAcceptedByOtherDevice="OnInviteeAcceptedByOtherDevice",e.OnInviteeRejectedByOtherDevice="OnInviteeRejectedByOtherDevice",e.OnStreamChange="OnStreamChange",e.OnRoomParticipantConnected="OnRoomParticipantConnected",e.OnRoomParticipantDisconnected="OnRoomParticipantDisconnected",e.OnReceiveCustomSignal="OnReceiveCustomSignal",e.UnUsedEvent="UnUsedEvent"})(B||(B={})),function(e){e[e.NetworkError=1e4]="NetworkError",e[e.NetworkTimeoutError=10001]="NetworkTimeoutError",e[e.ArgsError=10002]="ArgsError",e[e.CtxDeadlineExceededError=10003]="CtxDeadlineExceededError",e[e.ResourceLoadNotCompleteError=10004]="ResourceLoadNotCompleteError",e[e.UnknownCode=10005]="UnknownCode",e[e.SdkInternalError=10006]="SdkInternalError",e[e.NoUpdateError=10007]="NoUpdateError",e[e.UserIDNotFoundError=10100]="UserIDNotFoundError",e[e.LoginOutError=10101]="LoginOutError",e[e.LoginRepeatError=10102]="LoginRepeatError",e[e.FileNotFoundError=10200]="FileNotFoundError",e[e.MsgDeCompressionError=10201]="MsgDeCompressionError",e[e.MsgDecodeBinaryWsError=10202]="MsgDecodeBinaryWsError",e[e.MsgBinaryTypeNotSupportError=10203]="MsgBinaryTypeNotSupportError",e[e.MsgRepeatError=10204]="MsgRepeatError",e[e.MsgContentTypeNotSupportError=10205]="MsgContentTypeNotSupportError",e[e.MsgHasNoSeqError=10206]="MsgHasNoSeqError",e[e.NotSupportOptError=10301]="NotSupportOptError",e[e.NotSupportTypeError=10302]="NotSupportTypeError",e[e.UnreadCountError=10303]="UnreadCountError",e[e.GroupIDNotFoundError=10400]="GroupIDNotFoundError",e[e.GroupTypeErr=10401]="GroupTypeErr"}(Ue||(Ue={})),function(e){e[e.GetNewestSeq=1001]="GetNewestSeq",e[e.PullMsgByRange=1002]="PullMsgByRange",e[e.SendMsg=1003]="SendMsg",e[e.SendSignalMsg=1004]="SendSignalMsg",e[e.PullMsgBySeqList=1005]="PullMsgBySeqList",e[e.GetConvMaxReadSeq=1006]="GetConvMaxReadSeq",e[e.PushMsg=2001]="PushMsg",e[e.KickOnlineMsg=2002]="KickOnlineMsg",e[e.LogoutMsg=2003]="LogoutMsg",e[e.SetBackgroundStatus=2004]="SetBackgroundStatus",e[e.WsSubUserOnlineStatus=2005]="WsSubUserOnlineStatus",e[e.WSServerConfigMsg=2100]="WSServerConfigMsg",e[e.WSDataError=3001]="WSDataError"}(dt||(dt={})),function(e){e[e.Text=101]="Text",e[e.Picture=102]="Picture",e[e.Sound=103]="Sound",e[e.Video=104]="Video",e[e.File=105]="File",e[e.AtText=106]="AtText",e[e.Merger=107]="Merger",e[e.Card=108]="Card",e[e.Location=109]="Location",e[e.Custom=110]="Custom",e[e.Typing=113]="Typing",e[e.Quote=114]="Quote",e[e.Face=115]="Face",e[e.AdvancedText=117]="AdvancedText",e[e.CustomMsgNotTriggerConversation=119]="CustomMsgNotTriggerConversation",e[e.CustomMsgOnlineOnly=120]="CustomMsgOnlineOnly",e[e.ReactionMessageModifier=121]="ReactionMessageModifier",e[e.ReactionMessageDeleter=122]="ReactionMessageDeleter"}(_t||(_t={})),function(e){e[e.NotificationBegin=1e3]="NotificationBegin",e[e.FriendNotificationBegin=1200]="FriendNotificationBegin",e[e.FriendApplicationApprovedNotification=1201]="FriendApplicationApprovedNotification",e[e.FriendApplicationRejectedNotification=1202]="FriendApplicationRejectedNotification",e[e.FriendApplicationNotification=1203]="FriendApplicationNotification",e[e.FriendAddedNotification=1204]="FriendAddedNotification",e[e.FriendDeletedNotification=1205]="FriendDeletedNotification",e[e.FriendRemarkSetNotification=1206]="FriendRemarkSetNotification",e[e.BlackAddedNotification=1207]="BlackAddedNotification",e[e.BlackDeletedNotification=1208]="BlackDeletedNotification",e[e.FriendInfoUpdatedNotification=1209]="FriendInfoUpdatedNotification",e[e.FriendsInfoUpdateNotification=1210]="FriendsInfoUpdateNotification",e[e.FriendNotificationEnd=1299]="FriendNotificationEnd",e[e.ConversationChangeNotification=1300]="ConversationChangeNotification",e[e.UserNotificationBegin=1301]="UserNotificationBegin",e[e.UserInfoUpdatedNotification=1303]="UserInfoUpdatedNotification",e[e.UserStatusChangeNotification=1304]="UserStatusChangeNotification",e[e.UserCommandAddNotification=1305]="UserCommandAddNotification",e[e.UserCommandDeleteNotification=1306]="UserCommandDeleteNotification",e[e.UserCommandUpdateNotification=1307]="UserCommandUpdateNotification",e[e.UserNotificationEnd=1399]="UserNotificationEnd",e[e.OANotification=1400]="OANotification",e[e.GroupNotificationBegin=1500]="GroupNotificationBegin",e[e.GroupCreatedNotification=1501]="GroupCreatedNotification",e[e.GroupInfoSetNotification=1502]="GroupInfoSetNotification",e[e.JoinGroupApplicationNotification=1503]="JoinGroupApplicationNotification",e[e.MemberQuitNotification=1504]="MemberQuitNotification",e[e.GroupApplicationAcceptedNotification=1505]="GroupApplicationAcceptedNotification",e[e.GroupApplicationRejectedNotification=1506]="GroupApplicationRejectedNotification",e[e.GroupOwnerTransferredNotification=1507]="GroupOwnerTransferredNotification",e[e.MemberKickedNotification=1508]="MemberKickedNotification",e[e.MemberInvitedNotification=1509]="MemberInvitedNotification",e[e.MemberEnterNotification=1510]="MemberEnterNotification",e[e.GroupDismissedNotification=1511]="GroupDismissedNotification",e[e.GroupMemberMutedNotification=1512]="GroupMemberMutedNotification",e[e.GroupMemberCancelMutedNotification=1513]="GroupMemberCancelMutedNotification",e[e.GroupMutedNotification=1514]="GroupMutedNotification",e[e.GroupCancelMutedNotification=1515]="GroupCancelMutedNotification",e[e.GroupMemberInfoSetNotification=1516]="GroupMemberInfoSetNotification",e[e.GroupMemberSetToAdminNotification=1517]="GroupMemberSetToAdminNotification",e[e.GroupMemberSetToOrdinaryUserNotification=1518]="GroupMemberSetToOrdinaryUserNotification",e[e.GroupInfoSetAnnouncementNotification=1519]="GroupInfoSetAnnouncementNotification",e[e.GroupInfoSetNameNotification=1520]="GroupInfoSetNameNotification",e[e.GroupNotificationEnd=1599]="GroupNotificationEnd",e[e.SignalingNotificationBegin=1600]="SignalingNotificationBegin",e[e.SignalingNotification=1601]="SignalingNotification",e[e.RoomParticipantsConnectedNotification=1602]="RoomParticipantsConnectedNotification",e[e.RoomParticipantsDisconnectedNotification=1603]="RoomParticipantsDisconnectedNotification",e[e.StreamChangedNotification=1604]="StreamChangedNotification",e[e.CustomSignalNotification=1605]="CustomSignalNotification",e[e.SignalingNotificationEnd=1649]="SignalingNotificationEnd",e[e.SuperGroupNotificationBegin=1650]="SuperGroupNotificationBegin",e[e.SuperGroupUpdateNotification=1651]="SuperGroupUpdateNotification",e[e.MsgDeleteNotification=1652]="MsgDeleteNotification",e[e.ReactionMessageModifierNotification=1653]="ReactionMessageModifierNotification",e[e.ReactionMessageDeleteNotification=1654]="ReactionMessageDeleteNotification",e[e.SuperGroupNotificationEnd=1699]="SuperGroupNotificationEnd",e[e.ConversationPrivateChatNotification=1701]="ConversationPrivateChatNotification",e[e.ConversationUnreadNotification=1702]="ConversationUnreadNotification",e[e.ClearConversationNotification=1703]="ClearConversationNotification",e[e.WorkMomentNotificationBegin=1900]="WorkMomentNotificationBegin",e[e.WorkMomentNotification=1901]="WorkMomentNotification",e[e.BusinessNotificationBegin=2e3]="BusinessNotificationBegin",e[e.BusinessNotification=2001]="BusinessNotification",e[e.BusinessNotificationEnd=2099]="BusinessNotificationEnd",e[e.RevokeNotification=2101]="RevokeNotification",e[e.HasReadReceiptNotification=2150]="HasReadReceiptNotification",e[e.GroupHasReadReceiptNotification=2155]="GroupHasReadReceiptNotification",e[e.DeleteMsgsNotification=2102]="DeleteMsgsNotification",e[e.HasReadReceipt=2200]="HasReadReceipt",e[e.HasGroupReadReceipt=2300]="HasGroupReadReceipt",e[e.NotificationEnd=5e3]="NotificationEnd"}(ye||(ye={})),function(e){e[e.UserMsgType=100]="UserMsgType",e[e.SysMsgType=200]="SysMsgType"}(lt||(lt={})),function(e){e[e.MsgStatusDefault=0]="MsgStatusDefault",e[e.MsgStatusSending=1]="MsgStatusSending",e[e.MsgStatusSendSuccess=2]="MsgStatusSendSuccess",e[e.MsgStatusSendFailed=3]="MsgStatusSendFailed",e[e.MsgStatusHasDeleted=4]="MsgStatusHasDeleted",e[e.MsgStatusFiltered=5]="MsgStatusFiltered"}(Mr||(Mr={})),function(e){e.IsHistory="history",e.IsPersistent="persistent",e.IsUnreadCount="unreadCount",e.IsConversationUpdate="conversationUpdate",e.IsOfflinePush="offlinePush",e.IsSenderSync="senderSync",e.IsNotPrivate="notPrivate",e.IsSenderConversationUpdate="senderConversationUpdate"}(or||(or={})),function(e){e[e.GroupOk=0]="GroupOk",e[e.GroupBanChat=1]="GroupBanChat",e[e.GroupStatusDismissed=2]="GroupStatusDismissed",e[e.GroupStatusMuted=3]="GroupStatusMuted"}(Ru||(Ru={})),function(e){e[e.WorkMomentCommentNotification=0]="WorkMomentCommentNotification",e[e.WorkMomentLikeNotification=1]="WorkMomentLikeNotification",e[e.WorkMomentAtUserNotification=2]="WorkMomentAtUserNotification"}(gD||(gD={})),function(e){e[e.TokenExpiredError=1501]="TokenExpiredError",e[e.TokenInvalidError=1502]="TokenInvalidError",e[e.TokenMalformedError=1503]="TokenMalformedError",e[e.TokenNotValidYetError=1504]="TokenNotValidYetError",e[e.TokenUnknownError=1505]="TokenUnknownError",e[e.TokenKickedError=1506]="TokenKickedError",e[e.TokenNotExistError=1507]="TokenNotExistError"}(br||(br={}));VS=(($r={})[br.TokenExpiredError]=B.OnUserTokenExpired,$r[br.TokenInvalidError]=B.OnUserTokenInvalid,$r[br.TokenMalformedError]=B.OnUserTokenInvalid,$r[br.TokenNotValidYetError]=B.OnUserTokenInvalid,$r[br.TokenUnknownError]=B.OnUserTokenInvalid,$r[br.TokenKickedError]=B.OnKickedOffline,$r[br.TokenNotExistError]=B.OnUserTokenInvalid,$r);(function(e){e[e.Nomal=0]="Nomal",e[e.NotReceive=1]="NotReceive",e[e.NotNotify=2]="NotNotify"})(Au||(Au={})),function(e){e[e.Allowed=0]="Allowed",e[e.NotAllowed=1]="NotAllowed"}(hD||(hD={})),function(e){e[e.Group=2]="Group",e[e.WorkingGroup=2]="WorkingGroup"}(mD||(mD={})),function(e){e[e.Invitation=2]="Invitation",e[e.Search=3]="Search",e[e.QrCode=4]="QrCode"}(vD||(vD={})),function(e){e[e.Nomal=20]="Nomal",e[e.Admin=60]="Admin",e[e.Owner=100]="Owner"}(eh||(eh={})),function(e){e[e.ApplyNeedInviteNot=0]="ApplyNeedInviteNot",e[e.AllNeed=1]="AllNeed",e[e.AllNot=2]="AllNot"}(yD||(yD={})),function(e){e[e.Sending=1]="Sending",e[e.Succeed=2]="Succeed",e[e.Failed=3]="Failed"}(wr||(wr={})),function(e){e[e.iOS=1]="iOS",e[e.Android=2]="Android",e[e.Windows=3]="Windows",e[e.MacOSX=4]="MacOSX",e[e.Web=5]="Web",e[e.Linux=7]="Linux",e[e.AndroidPad=8]="AndroidPad",e[e.iPad=9]="iPad"}(DD||(DD={})),function(e){e[e.Silent=5]="Silent",e[e.Error=4]="Error",e[e.Warn=3]="Warn",e[e.Info=2]="Info",e[e.Debug=1]="Debug",e[e.Trace=0]="Trace"}(th||(th={})),function(e){e[e.Unprocessed=0]="Unprocessed",e[e.Agree=1]="Agree",e[e.Reject=-1]="Reject"}(To||(To={})),function(e){e[e.TextMessage=101]="TextMessage",e[e.PictureMessage=102]="PictureMessage",e[e.VoiceMessage=103]="VoiceMessage",e[e.VideoMessage=104]="VideoMessage",e[e.FileMessage=105]="FileMessage",e[e.AtTextMessage=106]="AtTextMessage",e[e.MergeMessage=107]="MergeMessage",e[e.CardMessage=108]="CardMessage",e[e.LocationMessage=109]="LocationMessage",e[e.CustomMessage=110]="CustomMessage",e[e.TypingMessage=113]="TypingMessage",e[e.QuoteMessage=114]="QuoteMessage",e[e.FaceMessage=115]="FaceMessage",e[e.FriendAdded=1201]="FriendAdded",e[e.OANotification=1400]="OANotification",e[e.GroupCreated=1501]="GroupCreated",e[e.MemberQuit=1504]="MemberQuit",e[e.GroupOwnerTransferred=1507]="GroupOwnerTransferred",e[e.MemberKicked=1508]="MemberKicked",e[e.MemberInvited=1509]="MemberInvited",e[e.MemberEnter=1510]="MemberEnter",e[e.GroupDismissed=1511]="GroupDismissed",e[e.GroupMemberMuted=1512]="GroupMemberMuted",e[e.GroupMemberCancelMuted=1513]="GroupMemberCancelMuted",e[e.GroupMuted=1514]="GroupMuted",e[e.GroupCancelMuted=1515]="GroupCancelMuted",e[e.GroupAnnouncementUpdated=1519]="GroupAnnouncementUpdated",e[e.GroupNameUpdated=1520]="GroupNameUpdated",e[e.BurnMessageChange=1701]="BurnMessageChange",e[e.RevokeMessage=2101]="RevokeMessage"}(Z||(Z={})),function(e){e[e.Single=1]="Single",e[e.Group=3]="Group",e[e.Notification=4]="Notification"}(rt||(rt={})),function(e){e[e.Nomal=0]="Nomal",e[e.Baned=1]="Baned",e[e.Dismissed=2]="Dismissed",e[e.Muted=3]="Muted"}(Ru||(Ru={})),function(e){e[e.AtNormal=0]="AtNormal",e[e.AtMe=1]="AtMe",e[e.AtAll=2]="AtAll",e[e.AtAllAtMe=3]="AtAllAtMe",e[e.AtGroupNotice=4]="AtGroupNotice"}(nh||(nh={})),function(e){e[e.All=0]="All",e[e.Owner=1]="Owner",e[e.Admin=2]="Admin",e[e.Nomal=3]="Nomal",e[e.AdminAndNomal=4]="AdminAndNomal",e[e.AdminAndOwner=5]="AdminAndOwner"}(_D||(_D={})),function(e){e[e.isBlack=0]="isBlack",e[e.isFriend=1]="isFriend"}(CD||(CD={})),function(e){e[e.Logout=1]="Logout",e[e.Logging=2]="Logging",e[e.Logged=3]="Logged"}(En||(En={})),function(e){e[e.Online=1]="Online",e[e.Offline=0]="Offline"}(bD||(bD={})),function(e){e[e.ViewHistory=0]="ViewHistory",e[e.ViewSearch=1]="ViewSearch"}(ID||(ID={}));ju=function(){return(36*Math.random()).toString(36).slice(2)+new Date().getTime().toString()},jS=function(e){var t=new Date().getTime().toString(),n=Math.floor(Math.random()*new Date().getTime());return Ou.default.hash(t+e+n)},rh=function(e){if(e.sessionType===rt.Single){var t=[e.sendID,e.recvID].sort();return"si_"+t[0]+"_"+t[1]}return e.sessionType===rt.Group?"sg_"+e.groupID:e.sessionType===rt.Notification?"sn_"+e.sendID+"_"+e.recvID:""},ch=function(e){if(e.sessionType===rt.Single){var t=[e.sourceID,e.userID].sort();return"si_"+t[0]+"_"+t[1]}return e.sessionType===rt.Group?"sg_"+e.sourceID:e.sessionType===rt.Notification?"sn_"+e.sourceID+"_"+e.userID:""},Zg=function(e,t){return!(t in e&&!e[t])},US=((Gn={})[dt.GetNewestSeq]=st.GetMaxSeqResp.decode,Gn[dt.PullMsgByRange]=st.PullMessageBySeqsResp.decode,Gn[dt.SendMsg]=st.UserSendMsgResp.decode,Gn[dt.PullMsgBySeqList]=st.GetSeqMessageResp.decode,Gn[dt.PushMsg]=st.PushMessages.decode,Gn[dt.SetBackgroundStatus]=st.SetAppBackgroundStatusResp.decode,Gn[dt.WsSubUserOnlineStatus]=st.SubUserOnlineStatusTips.decode,Gn[dt.GetConvMaxReadSeq]=st.GetConversationsHasReadAndMaxSeqResp.decode,Gn[Fe.GetActiveConversations]=st.GetActiveConversationsResp.decode,Gn[Fe.GetDesignatedConversation]=st.GetConversationsResp.decode,Gn),Fu=function(e,t){if(!e)return null;var n=Q1(e),r=US[t];return r?r(new Uint8Array(n)):null},Et=function(e,t,n){var r=new Date().getTime(),i=e.userTrigger.cache.getSelfUserInfo();return{clientMsgID:jS(e.userID),createTime:r,sendTime:r,sessionType:0,sendID:e.userID,msgFrom:t,contentType:n,senderPlatformID:e.platform,senderNickname:i?.nickname,senderFaceUrl:i?.faceURL,seq:0,isRead:!1,status:wr.Sending}},BS=function(e){return e.sort(function(t,n){return t.isPinned===n.isPinned?t.latestMsgSendTime>n.latestMsgSendTime?-1:t.latestMsgSendTime<n.latestMsgSendTime?1:0:t.isPinned&&!n.isPinned?-1:1})},We=function(e){function t(n,r){var i;return(i=e.call(this,r)||this).errCode=void 0,i.name=i.constructor.name,i.errCode=n,Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return xD(t,e),t}(Xg(Error)),ee=function(e,t,n,r){var i={event:t,operationID:n,data:null,errMsg:"",errCode:0};return e===En.Logout?Promise.reject(le({},i,{errCode:Ue.ResourceLoadNotCompleteError,errMsg:"Resource load not complete"})):r().then(function(o){return o===void 0&&(o=null),le({},i,{data:o})}).catch(function(o){return le({},i,{errCode:o.errCode||Ue.SdkInternalError,errMsg:o.message||"Internal Error"})})},ih="UTF-8",wD="ASCII",GS=ih,So=65533,ND=function(e,t){if(e<128)t.push(e);else for(var n=[127,2047,65535,2097151],r=0;;){if(++r===n.length)return console.error("UTF-8 Write - attempted to encode illegally high code point - "+e),void ND(So,t);if(e<=n[r]){r+=1;var i=0,o=void 0;for(o=0;o<r;o++)i<<=1,i|=1;for(i<<=8-r,t.push(i|=e>>6*(r-1)),o=1;o<r;o++)i=128,t.push(i|=e>>6*(r-(o+1))&191);return}}},HS=function(e,t,n,r){var i=t.getUint8(n);if(e.bytesRead=1,e.charVal=0,128&i){for(var o=0,s=i;128&s;)o++,s<<=1;if(o===1)return console.error("UTF-8 read - found continuation byte at beginning of character"),void(e.charVal=So);if(o>r)return console.error("UTF-8 read - attempted to read "+o+" byte character, "+(r-o)+" bytes past end of buffer"),void(e.charVal=So);e.charVal=i&255>>o+1;for(var a=1;a<o;a++){if((192&(s=t.getUint8(n+a)))!=128)return console.error("UTF-8 read - attempted to read "+o+" byte character, found non-continuation at byte "+a),e.charVal=So,void(e.bytesRead=1);if(e.charVal<<=6,e.charVal|=63&s,!(a!==1||e.charVal>>8-(o+1)-1))return console.error("UTF-8 read - found overlong encoding"),e.charVal=So,void(e.bytesRead=1);e.bytesRead++}if(e.charVal>1114111)return console.error("UTF-8 read - found illegally high code point "+e.charVal),e.charVal=So,void(e.bytesRead=1)}else e.charVal=i},qS=function(e){for(var t=[],n=0;n<e.length;n++)ND(e.charCodeAt(n),t);return t},$S=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r>255&&(r=63),t.push(r)}return t},zS=function(e,t,n,r){var i=n===void 0,o=t||0;if(!i&&o+n>e.byteLength)throw new Error("Attempted to read "+(o+n-e.byteLength)+" bytes past end of buffer");for(var s=[],a={};o<e.byteLength&&(i||n>o-t)&&(HS(a,e,o,i?e.byteLength-(o+t):n-(o-t)),o+=a.bytesRead,!i||a.charVal!==r);)s.push(String.fromCharCode(a.charVal));return{str:s.join(""),byteLength:o-t}},WS=function(e,t,n,r){var i=[],o=0;t=t||0;var s=!1;n===void 0&&(s=!0,n=e.byteLength-e.byteOffset);for(var a=0;a<n;a++){var c=e.getUint8(a+t);if(o++,s&&c===r)break;i.push(String.fromCharCode(c))}return{str:i.join(""),byteLength:o}},Fi=ah("readString"),Ir=ah("writeString"),Cr=ah("checkEncoding");JS=new(function(){function e(){Object.defineProperty(this,Cr,{value:ZS}),Object.defineProperty(this,Fi,{writable:!0,value:new Map([[wD,WS],[ih,zS]])}),Object.defineProperty(this,Ir,{writable:!0,value:new Map([[wD,$S],[ih,qS]])})}var t=e.prototype;return t.addStringCodec=function(n,r,i){Hn(this,Fi)[Fi].put(n,r),Hn(this,Ir)[Ir].put(n,i)},t.stringByteLength=function(n,r){return r=Hn(this,Cr)[Cr](r),Hn(this,Ir)[Ir].get(r)(n).length},t.getString=function(n,r,i,o){return this.getStringData(n,r,i,o).str},t.getStringData=function(n,r,i,o){return o=Hn(this,Cr)[Cr](o),i||(i=n.byteLength-r),Hn(this,Fi)[Fi].get(o)(n,r,i)},t.getStringNT=function(n,r,i,o){return o===void 0&&(o=0),this.getStringDataNT(n,r,i,o).str},t.getStringDataNT=function(n,r,i,o){return o===void 0&&(o=0),i=Hn(this,Cr)[Cr](i),Hn(this,Fi)[Fi].get(i)(n,r,void 0,o)},t.setString=function(n,r,i,o){o=Hn(this,Cr)[Cr](o);var s,a=Hn(this,Ir)[Ir].get(o)(i);for(s=0;s<a.length&&r+s<n.byteLength;s++)n.setUint8(r+s,a[s]);return s},t.setStringNT=function(n,r,i,o){var s=this.setString(n,r,i,o);return r+s>=n.byteLength&&(s-=1),n.setUint8(r+s,0),s+1},e}()),OD=function(e){return new TextDecoder().decode(e)},Lu=function(e){return new TextEncoder().encode(e)};(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(xo||(xo={}));YS=function(){function e(t,n,r,i,o,s,a,c){var u=this,l=this;a===void 0&&(a=5e3),c===void 0&&(c=1/0),this.url=void 0,this.onMessage=void 0,this.onReconnecting=void 0,this.onReconnectFailed=void 0,this.onReconnectSuccess=void 0,this.reconnectInterval=void 0,this.maxReconnectAttempts=void 0,this.ws=void 0,this.connectParams=void 0,this.reconnectAttempts=void 0,this.shouldReconnect=void 0,this.isProcessingMessage=!1,this.hasPong=!1,this.platformNamespace=void 0,this.heartbeatInterval=1e4,this.heartbeatWorker=null,this.legacyTimer=null,this.workerUrl=null,this.checkPlatform=function(){return typeof WebSocket<"u"?"web":typeof my<"u"?"my":typeof uni<"u"?"uni":typeof wx<"u"?"wx":"unknow"},this.urlFormat=function(){for(var d="?",p=0,f=Object.entries(l.connectParams);p<f.length;p++){var g=f[p];d+=g[0]+"="+g[1]+"&"}return l.url+d.slice(0,-1)},this.startHeartbeat=function(){if(l.heartbeatWorker&&l.stopHeartbeat(),l.hasPong=!0,typeof Worker<"u"){var d=new Blob([`
        let timerId = null;
        let heartbeatInterval;

        self.onmessage = (e) => {
          if (e.data.type === 'start') {
            heartbeatInterval = e.data.interval;
            if (timerId) return;
            
            timerId = self.setInterval(() => {
              self.postMessage({ type: 'ping' });
            }, heartbeatInterval);
          } else if (e.data.type === 'stop') {
            if (timerId) {
              self.clearInterval(timerId);
              timerId = null;
            }
          }
        };
      `],{type:"application/javascript"});l.workerUrl=URL.createObjectURL(d),l.heartbeatWorker=new Worker(l.workerUrl),l.heartbeatWorker.onmessage=function(p){p.data.type==="ping"&&l.sendPing()},l.heartbeatWorker.postMessage({type:"start",interval:l.heartbeatInterval})}else l.legacyTimer=setInterval(function(){l.sendPing()},l.heartbeatInterval)},this.connect=function(){return l.platformNamespace==="unknow"?Promise.reject(new Error("WebSocket is not supported")):new Promise(function(d,p){if(l.ws&&l.ws.readyState!==xo.CLOSED)l.ws.readyState===l.ws.OPEN?d():p(new Error("WebSocket is in an unknown state"));else{var f=function(){l.reconnectAttempts&&l.onReconnectSuccess(),l.reconnectAttempts=0,l.startHeartbeat(),d()},g=function(I){return p(I)};if(l.platformNamespace==="web")l.ws=new WebSocket(l.urlFormat()),l.ws.onopen=f,l.ws.onerror=g;else{var C={url:l.urlFormat(),complete:function(){}};l.platformNamespace==="my"&&(C.multiple=!0),l.platformNamespace==="uni"&&(l.ws=uni.connectSocket(C)),l.platformNamespace==="wx"&&(l.ws=wx.connectSocket(C)),l.platformNamespace==="my"&&(l.ws=my.connectSocket(C)),l.ws.onOpen(f),l.ws.onError(g)}l.setupEventListeners()}})},this.setupEventListeners=function(){if(l.ws){var d=function(f){return l.onBinaryMessage(f.data)},p=function(f){if(l.shouldReconnect&&l.reconnectAttempts<l.maxReconnectAttempts){if(l.isProcessingMessage)return void setTimeout(function(){return p()},100);setTimeout(function(){l.onReconnecting(),l.connectParams.operationID=ju(),l.connect().catch(function(){l.onReconnectFailed()})},l.reconnectInterval),l.reconnectAttempts++}l.stopHeartbeat()};l.platformNamespace==="web"?(l.ws.onmessage=d,l.ws.onclose=p):(l.ws.onMessage(d),l.ws.onClose(p))}},this.onBinaryMessage=function(d){try{return typeof d!="string"&&u.platformNamespace==="my"&&(d=d.data),typeof d=="string"&&JSON.parse(d).type==="pong"?(u.hasPong=!0,Promise.resolve()):(u.isProcessingMessage=!0,Promise.resolve(u.onMessage(d,u.connectParams.operationID)).then(function(){u.isProcessingMessage=!1}))}catch(p){return Promise.reject(p)}},this.sendPing=function(){var d;if(((d=l.ws)==null?void 0:d.readyState)===xo.OPEN){if(!l.hasPong)return l.ws.close(),void l.stopHeartbeat();var p=JSON.stringify({type:"ping"});l.ws.send(l.platformNamespace==="web"?p:{data:p}),l.hasPong=!1}},this.sendMessage=function(d){var p,f=Lu(JSON.stringify(d));((p=l.ws)==null?void 0:p.readyState)===xo.OPEN?l.ws.send(l.platformNamespace==="web"?f:{data:Uint8Array.from(f).buffer}):console.error("WebSocket is not open. Message not sent.")},this.close=function(){var d;l.shouldReconnect=!1,((d=l.ws)==null?void 0:d.readyState)===xo.OPEN&&l.ws.close()},this.url=t,this.onMessage=r,this.onReconnecting=i,this.onReconnectFailed=o,this.onReconnectSuccess=s,this.reconnectInterval=a,this.maxReconnectAttempts=c,this.connectParams=n,this.reconnectInterval=a,this.maxReconnectAttempts=c,this.reconnectAttempts=0,this.shouldReconnect=!0,this.platformNamespace=this.checkPlatform()}return e.prototype.stopHeartbeat=function(){this.heartbeatWorker&&(this.heartbeatWorker.postMessage({type:"stop"}),this.heartbeatWorker.terminate(),this.workerUrl&&(URL.revokeObjectURL(this.workerUrl),this.workerUrl=null),this.heartbeatWorker=null),this.legacyTimer&&(clearInterval(this.legacyTimer),this.legacyTimer=null)},e}(),QS=function(){function e(){this.events=void 0,this.events={}}var t=e.prototype;return t.emit=function(n,r){return this.events[n]&&this.events[n].forEach(function(i){return i(r)}),this},t.on=function(n,r){return this.events[n]?this.events[n].push(r):this.events[n]=[r],this},t.off=function(n,r){if(n&&typeof r=="function"&&this.events[n]){var i=this.events[n];if(!i||i.length===0)return;var o=i.findIndex(function(s){return s===r});o!==-1&&i.splice(o,1)}return this},e}(),KS=["friendUser"],XS=["blackUserInfo"],oh=function(e){var t,n,r,i,o,s,a,c,u,l,d,p,f,g;return{createTime:(t=e.groupInfo)==null?void 0:t.createTime,creatorUserID:(n=e.groupInfo)==null?void 0:n.creatorUserID,ex:e.ex,groupFaceURL:(r=e.groupInfo)==null?void 0:r.faceURL,groupID:(i=e.groupInfo)==null?void 0:i.groupID,groupName:(o=e.groupInfo)==null?void 0:o.groupName,groupType:(s=e.groupInfo)==null?void 0:s.groupType,handleResult:e.handleResult,handleUserID:e.handleUserID,handledMsg:e.handleMsg,handledTime:e.handleTime,introduction:(a=e.groupInfo)==null?void 0:a.introduction,memberCount:(c=e.groupInfo)==null?void 0:c.memberCount,nickname:(u=e.userInfo)==null?void 0:u.nickname,notification:(l=e.groupInfo)==null?void 0:l.notification,ownerUserID:(d=e.groupInfo)==null?void 0:d.ownerUserID,reqMsg:e.reqMsg,reqTime:e.reqTime,joinSource:e.joinSource,status:(p=e.groupInfo)==null?void 0:p.status,userFaceURL:(f=e.userInfo)==null?void 0:f.faceURL,userID:(g=e.userInfo)==null?void 0:g.userID}},Nu=function(e){return{clientMsgID:e.clientMsgID,serverMsgID:e.serverMsgID,createTime:e.createTime,sendTime:e.sendTime,sessionType:e.sessionType,sendID:e.sendID,recvID:e.recvID,msgFrom:e.msgFrom,contentType:e.contentType,senderPlatformID:e.senderPlatformID,senderNickname:e.senderNickname,senderFaceUrl:e.senderFaceURL,groupID:e.groupID,content:e.content.length?OD(e.content):"",seq:e.seq,isRead:e.isRead,status:Mr.MsgStatusSendSuccess,isExternalExtensions:!1,offlinePush:e.offlinePushInfo,attachedInfo:e.attachedInfo,ex:e.ex,localEx:""}},Sn=function(e){var t=le({},e);try{switch(e.contentType){case _t.Text:t.textElem=JSON.parse(t.content);break;case _t.Picture:t.pictureElem=JSON.parse(t.content);break;case _t.Sound:t.soundElem=JSON.parse(t.content);break;case _t.Video:t.videoElem=JSON.parse(t.content);break;case _t.File:t.fileElem=JSON.parse(t.content);break;case _t.AtText:t.atTextElem=JSON.parse(t.content);break;case _t.Location:t.locationElem=JSON.parse(t.content);break;case _t.Custom:case _t.CustomMsgNotTriggerConversation:case _t.CustomMsgOnlineOnly:t.customElem=JSON.parse(t.content);break;case _t.Typing:t.typingElem=JSON.parse(t.content);break;case _t.Merger:t.mergeElem=JSON.parse(t.content);break;case _t.Face:t.faceElem=JSON.parse(t.content);break;case _t.Quote:t.quoteElem=JSON.parse(t.content);break;case _t.Card:t.cardElem=JSON.parse(t.content);break;default:t.notificationElem=JSON.parse(t.content)}}catch{ie.default.warn("messageElemFormater messageElem parse failed",t)}if(e.attachedInfo)try{t.attachedInfoElem=JSON.parse(t.attachedInfo),t.attachedInfo=""}catch{ie.default.warn("messageElemFormater attachedInfoElem failed",t.attachedInfo)}return t.content="",t},Be=function(e){var t=OD(e),n=JSON.parse(t);return JSON.parse(n.detail)},sh=function(e,t,n){var r=e.conversation,i=e.group,o=e.friend,s=e.user,a=e.lastMsg,c=e.maxSeq,u=e.readSeq;try{var l,d,p,f,g=function(){var y,h;return{conversationID:r.conversationID,conversationType:r.conversationType,userID:r.userID,groupID:r.groupID,showName:l,faceURL:C,recvMsgOpt:r.recvMsgOpt,unreadCount:c-u,groupAtType:r.groupAtType,latestMsg:I,latestMsgSendTime:(y=(h=a?.sendTime)!=null?h:n)!=null?y:0,draftText:"",draftTextTime:0,burnDuration:r.burnDuration,msgDestructTime:r.msgDestructTime,isPinned:r.isPinned,isPrivateChat:r.isPrivateChat,isMsgDestruct:r.isMsgDestruct,attachedInfo:r.attachedInfo,ex:r.ex}},C="",I=a?JSON.stringify(Sn(Nu(a))):"";r?.conversationType===rt.Group?(l=(d=i?.groupName)!=null?d:"",C=(p=i?.faceURL)!=null?p:""):(l=o?.remark||s?.nickname||"",C=(f=s?.faceURL)!=null?f:"");var _=function(){if(a?.status===Mr.MsgStatusHasDeleted)return Promise.resolve(t({conversationID:r?.conversationID,seq:a.seq,operationID:ju()})).then(function(y){y&&(I=JSON.stringify(Sn(y)))})}();return Promise.resolve(_&&_.then?_.then(g):g())}catch(y){return Promise.reject(y)}},Vu=function(e){var t=e.friendUser;return le({},PD(e,KS),{userID:t.userID,nickname:t.nickname,faceURL:t.faceURL,attachedInfo:""})},RD=function(e){var t=e.blackUserInfo;return le({},PD(e,XS),{userID:t.userID,nickname:t.nickname,faceURL:t.faceURL})},MD=function(){function e(n){var r=this;this.store=void 0,this.options=void 0,this.expiryListeners=[],this.cleanupTimer=void 0,this.options=n,this.store=new Map,this.options.cleanupInterval>0&&(this.cleanupTimer=setInterval(function(){r.deleteExpired()},this.options.cleanupInterval))}var t=e.prototype;return t.onExpiry=function(n){this.expiryListeners.push(n)},t.triggerExpiry=function(n,r){this.expiryListeners.forEach(function(i){return i(n,r)}),this.delete(n)},t.set=function(n,r){var i=this;this.delete(n);var o=Date.now(),s=null;this.options.ttl>0&&(s=setTimeout(function(){clearTimeout(s),i.triggerExpiry(n,r)},this.options.ttl)),this.store.set(n,{value:r,timer:s,created:o})},t.get=function(n){var r=this.store.get(n);if(r&&Date.now()-r.created<this.options.ttl)return r.value},t.delete=function(n){var r=this.store.get(n);return!!r&&(r.timer&&clearTimeout(r.timer),this.store.delete(n),!0)},t.clear=function(){this.store.forEach(function(n,r){n.timer&&clearTimeout(n.timer)}),this.store.clear()},t.deleteExpired=function(){var n=this,r=Date.now();this.store.forEach(function(i,o){i.created+n.options.ttl<=r&&n.triggerExpiry(o,i.value)})},t.dispose=function(){this.cleanupTimer&&clearInterval(this.cleanupTimer),this.clear()},e}(),Jg=15e3;(function(e){e.Success="stateCodeSuccess",e.End="stateCodeEnd"})(ko||(ko={}));e2=function(e){var t=this,n=this,r=this;this.ctx=void 0,this.send=void 0,this.state=void 0,this.platformIDs=[],this.platformIDSet=new Map,this.reset=function(){r.send.clear(),r.state.clear()},this.changeInputStates=function(i){var o=i.conversationID,s=i.focus,a=i.operationID;try{return Promise.resolve(t.ctx.messageTrigger.getOneConversationAndTryChange(o,a)).then(function(c){if(!c)throw new Error("conversation not exist");if(s){if(t.send.get(o)===ko.Success)return;t.send.set(o,ko.Success)}else{if(!t.send.get(o)||t.send.get(o)===ko.End)return;t.send.set(o,ko.End)}var u=Et(t.ctx,lt.UserMsgType,Z.TypingMessage);u.recvID=c.userID,u.groupID=c.groupID,u.sessionType=c.conversationType,u.content=JSON.stringify({msgTips:s?"yes":"no"});var l={};Object.values(or).forEach(function(p){return l[p]=!1});var d=st.MsgData.encode(le({},u,{content:Lu(u.content),senderFaceURL:u.senderFaceUrl,options:l,offlinePushInfo:void 0,atUserIDList:[],keyVersion:0,dstUserIDs:[]})).finish();return Promise.resolve(t.ctx.sendReqWaitResp({data:d,operationID:a,reqIdentifier:dt.SendMsg})).then(function(){})})}catch(c){return Promise.reject(c)}},this.onNewMessage=function(i){try{var o=i.typingElem;if(i.sendID===n.ctx.userID||!n.platformIDSet.has(i.senderPlatformID))return Promise.resolve();var s=Date.now()+10,a=ch({sourceID:i.groupID||i.sendID,sessionType:i.sessionType,userID:n.ctx.userID}),c=JSON.stringify({conversationID:a,platformID:i.senderPlatformID,userID:i.sendID});return o?.msgTips==="yes"?(n.state.get(c)||setTimeout(function(){return n.triggerChange(a,i.sendID)}),n.state.set(c,s)):n.triggerChange(a,i.sendID),Promise.resolve()}catch(u){return Promise.reject(u)}},this.triggerChange=function(i,o){r.ctx.triggerEvent({event:B.OnConversationUserInputStatusChanged,data:{conversationID:i,userID:o,platformIDs:r.getInputStates(i,o)}})},this.getInputStates=function(i,o){var s=[];return r.platformIDs.forEach(function(a){var c=JSON.stringify({conversationID:i,platformID:a,userID:o});r.state.get(c)&&s.push(a)}),s},this.ctx=e,this.send=new MD({ttl:1e4,cleanupInterval:Jg}),this.state=new MD({ttl:Jg,cleanupInterval:Jg}),[1,2,3,4,5,7,8,9].forEach(function(i){r.platformIDSet.set(i),r.platformIDs.push(i)}),this.platformIDs.sort(function(i,o){return i-o}),this.state.onExpiry(function(i){var o=JSON.parse(i);r.triggerChange(o.conversationID,o.userID)})},t2=function(e){var t=this,n=this,r=this,i=this;this.instance=void 0,this.totalUnreadCount=0,this.cachedNotNotifyConversationIDs=new Set,this.cachedConversations=new Map,this.cachedMessages=new Map,this.cachedFilterMessageSeqs=new Map,this.cachedHasReadAndMaxSeqs={},this.clear=function(){i.totalUnreadCount=0,i.cachedHasReadAndMaxSeqs={},i.cachedNotNotifyConversationIDs.clear(),i.cachedMessages.clear(),i.cachedConversations.clear(),i.cachedFilterMessageSeqs.clear()},this.getActiveConversationsFromServer=function(o){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:Fe.GetActiveConversations,data:st.GetActiveConversationsReq.encode({ownerUserID:t.instance.userID,count:20}).finish(),operationID:o})).then(function(s){var a=Fu(s,Fe.GetActiveConversations);if(a){console.warn(a);var c=a.conversations;t.totalUnreadCount=a.unreadCount;var u=t.instance.messageTrigger.cache,l=u.setCachedConversations;return Promise.resolve(Promise.all(c.map(function(d){var p,f;return sh(d,t.instance.messageTrigger.getPreviousSeqMessage,(p=t.instance.messageTrigger.cache.getCachedMaxReadSeq((f=d.conversation)==null?void 0:f.conversationID))==null?void 0:p.maxSeqTime)}))).then(function(d){l.call(u,d)})}})}catch(s){return Promise.reject(s)}},this.getTotalUnreadCount=function(){return i.totalUnreadCount},this.setTotalUnreadCount=function(o,s){o!==i.totalUnreadCount&&(o<0&&(o=0),i.totalUnreadCount=o,i.instance.triggerEvent({event:B.OnTotalUnreadMessageCountChanged,data:o,operationID:s}))},this.decreaseTotalUnreadCount=function(o,s){i.setTotalUnreadCount(i.totalUnreadCount-o,s)},this.getMaxReadSeqs=function(o,s){s===void 0&&(s=[]);try{var a=st.GetConversationsHasReadAndMaxSeqReq.encode({userID:n.instance.userID,conversationIDs:s}).finish();return Promise.resolve(n.instance.sendReqWaitResp({operationID:o,data:a,reqIdentifier:dt.GetConvMaxReadSeq})).then(function(c){function u(){n.cachedHasReadAndMaxSeqs=c.seqs}if(c){var l=function(){if(n.instance.isReconnected)return Promise.resolve(n.instance.messageTrigger.syncer.compareSeqsAndBatchSync(c.seqs,o)).then(function(){})}();return l&&l.then?l.then(u):u()}})}catch(c){return Promise.reject(c)}},this.getSortedConversationIDs=function(o,s){return Object.keys(i.cachedHasReadAndMaxSeqs).sort(function(a,c){return i.cachedHasReadAndMaxSeqs[c].maxSeqTime-i.cachedHasReadAndMaxSeqs[a].maxSeqTime}).slice(o,o+s)},this.getCachedMaxReadSeq=function(o){return i.cachedHasReadAndMaxSeqs[o]},this.addCachedMaxReadSeq=function(o,s){i.cachedHasReadAndMaxSeqs[o]=s},this.updateCachedMaxReadSeq=function(o,s){i.cachedHasReadAndMaxSeqs[o]?i.cachedHasReadAndMaxSeqs[o]=le({},i.cachedHasReadAndMaxSeqs[o],s):ie.default.warn("updateCachedMaxReadSeq: conversationID not found",o,"seqs",s)},this.removeCachedMaxReadSeq=function(o){delete i.cachedHasReadAndMaxSeqs[o]},this.getNotNotifyConversationIDs=function(o){try{return Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Fe.GetNotNotifyConversationIDs,data:{userID:r.instance.userID},operationID:o})).then(function(s){var a=s.conversationIDs;r.cachedNotNotifyConversationIDs=new Set(a??[])})}catch(s){return Promise.reject(s)}},this.isNotNotifyConversation=function(o){return i.cachedNotNotifyConversationIDs.has(o)},this.addNotNotifyConversationID=function(o){i.cachedNotNotifyConversationIDs.has(o)||i.cachedNotNotifyConversationIDs.add(o)},this.deleteNotNotifyConversationID=function(o){i.cachedNotNotifyConversationIDs.has(o)&&i.cachedNotNotifyConversationIDs.delete(o)},this.getCachedConversation=function(o){return i.cachedConversations.get(o)},this.getAllCachedConversations=function(){return Array.from(i.cachedConversations.values())},this.setCachedConversations=function(o){o.map(function(s){i.cachedConversations.set(s.conversationID,s)})},this.getCachedMessagesBySeqs=function(o,s){var a=i.cachedMessages.get(o)||[],c=[],u=[];return s.forEach(function(l){var d=a.find(function(p){return p.seq===l});d?u.push(d):c.push(l)}),{cachedMessages:u,unCachedSeqs:c}},this.getCachedMessageByClientMsgIDs=function(o,s){return(i.cachedMessages.get(o)||[]).filter(function(a){return s.includes(a.clientMsgID)})},this.addMessagesToCache=function(o,s){var a=i.cachedMessages.get(o)||[];i.cachedMessages.set(o,[].concat(a,s))},this.deleteMessageFromCache=function(o,s){var a=i.cachedMessages.get(o)||[];i.cachedMessages.set(o,a.filter(function(c){return c.seq!==s})),i.addFilterSeqsToCache(o,[s])},this.clearCachedConversationMessages=function(o){i.cachedMessages.delete(o)},this.markCachedMessagesAsRead=function(o,s){(i.cachedMessages.get(o)||[]).forEach(function(a){(!s&&a.sendID!==i.instance.userID||s!=null&&s.includes(a.seq))&&(a.isRead=!0)})},this.tryUpdateCachedMessages=function(o,s){var a=i.cachedMessages.get(o)||[],c=a.findIndex(function(u){return u.clientMsgID===s.clientMsgID});if(c!==-1)return Object.assign(a[c],s),a[c]},this.tryUpdateQuotedMessage=function(o,s){var a=i.cachedMessages.get(o)||[],c=a.findIndex(function(l){var d;if(l.contentType===_t.Quote)return((d=Sn(l).quoteElem)==null?void 0:d.quoteMessage.clientMsgID)===s});if(c!==-1){var u=JSON.parse(a[c].content);u.quoteMessage.contentType=ye.RevokeNotification,Object.assign(a[c],{content:JSON.stringify(u)})}},this.addFilterSeqsToCache=function(o,s){var a=i.cachedFilterMessageSeqs.get(o)||[];i.cachedFilterMessageSeqs.set(o,[].concat(a,s))},this.checkIsFilterSeq=function(o,s){var a;return(a=i.cachedFilterMessageSeqs.get(o))==null?void 0:a.includes(s)},this.instance=e};n2=function(e){var t=this,n=this,r=this,i=this,o=this;this.instance=void 0,this.defaultPullNums=10,this.SplitPullMsgNum=100,this.syncedConversationVersion=0,this.syncedConversationVersionID="",this.reset=function(){o.syncedConversationVersion=0,o.syncedConversationVersionID=""},this.syncConversationVersion=function(s){try{return Promise.resolve(t.instance.sendHttpRequest({operationID:s,reqFuncName:Fe.GetConversationVersion,data:{userID:t.instance.userID,version:t.syncedConversationVersion,versionID:t.syncedConversationVersionID}})).then(function(a){t.syncedConversationVersionID&&t.compareVersionAndTrigger(a),t.syncedConversationVersion=a.version,t.syncedConversationVersionID=a.versionID})}catch(a){return Promise.reject(a)}},this.compareVersionAndTrigger=function(s){var a=s.insert,c=s.update;(a??[]).map(function(u){return Promise.resolve()}),(c??[]).map(function(u){try{return Promise.resolve(o.instance.messageTrigger.getOneConversationAndTryChange(u.conversationID,"",le({},u))).then(function(){})}catch(l){return Promise.reject(l)}})},this.compareSeqsAndBatchSync=function(s,a){try{for(var c=new Map,u=0,l=Object.entries(s);u<l.length;u++){var d,p=l[u],f=p[0],g=p[1],C=(d=n.instance.messageTrigger.cache.getCachedMaxReadSeq(f))==null?void 0:d.maxSeq;C?g.maxSeq>C&&c.set(f,[C+1,g.maxSeq,g.maxSeqTime]):c.set(f,[0,g.maxSeq,g.maxSeqTime])}return n.syncAndTriggerMsgs(c,a),Promise.resolve()}catch(I){return Promise.reject(I)}},this.isNotification=function(s){return s.startsWith("n_")},this.syncAndTriggerMsgs=function(s,a){try{return ie.default.debug("Current sync seqMap",s,s.size),Promise.resolve(function(){if(s.size>0){var c=function(p){return Yg(function(){return Promise.resolve(r.pullMsgBySeqRange(u,a)).then(function(f){return Promise.resolve(r.instance.messageTrigger.triggerConversation(f.msgs,a)).then(function(){return Promise.resolve(r.instance.messageTrigger.triggerNotification(f.notificationMsgs,a)).then(function(){for(var g,C=zg(s);!(g=C()).done;){var I=g.value,_=I[1];r.instance.messageTrigger.cache.updateCachedMaxReadSeq(I[0],{maxSeq:_[1],maxSeqTime:_[2]})}})})})},function(f){throw ie.default.error("Sync message from server error",f,s),f})},u=new Map,l=0,d=function(p,f){if(typeof p[ED]=="function"){var g,C,I,_=function(v){try{for(;!(g=y.next()).done;)if((v=f(g.value))&&v.then){if(!zr(v))return void v.then(_,I||(I=Ct.bind(null,C=new Li,2)));v=v.v}C?Ct(C,1,v):C=v}catch(T){Ct(C||(C=new Li),2,T)}},y=p[ED]();if(_(),y.return){var h=function(v){try{g.done||y.return()}catch{}return v};if(C&&C.then)return C.then(h,function(v){throw h(v)});h()}return C}if(!("length"in p))throw new TypeError("Object is not iterable");for(var m=[],D=0;D<p.length;D++)m.push(p[D]);return function(v,T){var S,F,O=-1;return function j(U){try{for(;++O<v.length;)if((U=T(O))&&U.then){if(!zr(U))return void U.then(j,F||(F=Ct.bind(null,S=new Li,2)));U=U.v}S?Ct(S,1,U):S=U}catch(Q){Ct(S||(S=new Li),2,Q)}}(),S}(m,function(v){return f(m[v])})}(s.entries(),function(p){var f=p[0],g=p[1];function C(D){return u.set(f,g),l+=h,function(){if(l>=r.SplitPullMsgNum)return Yg(function(){return Promise.resolve(r.pullMsgBySeqRange(u,a)).then(function(v){return Promise.resolve(r.instance.messageTrigger.triggerConversation(v.msgs,a)).then(function(){return Promise.resolve(r.instance.messageTrigger.triggerNotification(v.notificationMsgs,a)).then(function(){for(var T,S=zg(u);!(T=S()).done;){var F=T.value,O=F[1];r.instance.messageTrigger.cache.updateCachedMaxReadSeq(F[0],{maxSeq:O[1],maxSeqTime:O[2]})}u=new Map,l=0})})})},function(v){throw ie.default.error("Sync message from server error",v,u),v})}()}var I=g[0],_=g[1],y=g[2],h=_-I+1,m=function(){if(h/r.SplitPullMsgNum>1&&r.isNotification(f)){var D=new Map,v=Math.floor(h/r.SplitPullMsgNum),T=I,S=0,F=0;return function(O,j,U){for(var Q;;){var he=O();if(zr(he)&&(he=he.v),!he)return re;if(he.then){Q=0;break}var re=U();if(re&&re.then){if(!zr(re)){Q=1;break}re=re.s}if(j){var K=j();if(K&&K.then&&!zr(K)){Q=2;break}}}var X=new Li,E=Ct.bind(null,X,2);return(Q===0?he.then(te):Q===1?re.then(x):K.then(ce)).then(void 0,E),X;function x(Ve){re=Ve;do{if(j&&(K=j())&&K.then&&!zr(K))return void K.then(ce).then(void 0,E);if(!(he=O())||zr(he)&&!he.v)return void Ct(X,1,re);if(he.then)return void he.then(te).then(void 0,E);zr(re=U())&&(re=re.v)}while(!re||!re.then);re.then(x).then(void 0,E)}function te(Ve){Ve?(re=U())&&re.then?re.then(x).then(void 0,E):x(re):Ct(X,1,re)}function ce(){(he=O())?he.then?he.then(te).then(void 0,E):te(he):Ct(X,1,re)}}(function(){return F<=v},function(){return F++},function(){return F===v?D.set(f,[T,_,y]):((S=T+r.SplitPullMsgNum)>_&&(S=_,F=v),D.set(f,[T,S,y])),Yg(function(){return Promise.resolve(r.pullMsgBySeqRange(D,a)).then(function(O){return Promise.resolve(r.instance.messageTrigger.triggerConversation(O.msgs,a)).then(function(){return Promise.resolve(r.instance.messageTrigger.triggerNotification(O.notificationMsgs,a)).then(function(){for(var j,U=zg(D);!(j=U()).done;){var Q=j.value,he=Q[1];r.instance.messageTrigger.cache.updateCachedMaxReadSeq(Q[0],{maxSeq:he[1],maxSeqTime:he[2]})}T=S+1})})})},function(O){throw ie.default.error("Sync message from server error",O,D),O})})}}();return m&&m.then?m.then(C):C()});return d&&d.then?d.then(c):c()}ie.default.debug("Nothing to sync")}())}catch(c){return Promise.reject(c)}},this.pullMsgBySeqRange=function(s,a){try{var c=[].concat(s.entries()).map(function(l){var d=l[1];return{conversationID:l[0],begin:d[0],end:d[1],num:i.defaultPullNums}});ie.default.debug("PullMsgBySeqRange with opid: ",a,"seqRanges: ",c);var u=st.PullMessageBySeqsReq.encode({userID:i.instance.userID,seqRanges:c,order:uD.PullOrder.PullOrderAsc}).finish();return Promise.resolve(i.instance.sendReqWaitResp({operationID:a,data:u,reqIdentifier:dt.PullMsgByRange}))}catch(l){return Promise.reject(l)}},this.instance=e};Li=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{Ct(r,1,o(this.v))}catch(s){Ct(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?Ct(r,1,t?t(a):a):n?Ct(r,1,n(a)):Ct(r,2,a)}catch(c){Ct(r,2,c)}},r},e}();ED=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";r2=[Mr.MsgStatusHasDeleted,Mr.MsgStatusFiltered],AD=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{on(r,1,o(this.v))}catch(s){on(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?on(r,1,t?t(a):a):n?on(r,1,n(a)):on(r,2,a)}catch(c){on(r,2,c)}},r},e}(),i2=function(e){var t=this,n=this,r=this,i=this,o=this,s=this,a=this,c=this,u=this,l=this,d=this,p=this;this.instance=void 0,this.cache=void 0,this.syncer=void 0,this.triggeredConversationEvent=new Map,this.typingManager=void 0,this.sync=function(f){try{return Promise.resolve(n.cache.getMaxReadSeqs(f)).then(function(){var g=[n.syncer.syncConversationVersion(f),n.cache.getActiveConversationsFromServer(f),n.cache.getNotNotifyConversationIDs(f)];return Promise.resolve(Promise.all(g)).then(function(){})})}catch(g){return Promise.reject(g)}},this.reset=function(){t.cache.clear(),t.syncer.reset(),t.typingManager.reset(),t.triggeredConversationEvent.clear()},this.setTriggeredConversationEvent=function(f){t.triggeredConversationEvent.set(f,!0)},this.getMessageWithCacheBySeqs=function(f,g,C){try{var I=function(){return m.sort(function(T,S){return T.seq-S.seq}),{messages:m,filterCount:D}},_=r.cache.getCachedMessagesBySeqs(f,g),y=_.cachedMessages,h=_.unCachedSeqs,m=[].concat(y),D=0;ie.default.debug("after getCachedMessagesBySeqs with opid: ",C,"seqs: ",g,"cachedMessages: ",y,"unCachedSeqs: ",h);var v=function(){if(h.length)return Promise.resolve(r.getMessageFromServerBySeqs([{conversationID:f,seqs:h}],C)).then(function(T){var S=[],F=[];T.msgs[f].Msgs.forEach(function(O){r2.includes(O.status)?(S.push(O.seq),D++):F.push(Nu(O))}),T.msgs[f].Msgs.length||S.push.apply(S,h),r.cache.addMessagesToCache(f,F),r.cache.addFilterSeqsToCache(f,S),m.push.apply(m,F)})}();return Promise.resolve(v&&v.then?v.then(I):I())}catch(T){return Promise.reject(T)}},this.getPreviousSeqMessage=function(f){var g=f.conversationID,C=f.seq,I=f.operationID;try{if(C<1)return Promise.resolve(null);for(var _=[],y=C;_.length<10&&!(y<1);y--)i.cache.checkIsFilterSeq(g,y)||_.push(y);return Promise.resolve(i.getMessageWithCacheBySeqs(g,_,I)).then(function(h){var m,D=h.messages;function v(S){return m?S:D[D.length-1]}var T=function(){if(!D.length)return Promise.resolve(i.getPreviousSeqMessage({seq:_[_.length-1],operationID:I,conversationID:g})).then(function(S){return m=1,S})}();return T&&T.then?T.then(v):v(T)})}catch(h){return Promise.reject(h)}},this.initConversation=function(f){try{var g=function(_){return o.cache.setCachedConversations([C]),C},C={conversationID:ch(le({},f,{userID:o.instance.userID})),userID:"",groupID:"",recvMsgOpt:Au.Nomal,unreadCount:0,groupAtType:nh.AtNormal,latestMsg:"",latestMsgSendTime:0,draftText:"",draftTextTime:0,burnDuration:0,msgDestructTime:0,isPinned:!1,isPrivateChat:!1,isMsgDestruct:!1,attachedInfo:"",ex:""},I=f.sessionType===rt.Group?Promise.resolve(o.instance.groupTrigger.cache.getGroupInfosWithCache([f.sourceID],f.operationID)).then(function(_){if(!_[0])throw new Error("target group not exist");C.showName=_[0].groupName,C.faceURL=_[0].faceURL,C.conversationType=rt.Group,C.groupID=f.sourceID}):(C.userID=f.sourceID,C.conversationType=rt.Single,Promise.resolve(o.instance.getSpecifiedFriendsInfo([f.sourceID],f.operationID)).then(function(_){var y=_.data,h=function(){if(!y.length)return Promise.resolve(o.instance.getUsersInfo([f.sourceID],f.operationID)).then(function(m){var D=m.data;C.showName=D[0].nickname,C.faceURL=D[0].faceURL});C.showName=y[0].remark||y[0].nickname,C.faceURL=y[0].faceURL}();if(h&&h.then)return h.then(function(){})}));return Promise.resolve(I&&I.then?I.then(g):g())}catch(_){return Promise.reject(_)}},this.getConversationsWithCacheByIDs=function(f,g){try{var C=function(){return[].concat(I,_)},I=[],_=[],y=[];f.forEach(function(m){var D=s.cache.getCachedConversation(m);D?I.push(D):y.push(m)});var h=function(){if(y.length)return Promise.resolve(s.instance.sendHttpRequest({reqFuncName:Fe.GetDesignatedConversation,data:st.GetConversationsReq.encode({ownerUserID:s.instance.userID,conversationIDs:y}).finish(),operationID:g})).then(function(m){var D=Fu(m,Fe.GetDesignatedConversation),v=_.push;return Promise.resolve(Promise.all(D.conversations.map(function(T){var S,F;return sh(T,s.getPreviousSeqMessage,(S=s.cache.getCachedMaxReadSeq((F=T.conversation)==null?void 0:F.conversationID))==null?void 0:S.maxSeqTime)}))).then(function(T){v.call.apply(v,[_].concat(T)),s.cache.setCachedConversations(_)})})}();return Promise.resolve(h&&h.then?h.then(C):C())}catch(m){return Promise.reject(m)}},this.getOneConversationAndTryChange=function(f,g,C,I,_){try{var y,h=function(v){return y?v:(m&&C&&a.instance.triggerEvent({event:_?B.OnNewConversation:B.OnConversationChanged,data:[le({},m)],operationID:g}),m)},m=void 0;m=a.cache.getCachedConversation(f);var D=function(){if(!m)return function(){if(a.cache.getCachedMaxReadSeq(f))return Promise.resolve(a.instance.sendHttpRequest({reqFuncName:Fe.GetDesignatedConversation,data:st.GetConversationsReq.encode({ownerUserID:a.instance.userID,conversationIDs:[f]}).finish(),operationID:g})).then(function(v){var T,S=Fu(v,Fe.GetDesignatedConversation).conversations;if(S)return Promise.resolve(sh(S[0],a.getPreviousSeqMessage,(T=a.cache.getCachedMaxReadSeq(f))==null?void 0:T.maxSeqTime)).then(function(F){a.cache.setCachedConversations([m=F])});y=1})}();C?.recvMsgOpt!==void 0&&(C.recvMsgOpt===Au.Nomal?a.cache.deleteNotNotifyConversationID(f):a.cache.addNotNotifyConversationID(f)),C&&Object.assign(m,C),I&&(m.unreadCount+=1)}();return Promise.resolve(D&&D.then?D.then(h):h(D))}catch(v){return Promise.reject(v)}},this.getMessageFromServerBySeqs=function(f,g){try{var C=st.GetSeqMessageReq.encode({userID:c.instance.userID,conversations:f}).finish();return Promise.resolve(c.instance.sendReqWaitResp({operationID:g,data:C,reqIdentifier:dt.PullMsgBySeqList}))}catch(I){return Promise.reject(I)}},this.revokeMessage=function(f,g){try{return Promise.resolve(u.getMessageWithCacheBySeqs(f.conversationID,[f.seq],g)).then(function(C){function I(){function D(){var F,O;u.instance.triggerEvent({event:B.OnNewRecvMessageRevoked,data:v,operationID:g});var j=(F=(O=u.cache.getCachedMaxReadSeq(f.conversationID))==null?void 0:O.maxSeq)!=null?F:0,U=function(){if(j<=f.seq)return u.cache.updateCachedMaxReadSeq(f.conversationID,{maxSeqTime:f.revokeTime}),Promise.resolve(u.getOneConversationAndTryChange(f.conversationID,g,{latestMsg:JSON.stringify(Sn(T)),latestMsgSendTime:f.revokeTime})).then(function(){})}();if(U&&U.then)return U.then(function(){})}var v={revokerID:f.revokerUserID,revokerRole:y,clientMsgID:_.clientMsgID,revokerNickname:h,revokeTime:f.revokeTime,sourceMessageSendTime:_.sendTime,sourceMessageSendID:_.sendID,sourceMessageSenderNickname:_.senderNickname,sessionType:f.sesstionType,seq:f.seq,ex:"",isAdminRevoke:f.isAdminRevoke},T=u.cache.tryUpdateCachedMessages(f.conversationID,{clientMsgID:f.clientMsgID,seq:f.seq,content:JSON.stringify({detail:JSON.stringify(v)}),contentType:ye.RevokeNotification});u.cache.tryUpdateQuotedMessage(f.conversationID,f.clientMsgID);var S=function(){if(!T)return Promise.resolve(u.getMessageFromServerBySeqs([{conversationID:f.conversationID,seqs:[f.seq]}],g)).then(function(F){T=Nu(F.msgs[f.conversationID].Msgs[0])})}();return S&&S.then?S.then(D):D()}var _=C.messages[0],y=0,h="",m=function(){if(f.isAdminRevoke||f.sesstionType===rt.Single)return Promise.resolve(u.instance.getUsersInfo([f.revokerUserID],g)).then(function(v){var T;h=(T=v.data[0])==null?void 0:T.nickname});var D=function(){if(f.sesstionType===rt.Group)return Promise.resolve(u.getOneConversationAndTryChange(f.conversationID,g)).then(function(v){return Promise.resolve(u.instance.groupTrigger.cache.getGroupMembersWithCache({groupID:v.groupID,userIDList:[f.revokerUserID],operationID:g})).then(function(T){var S,F;h=(S=T[0])==null?void 0:S.nickname,y=(F=T[0])==null?void 0:F.roleLevel})})}();return D&&D.then?D.then(function(){}):void 0}();return m&&m.then?m.then(I):I()})}catch(C){return Promise.reject(C)}},this.triggerTyping=function(f){f.sendID!==t.instance.userID&&t.typingManager.onNewMessage(f)},this.triggerNotification=function(f,g){try{for(var C=0,I=Object.entries(f);C<I.length;C++)I[C][1].Msgs.map(function(_){_.contentType>ye.FriendNotificationBegin&&_.contentType<ye.FriendNotificationEnd?(ie.default.debug("Trigger friend notification",_),l.instance.relationTrigger.parseMessageAndTrigger(_,g)):_.contentType>ye.UserNotificationBegin&&_.contentType<ye.UserNotificationEnd?(ie.default.debug("Trigger user notification",_),l.instance.userTrigger.parseMessageAndTrigger(_,g)):_.contentType>ye.GroupNotificationBegin&&_.contentType<ye.GroupNotificationEnd?(ie.default.debug("Trigger group notification",_),l.instance.groupTrigger.parseMessageAndTrigger(_,g)):_.contentType===ye.BusinessNotification?(ie.default.debug("Trigger business notification",_),l.instance.businessTrigger.parseMessageAndTrigger(_,g)):_.contentType>ye.SignalingNotificationBegin&&_.contentType<ye.SignalingNotificationEnd?ie.default.debug("Trigger signaling notification",_):l.triggerConversationNotification(_,g)});return Promise.resolve()}catch(_){return Promise.reject(_)}},this.triggerConversationNotification=function(f,g){try{return ie.default.debug("Trigger conversation notification with opid: ",g,"messageType: ",f.contentType),Promise.resolve(function(C,I){var _,y=-1;e:{for(var h=0;h<I.length;h++){var m=I[h][0];if(m){var D=m();if(D&&D.then)break e;if(D===C){y=h;break}}else y=h}if(y!==-1){do{for(var v=I[y][1];!v;)y++,v=I[y][1];var T=v();if(T&&T.then){_=!0;break e}var S=I[y][2];y++}while(S&&!S());return T}}var F=new AD,O=on.bind(null,F,2);return(_?T.then(j):D.then(function U(Q){for(;;){if(Q===C){y=h;break}if(++h===I.length){if(y!==-1)break;return void on(F,1,re)}if(m=I[h][0]){if((Q=m())&&Q.then)return void Q.then(U).then(void 0,O)}else y=h}do{for(var he=I[y][1];!he;)y++,he=I[y][1];var re=he();if(re&&re.then)return void re.then(j).then(void 0,O);var K=I[y][2];y++}while(K&&!K());on(F,1,re)})).then(void 0,O),F;function j(U){for(;;){var Q=I[y][2];if(!Q||Q())break;y++;for(var he=I[y][1];!he;)y++,he=I[y][1];if((U=he())&&U.then)return void U.then(j).then(void 0,O)}on(F,1,U)}}(f.contentType,[[function(){return ye.ConversationChangeNotification},function(){return Promise.resolve(d.syncer.syncConversationVersion(g)).then(function(){})}],[function(){return ye.ConversationPrivateChatNotification},function(){return Promise.resolve(d.syncer.syncConversationVersion(g)).then(function(){})}],[function(){return ye.RevokeNotification},function(){var C=Be(f.content);return d.triggeredConversationEvent.has(g)?void d.triggeredConversationEvent.delete(g):void d.revokeMessage(C,g)}],[function(){return ye.ClearConversationNotification},function(){}],[function(){return ye.DeleteMsgsNotification},function(){var C=Be(f.content),I=C.seqs.find(function(y){var h;return y===((h=d.cache.getCachedMaxReadSeq(C.conversationID))==null?void 0:h.hasReadSeq)}),_=function(){if(I)return Promise.resolve(d.getMessageWithCacheBySeqs(C.conversationID,[I-1],g)).then(function(y){var h=y.messages[0],m=function(){if(h)return d.cache.updateCachedMaxReadSeq(C.conversationID,{maxSeqTime:f.sendTime}),Promise.resolve(d.getOneConversationAndTryChange(C.conversationID,g,{latestMsg:JSON.stringify(Sn(h)),latestMsgSendTime:h.sendTime})).then(function(){})}();if(m&&m.then)return m.then(function(){})})}();return _&&_.then?_.then(function(){}):void 0}],[function(){return ye.HasReadReceipt},function(){var C=Be(f.content);if(C.markAsReadUserID!==d.instance.userID&&C.seqs.length)return Promise.resolve(d.getMessageWithCacheBySeqs(C.conversationID,C.seqs,g)).then(function(I){var _=I.messages;function y(){d.cache.decreaseTotalUnreadCount(C.seqs.length,g),d.cache.updateCachedMaxReadSeq(C.conversationID,{hasReadSeq:C.hasReadSeq})}var h={userID:C.markAsReadUserID,groupID:"",msgIDList:_.map(function(v){return v.clientMsgID}),readTime:f.sendTime,msgFrom:0,contentType:0,sessionType:_[0].sessionType};ie.default.debug("receipt",h),d.instance.triggerEvent({event:B.OnRecvC2CReadReceipt,data:[h],operationID:g});var m=_.find(function(v){return v.seq===C.hasReadSeq}),D=function(){if(m){m.isRead=!0;var v=JSON.stringify(Sn(m));return Promise.resolve(d.getOneConversationAndTryChange(C.conversationID,g,{unreadCount:0,latestMsg:v})).then(function(){})}}();return D&&D.then?D.then(y):y()})}],[function(){return ye.HasGroupReadReceipt},function(){}],[]]))}catch(C){return Promise.reject(C)}},this.triggerConversation=function(f,g){try{if(Object.keys(f).length===0)return Promise.resolve();ie.default.debug("Trigger conversation",f);var C=!0;p.triggeredConversationEvent.has(g)&&(p.triggeredConversationEvent.delete(g),C=!1);for(var I=!1,_=p.cache.getTotalUnreadCount(),y=[],h=function(){var v=D[m],T=v[0];v[1].Msgs.map(function(S){var F,O,j,U,Q=Zg(S.options,or.IsUnreadCount),he=Zg(S.options,or.IsConversationUpdate),re=Zg(S.options,or.IsNotPrivate),K=!p.cache.getCachedMaxReadSeq(T),X=S.sendID===p.instance.userID;if(S.clientMsgID&&T){var E=Nu(S),x=Sn(E);if(x.attachedInfoElem=S.attachedInfo?JSON.parse(S.attachedInfo):{groupHasReadInfo:{hasReadCount:0,unreadCount:0},isPrivateChat:!1,burnDuration:0,hasReadTime:0,messageEntityList:[],isEncryption:!1,inEncryptStatus:!1},S.status!==Mr.MsgStatusHasDeleted){S.contentType===_t.Typing&&p.triggerTyping(x),x.status=Mr.MsgStatusSendSuccess,E.status=Mr.MsgStatusSendSuccess,K&&p.cache.addCachedMaxReadSeq(T,{hasReadSeq:X?S.seq:S.seq-1,maxSeq:S.seq,maxSeqTime:S.sendTime}),re||(x.attachedInfoElem.isPrivateChat=!0),he&&(_+=Q?1:0,p.cache.updateCachedMaxReadSeq(T,{maxSeqTime:x.sendTime}),C&&p.getOneConversationAndTryChange(T,g,{latestMsg:JSON.stringify(x),latestMsgSendTime:x.sendTime},Q,K),y.push(E),p.cache.addMessagesToCache(T,[E]));var te=(F=(O=p.cache.getCachedMaxReadSeq(T))==null?void 0:O.maxSeq)!=null?F:0,ce=(j=(U=p.cache.getCachedMaxReadSeq(T))==null?void 0:U.hasReadSeq)!=null?j:0;ie.default.debug("currentMaxSeq",te,"currentHasReadSeq",ce),x.seq>te&&(I=K||!p.cache.isNotNotifyConversation(T),p.cache.updateCachedMaxReadSeq(T,{maxSeq:te+1,maxSeqTime:x.sendTime}),X&&(p.cache.updateCachedMaxReadSeq(T,{hasReadSeq:ce+1}),p.cache.tryUpdateCachedMessages(T,{clientMsgID:x.clientMsgID,seq:x.seq})))}}})},m=0,D=Object.entries(f);m<D.length;m++)h();if(C&&I&&p.cache.setTotalUnreadCount(_,g),y.length>0){if(!C)return y.map(function(v){p.cache.tryUpdateCachedMessages(rh(v),v)}),Promise.resolve();p.instance.triggerEvent({event:B.OnRecvNewMessages,data:y.map(Sn),operationID:g})}return Promise.resolve()}catch(v){return Promise.reject(v)}},this.instance=e,this.cache=new t2(e),this.syncer=new n2(e),this.typingManager=new e2(e)},o2=function(){function e(t){var n=this,r=this,i=this,o=this;this.instance=void 0,this.cachedGroups=new Map,this.cachedGroupMembers=new Map,this.cachedGroupMembersID=new Map,this.getGroupMembersID=function(s,a){try{return Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Fe.GetFullGroupMemberUserIDs,data:{groupID:s,idHash:0},operationID:a})).then(function(c){r.cachedGroupMembersID.set(s,c.userIDs)})}catch(c){return Promise.reject(c)}},this.getGroupInfosWithCache=function(s,a){try{var c=[],u=[];return s.forEach(function(l){var d=i.cachedGroups.get(l);d?c.push(d):u.push(l)}),u.length?Promise.resolve(i.instance.sendHttpRequest({reqFuncName:k.GetSpecifiedGroupsInfo,data:{groupIDs:u},operationID:a})).then(function(l){var d=l.groupInfos;return d&&d.forEach(function(p){return i.cachedGroups.set(p.groupID,p)}),[].concat(c,d??[])}):Promise.resolve(c)}catch(l){return Promise.reject(l)}},this.getGroupMembersWithCache=function(s){var a=s.groupID,c=s.userIDList,u=s.operationID;try{var l,d,p=(l=o.cachedGroupMembers.get(a))!=null?l:[],f=function(){if(c!=null&&c.length){var g=[],C=[];return c.forEach(function(I){var _=p.find(function(y){return y.userID===I});_?C.push(_):g.push(I)}),g.length?Promise.resolve(o.instance.sendHttpRequest({reqFuncName:k.GetSpecifiedGroupMembersInfo,data:{groupID:a,userIDs:g},operationID:u})).then(function(I){var _=I.members;_&&o.cachedGroupMembers.set(a,[].concat(p,_));var y=[].concat(C,_??[]);return d=1,y}):(d=1,C)}}();return Promise.resolve(f&&f.then?f.then(function(g){return d?g:p}):d?f:p)}catch(g){return Promise.reject(g)}},this.updateCachedGroups=function(s){s.map(function(a){n.cachedGroups.set(a.groupID,a)})},this.updateCachedGroupMembers=function(s){var a,c=s[0].groupID,u=(a=n.cachedGroupMembers.get(c))!=null?a:[];n.cachedGroupMembers.set(c,[].concat(u.filter(function(f){return!s.find(function(g){return g.userID===f.userID})}),s));var l=n.instance.messageTrigger.cache.getAllCachedConversations().find(function(f){return f.groupID===s[0].groupID}),d=JSON.parse(l?.latestMsg||"{}"),p=s.find(function(f){return f.userID===d.sendID&&f.nickname!==d.senderNickname});l&&p&&n.instance.messageTrigger.getOneConversationAndTryChange(l.conversationID,"",{latestMsg:JSON.stringify(le({},d,{senderNickname:p.nickname}))})},this.clearCachedGroupMembers=function(s){n.cachedGroupMembers.delete(s)},this.hasCachedGroupMembersID=function(s){return n.cachedGroupMembersID.has(s)},this.getCachedGroupMembersID=function(s){var a;return(a=n.cachedGroupMembersID.get(s))!=null?a:[]},this.tryAddCachedGroupMembersID=function(s,a){if(n.cachedGroupMembersID.has(s)){var c,u=(c=n.cachedGroupMembersID.get(s))!=null?c:[];n.cachedGroupMembersID.set(s,[].concat(u,a))}},this.tryDeleteCachedGroupMembersID=function(s,a){if(n.cachedGroupMembersID.has(s)){var c,u=(c=n.cachedGroupMembersID.get(s))!=null?c:[];n.cachedGroupMembersID.set(s,u.filter(function(l){return!a.includes(l)}))}},this.instance=t}return e.prototype.clear=function(){this.cachedGroups.clear(),this.cachedGroupMembers.clear(),this.cachedGroupMembersID.clear()},e}(),s2=function(){function e(t){var n=this,r=this,i=this,o=this;this.instance=void 0,this.syncedGroupsVersion=0,this.syncedGroupsVersionID="",this.syncedGroupMemberVersion={},this.syncGroupVersion=function(s){try{return Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Fe.GetGroupVersion,data:{userID:r.instance.userID,version:r.syncedGroupsVersion,versionID:r.syncedGroupsVersionID},operationID:s})).then(function(a){r.syncedGroupsVersionID&&r.compareGroupVersionAndTrigger(a,s),r.syncedGroupsVersion=a.version,r.syncedGroupsVersionID=a.versionID})}catch(a){return Promise.reject(a)}},this.syncGroupInfoAndMemberVersion=function(s){try{var a=function(){if(c.length)return Promise.resolve(i.instance.sendHttpRequest({reqFuncName:Fe.GetGroupMemberVersion,data:{userID:i.instance.userID,reqList:c},operationID:s})).then(function(d){var p=d.respList;Object.keys(i.syncedGroupMemberVersion).length>0&&i.compareGroupMemberVersionAndTrigger(p,s),i.syncedGroupMemberVersion=p;for(var f=0,g=Object.entries(p);f<g.length;f++){var C=g[f][1];C.group&&i.instance.groupTrigger.cache.updateCachedGroups([C.group]),(C.insert||C.update)&&i.instance.groupTrigger.cache.updateCachedGroupMembers(C.insert||C.update)}})},c=[],u=Object.keys(i.syncedGroupMemberVersion),l=function(){if(!u.length)return Promise.resolve(i.getJoinedGroupIDs(s)).then(function(d){c=d.map(function(p){return{groupID:p,version:0,versionID:""}})});c=u.map(function(d){var p,f,g=i.syncedGroupMemberVersion[d];return{groupID:d,version:(p=g?.version)!=null?p:0,versionID:(f=g?.versionID)!=null?f:""}})}();return Promise.resolve(l&&l.then?l.then(a):a())}catch(d){return Promise.reject(d)}},this.compareGroupVersionAndTrigger=function(s,a){var c=s.insert,u=s.delete;(c??[]).map(function(l){n.instance.triggerEvent({event:B.OnJoinedGroupAdded,data:l,operationID:a})}),(u??[]).map(function(l){n.instance.triggerEvent({event:B.OnJoinedGroupDeleted,data:{groupID:l},operationID:a}),n.instance.groupTrigger.cache.clearCachedGroupMembers(l)})},this.compareGroupMemberVersionAndTrigger=function(s,a){for(var c=function(){var d=l[u],p=d[0],f=d[1],g=f.group,C=f.insert,I=f.update,_=f.delete;g&&(n.instance.groupTrigger.updateCachedGroupInfoAndTrigger(g,a),n.instance.groupTrigger.checkConversationUpdate(g)),(C??[]).map(function(y){n.instance.triggerEvent({event:B.OnGroupMemberAdded,data:y,operationID:a})}),(I??[]).map(function(y){return n.instance.groupTrigger.updateCachedGroupMemberInfoAndTrigger(y,a)}),(_??[]).map(function(y){n.instance.triggerEvent({event:B.OnGroupMemberDeleted,data:{groupID:p,userID:y},operationID:a})})},u=0,l=Object.entries(s);u<l.length;u++)c()},this.getJoinedGroupIDs=function(s){try{return Promise.resolve(o.instance.sendHttpRequest({reqFuncName:Fe.GetJoinedGroupIDList,data:{idHash:0,userID:o.instance.userID},operationID:s})).then(function(a){var c=a.groupIDs;return c??[]})}catch(a){return Promise.reject(a)}},this.addGroupMemberVersion=function(s,a){n.syncedGroupMemberVersion[s]=le({},a)},this.updateGroupMemberVersion=function(s,a){n.syncedGroupMemberVersion[s]?n.syncedGroupMemberVersion[s]=le({},a):ie.default.warn("updateGroupMemberVersion: group member version not found",s,"new version",a)},this.checkIsJoinGroup=function(s){return!!n.syncedGroupMemberVersion[s]},this.instance=t}return e.prototype.reset=function(){this.syncedGroupsVersion=0,this.syncedGroupsVersionID="",this.syncedGroupMemberVersion={}},e}();a2=function(){function e(t){var n,r=this,i=this,o=this;this.instance=void 0,this.cache=void 0,this.syncer=void 0,this.triggeredEventMap=((n={})[B.OnGroupApplicationAdded]=new Map,n[B.OnGroupApplicationAccepted]=new Map,n[B.OnGroupApplicationRejected]=new Map,n),this.sync=function(s){var a=[o.syncer.syncGroupVersion(s),o.syncer.syncGroupInfoAndMemberVersion(s)];return Promise.all(a)},this.setTriggeredEventMap=function(s,a){o.triggeredEventMap[s].set(a,!0)},this.checkConversationUpdate=function(s){var a="sg_"+s.groupID,c=o.instance.messageTrigger.cache.getCachedConversation(a);!c||c.showName===s.groupName&&c.faceURL===s.faceURL||o.instance.messageTrigger.getOneConversationAndTryChange(a,"",{showName:s.groupName,faceURL:s.faceURL})},this.getDesignatedGroupApplicationAndTrigger=function(s){var a=s.event,c=s.userID,u=s.groupID,l=s.operationID,d=s.activeTrigger,p=d!==void 0&&d;try{return!p&&r.triggeredEventMap[a].has(l)?(r.triggeredEventMap[a].delete(l),Promise.resolve()):Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Fe.GetDesignatedGroupApplication,data:{groupID:u,userID:c??r.instance.userID},operationID:l})).then(function(f){var g=f.groupRequests;g&&r.instance.triggerEvent({event:a,operationID:l,data:g.map(oh)[0]})})}catch(f){return Promise.reject(f)}},this.updateCachedGroupInfoAndTrigger=function(s,a){o.cache.updateCachedGroups([s]),o.instance.triggerEvent({event:B.OnGroupInfoChanged,data:s,operationID:a})},this.updateCachedGroupMemberInfoAndTrigger=function(s,a){o.cache.updateCachedGroupMembers([s]),o.instance.triggerEvent({event:B.OnGroupMemberInfoChanged,data:s,operationID:a})},this.parseMessageAndTrigger=function(s,a){try{var c=function(u,l){var d,p=-1;e:{for(var f=0;f<l.length;f++){var g=l[f][0];if(g){var C=g();if(C&&C.then)break e;if(C===u){p=f;break}}else p=f}if(p!==-1){do{for(var I=l[p][1];!I;)p++,I=l[p][1];var _=I();if(_&&_.then){d=!0;break e}var y=l[p][2];p++}while(y&&!y());return _}}var h=new FD,m=sn.bind(null,h,2);return(d?_.then(D):C.then(function v(T){for(;;){if(T===u){p=f;break}if(++f===l.length){if(p!==-1)break;return void sn(h,1,F)}if(g=l[f][0]){if((T=g())&&T.then)return void T.then(v).then(void 0,m)}else p=f}do{for(var S=l[p][1];!S;)p++,S=l[p][1];var F=S();if(F&&F.then)return void F.then(D).then(void 0,m);var O=l[p][2];p++}while(O&&!O());sn(h,1,F)})).then(void 0,m),h;function D(v){for(;;){var T=l[p][2];if(!T||T())break;p++;for(var S=l[p][1];!S;)p++,S=l[p][1];if((v=S())&&v.then)return void v.then(D).then(void 0,m)}sn(h,1,v)}}(s.contentType,[[function(){return ye.JoinGroupApplicationNotification},function(){var u,l,d=Be(s.content);return ie.default.debug("Recv JoinGroupApplicationNotification with opid: ",a,"tips: ",d),Promise.resolve(i.getDesignatedGroupApplicationAndTrigger({event:B.OnGroupApplicationAdded,userID:(u=d.applicant)==null?void 0:u.userID,groupID:(l=d.group)==null?void 0:l.groupID,operationID:a})).then(function(){})}],[function(){return ye.GroupApplicationAcceptedNotification},function(){var u,l,d=Be(s.content);return ie.default.debug("Recv GroupApplicationAcceptedNotification with opid: ",a,"tips: ",d),Promise.resolve(i.getDesignatedGroupApplicationAndTrigger({event:B.OnGroupApplicationAccepted,userID:d.receiverAs?(u=d.opUser)==null?void 0:u.userID:void 0,groupID:(l=d.group)==null?void 0:l.groupID,operationID:a})).then(function(){})}],[function(){return ye.GroupApplicationRejectedNotification},function(){var u,l,d=Be(s.content);return ie.default.debug("Recv GroupApplicationRejectedNotification with opid: ",a,"tips: ",d),Promise.resolve(i.getDesignatedGroupApplicationAndTrigger({event:B.OnGroupApplicationRejected,userID:d.receiverAs?(u=d.opUser)==null?void 0:u.userID:void 0,groupID:(l=d.group)==null?void 0:l.groupID,operationID:a})).then(function(){})}],[function(){return ye.GroupCreatedNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupCreatedNotification with opid: ",a,"tips: ",u),i.cache.updateCachedGroups([u.group]),Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.syncer.addGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID})})}],[function(){return ye.GroupInfoSetNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupInfoSetNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),i.checkConversationUpdate(u.group),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return ye.MemberQuitNotification},function(){var u,l,d,p=function(){g||i.instance.triggerEvent({event:B.OnGroupMemberDeleted,data:f.quitUser,operationID:a})},f=Be(s.content);ie.default.debug("Recv MemberQuitNotification with opid: ",a,"tips: ",f),i.syncer.updateGroupMemberVersion(f.group.groupID,{version:f.groupMemberVersion,versionID:f.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(f.group,a),i.cache.tryDeleteCachedGroupMembersID((u=f.group)==null?void 0:u.groupID,[(l=f.quitUser)==null?void 0:l.userID]);var g=((d=f.quitUser)==null?void 0:d.userID)===i.instance.userID,C=function(){if(g)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){})}();return C&&C.then?C.then(p):p()}],[function(){return ye.GroupOwnerTransferredNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupOwnerTransferredNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(u.group,a),i.updateCachedGroupMemberInfoAndTrigger(u.oldGroupOwnerInfo,a),void i.updateCachedGroupMemberInfoAndTrigger(u.newGroupOwner,a)}],[function(){return ye.MemberKickedNotification},function(){var u,l=function(){p||d.kickedUserList.map(function(g){return i.instance.triggerEvent({event:B.OnGroupMemberDeleted,data:g,operationID:a})})},d=Be(s.content);ie.default.debug("Recv MemberKickedNotification with opid: ",a,"tips: ",d),i.syncer.updateGroupMemberVersion(d.group.groupID,{version:d.groupMemberVersion,versionID:d.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(d.group,a),i.cache.tryDeleteCachedGroupMembersID((u=d.group)==null?void 0:u.groupID,d.kickedUserList.map(function(g){return g.userID}));var p=d.kickedUserList.find(function(g){return g.userID===i.instance.userID}),f=function(){if(p)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){})}();return f&&f.then?f.then(l):l()}],[function(){return ye.MemberInvitedNotification},function(){var u=function(){var f;i.syncer.updateGroupMemberVersion(l.group.groupID,{version:l.groupMemberVersion,versionID:l.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(l.group,a),i.checkConversationUpdate(l.group),i.cache.tryAddCachedGroupMembersID((f=l.group)==null?void 0:f.groupID,l.invitedUserList.map(function(g){return g.userID})),d||l.invitedUserList.map(function(g){return i.instance.triggerEvent({event:B.OnGroupMemberAdded,data:g,operationID:a})})},l=Be(s.content);ie.default.debug("Recv MemberInvitedNotification with opid: ",a,"tips: ",l);var d=l.invitedUserList.find(function(f){return f.userID===i.instance.userID}),p=function(){if(d)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.syncer.addGroupMemberVersion(l.group.groupID,{})})}();return p&&p.then?p.then(u):u()}],[function(){return ye.MemberEnterNotification},function(){var u,l=function(){var g,C;i.syncer.updateGroupMemberVersion(d.group.groupID,{version:d.groupMemberVersion,versionID:d.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(d.group,a),i.checkConversationUpdate(d.group),i.cache.tryAddCachedGroupMembersID((g=d.group)==null?void 0:g.groupID,[(C=d.entrantUser)==null?void 0:C.userID]),p||i.instance.triggerEvent({event:B.OnGroupMemberAdded,data:d.entrantUser,operationID:a})},d=Be(s.content);ie.default.debug("Recv MemberEnterNotification with opid: ",a,"tips: ",d);var p=((u=d.entrantUser)==null?void 0:u.userID)===i.instance.userID,f=function(){if(p)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.syncer.addGroupMemberVersion(d.group.groupID,{})})}();return f&&f.then?f.then(l):l()}],[function(){return ye.GroupDismissedNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupDismissedNotification with opid: ",a,"tips: ",u),Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.updateCachedGroupInfoAndTrigger(u.group,a),i.instance.triggerEvent({event:B.OnGroupDismissed,data:u.group,operationID:a})})}],[function(){return ye.GroupMemberMutedNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupMemberMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.mutedUser,a)}],[function(){return ye.GroupMemberCancelMutedNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupMemberCancelMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.mutedUser,a)}],[function(){return ye.GroupMutedNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return ye.GroupCancelMutedNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupCancelMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return ye.GroupMemberInfoSetNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupMemberInfoSetNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.changedUser,a)}],[function(){return ye.GroupMemberSetToAdminNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupMemberSetToAdminNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.changedUser,a)}],[function(){return ye.GroupMemberSetToOrdinaryUserNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupMemberSetToOrdinaryUserNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.changedUser,a)}],[function(){return ye.GroupInfoSetAnnouncementNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupInfoSetAnnouncementNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return ye.GroupInfoSetNameNotification},function(){var u=Be(s.content);return ie.default.debug("Recv GroupInfoSetNameNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),i.checkConversationUpdate(u.group),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[]]);return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(u){return Promise.reject(u)}},this.instance=t,this.cache=new o2(t),this.syncer=new s2(t)}return e.prototype.reset=function(){var t=this;this.cache.clear(),this.syncer.reset(),Object.keys(this.triggeredEventMap).forEach(function(n){t.triggeredEventMap[n].clear()})},e}(),FD=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{sn(r,1,o(this.v))}catch(s){sn(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?sn(r,1,t?t(s):s):n?sn(r,1,n(s)):sn(r,2,s)}catch(s){sn(r,2,s)}},r},e}(),c2=function(e){var t=this,n=this;this.instance=void 0,this.cachedFriendIDs=[],this.clear=function(){n.cachedFriendIDs=[]},this.getFullFriendsIDs=function(r){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:Fe.GetFullFriendUserIDs,data:{idHash:0,userID:t.instance.userID},operationID:r})).then(function(i){var o=i.userIDs;return t.cachedFriendIDs=o??[],o??[]})}catch(i){return Promise.reject(i)}},this.isFriend=function(r){return n.cachedFriendIDs.includes(r)},this.addNewFriend=function(r){n.cachedFriendIDs.push(r)},this.deleteFriend=function(r){n.cachedFriendIDs=n.cachedFriendIDs.filter(function(i){return i!==r})},this.instance=e},u2=function(e){var t=this,n=this;this.instance=void 0,this.syncedFriendsVersion=0,this.syncedFriendsVersionID="",this.reset=function(){n.syncedFriendsVersion=0,n.syncedFriendsVersionID=""},this.syncFriendVersion=function(r){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:Fe.GetFriendVersion,data:{userID:t.instance.userID,version:t.syncedFriendsVersion,versionID:t.syncedFriendsVersionID},operationID:r})).then(function(i){t.syncedFriendsVersionID&&t.compareVersionAndTrigger(i,r),t.syncedFriendsVersion=i.version,t.syncedFriendsVersionID=i.versionID})}catch(i){return Promise.reject(i)}},this.compareVersionAndTrigger=function(r,i){var o=r.insert,s=r.update,a=r.delete;(o??[]).map(function(c){n.instance.triggerEvent({operationID:i,event:B.OnFriendAdded,data:Vu(c)})}),(s??[]).map(function(c){var u=Vu(c);n.instance.triggerEvent({operationID:i,event:B.OnFriendInfoChanged,data:u});var l=[n.instance.userID,u?.userID].sort(),d="si_"+l[0]+"_"+l[1],p=n.instance.messageTrigger.cache.getCachedConversation(d);!p||p.showName===(u.remark||u.nickname)&&p.faceURL===u.faceURL||n.instance.messageTrigger.getOneConversationAndTryChange(d,i,{showName:u.remark||u.nickname,faceURL:u.faceURL})}),(a??[]).map(function(c){n.instance.triggerEvent({operationID:i,event:B.OnFriendDeleted,data:{userID:c}})})},this.instance=e};l2=function(e){var t,n=this,r=this,i=this,o=this;this.instance=void 0,this.cache=void 0,this.syncer=void 0,this.triggeredEventMap=((t={})[B.OnFriendApplicationAdded]=new Map,t[B.OnFriendApplicationAccepted]=new Map,t[B.OnFriendApplicationRejected]=new Map,t[B.OnFriendAdded]=new Map,t[B.OnFriendDeleted]=new Map,t[B.OnFriendInfoChanged]=new Map,t[B.OnBlackAdded]=new Map,t[B.OnBlackDeleted]=new Map,t),this.sync=function(s){var a=[o.syncer.syncFriendVersion(s),o.cache.getFullFriendsIDs(s)];return Promise.all(a)},this.reset=function(){o.cache.clear(),o.syncer.reset(),Object.keys(o.triggeredEventMap).forEach(function(s){o.triggeredEventMap[s].clear()})},this.setTriggeredEventMap=function(s,a){o.triggeredEventMap[s].set(a,!0)},this.checkShouldTrigger=function(s,a){return!s||!o.triggeredEventMap[s].has(a)||(o.triggeredEventMap[s].delete(a),!1)},this.getDesignatedFriendApplicationAndTrigger=function(s,a,c,u){u===void 0&&(u=!1);try{return!u&&n.triggeredEventMap[s].has(c)?(n.triggeredEventMap[s].delete(c),Promise.resolve()):Promise.resolve(n.instance.sendHttpRequest({reqFuncName:Fe.GetDesignatedFriendsApplication,data:{fromUserID:a.fromUserID,toUserID:a.toUserID},operationID:c})).then(function(l){var d=l.friendRequests;d&&n.instance.triggerEvent({event:s,operationID:c,data:d[0]})})}catch(l){return Promise.reject(l)}},this.getDesignatedBlackUserAndTrigger=function(s,a,c,u){u===void 0&&(u=!1);try{return!u&&r.triggeredEventMap[s].has(c)?(r.triggeredEventMap[s].delete(c),Promise.resolve()):Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Fe.GetDesignatedBlackUser,data:{ownerUserID:r.instance.userID,userIDList:[a]},operationID:c})).then(function(l){var d=l.blacks;d&&r.instance.triggerEvent({event:s,data:d.map(RD)[0],operationID:c})})}catch(l){return Promise.reject(l)}},this.parseMessageAndTrigger=function(s,a){try{return Promise.resolve(function(c,u){var l,d=-1;e:{for(var p=0;p<u.length;p++){var f=u[p][0];if(f){var g=f();if(g&&g.then)break e;if(g===c){d=p;break}}else d=p}if(d!==-1){do{for(var C=u[d][1];!C;)d++,C=u[d][1];var I=C();if(I&&I.then){l=!0;break e}var _=u[d][2];d++}while(_&&!_());return I}}var y=new LD,h=an.bind(null,y,2);return(l?I.then(m):g.then(function D(v){for(;;){if(v===c){d=p;break}if(++p===u.length){if(d!==-1)break;return void an(y,1,S)}if(f=u[p][0]){if((v=f())&&v.then)return void v.then(D).then(void 0,h)}else d=p}do{for(var T=u[d][1];!T;)d++,T=u[d][1];var S=T();if(S&&S.then)return void S.then(m).then(void 0,h);var F=u[d][2];d++}while(F&&!F());an(y,1,S)})).then(void 0,h),y;function m(D){for(;;){var v=u[d][2];if(!v||v())break;d++;for(var T=u[d][1];!T;)d++,T=u[d][1];if((D=T())&&D.then)return void D.then(m).then(void 0,h)}an(y,1,D)}}(s.contentType,[[function(){return ye.FriendApplicationNotification},function(){var c=Be(s.content);return ie.default.debug("Recv FriendApplicationNotification with opid: ",a,"tips: ",c),Promise.resolve(i.getDesignatedFriendApplicationAndTrigger(B.OnFriendApplicationAdded,c.fromToUserID,a)).then(function(){})}],[function(){return ye.FriendApplicationApprovedNotification},function(){var c=Be(s.content);return ie.default.debug("Recv FriendApplicationApprovedNotification with opid: ",a,"tips: ",c),Promise.resolve(i.getDesignatedFriendApplicationAndTrigger(B.OnFriendApplicationAccepted,c.fromToUserID,a)).then(function(u){return Promise.resolve(Promise.all([u,function(){try{return i.checkShouldTrigger(B.OnFriendAdded,a)?Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){}):Promise.resolve()}catch(l){return Promise.reject(l)}}])).then(function(){})})}],[function(){return ye.FriendApplicationRejectedNotification},function(){var c=Be(s.content);return ie.default.debug("Recv FriendApplicationRejectedNotification with opid: ",a,"tips: ",c),Promise.resolve(i.getDesignatedFriendApplicationAndTrigger(B.OnFriendApplicationRejected,c.fromToUserID,a)).then(function(){})}],[function(){return ye.FriendAddedNotification},function(){var c=Be(s.content);if(ie.default.debug("Recv FriendAddedNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(B.OnFriendAdded,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){var u;i.cache.addNewFriend((u=c.friend)==null||(u=u.friendUser)==null?void 0:u.userID)})}],[function(){return ye.FriendDeletedNotification},function(){var c=Be(s.content);if(ie.default.debug("Recv FriendDeletedNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(B.OnFriendDeleted,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){var u;i.cache.deleteFriend((u=c.fromToUserID)==null?void 0:u.toUserID)})}],[function(){return ye.FriendRemarkSetNotification},function(){var c=Be(s.content);if(ie.default.debug("Recv FriendRemarkSetNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(B.OnFriendInfoChanged,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){})}],[function(){return ye.FriendInfoUpdatedNotification},function(){var c=Be(s.content);if(ie.default.debug("Recv FriendInfoUpdatedNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(B.OnFriendInfoChanged,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){})}],[function(){return ye.BlackAddedNotification},function(){var c,u=Be(s.content);return ie.default.debug("Recv BlackAddedNotification with opid: ",a,"tips: ",u),void i.getDesignatedBlackUserAndTrigger(B.OnBlackAdded,(c=u.fromToUserID)==null?void 0:c.toUserID,a)}],[function(){return ye.BlackDeletedNotification},function(){var c,u=Be(s.content);return ie.default.debug("Recv BlackDeletedNotification with opid: ",a,"tips: ",u),void i.instance.triggerEvent({event:B.OnBlackDeleted,data:{userID:(c=u.fromToUserID)==null?void 0:c.toUserID},operationID:a})}],[function(){return ye.FriendsInfoUpdateNotification},function(){var c=Be(s.content);if(ie.default.debug("Recv FriendsInfoUpdateNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(B.OnFriendInfoChanged,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){})}],[]]))}catch(c){return Promise.reject(c)}},this.instance=e,this.cache=new c2(e),this.syncer=new u2(e)},LD=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{an(r,1,o(this.v))}catch(s){an(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?an(r,1,t?t(s):s):n?an(r,1,n(s)):an(r,2,s)}catch(s){an(r,2,s)}},r},e}(),d2=function(e){var t=this;this.instance=void 0,this.parseMessageAndTrigger=function(n,r){try{var i=Be(n.content);return ie.default.debug("Recv BussinessMessage with opid: ",r,"tips: ",i),t.instance.triggerEvent({event:B.OnRecvCustomBusinessMessage,data:i,operationID:r}),Promise.resolve()}catch(o){return Promise.reject(o)}},this.instance=e},f2=function(e){var t=this,n=this,r=this;this.instance=void 0,this.cachedLoginUserInfo=null,this.clear=function(){r.cachedLoginUserInfo=null},this.getSelfUserInfo=function(){return r.cachedLoginUserInfo},this.syncLoginUserInfoAndTrigger=function(i){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:k.GetSelfUserInfo,data:{userIDs:[t.instance.userID]},operationID:i})).then(function(o){var s=o.usersInfo;t.cachedLoginUserInfo&&JSON.stringify(t.cachedLoginUserInfo)!==JSON.stringify(s[0])&&t.instance.triggerEvent({event:B.OnSelfInfoUpdated,data:s[0]}),t.cachedLoginUserInfo=s[0]})}catch(o){return Promise.reject(o)}},this.udpateCachedLoginUserInfoAndTrigger=function(i,o){try{return n.cachedLoginUserInfo&&(n.cachedLoginUserInfo=le({},n.cachedLoginUserInfo,i),n.instance.triggerEvent({event:B.OnSelfInfoUpdated,data:n.cachedLoginUserInfo,operationID:o})),Promise.resolve()}catch(s){return Promise.reject(s)}},this.instance=e},p2=function(e){var t=this,n=this,r=this;this.ctx=void 0,this.state=new Map,this.updateSubs=function(i){var o=i.sub,s=i.unSub,a=i.operationID;try{return n.state.size!==0||o?Promise.resolve(n.ctx.sendReqWaitResp({reqIdentifier:dt.WsSubUserOnlineStatus,operationID:a,data:st.SubUserOnlineStatus.encode({subscribeUserID:o??Array.from(n.state.keys()),unsubscribeUserID:s??[]}).finish()})).then(function(c){c.subscribers.forEach(function(u){return n.state.set(u.userID,u.onlinePlatformIDs)}),s!=null&&s.length&&s.forEach(function(u){return n.state.delete(u)})}):Promise.resolve()}catch(c){return Promise.reject(c)}},this.getUserOnlineState=function(i,o){try{var s=function(){return i.map(function(u){var l,d;return{userID:u,status:(l=r.state.get(u))!=null&&l.length?1:0,platformIDs:(d=r.state.get(u))!=null?d:[]}})},a=i.filter(function(u){return!r.state.has(u)}),c=function(){if(a.length)return Promise.resolve(r.updateSubs({operationID:o,sub:a})).then(function(){})}();return Promise.resolve(c&&c.then?c.then(s):s())}catch(u){return Promise.reject(u)}},this.getAllSubUsersOnlineState=function(){return Array.from(t.state.keys()).map(function(i){var o,s;return{userID:i,status:(o=t.state.get(i))!=null&&o.length?1:0,platformIDs:(s=t.state.get(i))!=null?s:[]}})},this.userOnlineStateChange=function(i){i.subscribers.forEach(function(o){var s;o.onlinePlatformIDs.length?t.state.set(o.userID,o.onlinePlatformIDs):t.state.delete(o.userID),t.ctx.triggerEvent({event:B.OnUserStatusChanged,data:{userID:o.userID,status:o.onlinePlatformIDs.length?1:0,platformIDs:(s=o.onlinePlatformIDs)!=null?s:[]}})})},this.ctx=e};g2=function(e){var t=this,n=this;this.instance=void 0,this.cache=void 0,this.onlineSub=void 0,this.triggeredEventMap=new Map,this.sync=function(r){return Promise.all([n.cache.syncLoginUserInfoAndTrigger(r),n.onlineSub.updateSubs({operationID:r})])},this.reset=function(){n.cache.clear(),n.triggeredEventMap.clear()},this.setTriggeredEventMap=function(r){n.triggeredEventMap.set(r,!0)},this.checkConversationUpdate=function(r){var i=[n.instance.userID,r.userID].sort(),o="si_"+i[0]+"_"+i[1],s=n.instance.messageTrigger.cache.getCachedConversation(o);!s||s.showName===r.nickname&&s.faceURL===r.faceURL||n.instance.messageTrigger.getOneConversationAndTryChange(o,"",{showName:r.nickname,faceURL:r.faceURL})},this.parseMessageAndTrigger=function(r,i){try{return Promise.resolve(function(o,s){var a,c=-1;e:{for(var u=0;u<s.length;u++){var l=s[u][0];if(l){var d=l();if(d&&d.then)break e;if(d===o){c=u;break}}else c=u}if(c!==-1){do{for(var p=s[c][1];!p;)c++,p=s[c][1];var f=p();if(f&&f.then){a=!0;break e}var g=s[c][2];c++}while(g&&!g());return f}}var C=new VD,I=cn.bind(null,C,2);return(a?f.then(_):d.then(function y(h){for(;;){if(h===o){c=u;break}if(++u===s.length){if(c!==-1)break;return void cn(C,1,D)}if(l=s[u][0]){if((h=l())&&h.then)return void h.then(y).then(void 0,I)}else c=u}do{for(var m=s[c][1];!m;)c++,m=s[c][1];var D=m();if(D&&D.then)return void D.then(_).then(void 0,I);var v=s[c][2];c++}while(v&&!v());cn(C,1,D)})).then(void 0,I),C;function _(y){for(;;){var h=s[c][2];if(!h||h())break;c++;for(var m=s[c][1];!m;)c++,m=s[c][1];if((y=m())&&y.then)return void y.then(_).then(void 0,I)}cn(C,1,y)}}(r.contentType,[[function(){return ye.UserInfoUpdatedNotification},function(){var o=Be(r.content);if(ie.default.debug("Recv UserInfoUpdatedNotification with opid: ",i,"tips: ",o),!t.triggeredEventMap.get(i)){var s=function(){if(o.userID===t.instance.userID)return Promise.resolve(t.cache.syncLoginUserInfoAndTrigger(i)).then(function(){})}();return s&&s.then?s.then(function(){}):void 0}t.triggeredEventMap.delete(i)}]]))}catch(o){return Promise.reject(o)}},this.instance=e,this.cache=new f2(e),this.onlineSub=new p2(e)},VD=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{cn(r,1,o(this.v))}catch(s){cn(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?cn(r,1,t?t(s):s):n?cn(r,1,n(s)):cn(r,2,s)}catch(s){cn(r,2,s)}},r},e}();uh=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{un(r,1,o(this.v))}catch(s){un(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?un(r,1,t?t(a):a):n?un(r,1,n(a)):un(r,2,a)}catch(c){un(r,2,c)}},r},e}();h2=function(){function e(){this.queue=[],this.pending=!1}var t=e.prototype;return t.enqueue=function(n){try{var r=this;return Promise.resolve(new Promise(function(i,o){r.queue.push(function(){return n().then(i).catch(o)}),r.pending||(r.pending=!0,r.dequeue())}))}catch(i){return Promise.reject(i)}},t.dequeue=function(){try{var n=function(){r.pending=!1},r=this,i=function(o,s,a){for(var c;;){var u=o();if(ku(u)&&(u=u.v),!u)return l;if(u.then){c=0;break}var l=a();if(l&&l.then){if(!ku(l)){c=1;break}l=l.s}}var d=new uh,p=un.bind(null,d,2);return(c===0?u.then(g):c===1?l.then(f):(void 0).then(function(){(u=o())?u.then?u.then(g).then(void 0,p):g(u):un(d,1,l)})).then(void 0,p),d;function f(C){l=C;do{if(!(u=o())||ku(u)&&!u.v)return void un(d,1,l);if(u.then)return void u.then(g).then(void 0,p);ku(l=a())&&(l=l.v)}while(!l||!l.then);l.then(f).then(void 0,p)}function g(C){C?(l=a())&&l.then?l.then(f).then(void 0,p):f(l):un(d,1,l)}}(function(){return r.queue.length>0},0,function(){var o=r.queue.shift(),s=function(a,c){try{var u=Promise.resolve(o()).then(function(){})}catch(l){return c(l)}return u&&u.then?u.then(void 0,c):u}(0,function(a){ie.default.error("Error executing task:",a)});if(s&&s.then)return s.then(function(){})});return Promise.resolve(i&&i.then?i.then(n):n())}catch(o){return Promise.reject(o)}},e}();TD=((rn={})[Z.TextMessage]="textElem",rn[Z.AtTextMessage]="atTextElem",rn[Z.LocationMessage]="locationElem",rn[Z.CustomMessage]="customElem",rn[Z.MergeMessage]="mergeElem",rn[Z.QuoteMessage]="quoteElem",rn[Z.CardMessage]="cardElem",rn[Z.FaceMessage]="faceElem",rn[Z.PictureMessage]="pictureElem",rn[Z.VoiceMessage]="soundElem",rn[Z.VideoMessage]="videoElem",rn[Z.FileMessage]="fileElem",rn);m2=[Fe.GetActiveConversations,Fe.GetDesignatedConversation];v2=function(e){function t(){var n,r;return(n=e.call(this)||this).userID=void 0,n.platform=void 0,n.token=void 0,n.apiAddr=void 0,n.loginStatus=En.Logout,n.isReconnected=!1,n.connectState="disconnected",n.wsManager=void 0,n.messageTrigger=void 0,n.userTrigger=void 0,n.groupTrigger=void 0,n.relationTrigger=void 0,n.businessTrigger=void 0,n.requestMap=new Map,n.generateHttpHeader=function(i,o){var s={"Content-Type":"application/json",token:n.token,operationID:o,reqFuncName:i};return m2.includes(i)&&(s["Content-Type"]="application/x-protobuf"),s},n.sendHttpRequest=function(i){try{var o;return Promise.resolve(function(s){var a=s.url,c=s.data,u=s.headers,l=s.platform,d=s.method,p=d===void 0?"POST":d;return l==="web"?function(f){var g=f.url,C=f.data,I=f.headers,_=f.method,y=_===void 0?"POST":_;try{return Promise.resolve(fetch(g,{method:y,headers:le({},I),body:C instanceof Uint8Array?C:JSON.stringify(C)}).then(function(h){if(h.ok)return h.json();throw new Error(h.statusText)}).then(function(h){if(h.errCode!==0)throw new Error(h.errMsg);return h.data}))}catch(h){return Promise.reject(h)}}(s):new Promise(function(f,g){var C=function(I){return I==="uni"?uni.request.bind(uni):I==="wx"?wx.request.bind(wx):I==="my"?(my.request||my.httpRequest).bind(my):null}(l);C?C({url:a,data:c instanceof Uint8Array?Uint8Array.from(c).buffer:c,method:p,header:le({"Content-Type":"application/json"},u),success:function(I){I.statusCode===200&&I.data.errCode===0?f(I.data.data):g(I.data||"Request failed")},fail:function(I){g(I)}}):g(new Error("Request is not supported"))})}({url:""+n.apiAddr+(i.replaceURL||LS[i.reqFuncName]),data:i.data,headers:n.generateHttpHeader(i.reqFuncName,i.operationID),platform:((o=n.wsManager)==null?void 0:o.platformNamespace)||"web"}))}catch(s){return Promise.reject(s)}},n.handleWsConnected=function(i,o){try{var s=function(){if(i.errCode===0){n.connectState="connected",n.loginStatus=En.Logged,n.triggerEvent({event:B.OnConnectSuccess}),n.triggerEvent({event:B.OnSyncServerStart});var a=[n.messageTrigger.sync(o),n.relationTrigger.sync(o),n.groupTrigger.sync(o),n.userTrigger.sync(o)],c=Qg(function(){return Promise.resolve(Promise.all(a)).then(function(){n.triggerEvent({event:B.OnSyncServerFinish})})},function(l){ie.default.error(l),n.triggerEvent({event:B.OnSyncServerFailed,errCode:l.errCode||Ue.SdkInternalError,errMsg:l.message||"Internal Error"})});if(c&&c.then)return c.then(function(){})}else{n.triggerEvent({event:B.OnConnectFailed,errCode:i.errCode,errMsg:i.errMsg,operationID:o});var u=VS[i.errCode];u&&n.triggerEvent({event:u,errCode:i.errCode,errMsg:i.errMsg,operationID:o}),n.connectState="disconnected",n.loginStatus=En.Logout}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(a){return Promise.reject(a)}},n.handleMessage=function(i,o){try{var s=function(){if(typeof i!="string"){var a=function(){var l,d,p=(l=i,d=new DataView(l),JS.getString(d,0,l.byteLength,"UTF-8")),f=JSON.parse(p);n.handleGeneralWsResp(f)},c=function(){if(!(i instanceof ArrayBuffer))return Promise.resolve(i.arrayBuffer()).then(function(l){i=l})}();return c&&c.then?c.then(a):a()}var u=JSON.parse(i);n.handleWsConnected(u,o)}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(a){return Promise.reject(a)}},n.handleGeneralWsResp=function(i){var o=Fu(i.data,i.reqIdentifier);if(i.reqIdentifier===dt.PushMsg&&o)return n.messageTrigger.triggerConversation(o.msgs,i.operationID),void n.messageTrigger.triggerNotification(o.notificationMsgs,i.operationID);if(i.reqIdentifier!==dt.WsSubUserOnlineStatus||i.msgIncr||n.userTrigger.onlineSub.userOnlineStateChange(o),i.reqIdentifier===dt.KickOnlineMsg)return n.triggerEvent({event:B.OnKickedOffline,operationID:i.operationID}),void n.reset();var s=n.requestMap.get(i.msgIncr);s&&(i.errCode===0?s.resolve(o):s.reject(new We(i.errCode,i.errMsg)),n.requestMap.delete(i.msgIncr))},n.handleReconnecting=function(){n.connectState="reconnecting",n.triggerEvent({event:B.OnConnecting})},n.handleReconnectFailed=function(){n.connectState="disconnected",n.triggerEvent({event:B.OnConnectFailed,errCode:Ue.NetworkError,errMsg:"network error"})},n.handleReconnectSuccess=function(){n.isReconnected=!0},n.sendReqWaitResp=function(i){var o=i.data,s=i.reqIdentifier,a=i.operationID;if(n.connectState!=="connected")throw new We(Ue.NetworkError,"network error, ws not connected");var c=ju();return new Promise(function(u,l){var d;n.requestMap.set(c,{resolve:u,reject:l}),(d=n.wsManager)==null||d.sendMessage({reqIdentifier:s,msgIncr:c,sendID:n.userID,operationID:a,data:Y1(o.buffer)})})},n.triggerEvent=function(i){var o=i.event,s=i.data,a=s===void 0?null:s,c=i.errCode,u=c===void 0?0:c,l=i.errMsg,d=l===void 0?"":l,p=i.operationID,f=p===void 0?"":p;n.loginStatus!==En.Logout&&(ie.default.debug("%cSDK =>%c [OperationID:"+f+"] (event) trigger "+o+" with data "+JSON.stringify(a)+" errCode "+u+" errMsg "+d,"font-size:14px; background:#6F42C1; border-radius:4px; padding-inline:4px;",""),n.emit(o,{event:o,data:a,errCode:u,errMsg:d,operationID:f}))},n.login=function(i,o){try{return Promise.resolve(ee(En.Logged,k.Login,o,function(){try{var s,a=i.userID,c=i.token,u=i.wsAddr,l=i.apiAddr,d=i.platformID;if(n.wsManager)throw new We(Ue.LoginRepeatError,"login repeat");return ie.default.setLevel((s=i.logLevel)!=null?s:th.Debug),n.userID=a,n.token=c,n.apiAddr=l,n.platform=d,n.wsManager=new YS(u,{sendID:a,token:c,platformID:d,operationID:o,isBackground:!1,isMsgResp:!0,sdkType:"js"},n.handleMessage,n.handleReconnecting,n.handleReconnectFailed,n.handleReconnectSuccess),n.connectState="connecting",n.loginStatus=En.Logging,n.triggerEvent({event:B.OnConnecting,operationID:o}),Promise.resolve(Qg(function(){return Promise.resolve(n.wsManager.connect()).then(function(){})},function(p){throw n.triggerEvent({event:B.OnConnectFailed,errCode:Ue.NetworkError,errMsg:p.message||"network error",operationID:o}),n.connectState="disconnected",n.loginStatus=En.Logout,n.wsManager.close(),new We(Ue.NetworkError,p.message||"network error")}))}catch(p){return Promise.reject(p)}}))}catch(s){return Promise.reject(s)}},n.getLoginStatus=function(i){return ee(En.Logged,k.GetLoginStatus,i,function(){try{var o;return(o=n.wsManager)==null||o.sendPing(),Promise.resolve(n.loginStatus)}catch(s){return Promise.reject(s)}})},n.logout=function(i){return ee(n.loginStatus,k.Logout,i,function(){try{return n.reset(),Promise.resolve()}catch(o){return Promise.reject(o)}})},n.internalUploadFile=function(i,o){return Promise.resolve(Qg(function(){var s=n.userID+"/"+i.name,a=function(u){var l,d,p=(l=(d=u.split(".").pop())==null?void 0:d.toLowerCase())!=null?l:"";return FS[p]||"application/octet-stream"}(i.name),c={operationID:o,token:n.token};return Promise.resolve(function(u,l,d){return fetch(u+"/object/part_size",{method:"POST",headers:le({},d),body:JSON.stringify({size:l})}).then(Wg)}(n.apiAddr,i.size,c)).then(function(u){var l=u.size;function d(){var y=g.join(",");C.destroy();var h=new Ou.default;return h.append(y),Promise.resolve(function(m,D,v){return fetch(m+"/object/initiate_multipart_upload",{method:"POST",headers:le({},v),body:JSON.stringify(D)}).then(Wg)}(n.apiAddr,{hash:h.end(),size:i.size,partSize:l,maxParts:-1,cause:"",name:s,contentType:a},c)).then(function(m){var D=m.url,v=m.upload;if(h.destroy(),D)return{url:D};var T=v.sign.query,S=v.sign.header;return Promise.resolve(Promise.all(v.sign.parts.map(function(F,O){try{var j=new URL(F.url||v.sign.url);if(T){var U=new URLSearchParams(j.search);T.forEach(function(K){U.set(K.key,K.values[0])}),j.search=U.toString()}if(F.query){var Q=new URLSearchParams(j.search);F.query.forEach(function(K){Q.set(K.key,K.values[0])}),j.search=Q.toString()}var he=j.toString(),re=new Headers;return S&&S.forEach(function(K){re.set(K.key,K.values[0])}),F.header&&F.header.forEach(function(K){re.set(K.key,K.values[0])}),re.set("Content-Length",(f[O].end-f[O].start).toString()),re.set("Content-Type",a),Promise.resolve(fetch(he,{method:"PUT",headers:re,body:i.slice(f[O].start,f[O].end)})).then(function(K){if(!K.ok)throw new Error("Failed to upload chunk "+(O+1))})}catch(K){return Promise.reject(K)}}))).then(function(){return Promise.resolve(function(F,O,j){return fetch(F+"/object/complete_multipart_upload",{method:"POST",headers:le({},j),body:JSON.stringify(O)}).then(Wg)}(n.apiAddr,{uploadID:v.uploadID,parts:g,cause:"",name:s,contentType:a},c)).then(function(F){return{url:F.url}})})})}var p=Math.ceil(i.size/l),f=[],g=[],C=new Ou.default.ArrayBuffer,I=0,_=function(y,h,m){for(var D;;){var v=y();if(Pu(v)&&(v=v.v),!v)return T;if(v.then){D=0;break}var T=m();if(T&&T.then){if(!Pu(T)){D=1;break}T=T.s}}var S=new lh,F=ln.bind(null,S,2);return(D===0?v.then(j):D===1?T.then(O):(void 0).then(function(){(v=y())?v.then?v.then(j).then(void 0,F):j(v):ln(S,1,T)})).then(void 0,F),S;function O(U){T=U;do{if(!(v=y())||Pu(v)&&!v.v)return void ln(S,1,T);if(v.then)return void v.then(j).then(void 0,F);Pu(T=m())&&(T=T.v)}while(!T||!T.then);T.then(O).then(void 0,F)}function j(U){U?(T=m())&&T.then?T.then(O).then(void 0,F):O(T):ln(S,1,T)}}(function(){return I<p},0,function(){var y=I*l,h=Math.min(y+l,i.size),m=i.slice(y,h);return f.push({start:y,end:h}),Promise.resolve(new Promise(function(D,v){var T=new FileReader;T.readAsArrayBuffer(m),T.onload=function(S){S.target&&(C.append(S.target.result),D(C.end()))},T.onerror=function(S){return v(S)}})).then(function(D){g.push(D),I++})});return _&&_.then?_.then(d):d()})},function(s){return{error:s}}))},n.uploadFile=function(i,o){try{return Promise.resolve(ee(n.loginStatus,k.UploadFile,o,function(){try{return Promise.resolve(n.internalUploadFile(i.file,o)).then(function(s){var a=s.url,c=a===void 0?"":a,u=s.error;if(u)throw new We(Ue.SdkInternalError,u.message);return{url:c}})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},n.reset=function(){var i;(i=n.wsManager)==null||i.close(),n.wsManager=void 0,n.userID=void 0,n.token=void 0,n.apiAddr=void 0,n.isReconnected=!1,n.loginStatus=En.Logout,n.connectState="disconnected",n.messageTrigger.reset(),n.userTrigger.reset(),n.groupTrigger.reset(),n.relationTrigger.reset()},n.getSelfUserInfo=void 0,n.setSelfInfo=void 0,n.getUsersInfo=void 0,n.subscribeUsersStatus=void 0,n.unsubscribeUsersStatus=void 0,n.getSubscribeUsersStatus=void 0,n.acceptFriendApplication=void 0,n.addBlack=void 0,n.addFriend=void 0,n.updateFriends=void 0,n.checkFriend=void 0,n.deleteFriend=void 0,n.getBlackList=void 0,n.getFriendApplicationListAsApplicant=void 0,n.getFriendApplicationListAsRecipient=void 0,n.getFriendListPage=void 0,n.getSpecifiedFriendsInfo=void 0,n.refuseFriendApplication=void 0,n.removeBlack=void 0,n.createGroup=void 0,n.joinGroup=void 0,n.inviteUserToGroup=void 0,n.getJoinedGroupListPage=void 0,n.getSpecifiedGroupsInfo=void 0,n.setGroupInfo=void 0,n.getGroupApplicationListAsRecipient=void 0,n.getGroupApplicationListAsApplicant=void 0,n.acceptGroupApplication=void 0,n.refuseGroupApplication=void 0,n.getGroupMemberList=void 0,n.getSpecifiedGroupMembersInfo=void 0,n.setGroupMemberInfo=void 0,n.kickGroupMember=void 0,n.changeGroupMemberMute=void 0,n.changeGroupMute=void 0,n.transferGroupOwner=void 0,n.dismissGroup=void 0,n.quitGroup=void 0,n.getUsersInGroup=void 0,n.isJoinGroup=void 0,n.createTextMessage=void 0,n.createTextAtMessage=void 0,n.createLocationMessage=void 0,n.createCustomMessage=void 0,n.createQuoteMessage=void 0,n.createCardMessage=void 0,n.createImageMessageByURL=void 0,n.createImageMessageByFile=void 0,n.createSoundMessageByURL=void 0,n.createSoundMessageByFile=void 0,n.createVideoMessageByURL=void 0,n.createVideoMessageByFile=void 0,n.createFileMessageByURL=void 0,n.createFileMessageByFile=void 0,n.createMergerMessage=void 0,n.createFaceMessage=void 0,n.createForwardMessage=void 0,n.sendMessage=void 0,n.sendMessageNotOss=void 0,n.revokeMessage=void 0,n.getAdvancedHistoryMessageList=void 0,n.deleteMessage=void 0,n.deleteAllMsgFromLocalAndSvr=void 0,n.getConversationListSplit=void 0,n.getOneConversation=void 0,n.setConversation=void 0,n.getTotalUnreadMsgCount=void 0,n.markConversationMessageAsRead=void 0,n.changeInputStates=void 0,n.getInputStates=void 0,n.userTrigger=new g2(n),n.groupTrigger=new a2(n),n.relationTrigger=new l2(n),n.businessTrigger=new d2(n),n.messageTrigger=new i2(n),Object.assign(n,(r=n,{addFriend:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.AddFriend,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.AddFriend,data:{fromUserID:r.userID,toUserID:i.toUserID,reqMsg:i.reqMsg,ex:i.ex||""},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnFriendApplicationAdded,o),r.relationTrigger.getDesignatedFriendApplicationAndTrigger(B.OnFriendApplicationAdded,{fromUserID:r.userID,toUserID:i.toUserID},o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},checkFriend:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.CheckFriend,o,function(){try{var s=i.map(function(a){return r.sendHttpRequest({reqFuncName:k.CheckFriend,data:{userID1:r.userID,userID2:a},operationID:o})});return Promise.resolve(Promise.all(s)).then(function(a){return a.map(function(c,u){return{result:Number(c.inUser1Friends),userID:i[u]}})})}catch(a){return Promise.reject(a)}}))}catch(s){return Promise.reject(s)}},deleteFriend:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.DeleteFriend,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.DeleteFriend,data:{ownerUserID:r.userID,friendUserID:i},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnFriendDeleted,o),r.relationTrigger.syncer.syncFriendVersion(o)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},acceptFriendApplication:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.AcceptFriendApplication,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.AcceptFriendApplication,data:{fromUserID:i.toUserID,toUserID:r.userID,handleResult:To.Agree,handleMsg:i.handleMsg},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnFriendApplicationAccepted,o),r.relationTrigger.setTriggeredEventMap(B.OnFriendAdded,o),r.relationTrigger.getDesignatedFriendApplicationAndTrigger(B.OnFriendApplicationAccepted,{fromUserID:r.userID,toUserID:i.toUserID},o,!0),r.relationTrigger.syncer.syncFriendVersion(o)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},refuseFriendApplication:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.RefuseFriendApplication,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.RefuseFriendApplication,data:{fromUserID:i.toUserID,toUserID:r.userID,handleResult:To.Reject,handleMsg:i.handleMsg},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnFriendApplicationRejected,o),r.relationTrigger.getDesignatedFriendApplicationAndTrigger(B.OnFriendApplicationRejected,{fromUserID:r.userID,toUserID:i.toUserID},o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},getFriendListPage:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.GetFriendListPage,o,function(){try{var s={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/i.count)+1,showNumber:i.count}};return Promise.resolve(r.sendHttpRequest({reqFuncName:k.GetFriendListPage,data:s,operationID:o})).then(function(a){var c=a.friendsInfo;return(c??[]).map(Vu)})}catch(a){return Promise.reject(a)}}))}catch(s){return Promise.reject(s)}},getSpecifiedFriendsInfo:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.GetSpecifiedFriendsInfo,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.GetSpecifiedFriendsInfo,data:{ownerUserID:r.userID,friendUserIDs:i},operationID:o})).then(function(s){var a=s.friendsInfo;return(a??[]).map(Vu)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},getFriendApplicationListAsApplicant:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.GetFriendApplicationListAsApplicant,o,function(){try{var s=i.count,a={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/s)+1,showNumber:s}};return Promise.resolve(r.sendHttpRequest({reqFuncName:k.GetFriendApplicationListAsApplicant,data:a,operationID:o})).then(function(c){var u=c.friendRequests;return u??[]})}catch(c){return Promise.reject(c)}}))}catch(s){return Promise.reject(s)}},getFriendApplicationListAsRecipient:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.GetFriendApplicationListAsRecipient,o,function(){try{var s=i.count,a={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/s)+1,showNumber:s}};return Promise.resolve(r.sendHttpRequest({reqFuncName:k.GetFriendApplicationListAsRecipient,data:a,operationID:o})).then(function(c){var u=c.FriendRequests;return u??[]})}catch(c){return Promise.reject(c)}}))}catch(s){return Promise.reject(s)}},updateFriends:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.UpdateFriends,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.UpdateFriends,data:{ownerUserID:r.userID,friendUserIDs:i.friendUserIDs,remark:i.remark,isPinned:i.isPinned,ex:i.ex},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnFriendInfoChanged,o),r.relationTrigger.syncer.syncFriendVersion(o)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},addBlack:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.AddBlack,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.AddBlack,data:{ownerUserID:r.userID,blackUserID:i.toUserID,ex:i.ex},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnBlackAdded,o),r.relationTrigger.getDesignatedBlackUserAndTrigger(B.OnBlackAdded,i.toUserID,o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},removeBlack:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.RemoveBlack,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:k.RemoveBlack,data:{ownerUserID:r.userID,blackUserID:i},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(B.OnBlackDeleted,o),r.relationTrigger.getDesignatedBlackUserAndTrigger(B.OnBlackDeleted,i,o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},getBlackList:function(i,o){try{return Promise.resolve(ee(r.loginStatus,k.GetBlackList,o,function(){try{var s=i.count,a={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/s)+1,showNumber:s}};return Promise.resolve(r.sendHttpRequest({reqFuncName:k.GetBlackList,data:a,operationID:o})).then(function(c){var u=c.blacks;return(u??[]).map(RD)})}catch(c){return Promise.reject(c)}}))}catch(s){return Promise.reject(s)}}})),Object.assign(n,function(i){return{createGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.CreateGroup,s,function(){try{var a,c={ownerUserID:i.userID,memberUserIDs:o.memberUserIDs,adminUserIDs:(a=o.adminUserIDs)!=null?a:[],groupInfo:le({},o.groupInfo,{groupType:2,creatorUserID:i.userID})};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.CreateGroup,data:c,operationID:s})).then(function(u){return u.groupInfo})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},joinGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.JoinGroup,s,function(){try{var a,c={groupID:o.groupID,reqMessage:o.reqMsg,joinSource:o.joinSource,inviterUserID:i.userID,ex:(a=o.ex)!=null?a:""};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.JoinGroup,data:c,operationID:s})).then(function(){return i.groupTrigger.setTriggeredEventMap(B.OnGroupApplicationAdded,s),i.groupTrigger.getDesignatedGroupApplicationAndTrigger({event:B.OnGroupApplicationAdded,groupID:o.groupID,operationID:s,activeTrigger:!0}),null})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},inviteUserToGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.InviteUserToGroup,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.InviteUserToGroup,data:{groupID:o.groupID,reason:o.reason,invitedUserIDs:o.userIDList},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getJoinedGroupListPage:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetJoinedGroupListPage,s,function(){try{var a={fromUserID:i.userID,pagination:{pageNumber:Math.round(o.offset/o.count)+1,showNumber:o.count}};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.GetJoinedGroupListPage,data:a,operationID:s})).then(function(c){var u=c.groups;return u&&i.groupTrigger.cache.updateCachedGroups(u),u??[]})}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getSpecifiedGroupsInfo:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetSpecifiedGroupsInfo,s,function(){return i.groupTrigger.cache.getGroupInfosWithCache(o,s)}))}catch(a){return Promise.reject(a)}},setGroupInfo:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.SetGroupInfo,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.SetGroupInfo,data:o,operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},acceptGroupApplication:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.AcceptGroupApplication,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.AcceptGroupApplication,data:{groupID:o.groupID,fromUserID:o.fromUserID,handledMsg:o.handleMsg,handleResult:To.Agree},operationID:s})).then(function(){return i.groupTrigger.setTriggeredEventMap(B.OnGroupApplicationAccepted,s),i.groupTrigger.getDesignatedGroupApplicationAndTrigger({event:B.OnGroupApplicationAccepted,groupID:o.groupID,operationID:s,activeTrigger:!0}),null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},refuseGroupApplication:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.RefuseGroupApplication,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.RefuseGroupApplication,data:{groupID:o.groupID,fromUserID:o.fromUserID,handledMsg:o.handleMsg,handleResult:To.Reject},operationID:s})).then(function(){return i.groupTrigger.setTriggeredEventMap(B.OnGroupApplicationRejected,s),i.groupTrigger.getDesignatedGroupApplicationAndTrigger({event:B.OnGroupApplicationRejected,groupID:o.groupID,operationID:s,activeTrigger:!0}),null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getGroupMemberList:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetGroupMemberList,s,function(){try{var a={filter:0,keyword:"",groupID:o.groupID,pagination:{pageNumber:Math.round(o.offset/o.count)+1,showNumber:o.count}};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.GetGroupMemberList,data:a,operationID:s})).then(function(c){var u=c.members;return u&&i.groupTrigger.cache.updateCachedGroupMembers(u),u??[]})}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getSpecifiedGroupMembersInfo:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetSpecifiedGroupMembersInfo,s,function(){return i.groupTrigger.cache.getGroupMembersWithCache(le({},o,{operationID:s}))}))}catch(a){return Promise.reject(a)}},setGroupMemberInfo:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.SetGroupMemberInfo,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.SetGroupMemberInfo,data:{members:[le({},o)]},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},kickGroupMember:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.KickGroupMember,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.KickGroupMember,data:{reason:o.reason,groupID:o.groupID,kickedUserIDs:o.userIDList},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},changeGroupMemberMute:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.ChangeGroupMemberMute,s,function(){try{return Promise.resolve(i.sendHttpRequest({replaceURL:o.mutedSeconds?"/group/mute_group_member":"/group/cancel_mute_group_member",reqFuncName:k.ChangeGroupMemberMute,data:{groupID:o.groupID,userID:o.userID,mutedSeconds:o.mutedSeconds},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},changeGroupMute:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.ChangeGroupMute,s,function(){try{return Promise.resolve(i.sendHttpRequest({replaceURL:o.isMute?"/group/mute_group":"/group/cancel_mute_group",reqFuncName:k.ChangeGroupMute,data:{groupID:o.groupID},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},transferGroupOwner:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.TransferGroupOwner,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.TransferGroupOwner,data:{groupID:o.groupID,oldOwnerUserID:i.userID,newOwnerUserID:o.newOwnerUserID},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},dismissGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.DismissGroup,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.DismissGroup,data:{groupID:o,deleteMember:!1},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},quitGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.QuitGroup,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.QuitGroup,data:{groupID:o,userID:i.userID},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getGroupApplicationListAsRecipient:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetGroupApplicationListAsRecipient,s,function(){try{var a=o.count,c={fromUserID:i.userID,pagination:{pageNumber:Math.round(o.offset/a)+1,showNumber:a}};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.GetGroupApplicationListAsRecipient,data:c,operationID:s})).then(function(u){var l=u.groupRequests;return(l??[]).map(oh)})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},getGroupApplicationListAsApplicant:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetGroupApplicationListAsApplicant,s,function(){try{var a=o.count,c={userID:i.userID,pagination:{pageNumber:Math.round(o.offset/a)+1,showNumber:a}};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.GetGroupApplicationListAsApplicant,data:c,operationID:s})).then(function(u){var l=u.groupRequests;return(l??[]).map(oh)})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},getUsersInGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetUsersInGroup,s,function(){try{var a=function(){var u,l=i.groupTrigger.cache.getCachedGroupMembersID(o.groupID);return(u=o.userIDList)==null?void 0:u.filter(function(d){return l.includes(d)})},c=function(){if(!i.groupTrigger.cache.hasCachedGroupMembersID(o.groupID))return Promise.resolve(i.groupTrigger.cache.getGroupMembersID(o.groupID,s)).then(function(){})}();return Promise.resolve(c&&c.then?c.then(a):a())}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},isJoinGroup:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.IsJoinGroup,s,function(){try{return Promise.resolve(i.groupTrigger.syncer.checkIsJoinGroup(o))}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}}}}(n)),Object.assign(n,function(i){return{getSelfUserInfo:function(o){try{return Promise.resolve(ee(i.loginStatus,k.GetSelfUserInfo,o,function(){try{var s=i.userTrigger.cache.getSelfUserInfo();return s?Promise.resolve(s):Promise.resolve(i.sendHttpRequest({reqFuncName:k.GetSelfUserInfo,data:{userIDs:[i.userID]},operationID:o})).then(function(a){var c=a.usersInfo;return(c??[])[0]})}catch(a){return Promise.reject(a)}}))}catch(s){return Promise.reject(s)}},setSelfInfo:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.SetSelfInfo,s,function(){try{var a={userInfo:le({userID:i.userID},o)};return Promise.resolve(i.sendHttpRequest({reqFuncName:k.SetSelfInfo,data:a,operationID:s})).then(function(){return i.userTrigger.setTriggeredEventMap(s),i.userTrigger.cache.udpateCachedLoginUserInfoAndTrigger(le({},o),s),null})}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getUsersInfo:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetUsersInfo,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.GetUsersInfo,data:{userIDs:o},operationID:s})).then(function(a){var c=a.usersInfo,u=c??[];return u.filter(function(l){return!i.relationTrigger.cache.isFriend(l.userID)}).map(i.userTrigger.checkConversationUpdate),u})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},subscribeUsersStatus:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.SubscribeUsersStatus,s,function(){if(!o.length)throw new We(Ue.ArgsError,"sub users is empty");return i.userTrigger.onlineSub.getUserOnlineState(o,s)}))}catch(a){return Promise.reject(a)}},unsubscribeUsersStatus:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.UnsubscribeUsersStatus,s,function(){try{if(!o.length)throw new We(Ue.ArgsError,"unSub users is empty");return Promise.resolve(i.userTrigger.onlineSub.updateSubs({sub:[],unSub:o,operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getSubscribeUsersStatus:function(o){try{return Promise.resolve(ee(i.loginStatus,k.GetSubscribeUsersStatus,o,function(){try{return Promise.resolve(i.userTrigger.onlineSub.getAllSubUsersOnlineState())}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}}}}(n)),Object.assign(n,function(i){var o=new Map,s=new h2,a=null,c="",u=function(d){var p=d.maxSeq,f=d.count,g=d.conversationID,C=d.operationID,I=d.fetchedMessages,_=I===void 0?[]:I;try{for(var y=[],h=p;y.length<f&&!(h<1);h--)i.messageTrigger.cache.checkIsFilterSeq(g,h)||y.push(h);return y.length?Promise.resolve(i.messageTrigger.getMessageWithCacheBySeqs(g,y,C)).then(function(m){var D=m.messages,v=m.filterCount,T=[].concat(D,_);if(!v&&D.length<f)return T;if(D.length<f){var S=y[y.length-1],F=p-f;return u({maxSeq:S<F?S:F,count:f-D.length,conversationID:g,operationID:C,fetchedMessages:T})}return T}):Promise.resolve(_)}catch(m){return Promise.reject(m)}},l=function(d){var p=d.minSeq,f=d.count,g=d.conversationID,C=d.operationID,I=d.fetchedMessages,_=I===void 0?[]:I;try{for(var y=[],h=p;y.length<f;h++)i.messageTrigger.cache.checkIsFilterSeq(g,h)||y.push(h);return y.length?Promise.resolve(i.messageTrigger.getMessageWithCacheBySeqs(g,y,C)).then(function(m){var D=m.messages,v=m.filterCount,T=[].concat(_,D);if(!v&&D.length<f)return T;if(D.length<f){var S=y[y.length-1],F=p+f;return l({minSeq:S>F?S:F,count:f-D.length,conversationID:g,operationID:C,fetchedMessages:T})}return T}):Promise.resolve(_)}catch(m){return Promise.reject(m)}};return{createTextMessage:function(d,p){return ee(i.loginStatus,k.CreateTextMessage,p,function(){try{var f=Et(i,lt.UserMsgType,Z.TextMessage);return f.textElem={content:d},Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createTextAtMessage:function(d,p){return ee(i.loginStatus,k.CreateTextAtMessage,p,function(){try{var f;if(!d.text)throw new We(Ue.ArgsError,"text cannot be empty");if(d.atUserIDList.length>10)throw new We(Ue.ArgsError,"atUserIDList length must be less than 10");var g,C=Et(i,lt.UserMsgType,Z.AtTextMessage);return((f=d.message)==null?void 0:f.contentType)===Z.QuoteMessage&&(d.message.contentType=Z.TextMessage,d.message.textElem={content:(g=d.message.quoteElem)==null?void 0:g.text}),C.atTextElem={text:d.text,atUserList:d.atUserIDList,atUsersInfo:d.atUsersInfo,quoteMessage:d.message},Promise.resolve(C)}catch(I){return Promise.reject(I)}})},createLocationMessage:function(d,p){return ee(i.loginStatus,k.CreateLocationMessage,p,function(){try{var f=Et(i,lt.UserMsgType,Z.LocationMessage);return f.locationElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createCustomMessage:function(d,p){return ee(i.loginStatus,k.CreateCustomMessage,p,function(){try{var f=Et(i,lt.UserMsgType,Z.CustomMessage);return f.customElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createQuoteMessage:function(d,p){return ee(i.loginStatus,k.CreateQuoteMessage,p,function(){try{var f,g=Et(i,lt.UserMsgType,Z.QuoteMessage),C=JSON.parse(d.message);return C.contentType===Z.QuoteMessage&&(C.contentType=Z.TextMessage,C.textElem={content:(f=C.quoteElem)==null?void 0:f.text}),g.quoteElem={text:d.text,quoteMessage:C},Promise.resolve(g)}catch(I){return Promise.reject(I)}})},createCardMessage:function(d,p){return ee(i.loginStatus,k.CreateCardMessage,p,function(){try{var f=Et(i,lt.UserMsgType,Z.CardMessage);return f.cardElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createImageMessageByURL:function(d,p){return ee(i.loginStatus,k.CreateImageMessageByURL,p,function(){try{var f=Et(i,lt.UserMsgType,Z.PictureMessage);return f.pictureElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createImageMessageByFile:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.CreateImageMessageByFile,p,function(){try{var f=Et(i,lt.UserMsgType,Z.PictureMessage);return o.set(d.sourcePicture.uuid,d.file),delete d.file,f.pictureElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}}))}catch(f){return Promise.reject(f)}},createSoundMessageByURL:function(d,p){return ee(i.loginStatus,k.CreateSoundMessageByURL,p,function(){try{var f=Et(i,lt.UserMsgType,Z.VoiceMessage);return f.soundElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createSoundMessageByFile:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.CreateSoundMessageByFile,p,function(){try{var f=Et(i,lt.UserMsgType,Z.VoiceMessage);return o.set(d.uuid,d.file),delete d.file,f.soundElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}}))}catch(f){return Promise.reject(f)}},createVideoMessageByURL:function(d,p){return ee(i.loginStatus,k.CreateVideoMessageByURL,p,function(){try{var f=Et(i,lt.UserMsgType,Z.VideoMessage);return f.videoElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createVideoMessageByFile:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.CreateVideoMessageByFile,p,function(){try{var f=Et(i,lt.UserMsgType,Z.VideoMessage);return o.set(d.videoUUID,d.videoFile),o.set(d.snapshotUUID,d.snapshotFile),delete d.videoFile,delete d.snapshotFile,f.videoElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}}))}catch(f){return Promise.reject(f)}},createFileMessageByURL:function(d,p){return ee(i.loginStatus,k.CreateFileMessageByURL,p,function(){try{var f=Et(i,lt.UserMsgType,Z.FileMessage);return f.fileElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createFileMessageByFile:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.CreateFileMessageByFile,p,function(){try{var f=Et(i,lt.UserMsgType,Z.FileMessage);return o.set(d.uuid,d.file),delete d.file,f.fileElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}}))}catch(f){return Promise.reject(f)}},createMergerMessage:function(d,p){return ee(i.loginStatus,k.CreateMergerMessage,p,function(){try{var f=Et(i,lt.UserMsgType,Z.MergeMessage);return f.mergeElem={title:d.title,abstractList:d.summaryList,multiMessage:d.messageList,messageEntityList:[]},Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createFaceMessage:function(d,p){return ee(i.loginStatus,k.CreateFaceMessage,p,function(){try{var f=Et(i,lt.UserMsgType,Z.FaceMessage);return f.faceElem=le({},d),Promise.resolve(f)}catch(g){return Promise.reject(g)}})},createForwardMessage:function(d,p){return ee(i.loginStatus,k.CreateForwardMessage,p,function(){try{if(d.status!==wr.Succeed)throw new We(Ue.ArgsError,"Only successfully sent messages can be forwarded");var f=Et(i,lt.UserMsgType,d.contentType);return Promise.resolve(le({},d,f,{seq:0,status:wr.Sending}))}catch(g){return Promise.reject(g)}})},sendMessage:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.SendMessage,p,function(){return s.enqueue(function(){try{var f=le({},d,{message:le({},d.message)}),g=f.message,C=f.recvID,I=f.groupID,_=f.isOnlineOnly,y=f.offlinePushInfo,h=y===void 0?{title:"you hava a new message.",desc:"you hava a new message.",ex:"",iOSPushSound:"",iOSBadgeCount:!0,signalInfo:""}:y;h.signalInfo===void 0&&(h.signalInfo="");var m=TD[g.contentType];if(!m)throw new We(Ue.MsgContentTypeNotSupportError,"Unknown message content type");g.recvID=C,g.groupID=I,g.sessionType=I?rt.Group:rt.Single;var D={};_&&Object.values(or).forEach(function(S){return D[S]=!1});var v=rh(g),T=!1;return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(v,p)).then(function(S){function F(){function j(Q){function he(K){function X(x){function te(Ve){function Me(It){var at,ct,q=JSON.stringify(g[m]),H=st.MsgData.encode({sendID:i.userID,recvID:C||"",groupID:I||"",clientMsgID:g.clientMsgID,serverMsgID:g.serverMsgID||"",senderPlatformID:i.platform,senderNickname:g.senderNickname,senderFaceURL:g.senderFaceUrl,sessionType:g.sessionType,msgFrom:g.msgFrom,contentType:g.contentType,content:Lu(q),seq:g.seq,sendTime:0,createTime:g.createTime,status:g.status,isRead:!1,options:D,offlinePushInfo:h,atUserIDList:(at=(ct=g.atTextElem)==null?void 0:ct.atUserList)!=null?at:[],attachedInfo:g.attachedInfoElem?JSON.stringify(g.attachedInfoElem):"",ex:g.ex||"",keyVersion:0,dstUserIDs:[]}).finish();return SD(function(){return Promise.resolve(i.sendReqWaitResp({data:H,operationID:p,reqIdentifier:dt.SendMsg})).then(function(P){var $=P.serverMsgID,fe=P.sendTime;return g.sendTime=fe,g.serverMsgID=$,g.status=wr.Succeed,i.messageTrigger.setTriggeredConversationEvent(p),i.messageTrigger.cache.updateCachedMaxReadSeq(S.conversationID,{maxSeqTime:fe}),i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(g),latestMsgSendTime:fe}),g})},function(P){throw g.status=wr.Failed,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(g)}),P})}var St=function(){if(g.contentType===Z.FileMessage){var It,at=o.get((It=g.fileElem)==null?void 0:It.uuid);if(!at)throw new We(Ue.ArgsError,"Can not find target file");return Promise.resolve(i.internalUploadFile(at,p)).then(function(ct){var q,H=ct.url,P=H===void 0?"":H,$=ct.error;if(o.delete((q=g.fileElem)==null?void 0:q.uuid),$)throw new We(Ue.NetworkError,"Upload file failed");g.fileElem.sourceUrl=P})}}();return St&&St.then?St.then(Me):Me()}var ce=function(){if(g.contentType===Z.VideoMessage){var Ve,Me,St=o.get((Ve=g.videoElem)==null?void 0:Ve.videoUUID),It=o.get((Me=g.videoElem)==null?void 0:Me.snapshotUUID);if(!St||!It)throw new We(Ue.ArgsError,"Can not find target file");return Promise.resolve(Promise.all([i.internalUploadFile(St,p),i.internalUploadFile(It,p)])).then(function(at){var ct,q;if(o.delete((ct=g.videoElem)==null?void 0:ct.videoUUID),o.delete((q=g.videoElem)==null?void 0:q.snapshotUUID),at[0].error||at[1].error)throw new We(Ue.NetworkError,"Upload file failed");g.videoElem.videoUrl=at[0].url,g.videoElem.snapshotUrl=at[1].url})}}();return ce&&ce.then?ce.then(te):te()}var E=function(){if(g.contentType===Z.VoiceMessage){var x,te=o.get((x=g.soundElem)==null?void 0:x.uuid);if(!te)throw new We(Ue.ArgsError,"Can not find target file");return Promise.resolve(i.internalUploadFile(te,p)).then(function(ce){var Ve,Me=ce.url,St=Me===void 0?"":Me,It=ce.error;if(o.delete((Ve=g.soundElem)==null?void 0:Ve.uuid),It)throw new We(Ue.NetworkError,"Upload file failed");g.soundElem.sourceUrl=St})}}();return E&&E.then?E.then(X):X()}S.latestMsgSendTime=g.createTime,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(g)},void 0,T);var re=function(){if(g.contentType===Z.PictureMessage){var K,X=o.get((K=g.pictureElem)==null?void 0:K.sourcePicture.uuid);if(!X)throw new We(Ue.ArgsError,"Can not find target file");return Promise.resolve(i.internalUploadFile(X,p)).then(function(E){var x,te=E.url,ce=te===void 0?"":te,Ve=E.error;if(o.delete((x=g.pictureElem)==null?void 0:x.sourcePicture.uuid),Ve)throw new We(Ue.NetworkError,"Upload file failed");g.pictureElem.sourcePicture.url=ce,g.pictureElem.bigPicture.url=ce,g.pictureElem.snapshotPicture.width=640,g.pictureElem.snapshotPicture.height=640,g.pictureElem.snapshotPicture.url=ce+"?type=image&width=640&height=640"})}}();return re&&re.then?re.then(he):he()}var U=function(){if(I)return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:I,userIDList:[i.userID],operationID:p})).then(function(Q){if(Q==null||!Q.length)throw new We(Ue.ArgsError,"user not join target group");Q[0].nickname&&(g.senderNickname=Q[0].nickname)})}();return U&&U.then?U.then(j):j()}var O=function(){if(!S)return T=!0,Promise.resolve(i.messageTrigger.initConversation({sourceID:I||C,sessionType:g.sessionType,operationID:p})).then(function(j){S=j});S.isPrivateChat&&(D[or.IsNotPrivate]=!1,g.attachedInfoElem=le({},{groupHasReadInfo:{hasReadCount:0,unreadCount:0},isPrivateChat:!1,burnDuration:0,hasReadTime:0,messageEntityList:[],isEncryption:!1,inEncryptStatus:!1},{isPrivateChat:!0,burnDuration:S.burnDuration}))}();return O&&O.then?O.then(F):F()})}catch(S){return Promise.reject(S)}})}))}catch(f){return Promise.reject(f)}},sendMessageNotOss:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.SendMessage,p,function(){return s.enqueue(function(){try{var f=le({},d,{message:le({},d.message)}),g=f.message,C=f.recvID,I=f.groupID,_=f.isOnlineOnly,y=f.offlinePushInfo,h=y===void 0?{title:"you hava a new message.",desc:"you hava a new message.",ex:"",iOSPushSound:"",iOSBadgeCount:!0,signalInfo:""}:y;h.signalInfo===void 0&&(h.signalInfo="");var m=TD[g.contentType];if(!m)throw new We(Ue.MsgContentTypeNotSupportError,"Unknown message content type");g.recvID=C,g.groupID=I,g.sessionType=I?rt.Group:rt.Single;var D={};_&&Object.values(or).forEach(function(T){return D[T]=!1});var v=rh(g);return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(v,p)).then(function(T){function S(O){var j,U;T.latestMsgSendTime=g.createTime,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(g)});var Q=JSON.stringify(g[m]),he=st.MsgData.encode({sendID:i.userID,recvID:C||"",groupID:I||"",clientMsgID:g.clientMsgID,serverMsgID:g.serverMsgID||"",senderPlatformID:i.platform,senderNickname:g.senderNickname,senderFaceURL:g.senderFaceUrl,sessionType:g.sessionType,msgFrom:g.msgFrom,contentType:g.contentType,content:Lu(Q),seq:g.seq,sendTime:0,createTime:g.createTime,status:g.status,isRead:!1,options:D,offlinePushInfo:h,atUserIDList:(j=(U=g.atTextElem)==null?void 0:U.atUserList)!=null?j:[],attachedInfo:g.attachedInfoElem?JSON.stringify(g.attachedInfoElem):"",ex:g.ex||"",keyVersion:0,dstUserIDs:[]}).finish();return SD(function(){return Promise.resolve(i.sendReqWaitResp({data:he,operationID:p,reqIdentifier:dt.SendMsg})).then(function(re){var K=re.serverMsgID,X=re.sendTime;return g.sendTime=X,g.serverMsgID=K,g.status=wr.Succeed,i.messageTrigger.setTriggeredConversationEvent(p),i.messageTrigger.cache.updateCachedMaxReadSeq(T.conversationID,{maxSeqTime:X}),i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(g),latestMsgSendTime:X}),g})},function(re){throw g.status=wr.Failed,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(g)}),re})}var F=function(){if(!T)return Promise.resolve(i.messageTrigger.initConversation({sourceID:I||C,sessionType:g.sessionType,operationID:p})).then(function(O){return T=O,function(){if(I)return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:I,userIDList:[i.userID],operationID:p})).then(function(j){if(j==null||!j.length)throw new We(Ue.ArgsError,"user not join target group");j[0].nickname&&(g.senderNickname=j[0].nickname)})}()});T.isPrivateChat&&(D[or.IsNotPrivate]=!1,g.attachedInfoElem=le({},{groupHasReadInfo:{hasReadCount:0,unreadCount:0},isPrivateChat:!1,burnDuration:0,hasReadTime:0,messageEntityList:[],isEncryption:!1,inEncryptStatus:!1},{isPrivateChat:!0,burnDuration:T.burnDuration}))}();return F&&F.then?F.then(S):S()})}catch(T){return Promise.reject(T)}})}))}catch(f){return Promise.reject(f)}},revokeMessage:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.RevokeMessage,p,function(){try{var f=function(I){return Promise.resolve(i.sendHttpRequest({reqFuncName:k.RevokeMessage,data:{conversationID:d.conversationID,seq:g.seq,userID:i.userID},operationID:p})).then(function(){i.messageTrigger.setTriggeredConversationEvent(p),i.messageTrigger.revokeMessage({revokerUserID:i.userID,clientMsgID:g.clientMsgID,revokeTime:Date.now(),sesstionType:g.sessionType,seq:g.seq,conversationID:d.conversationID,isAdminRevoke:!1},p)})},g=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.clientMsgID])[0];if(!g)throw new We(Ue.ArgsError,"message not exist");var C=function(){if(g.sendID!==i.userID){if(!g.groupID)throw new We(Ue.ArgsError,"message can not be revoked");return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:g.groupID,userIDList:[i.userID],operationID:p})).then(function(I){var _=I[0];if(!_||_.roleLevel===eh.Nomal)throw new We(Ue.ArgsError,"message can not be revoked")})}}();return Promise.resolve(C&&C.then?C.then(f):f())}catch(I){return Promise.reject(I)}}))}catch(f){return Promise.reject(f)}},getAdvancedHistoryMessageList:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.GetAdvancedHistoryMessageList,p,function(){try{var f={isEnd:!1,errCode:0,errMsg:"",messageList:[]};if(c!==d.conversationID&&(a=null,c=d.conversationID),d.startClientMsgID){if(a===null){var g=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.startClientMsgID])[0];if(!g)return Promise.resolve(le({},f,{isEnd:!0}));a=g.seq}}else a=0;var C=i.messageTrigger.cache.getCachedMaxReadSeq(d.conversationID);return ie.default.log("syncedSeqs",C),C?Promise.resolve(u({maxSeq:a?a-1:C.maxSeq,count:d.count,conversationID:d.conversationID,operationID:p})).then(function(I){function _(){function h(){var D,v;return f.messageList=I.map(Sn),ie.default.debug("getAdvancedHistoryMessageList with opid: ",p,"messageList: ",f.messageList),a=(D=(v=I[0])==null?void 0:v.seq)!=null?D:0,le({},f,{isEnd:I.length<d.count})}var m=function(D){if(((D=I[0])==null?void 0:D.sessionType)===rt.Group){var v=new Set(I.map(function(T){return T.sendID}));return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:I[0].groupID,userIDList:Array.from(v),operationID:p})).then(function(T){I.forEach(function(S){var F=T.find(function(O){return O.userID===S.sendID});F&&(S.senderNickname=F?.nickname,S.senderFaceUrl=F?.faceURL)})})}}();return m&&m.then?m.then(h):h()}var y=function(h){if(((h=I[0])==null?void 0:h.sessionType)===rt.Single)return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(d.conversationID,p)).then(function(m){var D=i.userTrigger.cache.getSelfUserInfo();I.forEach(function(v){var T=v.sendID===i.userID;v.senderNickname=T?D?.nickname:m?.showName,v.senderFaceUrl=T?D?.faceURL:m?.faceURL})})}();return y&&y.then?y.then(_):_()}):Promise.resolve(le({},f,{isEnd:!0}))}catch(I){return Promise.reject(I)}}))}catch(f){return Promise.reject(f)}},getAdvancedHistoryMessageListReverse:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.GetAdvancedHistoryMessageListReverse,p,function(){try{var f={isEnd:!1,errCode:0,errMsg:"",messageList:[]};if(!d.startClientMsgID)return Promise.resolve(le({},f,{isEnd:!0}));var g=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.startClientMsgID])[0];if(!g)return Promise.resolve(le({},f,{isEnd:!0}));var C=g.seq,I=i.messageTrigger.cache.getCachedMaxReadSeq(d.conversationID);return ie.default.log("syncedSeqs",I),I&&I.maxSeq!==C?Promise.resolve(l({minSeq:C,count:d.count,conversationID:d.conversationID,operationID:p})).then(function(_){function y(){function m(){return f.messageList=_.map(Sn),ie.default.debug("getAdvancedHistoryMessageListReverse with opid: ",p,"messageList: ",f.messageList),le({},f,{isEnd:_.length<d.count})}var D=function(v){if(((v=_[0])==null?void 0:v.sessionType)===rt.Group){var T=new Set(_.map(function(S){return S.sendID}));return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:_[0].groupID,userIDList:Array.from(T),operationID:p})).then(function(S){_.forEach(function(F){var O=S.find(function(j){return j.userID===F.sendID});O&&(F.senderNickname=O?.nickname,F.senderFaceUrl=O?.faceURL)})})}}();return D&&D.then?D.then(m):m()}var h=function(m){if(((m=_[0])==null?void 0:m.sessionType)===rt.Single)return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(d.conversationID,p)).then(function(D){var v=i.userTrigger.cache.getSelfUserInfo();_.forEach(function(T){var S=T.sendID===i.userID;T.senderNickname=S?v?.nickname:D?.showName,T.senderFaceUrl=S?v?.faceURL:D?.faceURL})})}();return h&&h.then?h.then(y):y()}):Promise.resolve(le({},f,{isEnd:!0}))}catch(_){return Promise.reject(_)}}))}catch(f){return Promise.reject(f)}},deleteMessage:function(d,p){try{return Promise.resolve(ee(i.loginStatus,k.DeleteMessage,p,function(){try{var f=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.clientMsgID])[0];if(!f)throw new We(Ue.ArgsError,"message not exist");return Promise.resolve(i.sendHttpRequest({reqFuncName:k.DeleteMessage,data:{conversationID:d.conversationID,seqs:[f.seq],userID:i.userID,deleteSyncOpt:void 0},operationID:p})).then(function(){var g,C=(g=i.messageTrigger.cache.getCachedMaxReadSeq(d.conversationID))==null?void 0:g.maxSeq;ie.default.debug("delete message with opid: ",p,"conversationMaxSeq: ",C,"deleteMessage seq: ",f.seq),i.messageTrigger.cache.deleteMessageFromCache(d.conversationID,f.seq);var I=function(){if(f.seq===C)return Promise.resolve(i.messageTrigger.getPreviousSeqMessage({conversationID:d.conversationID,seq:f.seq,operationID:p})).then(function(_){i.messageTrigger.getOneConversationAndTryChange(d.conversationID,p,{latestMsg:_?JSON.stringify(Sn(_)):""})})}();if(I&&I.then)return I.then(function(){})})}catch(g){return Promise.reject(g)}}))}catch(f){return Promise.reject(f)}},deleteAllMsgFromLocalAndSvr:function(d){try{return Promise.resolve(ee(i.loginStatus,k.DeleteAllMsgFromLocalAndSvr,d,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.DeleteAllMsgFromLocalAndSvr,data:{userID:i.userID,deleteSyncOpt:void 0},operationID:d})).then(function(){i.messageTrigger.cache.getAllCachedConversations().forEach(function(p){i.messageTrigger.getOneConversationAndTryChange(p.conversationID,d,{latestMsg:""})})})}catch(p){return Promise.reject(p)}}))}catch(p){return Promise.reject(p)}}}}(n)),Object.assign(n,function(i){return{getConversationListSplit:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetConversationListSplit,s,function(){try{var a=i.messageTrigger.cache.getSortedConversationIDs(o.offset,o.count);return Promise.resolve(i.messageTrigger.getConversationsWithCacheByIDs(a,s)).then(BS)}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getOneConversation:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.GetOneConversation,s,function(){try{return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(ch(le({},o,{userID:i.userID})),s)).then(function(a){function c(){return le({},a)}var u=function(){if(!a)return Promise.resolve(i.messageTrigger.initConversation(le({},o,{operationID:s}))).then(function(l){a=l})}();return u&&u.then?u.then(c):c()})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getTotalUnreadMsgCount:function(o){try{return Promise.resolve(ee(i.loginStatus,k.GetTotalUnreadMsgCount,o,function(){return Promise.resolve(i.messageTrigger.cache.getTotalUnreadCount())}))}catch(s){return Promise.reject(s)}},markConversationMessageAsRead:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.MarkConversationMessageAsRead,s,function(){try{var a=i.messageTrigger.cache.getCachedMaxReadSeq(o);if(!a)throw new We(Ue.ArgsError,"conversation not exist");if(a.hasReadSeq===a.maxSeq)throw new We(Ue.ArgsError,"hasReadSeq equal max");for(var c=[],u=a.hasReadSeq;u<=a.maxSeq;u++)c.push(u);return Promise.resolve(i.messageTrigger.getMessageWithCacheBySeqs(o,c,s)).then(function(l){var d=l.messages,p=d.filter(function(f){return f.sendID!==i.userID&&!f.isRead}).map(function(f){return f.seq});return p.length||ie.default.warn("seqs is empty ",o),Promise.resolve(i.sendHttpRequest({reqFuncName:k.MarkConversationMessageAsRead,data:{conversationID:o,seqs:p,hasReadSeq:a.maxSeq,userID:i.userID},operationID:s})).then(function(){if(i.messageTrigger.cache.updateCachedMaxReadSeq(o,{hasReadSeq:a.maxSeq}),i.messageTrigger.cache.markCachedMessagesAsRead(o),ie.default.debug("markConversationMessageAsRead with opid: ",s,"conversationID: ",o,"asReadSeqs: ",p,"syncedMaxSeq",a.maxSeq),p.sort()[p.length-1]===a.maxSeq){var f=d.find(function(g){return g.seq===a.maxSeq});f.isRead=!0,i.messageTrigger.getOneConversationAndTryChange(o,s,{latestMsg:JSON.stringify(Sn(f))})}i.messageTrigger.getOneConversationAndTryChange(o,s).then(function(g){i.messageTrigger.cache.decreaseTotalUnreadCount(g.unreadCount,s),i.messageTrigger.getOneConversationAndTryChange(o,s,{unreadCount:0})})})})}catch(l){return Promise.reject(l)}}))}catch(a){return Promise.reject(a)}},deleteConversationAndDeleteAllMsg:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.DeleteConversationAndDeleteAllMsg,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:k.DeleteConversationAndDeleteAllMsg,data:{conversationIDs:[o],userID:i.userID,deleteSyncOpt:void 0},operationID:s})).then(function(){i.messageTrigger.cache.clearCachedConversationMessages(o)})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},setConversation:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.SetConversation,s,function(){try{return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(o.conversationID,s)).then(function(a){if(!a)throw new We(Ue.ArgsError,"conversation not exist");return Promise.resolve(i.sendHttpRequest({reqFuncName:k.SetConversation,data:{conversation:le({},o,{conversationID:a.conversationID,conversationType:a.conversationType,userID:a.userID,groupID:a.groupID,attachedInfo:void 0,minSeq:void 0}),userIDs:[i.userID]},operationID:s})).then(function(){})})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},changeInputStates:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.ChangeInputStates,s,function(){try{return Promise.resolve(i.messageTrigger.typingManager.changeInputStates(le({},o,{operationID:s}))).then(function(){})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getInputStates:function(o,s){try{return Promise.resolve(ee(i.loginStatus,k.ChangeInputStates,s,function(){return Promise.resolve(i.messageTrigger.typingManager.getInputStates(o.conversationID,o.userID))}))}catch(a){return Promise.reject(a)}}}}(n)),n}return xD(t,e),t}(QS),lh=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{ln(r,1,o(this.v))}catch(s){ln(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?ln(r,1,t?t(s):s):n?ln(r,1,n(s)):ln(r,2,s)}catch(s){ln(r,2,s)}},r},e}();jD=function(){return console.info("%cOpenIMSDK v0.0.13","background: #004085; color: #ffffff; padding: 2px 5px; border-radius: 4px;"),new Proxy(new v2,{get:function(e,t,n){if(t==="on"||t==="off")return Reflect.get(e,t,n);var r=e[t];return typeof r=="function"?function(){try{var i=[].slice.call(arguments);return i.push(ju()),function(o,s){ie.default.debug("%cSDK =>%c [OperationID:"+s[s.length-1]+"] (invoked) run "+o+" with args "+JSON.stringify(s),"font-size:14px; background:#007BFF; border-radius:4px; padding-inline:4px;","")}(t,i),Promise.resolve(r.apply(e,i)).then(function(o){var s,a;return s=t,(a=o).errCode?ie.default.debug("%cSDK =>%c [OperationID:"+a.operationID+"] (response) run "+s+" with error "+JSON.stringify(a),"font-size:14px; background:#28A745; border-radius:4px; padding-inline:4px;",""):ie.default.debug("%cSDK =>%c [OperationID:"+a.operationID+"] (response) run "+s+" with response before processor "+JSON.stringify(a.data),"font-size:14px; background:#FFDC19; border-radius:4px; padding-inline:4px;",""),o.errCode?Promise.reject(o):o})}catch(o){return Promise.reject(o)}}:Reflect.get(e,t,n)}})}});var Tn,Po=L(()=>{"use strict";yn();Ca();xr();Ys();ze();Hs();Tn=class e{constructor(t){this.service=t}im;_rooms=new ht([]);rooms$=this._rooms.asObservable();_selectedRoom=new ht(null);selectedRoom$=this._selectedRoom.asObservable();adminToken="";currentUserID="";listConversations;typingHandler$=new ht(null);inputStatusHandler$=new ht(null);layoutState$=new ht(null);positionState$=new ht(null);newGroupHandler$=new ht(null);connectionStatus$=new ht("Not Connected");newMessageHandler$=new ht(null);init(){return ne(this,null,function*(){this.im=jD(),this.setupEventListeners()})}login(t){return ne(this,null,function*(){this.currentUserID=t;let n=yield this.service.getUserToken(t);return yield this.im.login({token:n,userID:t,wsAddr:wt.wsAddr,apiAddr:wt.apiAddr,platformID:wt.platformId},Ge.createUniqueId())})}addRoom(t){let n=this._rooms.getValue(),r=[t,...n];this._rooms.next(r)}setRooms(t){this._rooms.next(t)}setRoomTypingStatus(t){let r=this._rooms.getValue().map(i=>Re(_e({},i),{typing:i.conversationID===t}));this._rooms.next(r)}updateRoomTypingStatus(t,n){let i=this._rooms.getValue().map(o=>Re(_e({},o),{typing:o.conversationID===t?n:o.typing}));this._rooms.next(i)}updateRoomById(t,n){let r=this._rooms.getValue(),i=r.findIndex(o=>o.groupID===t);if(i>-1){let o=[...r];o[i]=_e(_e({},o[i]),n),this._rooms.next(o)}}get currentRoom(){return this._selectedRoom.getValue()}setSelectedRoom(t){this._selectedRoom.next(t)}openGroup(t){return ne(this,null,function*(){let n=yield this.im.setGroupInfo({groupID:t,introduction:"open"},Ge.createUniqueId());return this.updateCurrentRoom({introduction:"open"}),n})}closeGroup(t){return ne(this,null,function*(){let n=yield this.im.setGroupInfo({groupID:t,introduction:"close"},Ge.createUniqueId());return this.updateCurrentRoom({introduction:"close"}),n})}updateCurrentRoom(t){let n=this.currentRoom;if(n){let r=_e(_e({},n),t);this._selectedRoom.next(r),this.updateRoomById(n.groupID,t)}}sendReplyMessage(t){return ne(this,null,function*(){if(!t.text)return null;let n=yield this.im.createQuoteMessage({text:t.text,message:JSON.stringify(t.replyItem)}),r=t.offlinePushInfo||this.createPushInfo("You have new reply",t.text);if(t.requestId){let o={requestId:t.requestId};n.data.ex=JSON.stringify(o),n.data.exMap=JSON.stringify(o)}return(yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r})).data})}revokeMessage(t){return ne(this,null,function*(){yield this.im.revokeMessage({clientMsgID:t.clientMsgID,conversationID:t.conversationID})})}sendTextMessage(t){return ne(this,null,function*(){if(!t.text)return null;let n=yield this.im.createTextMessage(t.text),r=t.offlinePushInfo||this.createPushInfo("You have new message",t.text);if(t.requestId){let o={requestId:t.requestId};n.data.ex=JSON.stringify(o),n.data.exMap=JSON.stringify(o)}return(yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r})).data})}sendFileMessage(t){return ne(this,null,function*(){if(!t.file)return null;let n=yield this.im.createFileMessageByFile({file:t.file,fileName:t.file.name,fileSize:t.file.size,fileType:t.file.type,uuid:Ge.createUniqueId()},wt.platformId),r=t.offlinePushInfo||this.createPushInfo("You have new file",t.file.name);if(t.requestId){let s={requestId:t.requestId};n.data.ex=JSON.stringify(s),n.data.exMap=JSON.stringify(s)}let i=yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r}),o=i.data;if(o&&o.contentType==Z.FileMessage&&o.fileElem){let s=o.fileElem;o.fileName=s.name}return i.data})}sendSoundMessage(t){return ne(this,null,function*(){if(!t.file)return null;let n=yield this.im.createSoundMessageByFile({file:t.file,name:t.file.name,duration:t.duration,dataSize:t.file.size,soundType:t.file.type,uuid:Ge.createUniqueId()},wt.platformId),r=t.offlinePushInfo||this.createPushInfo("You have new sound",t.file.name);if(t.requestId){let s={requestId:t.requestId};n.data.ex=JSON.stringify(s),n.data.exMap=JSON.stringify(s)}let i=yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r}),o=i.data;if(o&&o.contentType==Z.FileMessage&&o.fileElem){let s=o.fileElem;o.fileName=s.name}return i.data})}sendImageMessage(t){return ne(this,null,function*(){if(!t.file)return null;let n=yield this.createImageMessageParams(t.file),r=yield this.im.createImageMessageByFile(n),i=t.offlinePushInfo||this.createPushInfo("You have new image",t.file.name);debugger;if(t.requestId){let s={albumId:t.requestId,requestId:t.requestId};r.data.ex=JSON.stringify(s),r.data.exMap=JSON.stringify(s)}return(yield this.im.sendMessage({message:r.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:i})).data})}sendVideoMessage(t){return ne(this,null,function*(){if(!t.file)return null;let n=yield this.im.createVideoMessageByFile({videoFile:t.file,name:t.file.name,videoSize:t.file.size,videoType:t.file.type,duration:t.duration||0,snapshotFile:t.thumbnail,snapShotType:t.thumbnail.type,snapShotSize:t.thumbnail.size,snapShotName:t.thumbnail.name,videoUUID:Ge.createUniqueId()}),r=t.offlinePushInfo||this.createPushInfo("You have new file",t.file.name);if(t.requestId){let o={requestId:t.requestId};n.data.ex=JSON.stringify(o),n.data.exMap=JSON.stringify(o)}return(yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r})).data})}sendTypingStatus(t){return ne(this,null,function*(){this.listConversations&&this.listConversations.length>0&&this.listConversations.forEach(r=>ne(this,null,function*(){r.typing&&r.conversationID!=t&&(yield this.im.changeInputStates({focus:!1,conversationID:t}))}));let n=yield this.im.changeInputStates({focus:!0,conversationID:t});return this.listConversations&&this.listConversations.length>0&&this.listConversations.forEach(r=>{r.conversationID==t&&(r.typing=!0)}),this.typingHandler$.next(t),n.data})}conversations(){return ne(this,null,function*(){return(yield this.im.getConversationListSplit({offset:0,count:1e3},wt.platformId)).data})}sendLocationMessage(t){return ne(this,null,function*(){if(!t.latitude||!t.longitude)return null;let n=yield this.im.createLocationMessage({latitude:t.latitude,longitude:t.longitude,description:t.description}),r=t.offlinePushInfo||this.createPushInfo("You have new message",t.description);if(t.requestId){let o={requestId:t.requestId};n.data.ex=JSON.stringify(o),n.data.exMap=JSON.stringify(o)}return(yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r})).data})}markConversationMessageAsRead(t){return ne(this,null,function*(){return yield this.im.markConversationMessageAsRead(t,Ge.createUniqueId())})}getGroupMembers(t){return ne(this,null,function*(){let r=(yield this.im.getGroupMemberList({filter:0,offset:0,count:1e3,groupID:t},wt.platformId)).data;return r&&r.length>0&&(r=r.filter(i=>i.userID!="imAdmin")),r})}getHistoryMessages(t,n="",r=40){return ne(this,null,function*(){let o=(yield this.im.getAdvancedHistoryMessageList({count:r,conversationID:t,startClientMsgID:n})).data.messageList;return o&&o.length>0&&(o=o.filter(s=>s.contentType!=Z.CustomMessage).filter(s=>s.contentType!=Z.GroupCreated),o.forEach(s=>{if(s.contentType==Z.FileMessage&&s.fileElem){let a=s.fileElem;s.fileName=a.fileName||a.name}if(s.contentType==Z.VideoMessage&&s.videoElem){let a=s.videoElem;s.fileName=a.fileName||a.name}if(s.contentType==Z.PictureMessage&&s.pictureElem){let a=s.pictureElem;s.fileName=a.fileName||a.name}})),o})}setupEventListeners(){this.im.on(B.OnConnecting,()=>{console.log("OPENIM: OnConnecting"),this.connectionStatus$.next("Connecting...")}),this.im.on(B.OnConnectSuccess,()=>{console.log("OPENIM: Connected"),this.connectionStatus$.next("Connected")}),this.im.on(B.OnConnectFailed,()=>{console.log("OPENIM: Connection Failed"),this.connectionStatus$.next("Connection Failed")}),this.im.on(B.OnKickedOffline,()=>{console.log("OPENIM: Kicked Offline"),this.connectionStatus$.next("Kicked Offline")}),this.im.on(B.OnProgress,t=>{console.log(t)}),this.im.on(B.OnJoinedGroupAdded,t=>{this.newGroupHandler$.next(t.data)}),this.im.on(B.OnRecvNewMessages,t=>{let n=t.data;n&&n.length>0&&n.forEach(r=>{if(r.contentType==Z.FileMessage&&r.fileElem){let i=r.fileElem;r.fileName=i.name}}),this.newMessageHandler$.next(n)}),this.im.on(B.OnUserStatusChanged,t=>{let n=t.data;n&&(this.inputStatusHandler$.next(n),this.listConversations&&this.listConversations.forEach(r=>{r.conversationID===n.conversationID&&(r.typing=n.platformIDs&&n.platformIDs.length>0,r.typingUserID=r.typing?n.userID:null)}))})}createPushInfo(t,n,r=""){return{ex:r,desc:n,title:t,iOSPushSound:"+1",iOSBadgeCount:!0}}createPicBaseInfo(t,n,r){return ne(this,null,function*(){let i=Ge.createUniqueId(),o=t.size;if(r!=="source"){let s=yield Ge.getImageDimensions(t),a=this.estimateCompressionRatio(t.type,r),c=n.width*n.height/(s.width*s.height);o=Math.round(t.size*c*a)}return{uuid:i,type:t.type,size:o,width:n.width,height:n.height,url:""}})}estimateCompressionRatio(t,n){let r=n==="thumbnail"?.3:.7;switch(t.toLowerCase()){case"image/jpeg":case"image/jpg":return r;case"image/png":return r*1.2;case"image/webp":return r*.8;default:return r}}createImageMessageParams(i){return ne(this,arguments,function*(t,n="",r={}){if(!Ge.isImageFile(t))throw new Error("File is not a valid image");let s=_e(_e({},{quality:.8,maxBigWidth:1920,maxBigHeight:1080,maxThumbnailWidth:200,maxThumbnailHeight:200,maintainAspectRatio:!0}),r);try{let a=yield Ge.getImageDimensions(t),c=yield this.createPicBaseInfo(t,a,"source"),u=this.calculateResizedDimensions(a,s.maxBigWidth,s.maxBigHeight,s.maintainAspectRatio),l=yield this.createPicBaseInfo(t,u,"big"),d=this.calculateResizedDimensions(a,s.maxThumbnailWidth,s.maxThumbnailHeight,s.maintainAspectRatio),p=yield this.createPicBaseInfo(t,d,"thumbnail");return{file:t,sourcePath:n,bigPicture:l,sourcePicture:c,snapshotPicture:p,operationID:Ge.createUniqueId()}}catch(a){throw console.error("Failed to create image message params:",a),new Error(`Image processing failed: ${a instanceof Error?a.message:"Unknown error"}`)}})}calculateResizedDimensions(t,n,r,i=!0){if(!i)return{width:n,height:r};if(t.width<=n&&t.height<=r)return t;let o=t.width/t.height,s=n,a=n/o;return a>r&&(a=r,s=r*o),{width:Math.round(s),height:Math.round(a)}}static \u0275fac=function(n){return new(n||e)(Te(ir))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}});var sr,Qs=L(()=>{"use strict";yn();ze();sr=class e{viewerDataSource=new ht(null);viewerData$=this.viewerDataSource.asObservable();open(t,n=0){if(!t||t.length===0){console.error("Video viewer: No URLs provided.");return}this.viewerDataSource.next({urls:t,currentIndex:n})}close(){this.viewerDataSource.next(null)}next(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex+1)%t.urls.length;this.viewerDataSource.next(Re(_e({},t),{currentIndex:n}))}}previous(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex-1+t.urls.length)%t.urls.length;this.viewerDataSource.next(Re(_e({},t),{currentIndex:n}))}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}});var ar,Ks=L(()=>{"use strict";yn();ze();ar=class e{viewerDataSource=new ht(null);viewerData$=this.viewerDataSource.asObservable();open(t,n=0){if(!t||t.length===0){console.error("Image viewer: No images provided.");return}this.viewerDataSource.next({images:t,currentIndex:n})}close(){this.viewerDataSource.next(null)}next(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex+1)%t.images.length;this.viewerDataSource.next(Re(_e({},t),{currentIndex:n}))}}previous(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex-1+t.images.length)%t.images.length;this.viewerDataSource.next(Re(_e({},t),{currentIndex:n}))}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}});var UD,BD=L(()=>{"use strict";Hs();Po();ig();Qs();Ks();ze();UD={providers:[ng(),ir,Tn,ar,sr,Bp({eventCoalescing:!0})]}});function _2(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function C2(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function b2(e,t){if(!ph){let n=Element.prototype;ph=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE?ph.call(e,t):!1}function I2(e){let t={};return e.forEach(({propName:n,templateName:r,transform:i})=>{t[_2(r)]=[n,i]}),t}function w2(e,t){return t.get(Ii).resolveComponentFactory(e).inputs}function M2(e,t){let n=e.childNodes,r=t.map(()=>[]),i=-1;t.some((o,s)=>o==="*"?(i=s,!0):!1);for(let o=0,s=n.length;o<s;++o){let a=n[o],c=E2(a,t,i);c!==-1&&r[c].push(a)}return r}function E2(e,t,n){let r=n;return C2(e)&&t.some((i,o)=>i!=="*"&&b2(e,i)?(r=o,!0):!1),r}function GD(e,t){let n=w2(e,t.injector),r=t.strategyFactory||new gh(e,t.injector),i=I2(n);class o extends mh{injector;static observedAttributes=Object.keys(i);get ngElementStrategy(){if(!this._ngElementStrategy){let a=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(({propName:c,transform:u})=>{if(!this.hasOwnProperty(c))return;let l=this[c];delete this[c],a.setInputValue(c,l,u)})}return this._ngElementStrategy}_ngElementStrategy;constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,u,l){let[d,p]=i[a];this.ngElementStrategy.setInputValue(d,u,p)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{let c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return n.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}var D2,ph,S2,gh,hh,mh,HD=L(()=>{"use strict";ze();yn();Cs();D2={schedule(e,t){let n=setTimeout(e,t);return()=>clearTimeout(n)}};S2=10,gh=class{componentFactory;inputMap=new Map;constructor(t,n){this.componentFactory=n.get(Ii).resolveComponentFactory(t);for(let r of this.componentFactory.inputs)this.inputMap.set(r.propName,r.templateName)}create(t){return new hh(this.componentFactory,t,this.inputMap)}},hh=class{componentFactory;injector;inputMap;eventEmitters=new Ko(1);events=this.eventEmitters.pipe(ts(t=>gd(...t)));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(t,n,r){this.componentFactory=t,this.injector=n,this.inputMap=r,this.ngZone=this.injector.get(it),this.appRef=this.injector.get(Ti),this.cdScheduler=n.get(Yn),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=D2.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null)},S2))})}getInputValue(t){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,n){if(this.componentRef===null){this.initialInputValues.set(t,n);return}this.runInZone(()=>{this.componentRef.setInput(this.inputMap.get(t)??t,n),Ep(this.componentRef.hostView)&&(Sp(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))})}initializeComponent(t){let n=Zn.create({providers:[],parent:this.injector}),r=M2(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,t),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(let[t,n]of this.initialInputValues)this.setInputValue(t,n);this.initialInputValues.clear()}initializeOutputs(t){let n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>{let o=t.instance[r];return new Je(s=>{let a=o.subscribe(c=>s.next({name:i,value:c}));return()=>a.unsubscribe()})});this.eventEmitters.next(n)}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}},mh=class extends HTMLElement{ngElementEventsSubscription=null}});function Wr(){return qD}function vh(e){qD??=e}var qD,Xs,$D=L(()=>{"use strict";qD=null;Xs=class{}});function QD(e){return tn(e)[ot.LocaleId]}function KD(e,t,n){let r=tn(e),i=[r[ot.DayPeriodsFormat],r[ot.DayPeriodsStandalone]],o=xn(i,t);return xn(o,n)}function XD(e,t,n){let r=tn(e),i=[r[ot.DaysFormat],r[ot.DaysStandalone]],o=xn(i,t);return xn(o,n)}function e_(e,t,n){let r=tn(e),i=[r[ot.MonthsFormat],r[ot.MonthsStandalone]],o=xn(i,t);return xn(o,n)}function t_(e,t){let r=tn(e)[ot.Eras];return xn(r,t)}function ea(e,t){let n=tn(e);return xn(n[ot.DateFormat],t)}function ta(e,t){let n=tn(e);return xn(n[ot.TimeFormat],t)}function na(e,t){let r=tn(e)[ot.DateTimeFormat];return xn(r,t)}function ra(e,t){let n=tn(e),r=n[ot.NumberSymbols][t];if(typeof r>"u"){if(t===Sr.CurrencyDecimal)return n[ot.NumberSymbols][Sr.Decimal];if(t===Sr.CurrencyGroup)return n[ot.NumberSymbols][Sr.Group]}return r}function n_(e){if(!e[ot.ExtraData])throw new de(2303,!1)}function r_(e){let t=tn(e);return n_(t),(t[ot.ExtraData][2]||[]).map(r=>typeof r=="string"?yh(r):[yh(r[0]),yh(r[1])])}function i_(e,t,n){let r=tn(e);n_(r);let i=[r[ot.ExtraData][0],r[ot.ExtraData][1]],o=xn(i,t)||[];return xn(o,n)||[]}function xn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new de(2304,!1)}function yh(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function o_(e,t,n,r){let i=V2(e);t=Er(n,t)||t;let s=[],a;for(;t;)if(a=x2.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=a_(r,c),i=L2(i,r));let u="";return s.forEach(l=>{let d=A2(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function zu(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Er(e,t){let n=QD(e);if(Bu[n]??={},Bu[n][t])return Bu[n][t];let r="";switch(t){case"shortDate":r=ea(e,Jt.Short);break;case"mediumDate":r=ea(e,Jt.Medium);break;case"longDate":r=ea(e,Jt.Long);break;case"fullDate":r=ea(e,Jt.Full);break;case"shortTime":r=ta(e,Jt.Short);break;case"mediumTime":r=ta(e,Jt.Medium);break;case"longTime":r=ta(e,Jt.Long);break;case"fullTime":r=ta(e,Jt.Full);break;case"short":let i=Er(e,"shortTime"),o=Er(e,"shortDate");r=Gu(na(e,Jt.Short),[i,o]);break;case"medium":let s=Er(e,"mediumTime"),a=Er(e,"mediumDate");r=Gu(na(e,Jt.Medium),[s,a]);break;case"long":let c=Er(e,"longTime"),u=Er(e,"longDate");r=Gu(na(e,Jt.Long),[c,u]);break;case"full":let l=Er(e,"fullTime"),d=Er(e,"fullDate");r=Gu(na(e,Jt.Full),[l,d]);break}return r&&(Bu[n][t]=r),r}function Gu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function qn(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function k2(e,t){return qn(e,3).substring(0,t)}function ft(e,t,n=0,r=!1,i=!1){return function(o,s){let a=P2(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return k2(a,t);let c=ra(s,Sr.MinusSign);return qn(a,t,c,r,i)}}function P2(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new de(2301,!1)}}function Xe(e,t,n=Rt.Format,r=!1){return function(i,o){return N2(i,o,e,t,n,r)}}function N2(e,t,n,r,i,o){switch(n){case 2:return e_(t,i,r)[e.getMonth()];case 1:return XD(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let u=r_(t),l=i_(t,i,r),d=u.findIndex(p=>{if(Array.isArray(p)){let[f,g]=p,C=s>=f.hours&&a>=f.minutes,I=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(C&&I)return!0}else if(C||I)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return KD(t,i,r)[s<12?0:1];case 3:return t_(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new de(2302,!1)}}function Hu(e){return function(t,n,r){let i=-1*r,o=ra(n,Sr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+qn(s,2,o)+qn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+qn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);default:throw new de(2302,!1)}}}function R2(e){let t=zu(e,O2,1).getDay();return zu(e,0,1+(t<=$u?$u:$u+7)-t)}function s_(e){let t=e.getDay(),n=t===0?-3:$u-t;return zu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Dh(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=s_(n),s=R2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return qn(i,e,ra(r,Sr.MinusSign))}}function qu(e,t=!1){return function(n,r){let o=s_(n).getFullYear();return qn(o,e,ra(r,Sr.MinusSign),t)}}function A2(e){if(_h[e])return _h[e];let t;switch(e){case"G":case"GG":case"GGG":t=Xe(3,Ze.Abbreviated);break;case"GGGG":t=Xe(3,Ze.Wide);break;case"GGGGG":t=Xe(3,Ze.Narrow);break;case"y":t=ft(0,1,0,!1,!0);break;case"yy":t=ft(0,2,0,!0,!0);break;case"yyy":t=ft(0,3,0,!1,!0);break;case"yyyy":t=ft(0,4,0,!1,!0);break;case"Y":t=qu(1);break;case"YY":t=qu(2,!0);break;case"YYY":t=qu(3);break;case"YYYY":t=qu(4);break;case"M":case"L":t=ft(1,1,1);break;case"MM":case"LL":t=ft(1,2,1);break;case"MMM":t=Xe(2,Ze.Abbreviated);break;case"MMMM":t=Xe(2,Ze.Wide);break;case"MMMMM":t=Xe(2,Ze.Narrow);break;case"LLL":t=Xe(2,Ze.Abbreviated,Rt.Standalone);break;case"LLLL":t=Xe(2,Ze.Wide,Rt.Standalone);break;case"LLLLL":t=Xe(2,Ze.Narrow,Rt.Standalone);break;case"w":t=Dh(1);break;case"ww":t=Dh(2);break;case"W":t=Dh(1,!0);break;case"d":t=ft(2,1);break;case"dd":t=ft(2,2);break;case"c":case"cc":t=ft(7,1);break;case"ccc":t=Xe(1,Ze.Abbreviated,Rt.Standalone);break;case"cccc":t=Xe(1,Ze.Wide,Rt.Standalone);break;case"ccccc":t=Xe(1,Ze.Narrow,Rt.Standalone);break;case"cccccc":t=Xe(1,Ze.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":t=Xe(1,Ze.Abbreviated);break;case"EEEE":t=Xe(1,Ze.Wide);break;case"EEEEE":t=Xe(1,Ze.Narrow);break;case"EEEEEE":t=Xe(1,Ze.Short);break;case"a":case"aa":case"aaa":t=Xe(0,Ze.Abbreviated);break;case"aaaa":t=Xe(0,Ze.Wide);break;case"aaaaa":t=Xe(0,Ze.Narrow);break;case"b":case"bb":case"bbb":t=Xe(0,Ze.Abbreviated,Rt.Standalone,!0);break;case"bbbb":t=Xe(0,Ze.Wide,Rt.Standalone,!0);break;case"bbbbb":t=Xe(0,Ze.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Xe(0,Ze.Abbreviated,Rt.Format,!0);break;case"BBBB":t=Xe(0,Ze.Wide,Rt.Format,!0);break;case"BBBBB":t=Xe(0,Ze.Narrow,Rt.Format,!0);break;case"h":t=ft(3,1,-12);break;case"hh":t=ft(3,2,-12);break;case"H":t=ft(3,1);break;case"HH":t=ft(3,2);break;case"m":t=ft(4,1);break;case"mm":t=ft(4,2);break;case"s":t=ft(5,1);break;case"ss":t=ft(5,2);break;case"S":t=ft(6,1);break;case"SS":t=ft(6,2);break;case"SSS":t=ft(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Hu(0);break;case"ZZZZZ":t=Hu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Hu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Hu(2);break;default:return null}return _h[e]=t,t}function a_(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function F2(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function L2(e,t,n){let i=e.getTimezoneOffset(),o=a_(t,i);return F2(e,-1*(o-i))}function V2(e){if(zD(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return zu(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(T2))return j2(r)}let t=new Date(e);if(!zD(t))throw new de(2302,!1);return t}function j2(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,c,u),t}function zD(e){return e instanceof Date&&!isNaN(e.valueOf())}function ZD(e,t){e.context.$implicit=t.item}function JD(e,t){if(e&&!e.createEmbeddedView)throw new de(2020,!1)}function Mh(e,t){return new de(2100,!1)}function H2(e,t){return{key:e,value:t}}function YD(e,t){let n=e.key,r=t.key;if(n===r)return 0;if(n==null)return 1;if(r==null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var Rt,Ze,Jt,Sr,T2,Bu,x2,O2,$u,_h,Ch,WD,ia,Wu,Zr,$t,Zu,wh,bh,Ih,U2,B2,dn,Vi,G2,c_,u_,oa,Eh,At,l_=L(()=>{"use strict";ze();ze();Rt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Rt||{}),Ze=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ze||{}),Jt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Jt||{}),Sr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};T2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bu={},x2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;O2=0,$u=4;_h={};Ch=/\s+/,WD=[],ia=(()=>{class e{_ngEl;_renderer;initialClasses=WD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Ch):WD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ch):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ch).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(ge(Un),ge(wi))};static \u0275dir=wn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})(),Wu=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Zr=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ZD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ZD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ge(Mi),ge(Br),ge(Kp))};static \u0275dir=wn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();$t=(()=>{class e{_viewContainer;_context=new Zu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){JD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){JD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ge(Mi),ge(Br))};static \u0275dir=wn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Zu=class{$implicit=null;ngIf=null};wh=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:jn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(ge(Un),ge(_u),ge(wi))};static \u0275dir=wn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();bh=class{createSubscription(t,n,r){return Bn(()=>t.subscribe({next:n,error:r}))}dispose(t){Bn(()=>t.unsubscribe())}},Ih=class{createSubscription(t,n,r){return t.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},U2=new Ih,B2=new bh,dn=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=Ce(Ln);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Si(n))return U2;if(mu(n))return B2;throw Mh(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(ge(Du,16))};static \u0275pipe=Zt({name:"async",type:e,pure:!1})}return e})(),Vi=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw Mh(e,n);return n.toUpperCase()}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Zt({name:"uppercase",type:e,pure:!0})}return e})(),G2="mediumDate",c_=new De(""),u_=new De(""),oa=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??G2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return o_(n,s,o||this.locale,a)}catch(s){throw Mh(e,s.message)}}static \u0275fac=function(r){return new(r||e)(ge(As,16),ge(c_,24),ge(u_,24))};static \u0275pipe=Zt({name:"date",type:e,pure:!0})}return e})();Eh=(()=>{class e{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=YD;transform(n,r=YD){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(H2(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||e)(ge(_u,16))};static \u0275pipe=Zt({name:"keyvalue",type:e,pure:!1})}return e})();At=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gr({type:e});static \u0275inj=vr({})}return e})()});function f_(e){return e===q2}var d_,q2,bt=L(()=>{"use strict";l_();ze();Xp();$D();d_="browser",q2="server"});function p_(e){for(let t of e)t.remove()}function g_(e,t){let n=t.createElement("style");return n.textContent=e,n}function $2(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ju}="${t}"],link[${Ju}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ju),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Th(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}function Y2(e){return W2.replace(Nh,e)}function Q2(e){return z2.replace(Nh,e)}function v_(e,t){return t.map(n=>n.replace(Nh,e))}function h_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Qu,kh,sa,Ju,Ph,Sh,Nh,m_,z2,W2,Z2,J2,Oh,aa,xh,ca,Yu,y_=L(()=>{"use strict";bt();ze();ze();Qu=new De(""),kh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new de(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(Te(Qu),Te(it))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),sa=class{_doc;constructor(t){this._doc=t}manager},Ju="ng-app-id";Ph=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=f_(o),$2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,g_);r?.forEach(i=>this.addUsage(i,this.external,Th))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(p_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])p_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,g_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Th(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ju,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(Te(Xt),Te(su),Te(cu,8),Te(mo))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),Sh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Nh=/%COMP%/g,m_="%COMP%",z2=`_nghost-${m_}`,W2=`_ngcontent-${m_}`,Z2=!0,J2=new De("",{providedIn:"root",factory:()=>Z2});Oh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new aa(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Yu?i.applyToHost(n):i instanceof ca&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case yr.Emulated:o=new Yu(c,u,r,this.appId,l,s,a,d,p);break;case yr.ShadowDom:return new xh(c,u,n,r,s,a,this.nonce,d,p);default:o=new ca(c,u,r,l,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(Te(kh),Te(Ph),Te(su),Te(J2),Te(Xt),Te(mo),Te(it),Te(cu),Te(Ns,8))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),aa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Sh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(h_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(h_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new de(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Sh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Sh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(jn.DashCase|jn.Important)?t.style.setProperty(n,r,i&jn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&jn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Wr().getGlobalEventTarget(this.doc,t),!t))throw new de(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};xh=class extends aa{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,u){super(t,o,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=v_(i.id,l);for(let p of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Th(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ca=class extends aa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,u){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?v_(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yu=class extends ca{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,u){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,u,l),this.contentAttr=Y2(l),this.hostAttr=Q2(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}});function K2(){return ua=ua||document.head.querySelector("base"),ua?ua.getAttribute("href"):null}function X2(e){return new URL(e,document.baseURI).pathname}function Rh(e){return x1(rT(e))}function rT(e){return{appProviders:[...cT,...e?.providers??[]],platformProviders:aT}}function iT(){Ku.makeCurrent()}function oT(){return new Jn}function sT(){return cp(document),document}var Ku,ua,eT,__,D_,tT,nT,C_,aT,cT,b_=L(()=>{"use strict";bt();ze();ze();y_();Ku=class e extends Xs{supportsDOMEvents=!0;static makeCurrent(){vh(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=K2();return n==null?null:X2(n)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Vs(document.cookie,t)}},ua=null;eT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),__=(()=>{class e extends sa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(Te(Xt))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),D_=["alt","control","meta","shift"],tT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},C_=(()=>{class e extends sa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),D_.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=tT[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),D_.forEach(s=>{if(s!==i){let a=nT[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(Te(Xt))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})();aT=[{provide:mo,useValue:d_},{provide:au,useValue:iT,multi:!0},{provide:Xt,useFactory:sT}],cT=[{provide:as,useValue:"root"},{provide:Jn,useFactory:oT},{provide:Qu,useClass:__,multi:!0,deps:[Xt]},{provide:Qu,useClass:C_,multi:!0,deps:[Xt]},Oh,Ph,kh,{provide:Ci,useExisting:Oh},{provide:Ri,useClass:eT},[]]});var I_=L(()=>{"use strict";b_();});function dT(){let e=Wr()?Wr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}function O_(e){return e!=null}function R_(e){return Si(e)?ei(e):e}function A_(e){let t={};return e.forEach(n=>{t=n!=null?_e(_e({},t),n):t}),Object.keys(t).length===0?null:t}function F_(e,t){return t.map(n=>n(e))}function hT(e){return!e.validate}function L_(e){return e.map(t=>hT(t)?t:n=>t.validate(n))}function mT(e){if(!e)return null;let t=e.filter(O_);return t.length==0?null:function(n){return A_(F_(n,t))}}function V_(e){return e!=null?mT(L_(e)):null}function vT(e){if(!e)return null;let t=e.filter(O_);return t.length==0?null:function(n){let r=F_(n,t).map(R_);return pd(r).pipe(mt(A_))}}function j_(e){return e!=null?vT(L_(e)):null}function w_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function yT(e){return e._rawValidators}function DT(e){return e._rawAsyncValidators}function Ah(e){return e?Array.isArray(e)?e:[e]:[]}function el(e,t){return Array.isArray(e)?e.includes(t):e===t}function M_(e,t){let n=Ah(t);return Ah(e).forEach(i=>{el(n,i)||n.push(i)}),n}function E_(e,t){return Ah(t).filter(n=>!el(e,n))}function CT(e){return(il(e)?e.validators:e)||null}function bT(e){return Array.isArray(e)?V_(e):e||null}function IT(e,t){return(il(t)?t.asyncValidators:e)||null}function wT(e){return Array.isArray(e)?j_(e):e||null}function il(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function MT(e,t){return[...t.path,e]}function ET(e,t,n=jh){TT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),xT(e,t),PT(e,t),kT(e,t),ST(e,t)}function S_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function ST(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function TT(e,t){let n=yT(e);t.validator!==null?e.setValidators(w_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=DT(e);t.asyncValidator!==null?e.setAsyncValidators(w_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();S_(t._rawValidators,i),S_(t._rawAsyncValidators,i)}function xT(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&B_(e,t)})}function kT(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&B_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function B_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function PT(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function NT(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function OT(e){return Object.getPrototypeOf(e.constructor)===uT}function RT(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Ao?n=o:OT(o)?r=o:i=o}),i||r||n||null}function T_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function x_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var P_,uT,N_,lT,fT,Ao,pT,gT,tl,Fh,ga,Lh,_T,zU,rl,la,Xu,No,da,Ro,nl,fa,pa,Oo,Vh,U_,jh,AT,FT,k_,ha,LT,Fo,Lo=L(()=>{"use strict";ze();ze();bt();yn();Cs();P_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(ge(wi),ge(Un))};static \u0275dir=wn({type:e})}return e})(),uT=(()=>{class e extends P_{static \u0275fac=(()=>{let n;return function(i){return(n||(n=sp(e)))(i||e)}})();static \u0275dir=wn({type:e,features:[Ei]})}return e})(),N_=new De(""),lT={provide:N_,useExisting:si(()=>Ao),multi:!0};fT=new De(""),Ao=(()=>{class e extends P_{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!dT())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(ge(wi),ge(Un),ge(fT,8))};static \u0275dir=wn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[bo([lT]),Ei]})}return e})(),pT=new De(""),gT=new De("");tl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=V_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=j_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Fh=class extends tl{name;get formDirective(){return null}get path(){return null}},ga=class extends tl{_parent=null;name=null;valueAccessor=null},Lh=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_T={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zU=Re(_e({},_T),{"[class.ng-submitted]":"isSubmitted"}),rl=(()=>{class e extends Lh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ge(ga,2))};static \u0275dir=wn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ei]})}return e})(),la="VALID",Xu="INVALID",No="PENDING",da="DISABLED",Ro=class{},nl=class extends Ro{value;source;constructor(t,n){super(),this.value=t,this.source=n}},fa=class extends Ro{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},pa=class extends Ro{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Oo=class extends Ro{status;source;constructor(t,n){super(),this.status=t,this.source=n}};Vh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Bn(this.statusReactive)}set status(t){Bn(()=>this.statusReactive.set(t))}_status=Fs(()=>this.statusReactive());statusReactive=ao(void 0);get valid(){return this.status===la}get invalid(){return this.status===Xu}get pending(){return this.status==No}get disabled(){return this.status===da}get enabled(){return this.status!==da}errors;get pristine(){return Bn(this.pristineReactive)}set pristine(t){Bn(()=>this.pristineReactive.set(t))}_pristine=Fs(()=>this.pristineReactive());pristineReactive=ao(!0);get dirty(){return!this.pristine}get touched(){return Bn(this.touchedReactive)}set touched(t){Bn(()=>this.touchedReactive.set(t))}_touched=Fs(()=>this.touchedReactive());touchedReactive=ao(!1);get untouched(){return!this.touched}_events=new mn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(M_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(M_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(E_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(E_(t,this._rawAsyncValidators))}hasValidator(t){return el(this._rawValidators,t)}hasAsyncValidator(t){return el(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Re(_e({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new pa(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new pa(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Re(_e({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new fa(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new fa(!0,r))}markAsPending(t={}){this.status=No;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Oo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Re(_e({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=da,this.errors=null,this._forEachChild(i=>{i.disable(Re(_e({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new nl(this.value,r)),this._events.next(new Oo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Re(_e({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=la,this._forEachChild(r=>{r.enable(Re(_e({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Re(_e({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===No)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new nl(this.value,n)),this._events.next(new Oo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Re(_e({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=R_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Oo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new en,this.statusChanges=new en}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Xu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Xu)?Xu:la}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new fa(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new pa(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){il(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=bT(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=wT(this._rawAsyncValidators)}},U_=new De("",{providedIn:"root",factory:()=>jh}),jh="always";AT=class extends Vh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(CT(n),IT(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),il(n)&&(n.nonNullable||n.initialValueIsDefault)&&(x_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){T_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){T_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){x_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},FT={provide:ga,useExisting:si(()=>ha)},k_=Promise.resolve(),ha=(()=>{class e extends ga{_changeDetectorRef;callSetDisabledState;control=new AT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new en;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RT(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),NT(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ET(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){k_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&k1(r);k_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?MT(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(ge(Fh,9),ge(pT,10),ge(gT,10),ge(N_,10),ge(Du,8),ge(U_,8))};static \u0275dir=wn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[bo([FT]),Ei,ou]})}return e})(),LT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gr({type:e});static \u0275inj=vr({})}return e})(),Fo=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:U_,useValue:n.callSetDisabledState??jh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gr({type:e});static \u0275inj=vr({imports:[LT]})}return e})()});var ol,H_=L(()=>{"use strict";ze();ol=class e{transform(t){if(!t)return"";let n=new Date(t),r=new Date,i=new Date;if(i.setHours(0,0,0,0),n.getTime()>=i.getTime()){let a=n.getHours().toString().padStart(2,"0"),c=n.getMinutes().toString().padStart(2,"0");return`${a}:${c}`}let o=Math.floor((i.getTime()-new Date(n).setHours(0,0,0,0))/(1e3*60*60*24));return o<7?`${o} day`:`${Math.floor(o/7)} week`}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Zt({name:"relativeTime",type:e,pure:!0})}});function VT(e,t){e&1&&(b(0,"div",11),V(1),w()),e&2&&(M(),be("Typing..."))}function jT(e,t){if(e&1&&(b(0,"div",11),V(1),w()),e&2){let n=R(2);M(),be(n.room.lastMessage.textElem==null?null:n.room.lastMessage.textElem.content)}}function UT(e,t){if(e&1&&(b(0,"div",12),V(1),w()),e&2){let n=R(2);M(),be(n.room.conversation&&n.room.conversation.unreadCount)}}function BT(e,t){if(e&1&&(b(0,"div",1)(1,"div",2),V(2),oe(3,"uppercase"),w(),b(4,"div",3)(5,"div",4),V(6),w(),b(7,"div",5),V(8),w(),J(9,VT,2,1,"div",6)(10,jT,2,1,"div",6),w(),b(11,"div",7)(12,"div",8),V(13),oe(14,"relativeTime"),w(),b(15,"div",9),V(16),w(),J(17,UT,2,1,"div",10),w()()),e&2){let n=R();M(),rr("background-color",n.room.bgColor),M(),et(" ",se(3,11,n.room.symbol)," "),M(4),be(n.room.groupName),M(2),be(n.room.emails),M(),N("ngIf",n.room.typing),M(),N("ngIf",!n.room.typing&&n.room.lastMessage&&n.room.lastMessage.textElem),M(3),be(se(14,13,n.room.createTime)),M(2),N("ngClass",n.room.introduction=="open"?"open":"closed"),M(),be(n.room.introduction),M(),N("ngIf",n.room.conversation&&n.room.conversation.unreadCount)}}var sl,q_=L(()=>{"use strict";bt();H_();ze();bt();sl=class e{room;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Bt({type:e,selectors:[["app-room-item"]],inputs:{room:"room"},decls:1,vars:1,consts:[["class","room-item",4,"ngIf"],[1,"room-item"],[1,"room-avatar"],[1,"room-info"],[1,"room-name"],[1,"room-email"],["class","room-preview",4,"ngIf"],[1,"room-meta"],[1,"room-time"],[1,"room-status",3,"ngClass"],["class","room-badge",4,"ngIf"],[1,"room-preview"],[1,"room-badge"]],template:function(n,r){n&1&&J(0,BT,18,15,"div",0),n&2&&N("ngIf",r.room)},dependencies:[At,ia,$t,Vi,ol],styles:['@charset "UTF-8";.room-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;flex-shrink:0;aspect-ratio:1/1}.room-info[_ngcontent-%COMP%]{gap:2px;flex-grow:1;width:230px;display:flex;overflow:hidden;flex-direction:column}.room-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#000}.room-email[_ngcontent-%COMP%], .room-preview[_ngcontent-%COMP%]{font-size:14px;color:#8e8e93;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.room-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:6px;font-size:14px;color:#8e8e93;text-align:right;flex-shrink:0;min-width:55px}.room-status[_ngcontent-%COMP%]{color:#fff;border-radius:4px;padding:0 10px 3px}.room-status.open[_ngcontent-%COMP%]{background:#2c71f6}.room-status.closed[_ngcontent-%COMP%]{background:#17b530}.room-badge[_ngcontent-%COMP%]{background-color:#d0021b;color:#fff;min-width:22px;height:22px;padding:0 4px;border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700}.room-item[_ngcontent-%COMP%]{padding:12px 16px;display:flex;align-items:flex-start;gap:12px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s ease}.room-item.active[_ngcontent-%COMP%]{background:#ffeff2}.room-item[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}']})}});function GT(e,t){e&1&&(b(0,"div",14)(1,"h2"),V(2,"Notifications"),w()())}function HT(e,t){e&1&&(b(0,"div",14)(1,"h2"),V(2,"Chats"),w(),b(3,"button",15),V(4,"+"),w()())}function qT(e,t){if(e&1){let n=ve();b(0,"li",18),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.setSort(i.key))}),V(1),w()}if(e&2){let n=t.$implicit;M(),et(" ",n.value.label," ")}}function $T(e,t){if(e&1&&(b(0,"ul",16),J(1,qT,2,1,"li",17),oe(2,"keyvalue"),w()),e&2){let n=R();M(),N("ngForOf",se(2,1,n.sortOptions))}}function zT(e,t){if(e&1){let n=ve();b(0,"div",24),oe(1,"async"),G("click",function(){let i=z(n).$implicit,o=R(3);return W(o.selectRoomTop(i))}),Y(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(3);$e("active",((n=se(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),M(2),N("room",r)}}function WT(e,t){if(e&1&&(b(0,"div",22),J(1,zT,3,5,"div",23),oe(2,"async"),w()),e&2){let n=R(2);M(),N("ngForOf",se(2,1,n.displayRooms$))}}function ZT(e,t){if(e&1){let n=ve();b(0,"div",24),oe(1,"async"),G("click",function(){let i=z(n).$implicit,o=R(3);return W(o.selectRoomTop(i))}),Y(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(3);$e("active",((n=se(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),M(2),N("room",r)}}function JT(e,t){if(e&1&&(b(0,"div",22),J(1,ZT,3,5,"div",23),oe(2,"async"),w()),e&2){let n=R(2);M(),N("ngForOf",se(2,1,n.openRooms$))}}function YT(e,t){if(e&1){let n=ve();b(0,"div",24),oe(1,"async"),G("click",function(){let i=z(n).$implicit,o=R(3);return W(o.selectRoomTop(i))}),Y(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(3);$e("active",((n=se(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),M(2),N("room",r)}}function QT(e,t){if(e&1&&(b(0,"div",22),J(1,YT,3,5,"div",23),oe(2,"async"),w()),e&2){let n=R(2);M(),N("ngForOf",se(2,1,n.closedRooms$))}}function KT(e,t){if(e&1){let n=ve();yo(0),b(1,"div",19)(2,"button",20),G("click",function(){z(n);let i=R();return W(i.setCategory("all"))}),V(3,"All"),w(),b(4,"button",20),G("click",function(){z(n);let i=R();return W(i.setCategory("open"))}),V(5,"Open"),w(),b(6,"button",20),G("click",function(){z(n);let i=R();return W(i.setCategory("close"))}),V(7,"Closed"),w()(),J(8,WT,3,3,"div",21)(9,JT,3,3,"div",21)(10,QT,3,3,"div",21),Do()}if(e&2){let n=R();M(2),$e("active",n.currentCategory==="all"),M(2),$e("active",n.currentCategory==="open"),M(2),$e("active",n.currentCategory==="close"),M(2),N("ngIf",n.currentCategory==="all"),M(),N("ngIf",n.currentCategory==="open"),M(),N("ngIf",n.currentCategory==="close")}}function XT(e,t){if(e&1){let n=ve();b(0,"div",24),oe(1,"async"),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.selectRoom(i))}),Y(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(2);$e("active",((n=se(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),M(2),N("room",r)}}function ex(e,t){if(e&1){let n=ve();b(0,"div",24),oe(1,"async"),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.selectRoom(i))}),Y(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(2);$e("active",((n=se(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),M(2),N("room",r)}}function tx(e,t){if(e&1){let n=ve();yo(0),b(1,"div",26)(2,"div",27),G("click",function(){z(n);let i=R();return W(i.toggleOpenedSection())}),b(3,"span",28),V(4,"\u2665"),w(),b(5,"span",29),V(6,"Opened"),w(),b(7,"button",30),V(8,"+"),w()(),b(9,"div",31),J(10,XT,3,5,"div",23),oe(11,"async"),w()(),b(12,"div",26)(13,"div",27),G("click",function(){z(n);let i=R();return W(i.toggleClosedSection())}),b(14,"span",28),V(15,"\u2665"),w(),b(16,"span",29),V(17,"Closed"),w(),b(18,"button",30),V(19,"+"),w()(),b(20,"div",31),J(21,ex,3,5,"div",23),oe(22,"async"),w()(),Do()}if(e&2){let n=R();M(9),$e("collapsed",!n.openedExpanded),M(),N("ngForOf",se(11,6,n.openRooms$)),M(10),$e("collapsed",!n.closedExpanded),M(),N("ngForOf",se(22,8,n.closedRooms$))}}var al,$_=L(()=>{"use strict";Lo();bt();yn();ba();xr();$o();q_();ze();Hs();Po();bt();Lo();al=class e{constructor(t,n){this.service=t;this.chatService=n;this.rooms$=this.chatService.rooms$,this.selectedRoom$=this.chatService.selectedRoom$}searchTerm="";sortBy="newest";openedExpanded=!0;closedExpanded=!0;PositionState=Hi;rooms$;currentCategory="all";selectedRoom$;groupSubscription;typingSubscription;inputStatusSubscription;isSortDropdownOpen=!1;currentSort="newest";sortOptions={newest:{label:"Newest"},alphaAZ:{label:"Alphabet A-Z"},alphaZA:{label:"Alphabet Z-A"}};onDocumentClick(t){t.target.closest(".sort-dropdown")||(this.isSortDropdownOpen=!1)}ngOnInit(){this.groupSubscription=this.chatService.newGroupHandler$.subscribe(t=>{setTimeout(()=>ne(this,null,function*(){if(t){if(this.chatService.listConversations=yield this.chatService.conversations(),t.symbol=t.ex?JSON.parse(t.ex).symbol:t.groupName.substring(0,2),t.bgColor=t.ex?JSON.parse(t.ex).bgColor:Ge.getRandomDarkColor(),this.chatService.listConversations&&this.chatService.listConversations.length>0){let n=this.chatService.listConversations.find(i=>i.groupID==t.groupID);n&&(t.conversation=n,t.conversationID=n.conversationID,t.lastMessage=n.latestMsg?JSON.parse(n.latestMsg):null);let r=yield this.chatService.getGroupMembers(t.groupID);if(r&&r.length>0){let i=r.map(s=>s.userID),o=yield this.service.getUserInfos(i);t.members=r,r.forEach(s=>{let a=o.find(c=>c.userID==s.userID);a&&(s.email=a.email,s.phone=a.phone,s.type=a.type||"customer")}),t.emails=r.map(s=>s.email).join(", ")}}this.chatService.addRoom(t)}}),1e3)}),this.typingSubscription=this.chatService.typingHandler$.subscribe(t=>{this.chatService.setRoomTypingStatus(t)}),this.inputStatusSubscription=this.chatService.inputStatusHandler$.subscribe(t=>{t&&this.chatService.updateRoomTypingStatus(t.conversationID,t.platformIDs&&t.platformIDs.length>0)})}ngOnDestroy(){this.groupSubscription&&(this.groupSubscription.unsubscribe(),this.groupSubscription=null),this.typingSubscription&&(this.typingSubscription.unsubscribe(),this.typingSubscription=null),this.inputStatusSubscription&&(this.inputStatusSubscription.unsubscribe(),this.inputStatusSubscription=null)}get openRooms$(){return this.rooms$.pipe(mt(t=>this.filterAndSort(t,"open")))}get closedRooms$(){return this.rooms$.pipe(mt(t=>this.filterAndSort(t,"close")))}get displayRooms$(){return this.rooms$.pipe(mt(t=>this.filterAndSort(t,"all")))}parseTime(t){if(t.includes(":")){let[n,r]=t.split(":").map(Number);return n*60+r}else{if(t.includes("d"))return parseInt(t)*24*60;if(t.includes("w"))return parseInt(t)*7*24*60}return 0}toggleOpenedSection(){this.openedExpanded=!this.openedExpanded}toggleClosedSection(){this.closedExpanded=!this.closedExpanded}selectRoom(t){return ne(this,null,function*(){if(this.chatService.setSelectedRoom(t),t.conversation&&t.conversation.unreadCount>0){yield this.chatService.markConversationMessageAsRead(t.conversationID);let n=Re(_e({},t.conversation),{unreadCount:0});this.chatService.updateRoomById(t.groupID,{conversation:n})}})}selectRoomTop(t){return ne(this,null,function*(){this.selectRoom(t),this.chatService.layoutState$.next(3)})}sortRooms(t){let n=[...t];switch(this.currentSort){case"newest":n.sort((r,i)=>i.createTime-r.createTime);break;case"alphaAZ":n.sort((r,i)=>r.groupName.localeCompare(i.groupName));break;case"alphaZA":n.sort((r,i)=>i.groupName.localeCompare(r.groupName));break}return n}toggleSortDropdown(){this.isSortDropdownOpen=!this.isSortDropdownOpen}setSort(t){this.currentSort=t,this.isSortDropdownOpen=!1}setCategory(t){this.currentCategory=t}filterAndSort(t,n){if(n=="open"||n=="close"){let r=n==="open"?t.filter(o=>o.introduction==="open"):t.filter(o=>o.introduction==="close"),i=r;return this.searchTerm&&(i=r.filter(o=>o.groupName.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.sortRooms(i)}else{let r=t,i=r;return this.searchTerm&&(i=r.filter(o=>o.groupName.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.sortRooms(i)}}static \u0275fac=function(n){return new(n||e)(ge(ir),ge(Tn))};static \u0275cmp=Bt({type:e,selectors:[["app-left-panel"]],hostBindings:function(n,r){n&1&&G("click",function(o){return r.onDocumentClick(o)},Ps)},decls:26,vars:15,consts:[[1,"left-panel"],["class","header",4,"ngIf"],[1,"search-box"],[1,"search-icon"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.58366 17.5C13.9559 17.5 17.5003 13.9556 17.5003 9.58332C17.5003 5.21107 13.9559 1.66666 9.58366 1.66666C5.2114 1.66666 1.66699 5.21107 1.66699 9.58332C1.66699 13.9556 5.2114 17.5 9.58366 17.5Z","stroke","#89898A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18.3337 18.3333L16.667 16.6667","stroke","#89898A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["type","text","placeholder","Search products...",3,"ngModelChange","ngModel"],[1,"sort-section"],[1,"sort-dropdown"],[1,"sort-toggle",3,"click"],["d","M16.5999 7.45834L11.1666 12.8917C10.5249 13.5333 9.4749 13.5333 8.83324 12.8917L3.3999 7.45834","stroke","#89898A","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["class","sort-options",4,"ngIf"],[4,"ngIf"],[1,"header"],[1,"add-btn"],[1,"sort-options"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"room-tabs"],[1,"tab-btn",3,"click"],["class","rooms-list top-view",4,"ngIf"],[1,"rooms-list","top-view"],["class","room-item",3,"active","click",4,"ngFor","ngForOf"],[1,"room-item",3,"click"],[3,"room"],[1,"rooms-section"],[1,"section-header",3,"click"],[1,"section-icon"],[1,"section-title"],[1,"add-section-btn"],[1,"rooms-list"]],template:function(n,r){n&1&&(b(0,"div",0),J(1,GT,3,0,"div",1),oe(2,"async"),J(3,HT,5,0,"div",1),oe(4,"async"),b(5,"div",2)(6,"span",3),me(),b(7,"svg",4),Y(8,"path",5)(9,"path",6),w()(),Ae(),b(10,"input",7),Co("ngModelChange",function(o){return Rs(r.searchTerm,o)||(r.searchTerm=o),o}),w()(),b(11,"div",8)(12,"span"),V(13,"Sort by"),w(),b(14,"div",9)(15,"button",10),G("click",function(){return r.toggleSortDropdown()}),b(16,"span"),V(17),w(),me(),b(18,"svg",4),Y(19,"path",11),w()(),J(20,$T,3,3,"ul",12),w()(),Ae(),yo(21),J(22,KT,11,9,"ng-container",13),oe(23,"async"),J(24,tx,23,10,"ng-container",13),oe(25,"async"),Do(),w()),n&2&&(M(),N("ngIf",se(2,7,r.chatService.positionState$)==r.PositionState.Top),M(2),N("ngIf",se(4,9,r.chatService.positionState$)==r.PositionState.Widget),M(7),_o("ngModel",r.searchTerm),M(7),be(r.sortOptions[r.currentSort].label),M(3),N("ngIf",r.isSortDropdownOpen),M(2),N("ngIf",se(23,11,r.chatService.positionState$)==r.PositionState.Top),M(2),N("ngIf",se(25,13,r.chatService.positionState$)==r.PositionState.Widget))},dependencies:[At,Zr,$t,dn,Eh,Fo,Ao,rl,ha,sl],styles:['@charset "UTF-8";.left-panel[_ngcontent-%COMP%]{margin:0 auto;padding:16px 0;max-width:450px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:0 16px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0}.add-btn[_ngcontent-%COMP%]{font-size:30px;font-weight:200;color:#007aff;background:none;border:none;cursor:pointer}.search-box[_ngcontent-%COMP%]{padding:0;margin:0 16px 20px;position:relative;border-radius:10px;border:1px solid #D8D8DA}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{top:50%;left:12px;color:#8e8e93;position:absolute;transform:translateY(-50%)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 40px;border:none;background-color:#f0f0f0;border-radius:10px;font-size:16px;box-sizing:border-box;outline:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#8e8e93}.sort-section[_ngcontent-%COMP%]{padding:0 16px;display:flex;justify-content:flex-end;align-items:center;gap:8px;margin-bottom:16px;font-size:14px;color:#8e8e93}.sort-section[_ngcontent-%COMP%]   .sort-dropdown[_ngcontent-%COMP%]{padding-top:4px}.sort-select[_ngcontent-%COMP%]{color:#000;font-weight:500;display:flex;align-items:center;gap:4px;cursor:pointer}.arrow-down[_ngcontent-%COMP%]{border:solid black;border-width:0 2px 2px 0;display:inline-block;padding:2.5px;transform:rotate(45deg)}.rooms-section[_ngcontent-%COMP%]{margin-bottom:10px}.section-header[_ngcontent-%COMP%]{padding:0 16px;display:flex;align-items:center;gap:8px;margin-bottom:8px;cursor:pointer}.section-icon[_ngcontent-%COMP%]{color:#8e8e93;font-size:12px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0;flex-grow:1}.add-section-btn[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:#8e8e93;background:none;border:none;cursor:pointer}.room-item[_ngcontent-%COMP%]{transition:background-color .2s ease}.room-item.active[_ngcontent-%COMP%]{background:#ffeff2}.rooms-list.collapsed[_ngcontent-%COMP%]{display:none}.sort-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:8px;margin-bottom:16px;font-size:14px;color:#8e8e93}.sort-dropdown[_ngcontent-%COMP%]{position:relative}.sort-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:none;border:none;cursor:pointer;font-size:14px;font-weight:500;color:#000}.arrow-down[_ngcontent-%COMP%]{border:solid black;border-width:0 2px 2px 0;display:inline-block;padding:2.5px;transform:rotate(45deg);transition:transform .2s ease}.sort-toggle.open[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{transform:rotate(-135deg)}.sort-options[_ngcontent-%COMP%]{position:absolute;top:120%;right:0;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;list-style:none;padding:8px;margin:0;width:200px;z-index:100;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sort-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 12px;border-radius:6px;cursor:pointer}.sort-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}.room-tabs[_ngcontent-%COMP%]{gap:16px;display:flex;margin:0 20px 16px;border-bottom:none}.tab-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px 4px;font-size:15px;cursor:pointer;color:#89898a;font-weight:600;position:relative;border-bottom:2px solid transparent}.tab-btn.active[_ngcontent-%COMP%]{color:#ef4123;font-weight:600;border-bottom-color:#ef4123}.rooms-list.top-view[_ngcontent-%COMP%]{padding-top:8px;min-width:400px;max-width:406px;max-height:300px;overflow-y:scroll}']})}});var Vo,Uh=L(()=>{"use strict";xr();ze();Vo=class e{transform(t){return t?Ge.formatFileSize(t):""}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Zt({name:"fileSize",type:e,pure:!0})}});var jo,Bh=L(()=>{"use strict";ze();bt();jo=class e{constructor(t){this.datePipe=t}transform(t,n="dd/MM/yyyy HH:mm:ss"){if(!t)return"";let r=t.toString().length===10?t*1e3:t;return this.datePipe.transform(r,n)}static \u0275fac=function(n){return new(n||e)(ge(oa,16))};static \u0275pipe=Zt({name:"timestamp",type:e,pure:!0})}});function nx(e,t){if(e&1){let n=ve();b(0,"div",37),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewUser(i))}),b(1,"div",38),Y(2,"img",39),w(),b(3,"div",40)(4,"div",41),V(5),w(),b(6,"div",42),V(7),w()(),b(8,"button",43),V(9,"\u22EF"),w()()}if(e&2){let n=t.$implicit,r=R(2);M(2),N("src",n.faceURL||r.avatarDefault,yt)("alt",n.nickname),M(3),be(n.nickname),M(2),be(n.email)}}function rx(e,t){if(e&1&&(b(0,"div",35),J(1,nx,10,4,"div",36),oe(2,"async"),w()),e&2){let n,r=R();M(),N("ngForOf",(n=se(2,1,r.selectedRoom$))==null?null:n.members)}}function ix(e,t){if(e&1){let n=ve();b(0,"li",44),G("click",function(){z(n);let i=R();return W(i.changeStatus("open"))}),me(),b(1,"svg",45),Y(2,"path",46)(3,"path",47)(4,"path",48),w(),Ae(),b(5,"span"),V(6,"Open"),w()()}}function ox(e,t){if(e&1){let n=ve();b(0,"li",49),G("click",function(){z(n);let i=R();return W(i.changeStatus("close"))}),me(),b(1,"svg",45),Y(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),w(),Ae(),b(6,"span"),V(7,"Solved and Close"),w()()}}function sx(e,t){if(e&1&&Y(0,"img",39),e&2){let n=R().$implicit;N("src",n.videoElem.snapshotUrl,yt)("alt",n.fileName)}}function ax(e,t){e&1&&(b(0,"div",65),me(),b(1,"svg",66),Y(2,"polygon",67),w()())}function cx(e,t){if(e&1){let n=ve();b(0,"div",58),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewMedia(i))}),b(1,"div",59),J(2,sx,1,2,"img",60)(3,ax,3,0,"div",61),w(),b(4,"div",62)(5,"div",63),V(6),w(),b(7,"div",64),V(8),oe(9,"fileSize"),w()()()}if(e&2){let n=t.$implicit,r=R(2);M(2),N("ngIf",n.contentType===r.MessageType.VideoMessage),M(),N("ngIf",n.contentType===r.MessageType.VideoMessage),M(3),be(n.fileName),M(2),be(se(9,4,n.videoElem.videoSize))}}function ux(e,t){e&1&&(b(0,"div",68)(1,"p"),V(2,"No media files shared yet"),w()())}function lx(e,t){if(e&1&&(b(0,"div",54)(1,"div",55),J(2,cx,10,6,"div",56),w(),J(3,ux,3,0,"div",57),w()),e&2){let n=R();M(2),N("ngForOf",n.mediaFiles),M(),N("ngIf",n.mediaFiles.length===0)}}function dx(e,t){if(e&1){let n=ve();b(0,"div",71),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewImage(i))}),Y(1,"img",39),b(2,"div",72)(3,"div",73),V(4),w()()()}if(e&2){let n=t.$implicit;M(),N("src",n.pictureElem.sourcePicture.url,yt)("alt",n.fileName),M(3),be(n.fileName)}}function fx(e,t){e&1&&(b(0,"div",68)(1,"p"),V(2,"No images shared yet"),w()())}function px(e,t){if(e&1&&(b(0,"div",54)(1,"div",69),J(2,dx,5,3,"div",70),w(),J(3,fx,3,0,"div",57),w()),e&2){let n=R();M(2),N("ngForOf",n.imageFiles),M(),N("ngIf",n.imageFiles.length===0)}}function gx(e,t){if(e&1){let n=ve();b(0,"div",76),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewDocument(i))}),b(1,"div",77),me(),b(2,"svg",66),Y(3,"path",78)(4,"polyline",79),w()(),Ae(),b(5,"div",80)(6,"div",81),V(7),w(),b(8,"div",82)(9,"span",83),V(10),oe(11,"fileSize"),w(),b(12,"span",84),V(13),oe(14,"timestamp"),w()()(),b(15,"button",85),G("click",function(i){let o=z(n).$implicit;return R(2).downloadFile(o),W(i.stopPropagation())}),me(),b(16,"svg",86),Y(17,"path",87)(18,"polyline",88)(19,"line",89),w()()()}if(e&2){let n=t.$implicit;M(7),be(n.fileName),M(3),be(se(11,3,n.fileElem.fileSize)),M(3),be(se(14,5,n.createTime))}}function hx(e,t){e&1&&(b(0,"div",68)(1,"p"),V(2,"No documents shared yet"),w()())}function mx(e,t){if(e&1&&(b(0,"div",54)(1,"div",74),J(2,gx,20,7,"div",75),w(),J(3,hx,3,0,"div",57),w()),e&2){let n=R();M(2),N("ngForOf",n.documentFiles),M(),N("ngIf",n.documentFiles.length===0)}}function vx(e,t){if(e&1&&(b(0,"div",96)(1,"div",97),me(),b(2,"svg",101),Y(3,"path",102)(4,"path",103)(5,"path",104),w()(),Ae(),b(6,"span",105),V(7),w()()),e&2){let n=R(2);M(7),be(n.selectedUser.phone)}}function yx(e,t){if(e&1){let n=ve();b(0,"div",90)(1,"button",91),G("click",function(){z(n);let i=R();return W(i.closeUserPopup())}),V(2,"\xD7"),w(),Y(3,"img",92),b(4,"h3",93),V(5),w(),b(6,"div",94),J(7,vx,8,1,"div",95),b(8,"div",96)(9,"div",97),me(),b(10,"svg",98),Y(11,"path",99),w()(),Ae(),b(12,"span",100),V(13),w()()()()}if(e&2){let n=R();M(3),N("src",n.selectedUser.faceURL||n.avatarDefault,yt)("alt",n.selectedUser.nickname),M(2),be(n.selectedUser.userID),M(2),N("ngIf",n.selectedUser.phone),M(6),be(n.selectedUser.email)}}var z_,cl,W_=L(()=>{"use strict";Lo();bt();Ys();Uh();xr();Bh();ze();Po();Ks();Qs();bt();z_=e=>({show:e});cl=class e{constructor(t,n,r){this.chatService=t;this.imageService=n;this.videoService=r;this.selectedRoom$=this.chatService.selectedRoom$,this.selectedRoom$.subscribe(()=>ne(this,null,function*(){this.resetStates(),yield this.loadAllMessages()}))}MessageType=Z;activeStatus=!1;activeUserPopup=!1;selectedRoom$;selectedUser=null;avatarDefault=Ge.avatarDefault;ticketStatus="open";ticketPriority="normal";ticketType="shipment-tracking";ticketSubject="Overseas shipment tracking";expandedCategories={media:!1,images:!0,documents:!1};mediaFiles=[];imageFiles=[];documentFiles=[];resetStates(){this.imageFiles=[],this.mediaFiles=[],this.documentFiles=[]}hideStatus(){this.activeStatus=!1}toggleStatus(){this.activeStatus=!this.activeStatus}changeStatus(t){return ne(this,null,function*(){switch(this.activeStatus=!1,t){case"open":yield this.chatService.openGroup(this.chatService.currentRoom.groupID);break;case"close":yield this.chatService.closeGroup(this.chatService.currentRoom.groupID);break}})}closeUserPopup(){this.selectedUser=null,this.activeUserPopup=!1}viewUser(t){this.selectedUser=t,this.activeUserPopup=!0}toggleCategory(t){console.log("Toggling category:",t),this.expandedCategories.hasOwnProperty(t)&&(this.expandedCategories[t]=!this.expandedCategories[t],console.log("New state:",this.expandedCategories[t]))}viewMedia(t){if(t.videoElem){let n=t.videoElem.videoUrl,r=this.mediaFiles.map(i=>i.videoElem.videoUrl);this.videoService.open(r,r.indexOf(n))}}viewImage(t){if(t.pictureElem){let n=t.pictureElem.sourcePicture.url,r=this.imageFiles.map(i=>i.pictureElem.sourcePicture.url);this.imageService.open(r,r.indexOf(n))}}viewDocument(t){console.log("View document:",t)}downloadFile(t){console.log("Download file:",t)}addMember(){console.log("Add member clicked"),alert("Add member functionality would be implemented here")}loadAllMessages(){return ne(this,null,function*(){let t=!1,n="",r=!0;if(!t&&this.chatService.currentRoom){t=!0;try{for(;r;){let i=yield this.chatService.getHistoryMessages(this.chatService.currentRoom.conversationID,n,100);if(i&&i.length>0){n=i[0].clientMsgID;let o=i.filter(c=>c.contentType===Z.FileMessage);this.documentFiles.push(...o);let s=i.filter(c=>c.contentType===Z.VideoMessage);this.mediaFiles.push(...s);let a=i.filter(c=>c.contentType===Z.PictureMessage);this.imageFiles.push(...a),i.length<100&&(r=!1)}else r=!1}}catch(i){console.error("Failed to load all messages:",i)}finally{t=!1}}})}static \u0275fac=function(n){return new(n||e)(ge(Tn),ge(ar),ge(sr))};static \u0275cmp=Bt({type:e,selectors:[["app-right-panel"]],decls:70,vars:34,consts:[[1,"right-panel"],[1,"ticket-header"],[1,"header-content"],[1,"star-icon"],[1,"more-options"],["class","users-section",4,"ngIf"],[1,"status-section",3,"clickOutside"],[1,"status-label"],[1,"status-dropdown"],["id","status-toggle-btn",1,"status-toggle-btn",3,"click","ngClass"],["id","current-status-text"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"arrow"],["fill-rule","evenodd","d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"],["id","status-options",1,"status-options",3,"ngClass"],["data-value","Open",3,"click",4,"ngIf"],["data-value","Solved and Close",3,"click",4,"ngIf"],[1,"attachments-section"],[1,"attachment-category"],[1,"category-header",3,"click"],[1,"attachment-item"],[1,"attachment-icon"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z","fill","#89898A"],["d","M13.9501 23.2502C13.6101 23.2502 13.31 23.0202 13.22 22.6802L8.2701 2.68018C8.1701 2.28018 8.42009 1.87019 8.82009 1.77019C9.22009 1.67019 9.63006 1.91019 9.73006 2.32019L14.6801 22.3202C14.7801 22.7202 14.5301 23.1302 14.1301 23.2302C14.0701 23.2402 14.0101 23.2502 13.9501 23.2502Z","fill","#89898A"],["d","M1.99985 16.2501C1.66985 16.2501 1.37988 16.0401 1.27988 15.7101C1.15988 15.3101 1.38983 14.9001 1.78983 14.7801L11.3199 12.0001C11.7199 11.8801 12.1299 12.1101 12.2499 12.5101C12.3699 12.9101 12.1398 13.3201 11.7398 13.4401L2.20987 16.2201C2.13987 16.2401 2.06985 16.2501 1.99985 16.2501Z","fill","#89898A"],[1,"expand-icon"],["class","category-content",4,"ngIf"],["d","M18.3599 23.2499H5.58987C4.06987 23.2499 2.67987 22.4799 1.87987 21.1799C1.07987 19.8799 1.00987 18.2999 1.68987 16.9299L3.40987 13.4799C3.96987 12.3599 4.86987 11.6599 5.87987 11.5499C6.88987 11.4399 7.91987 11.9399 8.69987 12.9099L8.91987 13.1899C9.35987 13.7299 9.86987 14.0199 10.3699 13.9699C10.8699 13.9299 11.3299 13.5699 11.6699 12.9599L13.5599 9.54993C14.3399 8.13993 15.3799 7.40993 16.5099 7.45993C17.6299 7.51993 18.5899 8.35993 19.2299 9.83993L22.3599 17.1499C22.9399 18.4999 22.7999 20.0399 21.9899 21.2699C21.1899 22.5199 19.8299 23.2499 18.3599 23.2499ZM6.15987 13.0499C6.11987 13.0499 6.07987 13.0499 6.03987 13.0599C5.53987 13.1099 5.07987 13.5099 4.74987 14.1599L3.02987 17.6099C2.57987 18.4999 2.62987 19.5499 3.14987 20.3999C3.66987 21.2499 4.58987 21.7599 5.58987 21.7599H18.3499C19.3299 21.7599 20.1999 21.2899 20.7399 20.4699C21.2799 19.6499 21.3699 18.6699 20.9799 17.7699L17.8499 10.4599C17.4699 9.55993 16.9399 9.00993 16.4299 8.98993C15.9599 8.95993 15.3499 9.45993 14.8699 10.3099L12.9799 13.7199C12.3999 14.7599 11.4899 15.4099 10.4999 15.4999C9.50987 15.5799 8.49987 15.0999 7.74987 14.1599L7.52987 13.8799C7.10987 13.3299 6.62987 13.0499 6.15987 13.0499Z","fill","#89898A"],["d","M6.97021 9.25C4.91021 9.25 3.22021 7.57 3.22021 5.5C3.22021 3.43 4.90021 1.75 6.97021 1.75C9.04021 1.75 10.7202 3.43 10.7202 5.5C10.7202 7.57 9.04021 9.25 6.97021 9.25ZM6.97021 3.25C5.73021 3.25 4.72021 4.26 4.72021 5.5C4.72021 6.74 5.73021 7.75 6.97021 7.75C8.21021 7.75 9.22021 6.74 9.22021 5.5C9.22021 4.26 8.21021 3.25 6.97021 3.25Z","fill","#89898A"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H14C14.41 1.75 14.75 2.09 14.75 2.5C14.75 2.91 14.41 3.25 14 3.25H9C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V10.5C21.25 10.09 21.59 9.75 22 9.75C22.41 9.75 22.75 10.09 22.75 10.5V15.5C22.75 20.93 20.43 23.25 15 23.25Z","fill","#89898A"],["d","M22 11.25H18C14.58 11.25 13.25 9.91999 13.25 6.49999V2.49999C13.25 2.19999 13.43 1.91999 13.71 1.80999C13.99 1.68999 14.31 1.75999 14.53 1.96999L22.53 9.96999C22.74 10.18 22.81 10.51 22.69 10.79C22.57 11.07 22.3 11.25 22 11.25ZM14.75 4.30999V6.49999C14.75 9.07999 15.42 9.74999 18 9.74999H20.19L14.75 4.30999Z","fill","#89898A"],["d","M13 14.25H7C6.59 14.25 6.25 13.91 6.25 13.5C6.25 13.09 6.59 12.75 7 12.75H13C13.41 12.75 13.75 13.09 13.75 13.5C13.75 13.91 13.41 14.25 13 14.25Z","fill","#89898A"],["d","M11 18.25H7C6.59 18.25 6.25 17.91 6.25 17.5C6.25 17.09 6.59 16.75 7 16.75H11C11.41 16.75 11.75 17.09 11.75 17.5C11.75 17.91 11.41 18.25 11 18.25Z","fill","#89898A"],["id","user-popup",1,"popup-overlay",3,"ngClass"],["class","popup-content",4,"ngIf"],[1,"users-section"],["class","user-item",3,"click",4,"ngFor","ngForOf"],[1,"user-item",3,"click"],[1,"user-avatar"],[3,"src","alt"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-menu"],["data-value","Open",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.29 22.75H5.70995C2.30995 22.75 2.12995 20.88 1.97995 19.37L1.57995 14.36C1.48995 13.39 1.76995 12.42 2.38995 11.64C3.12995 10.74 4.17995 10.25 5.30995 10.25H18.69C19.8 10.25 20.85 10.74 21.5599 11.59L21.7299 11.82C22.27 12.56 22.51 13.46 22.42 14.37L22.02 19.36C21.87 20.88 21.69 22.75 18.29 22.75ZM5.30995 11.75C4.63995 11.75 3.99995 12.05 3.57995 12.57L3.50995 12.64C3.18995 13.05 3.01995 13.63 3.07995 14.23L3.47995 19.24C3.61995 20.7 3.67995 21.25 5.70995 21.25H18.29C20.33 21.25 20.38 20.7 20.52 19.23L20.92 14.22C20.9799 13.63 20.8099 13.04 20.42 12.58L20.32 12.46C19.8699 11.99 19.3 11.75 18.68 11.75H5.30995Z","fill","#EF4123"],["d","M20.5 12.2198C20.09 12.2198 19.75 11.8798 19.75 11.4698V9.67979C19.75 6.69979 19.23 6.17978 16.25 6.17978H13.7C12.57 6.17978 12.18 5.77979 11.75 5.20979L10.46 3.49979C10.02 2.91979 9.92 2.77979 9.02 2.77979H7.75C4.77 2.77979 4.25 3.29979 4.25 6.27979V11.4298C4.25 11.8398 3.91 12.1798 3.5 12.1798C3.09 12.1798 2.75 11.8398 2.75 11.4298V6.27979C2.75 2.44979 3.92 1.27979 7.75 1.27979H9.03C10.57 1.27979 11.05 1.77979 11.67 2.59979L12.95 4.29979C13.22 4.65979 13.24 4.67979 13.71 4.67979H16.26C20.09 4.67979 21.26 5.84979 21.26 9.67979V11.4698C21.25 11.8798 20.91 12.2198 20.5 12.2198Z","fill","#EF4123"],["d","M14.5702 17.75H9.43018C9.02018 17.75 8.68018 17.41 8.68018 17C8.68018 16.59 9.02018 16.25 9.43018 16.25H14.5702C14.9802 16.25 15.3202 16.59 15.3202 17C15.3202 17.41 14.9902 17.75 14.5702 17.75Z","fill","#EF4123"],["data-value","Solved and Close",3,"click"],["d","M14 16.9101C13.81 16.9101 13.62 16.8401 13.47 16.6901L9.50998 12.7301C9.21998 12.4401 9.21998 11.9601 9.50998 11.6701C9.79998 11.3801 10.28 11.3801 10.57 11.6701L14.53 15.6301C14.82 15.9201 14.82 16.4001 14.53 16.6901C14.38 16.8301 14.19 16.9101 14 16.9101Z","fill","#89898A"],["d","M9.99994 16.9502C9.80994 16.9502 9.61994 16.8802 9.46994 16.7302C9.17994 16.4402 9.17994 15.9602 9.46994 15.6702L13.4299 11.7102C13.7199 11.4202 14.1999 11.4202 14.4899 11.7102C14.7799 12.0002 14.7799 12.4802 14.4899 12.7702L10.5299 16.7302C10.3799 16.8802 10.1899 16.9502 9.99994 16.9502Z","fill","#89898A"],["d","M14 6.75H10C9.04 6.75 7.25 6.75 7.25 4C7.25 1.25 9.04 1.25 10 1.25H14C14.96 1.25 16.75 1.25 16.75 4C16.75 4.96 16.75 6.75 14 6.75ZM10 2.75C9.01 2.75 8.75 2.75 8.75 4C8.75 5.25 9.01 5.25 10 5.25H14C15.25 5.25 15.25 4.99 15.25 4C15.25 2.75 14.99 2.75 14 2.75H10Z","fill","#89898A"],["d","M15 22.7499H9C3.38 22.7499 2.25 20.1699 2.25 15.9999V9.99993C2.25 5.43993 3.9 3.48993 7.96 3.27993C8.38 3.25993 8.73 3.56993 8.75 3.98993C8.77 4.40993 8.45 4.74993 8.04 4.76993C5.2 4.92993 3.75 5.77993 3.75 9.99993V15.9999C3.75 19.6999 4.48 21.2499 9 21.2499H15C19.52 21.2499 20.25 19.6999 20.25 15.9999V9.99993C20.25 5.77993 18.8 4.92993 15.96 4.76993C15.55 4.74993 15.23 4.38993 15.25 3.97993C15.27 3.56993 15.63 3.24993 16.04 3.26993C20.1 3.48993 21.75 5.43993 21.75 9.98993V15.9899C21.75 20.1699 20.62 22.7499 15 22.7499Z","fill","#89898A"],[1,"category-content"],[1,"media-grid"],["class","media-item",3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"media-item",3,"click"],[1,"media-thumbnail"],[3,"src","alt",4,"ngIf"],["class","video-thumbnail",4,"ngIf"],[1,"media-info"],[1,"media-name"],[1,"media-size"],[1,"video-thumbnail"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","5,3 19,12 5,21 5,3"],[1,"empty-state"],[1,"image-grid"],["class","image-item",3,"click",4,"ngFor","ngForOf"],[1,"image-item",3,"click"],[1,"image-overlay"],[1,"image-name"],[1,"document-list"],["class","document-item",3,"click",4,"ngFor","ngForOf"],[1,"document-item",3,"click"],[1,"document-icon"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14,2 14,8 20,8"],[1,"document-info"],[1,"document-name"],[1,"document-details"],[1,"document-size"],[1,"document-date"],[1,"download-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","y1","15","x2","12","y2","3"],[1,"popup-content"],["id","close-popup-btn",1,"close-popup-btn",3,"click"],["id","popup-avatar",1,"popup-avatar",3,"src","alt"],["id","popup-name",1,"popup-name"],[1,"popup-contact-info"],["class","popup-contact-item",4,"ngIf"],[1,"popup-contact-item"],[1,"popup-contact-icon"],["width","18","height","16","viewBox","0 0 18 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.167 15.7082H4.83366C1.79199 15.7082 0.0419922 13.9582 0.0419922 10.9165V5.08317C0.0419922 2.0415 1.79199 0.291504 4.83366 0.291504H13.167C16.2087 0.291504 17.9587 2.0415 17.9587 5.08317V10.9165C17.9587 13.9582 16.2087 15.7082 13.167 15.7082ZM4.83366 1.5415C2.45033 1.5415 1.29199 2.69984 1.29199 5.08317V10.9165C1.29199 13.2998 2.45033 14.4582 4.83366 14.4582H13.167C15.5503 14.4582 16.7087 13.2998 16.7087 10.9165V5.08317C16.7087 2.69984 15.5503 1.5415 13.167 1.5415H4.83366Z","fill","#202020"],["id","popup-email"],["width","18","height","22","viewBox","0 0 18 22","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 6V16C17 20 16 21 12 21H6C2 21 1 20 1 16V6C1 2 2 1 6 1H12C16 1 17 2 17 6Z","stroke","#202020","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M11 4.5H7","stroke","#202020","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M9.0002 18.1C9.85624 18.1 10.5502 17.406 10.5502 16.55C10.5502 15.694 9.85624 15 9.0002 15C8.14415 15 7.4502 15.694 7.4502 16.55C7.4502 17.406 8.14415 18.1 9.0002 18.1Z","stroke","#202020","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","popup-phone"]],template:function(n,r){if(n&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),V(4,"\u2B50"),w(),b(5,"h3"),V(6,"Chat Details"),w()(),b(7,"button",4),V(8,"\u22EF"),w()(),J(9,rx,3,3,"div",5),oe(10,"async"),b(11,"section",6),G("clickOutside",function(){return r.hideStatus()}),b(12,"span",7),V(13,"Status"),w(),b(14,"div",8)(15,"button",9),oe(16,"async"),G("click",function(){return r.toggleStatus()}),b(17,"span",10),V(18),oe(19,"async"),w(),me(),b(20,"svg",11),Y(21,"path",12),w()(),Ae(),b(22,"div",13)(23,"ul"),J(24,ix,7,0,"li",14),oe(25,"async"),J(26,ox,8,0,"li",15),oe(27,"async"),w()()()(),b(28,"div",16)(29,"div",17)(30,"div",18),G("click",function(){return r.toggleCategory("media")}),b(31,"div",19)(32,"div",20),me(),b(33,"svg",21),Y(34,"path",22)(35,"path",23)(36,"path",24),w()(),Ae(),b(37,"span"),V(38),w()(),b(39,"span",25),V(40,"\u25BC"),w()(),J(41,lx,4,2,"div",26),w(),b(42,"div",17)(43,"div",18),G("click",function(){return r.toggleCategory("images")}),b(44,"div",19)(45,"div",20),me(),b(46,"svg",21),Y(47,"path",27)(48,"path",28),w()(),Ae(),b(49,"span"),V(50),w()(),b(51,"span",25),V(52,"\u25BC"),w()(),J(53,px,4,2,"div",26),w(),b(54,"div",17)(55,"div",18),G("click",function(){return r.toggleCategory("documents")}),b(56,"div",19)(57,"div",20),me(),b(58,"svg",21),Y(59,"path",29)(60,"path",30)(61,"path",31)(62,"path",32),w()(),Ae(),b(63,"span"),V(64),w()(),b(65,"span",25),V(66,"\u25BC"),w()(),J(67,mx,4,2,"div",26),w()()(),b(68,"div",33),J(69,yx,14,5,"div",34),w()),n&2){let i,o,s,a,c;M(9),N("ngIf",(i=se(10,20,r.selectedRoom$))==null||i.members==null?null:i.members.length),M(6),N("ngClass",((o=se(16,22,r.selectedRoom$))==null?null:o.introduction)=="open"?"open":"closed"),M(3),be(((s=se(19,24,r.selectedRoom$))==null?null:s.introduction)=="open"?"Open":"Close"),M(4),N("ngClass",Ni(30,z_,r.activeStatus)),M(2),N("ngIf",((a=se(25,26,r.selectedRoom$))==null?null:a.introduction)=="close"),M(2),N("ngIf",((c=se(27,28,r.selectedRoom$))==null?null:c.introduction)=="open"),M(12),et("Media file (",r.mediaFiles.length,")"),M(),$e("expanded",r.expandedCategories.media),M(2),N("ngIf",r.expandedCategories.media),M(9),et("Image (",r.imageFiles.length,")"),M(),$e("expanded",r.expandedCategories.images),M(2),N("ngIf",r.expandedCategories.images),M(11),et("File (",r.documentFiles.length,")"),M(),$e("expanded",r.expandedCategories.documents),M(2),N("ngIf",r.expandedCategories.documents),M(),N("ngClass",Ni(32,z_,r.activeUserPopup)),M(),N("ngIf",r.selectedUser)}},dependencies:[At,ia,Zr,$t,dn,Fo,Vo,jo],styles:[".right-panel[_ngcontent-%COMP%]{width:300px;height:100%;background:#fff;border-left:1px solid #e5e7eb;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.ticket-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e5e7eb}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.star-icon[_ngcontent-%COMP%]{font-size:16px;color:#fbbf24}.ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#111827}.more-options[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center}.more-options[_ngcontent-%COMP%]:hover{background:#f3f4f6}.users-section[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e5e7eb}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-info[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827;margin-bottom:2px}.user-email[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.user-menu[_ngcontent-%COMP%]{width:20px;height:20px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:12px}.user-menu[_ngcontent-%COMP%]:hover{background:#f3f4f6}.add-member-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;margin-top:12px;border:1px dashed #d1d5db;background:#f9fafb;color:#6b7280;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.add-member-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.add-icon[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.ticket-details[_ngcontent-%COMP%]{padding:20px;flex:1}.detail-row[_ngcontent-%COMP%]{margin-bottom:20px}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:8px}.status-dropdown[_ngcontent-%COMP%], .type-dropdown[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]{position:relative}.status-select[_ngcontent-%COMP%], .type-select[_ngcontent-%COMP%], .priority-select[_ngcontent-%COMP%]{width:100%;padding:8px 32px 8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;color:#111827;background:#fff;cursor:pointer;appearance:none;outline:none}.status-select[_ngcontent-%COMP%]:focus, .type-select[_ngcontent-%COMP%]:focus, .priority-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#6b7280;font-size:10px;pointer-events:none}.subject-text[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;color:#111827;background:#f9fafb;min-height:20px}.attachments-section[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e5e7eb;overflow-y:auto}.attachment-category[_ngcontent-%COMP%]{margin-bottom:16px}.category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding:8px 0;border-bottom:1px solid #f3f4f6;-webkit-user-select:none;user-select:none;transition:background-color .2s}.category-header[_ngcontent-%COMP%]:hover{background:#f9fafb;margin:0 -8px;padding:8px;border-radius:6px}.category-header[_ngcontent-%COMP%]:active{background:#f3f4f6}.attachment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.attachment-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#f3f4f6;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#6b7280}.attachment-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#374151;font-weight:500}.expand-icon[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;transition:transform .2s}.expand-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.category-content[_ngcontent-%COMP%]{padding:12px 0;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.media-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:12px}.media-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:8px;overflow:hidden;border:1px solid #e5e7eb;transition:all .2s}.media-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.media-thumbnail[_ngcontent-%COMP%]{width:100%;height:80px;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden}.media-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.video-thumbnail[_ngcontent-%COMP%]{color:#6b7280;position:absolute}.media-info[_ngcontent-%COMP%]{padding:8px}.media-name[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#374151;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.media-size[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}.image-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-bottom:12px}.image-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;border-radius:6px;overflow:hidden;aspect-ratio:1;transition:transform .2s}.image-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,#000000b3);color:#fff;padding:8px 6px 4px;opacity:0;transition:opacity .2s}.image-item[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.image-name[_ngcontent-%COMP%]{font-size:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.document-list[_ngcontent-%COMP%]{margin-bottom:12px}.document-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 8px;border-radius:8px;cursor:pointer;transition:background-color .2s;border:1px solid transparent}.document-item[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#e5e7eb}.document-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#f3f4f6;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#6b7280;flex-shrink:0}.document-info[_ngcontent-%COMP%]{flex:1;min-width:0}.document-name[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#374151;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.document-details[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:11px;color:#6b7280}.download-btn[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background:#f3f4f6;border-radius:4px;color:#6b7280;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.download-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#9ca3af}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-style:italic}.status-select[value=open][_ngcontent-%COMP%]{color:#1d4ed8}.status-select[value=pending][_ngcontent-%COMP%]{color:#f59e0b}.status-select[value=closed][_ngcontent-%COMP%], .priority-select[value=low][_ngcontent-%COMP%]{color:#059669}.priority-select[value=normal][_ngcontent-%COMP%]{color:#6b7280}.priority-select[value=high][_ngcontent-%COMP%]{color:#f59e0b}.priority-select[value=urgent][_ngcontent-%COMP%]{color:#dc2626}@media (max-width: 768px){.right-panel[_ngcontent-%COMP%]{width:100%;height:auto}.media-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.image-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.status-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #f0f0f0}.status-section[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-size:15px;color:#8e8e93}.status-dropdown[_ngcontent-%COMP%]{position:relative}.status-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:#007aff;color:#fff;border:none;padding:6px 12px;border-radius:16px;font-size:14px;font-weight:500;cursor:pointer}.status-toggle-btn.closed[_ngcontent-%COMP%]{background-color:#34c759}.status-options[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:calc(100% + 8px);background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px;width:200px;z-index:10}.status-options.show[_ngcontent-%COMP%]{display:block}.status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.status-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px;border-radius:6px;cursor:pointer;font-size:15px}.status-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}.status-options[_ngcontent-%COMP%]   .option-open[_ngcontent-%COMP%]{color:#ff3b30}.status-options[_ngcontent-%COMP%]   .option-close[_ngcontent-%COMP%]{color:#8e8e93}.popup-overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center;z-index:100}.popup-overlay.show[_ngcontent-%COMP%]{display:flex}.popup-content[_ngcontent-%COMP%]{background-color:#fff;padding:32px;border-radius:16px;text-align:center;position:relative;width:90%;max-width:320px}.close-popup-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:none;border:none;font-size:24px;color:#8e8e93;cursor:pointer}.popup-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;margin-bottom:16px}.popup-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0 0 24px}.popup-contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;text-align:left}.popup-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.popup-contact-icon[_ngcontent-%COMP%]{background-color:#f0f2f5;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#555}"]})}});var fn,Z_=L(()=>{"use strict";fn=class e{static Exception(t,n="Error",r=8e3,i=null){let o="System error, please contact the Administrator";t&&t.error&&(typeof t.error=="string"?o=t.error:t.error&&t.error.error&&(o=t.error.error)),toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},o&&toastr.error(o,n)}static Error(t,n="Error",r=8e3,i=null){if(toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},t&&t.indexOf("object")>=0){e.Error("System error, please contact the Administrator.",n);return}t&&toastr.error(t,n)}static Success(t,n="Success",r=8e3,i=null){t=t||"Data saved successfully.",toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},toastr.success(t,n)}static Warning(t,n="Warning",r=8e3,i=null){toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},toastr.warning(t,n)}static ErrorResult(t,n="Error",r=8e3,i=null){let o=t?.Description?.toString();o&&o.indexOf("TypeError: You provided")>=0||(toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},toastr.error(o||"System error, please contact the Administrator",n))}}});var ul,J_=L(()=>{"use strict";ze();ul=class e{transform(t){let n=Math.floor(t/60),r=Math.floor(t%60);return`${n}:${r.toString().padStart(2,"0")}`}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Zt({name:"duration",type:e,pure:!0})}});var Gh,Y_=L(()=>{"use strict";Gh=(n=>(n[n.Single=1]="Single",n[n.Group=2]="Group",n))(Gh||{})});function Mx(e,t){if(e&1){let n=ve();b(0,"div",63)(1,"button",64),G("click",function(){z(n);let i=R();return W(i.toggleChat(i.LayoutState.Minibar))}),me(),b(2,"svg",65),Y(3,"path",66),w()(),Ae(),b(4,"button",64),G("click",function(){z(n);let i=R();return W(i.toggleChat(i.LayoutState.Maximize))}),me(),b(5,"svg",67)(6,"g")(7,"g"),Y(8,"path",68),w()(),b(9,"g")(10,"g"),Y(11,"polygon",69),w()(),b(12,"g")(13,"g"),Y(14,"polygon",70),w()(),b(15,"g")(16,"g"),Y(17,"polygon",71),w()(),b(18,"g")(19,"g"),Y(20,"polygon",72),w()()()()()}}function Ex(e,t){e&1&&(b(0,"div",73)(1,"span"),V(2,"Loading older messages..."),w()())}function Sx(e,t){e&1&&(b(0,"div",73)(1,"span"),V(2,"Loading conversation..."),w()())}function Tx(e,t){if(e&1&&Y(0,"img",89),e&2){let n=R(2).$implicit;N("src",n.items[0].senderFaceUrl,yt)}}function xx(e,t){if(e&1&&(b(0,"div",90),V(1),w()),e&2){let n=R(2).$implicit,r=R();rr("background-color",r.getAvatarColor(n.items[0].senderNickname)),M(),et(" ",n.items[0].senderNickname.charAt(0).toUpperCase()," ")}}function kx(e,t){if(e&1&&(b(0,"div",86),J(1,Tx,1,1,"img",87)(2,xx,2,3,"div",88),w()),e&2){let n=R().$implicit;M(),N("ngIf",n.items[0].senderFaceUrl),M(),N("ngIf",!n.items[0].senderFaceUrl)}}function Px(e,t){e&1&&(b(0,"span"),V(1,"You have revoked this message"),w())}function Nx(e,t){if(e&1&&(b(0,"span"),V(1),w()),e&2){let n=R().$implicit;M(),et("",n.senderNickname," have revoked this message")}}function Ox(e,t){if(e&1&&(b(0,"div",91)(1,"i"),J(2,Px,2,0,"span",92)(3,Nx,2,1,"span",92),w()()),e&2){let n=t.$implicit,r=R(2);M(2),N("ngIf",n.sendID===r.currentUserID),M(),N("ngIf",n.sendID!==r.currentUserID)}}function Rx(e,t){if(e&1&&(b(0,"div",93)(1,"div"),V(2),w()()),e&2){let n=t.ngIf;M(2),be(n.textElem.content)}}function Ax(e,t){if(e&1){let n=ve();b(0,"div",95),G("click",function(){z(n);let i=R().ngIf,o=R(2);return W(o.scrollToMessage(i.quoteElem.quoteMessage==null?null:i.quoteElem.quoteMessage.clientMsgID))}),b(1,"div",96),V(2),w(),b(3,"div",97),V(4),w()()}if(e&2){let n=R().ngIf;M(2),be((n.quoteElem.quoteMessage==null?null:n.quoteElem.quoteMessage.senderNickname)||"Unknown"),M(2),be((n.quoteElem.quoteMessage==null||n.quoteElem.quoteMessage.quoteElem==null?null:n.quoteElem.quoteMessage.quoteElem.text)||"Message")}}function Fx(e,t){if(e&1&&(b(0,"div",93),J(1,Ax,5,2,"div",94),b(2,"div"),V(3),w()()),e&2){let n=t.ngIf;M(),N("ngIf",n.quoteElem),M(2),be((n.quoteElem==null?null:n.quoteElem.text)||(n.textElem==null?null:n.textElem.content))}}function Lx(e,t){if(e&1){let n=ve();b(0,"div",100)(1,"img",101),G("click",function(){let i=z(n).$implicit,o=R(3);return W(o.viewAttachment(i))}),w(),b(2,"div",102)(3,"div",21)(4,"button",103),G("click",function(){let i=z(n).$implicit,o=R(3);return W(o.viewAttachment(i))}),me(),b(5,"svg",104),Y(6,"path",105)(7,"circle",106),w()(),Ae(),b(8,"button",107),G("click",function(){let i=z(n).$implicit,o=R(3);return W(o.downloadAttachment(i))}),me(),b(9,"svg",104),Y(10,"path",108)(11,"polyline",109)(12,"line",110),w()()()()()}if(e&2){let n=t.$implicit;M(),N("src",n.pictureElem.sourcePicture.url,yt)}}function Vx(e,t){if(e&1&&(b(0,"div",98),J(1,Lx,13,1,"div",99),w()),e&2){let n=R().$implicit,r=R();$e("single",r.getImageMessages(n).length===1)("two",r.getImageMessages(n).length===2)("three",r.getImageMessages(n).length===3)("many",r.getImageMessages(n).length>3),M(),N("ngForOf",r.getImageMessages(n))}}function jx(e,t){if(e&1&&(b(0,"div",119),V(1),oe(2,"duration"),w()),e&2){let n=R().$implicit;M(),et(" ",se(2,1,n.videoElem.duration)," ")}}function Ux(e,t){if(e&1){let n=ve();b(0,"div",111)(1,"div",112)(2,"img",113),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewAttachment(i))}),w(),b(3,"div",114),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewAttachment(i))}),me(),b(4,"svg",115),Y(5,"path",116),w()(),J(6,jx,3,3,"div",117),Ae(),b(7,"div",21)(8,"button",118),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewAttachment(i))}),me(),b(9,"svg",104),Y(10,"path",105)(11,"circle",106),w()(),Ae(),b(12,"button",107),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.downloadAttachment(i))}),me(),b(13,"svg",104),Y(14,"path",108)(15,"polyline",109)(16,"line",110),w()()()()()}if(e&2){let n=t.$implicit;M(2),N("src",n.videoElem.snapshotUrl,yt),M(4),N("ngIf",n.videoElem.duration)}}function Bx(e,t){if(e&1&&(b(0,"div",129),V(1),oe(2,"fileSize"),w()),e&2){let n=R().$implicit;M(),be(se(2,1,n.fileElem.fileSize))}}function Gx(e,t){if(e&1){let n=ve();b(0,"div",111)(1,"div",120)(2,"div",121),me(),b(3,"svg",56),Y(4,"path",122)(5,"polyline",123),w(),Ae(),b(6,"div",124)(7,"div",125),V(8),w(),J(9,Bx,3,3,"div",126),w()(),b(10,"div",21)(11,"button",127),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.viewAttachment(i))}),me(),b(12,"svg",128),Y(13,"path",105)(14,"circle",106),w()(),Ae(),b(15,"button",107),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.downloadAttachment(i))}),me(),b(16,"svg",128),Y(17,"path",108)(18,"polyline",109)(19,"line",110),w()()()()()}if(e&2){let n=t.$implicit;M(8),be(n.fileElem.fileName),M(),N("ngIf",n.fileElem.fileSize)}}function Hx(e,t){if(e&1&&(b(0,"div",111)(1,"div",130)(2,"div",131),me(),b(3,"svg",50),Y(4,"path",132)(5,"path",44)(6,"path",47),w()(),Ae(),Y(7,"audio",133),w()()),e&2){let n=t.$implicit;M(7),N("src",n.soundElem==null?null:n.soundElem.sourceUrl,yt)}}function qx(e,t){if(e&1){let n=ve();b(0,"div",134)(1,"div",135),G("click",function(){let i=z(n).ngIf,o=R(2);return W(o.openLocation(i.locationElem.latitude,i.locationElem.longitude))}),b(2,"div",136),me(),b(3,"svg",137),Y(4,"path",138),w()(),Ae(),b(5,"div",139)(6,"div",140),V(7,"\u{1F4CD} Location"),w(),b(8,"div",141),V(9),w(),b(10,"div",142),V(11,"Tap to view on map"),w()()()()}if(e&2){let n=t.ngIf;M(9),be(n.locationElem.description)}}function $x(e,t){if(e&1){let n=ve();b(0,"button",153),G("click",function(){let i=z(n).$implicit,o=R(3).$implicit,s=R();return W(s.sendReaction(o,i))}),V(1),w()}if(e&2){let n=t.$implicit;N("title",n.name),M(),et(" ",n.emoji," ")}}function zx(e,t){if(e&1&&(b(0,"div",151),J(1,$x,2,2,"button",152),w()),e&2){let n=R(3);M(),N("ngForOf",n.reactionEmojis)}}function Wx(e,t){if(e&1){let n=ve();b(0,"div",143)(1,"button",144),G("click",function(){z(n);let i=R().$implicit,o=R();return W(o.toggleReactionPicker(i))}),me(),b(2,"svg",145),Y(3,"path",146)(4,"path",147)(5,"path",148)(6,"path",149),w()(),J(7,zx,2,1,"div",150),w()}if(e&2){let n=R().$implicit,r=R();M(7),N("ngIf",r.activeReactionGroup===n)}}function Zx(e,t){if(e&1&&(b(0,"div",154),me(),b(1,"svg",155),Y(2,"path",156)(3,"path",157),w()()),e&2){let n=R().$implicit;$e("seen",n.isRead)}}function Jx(e,t){if(e&1){let n=ve();b(0,"div",74),G("contextmenu",function(i){let o=z(n).$implicit,s=R();return W(s.onMessageRightClick(i,o))}),b(1,"div",75),J(2,kx,3,2,"div",76),b(3,"div",77),J(4,Ox,4,2,"div",78)(5,Rx,3,1,"div",79)(6,Fx,4,2,"div",79)(7,Vx,2,9,"div",80)(8,Ux,17,2,"div",81)(9,Gx,20,2,"div",81)(10,Hx,8,1,"div",81)(11,qx,12,1,"div",82)(12,Wx,8,1,"div",83),w()(),b(13,"div",84)(14,"span"),V(15),oe(16,"timestamp"),w(),J(17,Zx,4,2,"div",85),w()()}if(e&2){let n=t.$implicit,r=R();vo("data-message-id",n.items[0]==null?null:n.items[0].clientMsgID),M(),$e("incoming",n.sendID!==r.currentUserID)("outgoing",n.sendID===r.currentUserID),M(),N("ngIf",n.sendID!==r.currentUserID&&n.items.length>0),M(2),N("ngForOf",r.getRevokedMessages(n)),M(),N("ngIf",r.getTextMessage(n)),M(),N("ngIf",r.getQuoteMessage(n)),M(),N("ngIf",r.getImageMessages(n).length>0),M(),N("ngForOf",r.getVideoMessages(n)),M(),N("ngForOf",r.getFileMessages(n)),M(),N("ngForOf",r.getSoundMessages(n)),M(),N("ngIf",r.getLocationMessage(n)),M(),N("ngIf",n.sendID!==r.currentUserID),M(),$e("incoming",n.sendID!==r.currentUserID)("outgoing",n.sendID===r.currentUserID),M(2),be(jp(16,21,n.sendTime,"HH:mm")),M(2),N("ngIf",n.sendID===r.currentUserID)}}function Yx(e,t){if(e&1&&(b(0,"div",158)(1,"div",159)(2,"div",90),V(3),w()(),b(4,"div",160),Y(5,"span",161)(6,"span",161)(7,"span",161),w(),b(8,"span",162),V(9),w()()),e&2){let n,r=R();M(3),be((r.typingUserName==null||(n=r.typingUserName.charAt(0))==null?null:n.toUpperCase())||"?"),M(6),et("",r.typingUserName," is typing...")}}function Qx(e,t){if(e&1&&Y(0,"img",177),e&2){let n=R().$implicit;N("src",n.preview,yt)}}function Kx(e,t){if(e&1&&Y(0,"img",177),e&2){let n=R().$implicit;N("src",n.preview,yt)}}function Xx(e,t){e&1&&(b(0,"div",178),me(),b(1,"svg",128),Y(2,"path",122)(3,"polyline",123),w()())}function ek(e,t){e&1&&(b(0,"div",179),Y(1,"div",180),w())}function tk(e,t){if(e&1){let n=ve();b(0,"div",168)(1,"div",169),J(2,Qx,1,1,"img",170)(3,Kx,1,1,"img",170)(4,Xx,4,0,"div",171),b(5,"div",172)(6,"div",173),V(7),w(),b(8,"div",174),V(9),oe(10,"fileSize"),w()()(),b(11,"button",175),G("click",function(){let i=z(n).index,o=R(2);return W(o.removeSelectedFile(i))}),V(12,"\xD7"),w(),J(13,ek,2,0,"div",176),w()}if(e&2){let n=t.$implicit;M(2),N("ngIf",n.type==="image"&&n.preview),M(),N("ngIf",n.type==="video"&&n.preview),M(),N("ngIf",n.type==="document"),M(3),be(n.name),M(2),be(se(10,6,n.size)),M(4),N("ngIf",n.isUploading)}}function nk(e,t){if(e&1){let n=ve();b(0,"div",163)(1,"div",164)(2,"span"),V(3),w(),b(4,"button",165),G("click",function(){z(n);let i=R();return W(i.clearSelectedFiles())}),V(5,"Clear all"),w()(),b(6,"div",166),J(7,tk,14,8,"div",167),w()()}if(e&2){let n=R();M(3),et("",n.selectedFiles.length," file(s) selected"),M(4),N("ngForOf",n.selectedFiles)}}function rk(e,t){if(e&1){let n=ve();b(0,"div",183),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.selectUser(i))}),b(1,"div",184),V(2),w(),b(3,"div",185)(4,"div",186),V(5),w(),b(6,"div",187),V(7),w()()()}if(e&2){let n=t.$implicit;M(2),be(n.userID.charAt(0)),M(3),be(n.userID),M(2),be(n.email)}}function ik(e,t){if(e&1&&(b(0,"div",181),J(1,rk,8,3,"div",182),w()),e&2){let n=R();M(),N("ngForOf",n.filteredUsers)}}function ok(e,t){if(e&1){let n=ve();b(0,"div",191),G("click",function(){let i=z(n).$implicit,o=R(2);return W(o.selectEmoji(i))}),V(1),w()}if(e&2){let n=t.$implicit;M(),et(" ",n," ")}}function sk(e,t){if(e&1&&(b(0,"div",188)(1,"div",189),J(2,ok,2,1,"div",190),w()()),e&2){let n=R();M(2),N("ngForOf",n.emojiList)}}function ak(e,t){if(e&1){let n=ve();b(0,"div",192)(1,"div",193),Y(2,"div",194),b(3,"div",195)(4,"div",196),V(5),w(),b(6,"div",197),V(7),w()(),b(8,"button",198),G("click",function(){z(n);let i=R();return W(i.cancelReply())}),me(),b(9,"svg",128),Y(10,"line",199)(11,"line",200),w()()()()}if(e&2){let n=R();M(5),be(n.replyingToMessage.senderNickname),M(2),be(n.getReplyPreviewText(n.replyingToMessage))}}function ck(e,t){if(e&1&&(b(0,"span",201),V(1),w()),e&2){let n=R();M(),et("",n.recordingDuration,"s")}}function uk(e,t){e&1&&(b(0,"div",215),Y(1,"div",216)(2,"div",216)(3,"div",216)(4,"div",216)(5,"div",216),w())}function lk(e,t){e&1&&(me(),b(0,"svg",219),Y(1,"path",220),w())}function dk(e,t){e&1&&(me(),b(0,"svg",219),Y(1,"path",221),w())}function fk(e,t){if(e&1){let n=ve();b(0,"button",217),G("click",function(){z(n);let i=R(2);return W(i.toggleAudioPlayback())}),J(1,lk,2,0,"svg",218)(2,dk,2,0,"svg",218),w()}if(e&2){let n=R(2);N("title",Vp(n.isAudioPlaying?"Pause":"Play")),M(),N("ngIf",!n.isAudioPlaying),M(),N("ngIf",n.isAudioPlaying)}}function pk(e,t){if(e&1){let n=ve();b(0,"button",222),G("click",function(){z(n);let i=R(2);return W(i.stopRecording())}),me(),b(1,"svg",223),Y(2,"rect",224),w()()}}function gk(e,t){if(e&1){let n=ve();b(0,"div",202)(1,"div",203),J(2,uk,6,0,"div",204)(3,fk,3,4,"button",205),Y(4,"audio",206,4),b(6,"div",207)(7,"span",208),V(8),w(),b(9,"span",209),V(10),w()(),b(11,"div",210)(12,"button",211),G("click",function(){z(n);let i=R();return W(i.deleteRecording())}),me(),b(13,"svg",128),Y(14,"polyline",212)(15,"path",213),w()(),J(16,pk,3,0,"button",214),w()()()}if(e&2){let n=R();M(2),N("ngIf",n.isRecording),M(),N("ngIf",n.recordedAudio&&!n.isRecording),M(),N("src",n.audioPreviewUrl,yt),M(4),be(n.isRecording?"Recording...":"Voice message"),M(2),et("",n.recordingDuration,"s"),M(6),N("ngIf",n.isRecording)}}function hk(e,t){if(e&1){let n=ve();b(0,"li",228),G("click",function(){z(n);let i=R(2);return W(i.replyMessage(i.contextMenuMessage.items[0]))}),me(),b(1,"svg",50),Y(2,"path",229),w(),Ae(),b(3,"span"),V(4,"Reply"),w()()}}function mk(e,t){if(e&1){let n=ve();b(0,"li",228),G("click",function(){z(n);let i=R(2);return W(i.recallMessage())}),me(),b(1,"svg",50),Y(2,"path",230)(3,"path",231),w(),Ae(),b(4,"span"),V(5,"Recall message"),w()()}}function vk(e,t){if(e&1){let n=ve();b(0,"div",225),G("click",function(i){return z(n),W(i.stopPropagation())}),b(1,"ul",226),J(2,hk,5,0,"li",227)(3,mk,6,0,"li",227),w()()}if(e&2){let n=R();rr("left",n.contextMenuX,"px")("top",n.contextMenuY,"px"),M(2),N("ngIf",(n.contextMenuMessage==null||n.contextMenuMessage.items==null?null:n.contextMenuMessage.items.length)===1),M(),N("ngIf",(n.contextMenuMessage==null?null:n.contextMenuMessage.sendID)===n.currentUserID)}}var Dx,_x,Cx,bx,Ix,ll,Q_=L(()=>{"use strict";Lo();bt();Ys();yn();Z_();J_();Uh();xr();Bh();$o();Y_();ze();Po();Ks();Qs();bt();Lo();Dx=["imageInput"],_x=["videoInput"],Cx=["documentInput"],bx=["messagesContainer"],Ix=["audioPreview"];ll=class e{constructor(t,n,r){this.chatService=t;this.imageService=n;this.videoService=r;this.selectedRoom$=this.chatService.selectedRoom$}imageInput;videoInput;documentInput;messagesContainer;audioPreview;messageText="";showEmojiPicker=!1;LayoutState=Gi;showUserSuggestions=!1;selectedFiles=[];selectedRoom$;MAX_SIZE=2*1024*1024;emojiList=Ge.emojiList;reactionEmojis=[{emoji:"\u2764\uFE0F",name:"Love"},{emoji:"\u{1F44D}",name:"Like"},{emoji:"\u{1F60A}",name:"Happy"},{emoji:"\u{1F622}",name:"Sad"},{emoji:"\u{1F62E}",name:"Surprised"},{emoji:"\u{1F621}",name:"Angry"}];activeReactionGroup=null;isLoadingMore=!1;isLoadingHistory=!1;MessageType=Z;messages=[];shouldScrollToBottom=!1;availableUsers;errorMessage=null;GroupMessageType=Gh;filteredUsers=[];groupedMessages=[];typingTimer;noMoreOldMessages=!1;messageSubscription;inputStatusSubscription;oldestMessageID=null;isOtherUserTyping=!1;typingUserName=null;contextMenuX=0;contextMenuY=0;isContextMenuVisible=!1;contextMenuMessage=null;replyingToMessage=null;isRecording=!1;recordingDuration=0;audioSupported=!1;isAudioPlaying=!1;audioPreviewUrl=null;recordingTimer;recordingStartTime=0;audioChunks=[];mediaStream=null;mediaRecorder=null;recordedAudio=null;get currentUserID(){return this.chatService.currentUserID}onDocumentClick(){this.isContextMenuVisible&&(this.isContextMenuVisible=!1)}ngOnInit(){this.checkAudioSupport(),this.messageSubscription=this.chatService.newMessageHandler$.pipe(Pr(t=>t!==null)).subscribe(t=>{this.chatService.currentRoom&&(!t||t.length===0||t.forEach(n=>{let r=!1;this.chatService.currentRoom.groupID&&n.groupID===this.chatService.currentRoom.groupID&&(r=!0),r&&(this.messages.some(o=>o.clientMsgID===n.clientMsgID)||(this.messages.push(n),this.recalculateMessageGroups(),this.shouldScrollToBottom=!0))}))}),this.selectedRoom$.subscribe(()=>{this.resetInputs(),this.resetChatState(),this.isOtherUserTyping=!1,this.typingUserName=null,this.chatService.currentRoom&&(this.availableUsers=this.chatService.currentRoom.members,this.loadInitialMessages(this.chatService.currentRoom.conversationID))}),this.inputStatusSubscription=this.chatService.inputStatusHandler$.subscribe(t=>{if(!(!t||!this.chatService.currentRoom)&&t.conversationID===this.chatService.currentRoom.conversationID)if(this.isOtherUserTyping=t.platformIDs&&t.platformIDs.length>0,this.isOtherUserTyping&&t.userID&&this.availableUsers){let n=this.availableUsers.find(r=>r.userID===t.userID);this.typingUserName=n?.nickname||n?.userID||"Someone"}else this.typingUserName=null})}ngOnDestroy(){this.messageSubscription&&(this.messageSubscription.unsubscribe(),this.messageSubscription=null),this.inputStatusSubscription&&(this.inputStatusSubscription.unsubscribe(),this.inputStatusSubscription=null)}ngAfterViewChecked(){if(this.shouldScrollToBottom){this.scrollToBottom(),this.shouldScrollToBottom=!1;let t=setInterval(()=>{this.scrollToBottom()},100);setTimeout(()=>{clearInterval(t)},3e3)}}toggleChat(t){this.chatService.layoutState$.next(t),t==4&&this.chatService.positionState$.next(2)}recallMessage(){return ne(this,null,function*(){this.contextMenuMessage&&(this.contextMenuMessage.items.forEach(t=>ne(this,null,function*(){yield this.chatService.revokeMessage({clientMsgID:t.clientMsgID,conversationID:this.chatService.currentRoom.conversationID}),t.contentType=Z.RevokeMessage})),this.isContextMenuVisible=!1)})}replyMessage(t){this.replyingToMessage=t,this.isContextMenuVisible=!1,setTimeout(()=>{let n=document.querySelector(".message-input");n&&n.focus()},100)}cancelReply(){this.replyingToMessage=null}getReplyPreviewText(t){switch(t.contentType){case Z.TextMessage:return t.textElem?.content||"";case Z.PictureMessage:return"\u{1F4F7} Photo";case Z.VideoMessage:return"\u{1F3A5} Video";case Z.FileMessage:return`\u{1F4C4} ${t.fileElem?.fileName||"File"}`;default:return"Message"}}onMessageInput(t){let n=t.target.value;this.messageText=n;let r=n.lastIndexOf("@");if(r!==-1){let i=n.substring(r+1).toLowerCase();i.length>0?(this.filteredUsers=this.availableUsers.filter(o=>o.userID.toLowerCase().includes(i)),this.showUserSuggestions=this.filteredUsers.length>0):(this.filteredUsers=this.availableUsers,this.showUserSuggestions=!0)}else this.showUserSuggestions=!1;this.typingTimer&&clearTimeout(this.typingTimer),this.chatService.sendTypingStatus(this.chatService.currentRoom.conversationID)}sendMessage(){return ne(this,null,function*(){let t=Ge.createUniqueId();if(!this.canSendMessage()||!this.chatService.currentRoom)return;let n=[];this.messageText.trim()&&(this.replyingToMessage?n.push(this.chatService.sendReplyMessage({requestId:t,text:this.messageText,replyItem:this.replyingToMessage,groupID:this.chatService.currentRoom.groupID})):n.push(this.chatService.sendTextMessage({requestId:t,text:this.messageText,groupID:this.chatService.currentRoom.groupID})));for(let r of this.selectedFiles){let i={file:r.file,requestId:t,groupID:this.chatService.currentRoom.groupID};r.type==="image"&&(r.isUploading=!0,n.push(this.chatService.sendImageMessage(i))),r.type==="video"?(r.isUploading=!0,n.push(this.chatService.sendVideoMessage({file:r.file,requestId:t,duration:r.duration,thumbnail:r.thumbnailFile,groupID:this.chatService.currentRoom.groupID}))):(r.isUploading=!0,n.push(this.chatService.sendFileMessage(i)))}this.recordedAudio&&n.push(this.chatService.sendSoundMessage({requestId:t,file:this.recordedAudio.file,duration:this.recordedAudio.duration,groupID:this.chatService.currentRoom.groupID}));try{yield Promise.all(n).then(r=>{this.resetInputs(),this.messages.push(...r),this.recalculateMessageGroups(),this.shouldScrollToBottom=!0})}catch{this.resetInputs(),this.shouldScrollToBottom=!0,this.errorMessage="One or more messages failed to send."}})}getAvatarColor(t){if(!t)return"#CCCCCC";let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return`hsl(${n%360}, 70%, 40%)`}onScroll(t){return ne(this,null,function*(){t.target.scrollTop===0&&(yield this.loadMoreMessages())})}scrollToMessage(t){if(!t)return;let n=document.querySelector(`[data-message-id="${t}"]`);n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.add("highlight-message"),setTimeout(()=>{n.classList.remove("highlight-message")},2e3))}toggleReactionPicker(t){this.activeReactionGroup===t?this.activeReactionGroup=null:this.activeReactionGroup=t}sendReaction(t,n){console.log("Reaction selected:",n.emoji,"for message:",t.items[0]?.clientMsgID),this.activeReactionGroup=null}onTriggerDocumentClick(t){!t.target.closest(".reaction-trigger")&&this.activeReactionGroup&&(this.activeReactionGroup=null)}viewAttachment(t){let n="",r="download";switch(t.contentType){case Z.PictureMessage:if(t.pictureElem){n=t.pictureElem.sourcePicture.url;let i=this.messages.filter(o=>o.contentType==Z.PictureMessage).map(o=>o.pictureElem.sourcePicture.url);this.imageService.open(i,i.indexOf(n));return}break;case Z.VideoMessage:if(t.videoElem){n=t.videoElem.videoUrl;let i=this.messages.filter(o=>o.contentType==Z.VideoMessage).map(o=>o.videoElem.videoUrl);this.videoService.open(i,i.indexOf(n));return}break;case Z.FileMessage:t.fileElem&&(n=t.fileElem.sourceUrl,r=t.fileElem.fileName);break}if(!n){alert("Attachment data is missing.");return}n&&window.open(n,"_blank")}sendLocationMessage(){return ne(this,null,function*(){if(!navigator.geolocation){fn.Error("Geolocation is not supported by your browser","Error");return}fn.Success("Getting your location...","Please wait"),navigator.geolocation.getCurrentPosition(t=>ne(this,null,function*(){let{latitude:n,longitude:r}=t.coords,i=`Lat: ${n}, Lng: ${r}`;if(this.chatService.currentRoom)try{let o=Ge.createUniqueId(),s=yield this.chatService.sendLocationMessage({description:i,latitude:n,longitude:r,requestId:o,groupID:this.chatService.currentRoom.groupID});this.messages.push(...s),this.recalculateMessageGroups(),this.shouldScrollToBottom=!0,fn.Success("Location sent successfully","Success")}catch{fn.Error("Failed to send location","Error")}}),t=>{let n="Unable to retrieve your location";switch(t.code){case t.PERMISSION_DENIED:n="Location permission denied";break;case t.POSITION_UNAVAILABLE:n="Location information unavailable";break;case t.TIMEOUT:n="Location request timed out";break}fn.Error(n,"Error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}openLocation(t,n){let r=`https://www.google.com/maps/search/?api=1&query=${t},${n}`;window.open(r,"_blank")}downloadAttachment(t){let n="",r="download";switch(t.contentType){case Z.PictureMessage:t.pictureElem&&(n=t.pictureElem.sourcePicture.url,r=t.pictureElem.sourcePicture.uuid+".jpg");break;case Z.VideoMessage:t.videoElem&&(n=t.videoElem.videoUrl,r=t.videoElem.videoUUID+".mp4");break;case Z.FileMessage:t.fileElem&&(n=t.fileElem.sourceUrl,r=t.fileElem.fileName);break}if(!n){alert("Attachment data is missing.");return}let i=document.createElement("a");i.href=n,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}onMessageRightClick(t,n){t.preventDefault(),t.stopPropagation(),this.contextMenuMessage=n,this.contextMenuX=t.clientX,this.contextMenuY=t.clientY,this.isContextMenuVisible=!0}selectUser(t){let n=this.messageText.lastIndexOf("@");if(n!==-1){let r=this.messageText.substring(0,n);this.messageText=r+"@"+t.userID+" "}this.showUserSuggestions=!1}canSendMessage(){return this.messageText.trim().length>0||this.selectedFiles.length>0||this.recordedAudio!==null}onImageSelect(){this.imageInput&&this.imageInput.nativeElement&&this.imageInput.nativeElement.click()}onVideoSelect(){this.videoInput&&this.videoInput.nativeElement&&this.videoInput.nativeElement.click()}onDocumentSelect(){this.documentInput&&this.documentInput.nativeElement&&this.documentInput.nativeElement.click()}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker,this.showEmojiPicker&&(this.showUserSuggestions=!1)}selectEmoji(t){this.messageText+=t,this.showEmojiPicker=!1}onPaste(t){let n=t.clipboardData?.items;if(n)for(let r=0;r<n.length;r++){let i=n[r];if(i.type.indexOf("image")!==-1){let o=i.getAsFile();if(o){if(o.size>this.MAX_SIZE){fn.Error("Pasted image is too large. Maximum size is 5MB.","Error");continue}let s={file:o,name:`pasted-image-${Date.now()}.png`,type:"image",size:o.size,isUploading:!1},a=new FileReader;a.onload=c=>{s.preview=c.target?.result},a.readAsDataURL(o),this.selectedFiles.push(s),t.preventDefault()}}}}onFileSelected(t,n){return ne(this,null,function*(){let r=Array.from(t.target.files);if(!r.length)return;let i="2MB",o=2*1024*1024;for(let s of r){if(s.size>o){fn.Error(`File "${s.name}" is too large. Maximum size is ${i}.`,"Error");continue}if(n==="image"&&!s.type.startsWith("image/")){fn.Error(`File "${s.name}" is not a valid image.`,"Error");continue}let a={file:s,type:n,name:s.name,size:s.size,isUploading:!1};if(n==="image")a.preview=yield this.createImagePreview(s);else if(n==="video"){let c=yield this.getVideoMetadata(s);a.preview=c.thumbnailDataUrl,a.thumbnailFile=c.thumbnailFile,a.duration=c.duration}this.selectedFiles.push(a)}t.target.value=""})}clearSelectedFiles(){this.selectedFiles=[]}removeSelectedFile(t){this.selectedFiles.splice(t,1)}processMessageText(t){return t.replace(/@(\w+)/g,'<span class="mention">@$1</span>')}getFileMessages(t){return t.items.filter(n=>n.contentType===Z.FileMessage)}getImageMessages(t){return t.items.filter(n=>n.contentType===Z.PictureMessage)}getVideoMessages(t){return t.items.filter(n=>n.contentType===Z.VideoMessage)}getRevokedMessages(t){return t.items.filter(n=>n.contentType===Z.RevokeMessage)}getTextMessage(t){return t.items.find(n=>n.contentType===Z.TextMessage)||null}getSoundMessages(t){return t.items.filter(n=>n.contentType===Z.VoiceMessage)||null}getQuoteMessage(t){return t.items.find(n=>n.contentType===Z.QuoteMessage)||null}getLocationMessage(t){return t.items.find(n=>n.contentType===Z.LocationMessage)||null}resetInputs(){this.messageText="",this.selectedFiles=[],this.replyingToMessage=null,this.audioPreviewUrl&&(URL.revokeObjectURL(this.audioPreviewUrl),this.audioPreviewUrl=null),this.recordedAudio=null,this.recordingDuration=0,this.isAudioPlaying=!1}resetChatState(){this.messages=[],this.errorMessage=null,this.isLoadingMore=!1,this.oldestMessageID=null,this.noMoreOldMessages=!1,this.isLoadingHistory=!1}scrollToBottom(){try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(t){console.error("Could not scroll to bottom:",t)}}recalculateMessageGroups(){if(!this.messages||this.messages.length===0){this.groupedMessages=[];return}let t=[];if(this.messages.length>0){let n={items:[this.messages[0]],sendID:this.messages[0].sendID,isRead:this.messages[0].isRead,sendTime:this.messages[0].sendTime};t.push(n);for(let r=1;r<this.messages.length;r++){let i=this.messages[r],o=this.messages[r-1];i.contentType==Z.RevokeMessage&&o.contentType==Z.RevokeMessage||(this.canGroupMessages(o,i)?(n.items.push(i),n.isRead=i.isRead,n.sendTime=i.sendTime):(n={items:[i],sendID:i.sendID,isRead:i.isRead,sendTime:i.sendTime},t.push(n)))}}this.groupedMessages=t}loadMoreMessages(){return ne(this,null,function*(){if(!(this.isLoadingMore||this.noMoreOldMessages||!this.chatService.currentRoom?.conversationID||!this.oldestMessageID)){this.isLoadingMore=!0;try{let t=yield this.chatService.getHistoryMessages(this.chatService.currentRoom.conversationID,this.oldestMessageID);this.handleNewHistory(t,!0),this.messagesContainer.nativeElement.scrollTop=100}catch{this.errorMessage="Failed to load more messages."}finally{this.isLoadingMore=!1}}})}createImagePreview(t){return new Promise((n,r)=>{let i=new FileReader;i.onload=o=>n(o.target?.result),i.onerror=o=>r(o),i.readAsDataURL(t)})}loadInitialMessages(t){return ne(this,null,function*(){this.messages=[],this.errorMessage=null,this.groupedMessages=[],this.isLoadingHistory=!0;try{let n=yield this.chatService.getHistoryMessages(t);console.log("Loaded initial messages:",n),this.handleNewHistory(n),this.shouldScrollToBottom=!0}catch{this.errorMessage="Failed to load message history."}finally{this.isLoadingHistory=!1}})}canGroupMessages(t,n){let r=t.ex?JSON.parse(t.ex)?.requestId||JSON.parse(t.ex)?.albumId||JSON.parse(t.ex)?.albumID:"",i=n.ex?JSON.parse(n.ex)?.requestId||JSON.parse(n.ex)?.albumId||JSON.parse(n.ex)?.albumID:"";return r&&i&&r===i?t.sendID===n.sendID:!1}handleNewHistory(t,n=!1){t.length>0?(this.oldestMessageID=t[0].clientMsgID,this.messages=n?[...t,...this.messages]:t,this.recalculateMessageGroups()):this.noMoreOldMessages=!0}getVideoMetadata(t){return new Promise((n,r)=>{let i=document.createElement("video"),o=document.createElement("canvas"),s=o.getContext("2d");if(!s)return r(new Error("Canvas 2D context is not available."));let a=0;i.addEventListener("loadedmetadata",()=>{a=i.duration,i.currentTime=1}),i.addEventListener("seeked",()=>{o.width=i.videoWidth,o.height=i.videoHeight,s.drawImage(i,0,0,o.width,o.height);let c=o.toDataURL("image/jpeg");o.toBlob(u=>{if(!u)return r(new Error("Canvas to Blob conversion failed."));let l=new File([u],`thumbnail_${t.name}.jpg`,{type:"image/jpeg"});URL.revokeObjectURL(i.src),n({duration:a,thumbnailFile:l,thumbnailDataUrl:c})},"image/jpeg")}),i.addEventListener("error",c=>{r(new Error(`Error loading video: ${c.type}`)),URL.revokeObjectURL(i.src)}),i.src=URL.createObjectURL(t),i.load()})}checkAudioSupport(){this.audioSupported=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}toggleRecording(){return ne(this,null,function*(){this.isRecording?yield this.stopRecording():yield this.startRecording()})}startRecording(){return ne(this,null,function*(){try{this.mediaStream=yield navigator.mediaDevices.getUserMedia({audio:!0});let t=["audio/webm","audio/webm;codecs=opus","audio/ogg;codecs=opus","audio/mp4"],n="";for(let r of t)if(MediaRecorder.isTypeSupported(r)){n=r;break}if(!n){fn.Error("No supported audio format found","Error");return}this.mediaRecorder=new MediaRecorder(this.mediaStream,{mimeType:n}),this.audioChunks=[],this.recordingDuration=0,this.recordingStartTime=Date.now(),this.mediaRecorder.ondataavailable=r=>{r.data.size>0&&this.audioChunks.push(r.data)},this.mediaRecorder.onstop=()=>ne(this,null,function*(){let r=new Blob(this.audioChunks,{type:n}),i=Math.floor((Date.now()-this.recordingStartTime)/1e3),o=`voice-${Date.now()}.${this.getFileExtension(n)}`,s=new File([r],o,{type:n});this.audioPreviewUrl=URL.createObjectURL(r),this.recordedAudio={file:s,duration:i},this.mediaStream&&(this.mediaStream.getTracks().forEach(a=>a.stop()),this.mediaStream=null),this.recordingTimer&&(clearInterval(this.recordingTimer),this.recordingTimer=null),this.isRecording=!1}),this.mediaRecorder.start(),this.isRecording=!0,this.recordingTimer=setInterval(()=>{this.recordingDuration=Math.floor((Date.now()-this.recordingStartTime)/1e3)},1e3)}catch(t){console.error("Error starting recording:",t),fn.Error("Failed to start recording. Please check microphone permissions.","Error"),this.isRecording=!1}})}stopRecording(){return ne(this,null,function*(){this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop()})}deleteRecording(){return ne(this,null,function*(){this.isRecording&&(this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&(this.mediaRecorder.onstop=null,this.mediaRecorder.stop(),this.isRecording=!1),this.mediaStream&&(this.mediaStream.getTracks().forEach(t=>t.stop()),this.mediaStream=null)),this.audioPreviewUrl&&(URL.revokeObjectURL(this.audioPreviewUrl),this.audioPreviewUrl=null),this.recordedAudio=null,this.recordingDuration=0,this.isAudioPlaying=!1,this.recordingTimer&&(clearInterval(this.recordingTimer),this.recordingTimer=null)})}toggleAudioPlayback(){if(!this.audioPreview||!this.audioPreviewUrl)return;let t=this.audioPreview.nativeElement;this.isAudioPlaying?(t.pause(),this.isAudioPlaying=!1):(t.play(),this.isAudioPlaying=!0,t.onended=()=>{this.isAudioPlaying=!1})}getFileExtension(t){return{"audio/webm":"webm","audio/webm;codecs=opus":"webm","audio/ogg;codecs=opus":"ogg","audio/ogg":"ogg","audio/mp4":"m4a","audio/mpeg":"mp3"}[t]||"webm"}static \u0275fac=function(n){return new(n||e)(ge(Tn),ge(ar),ge(sr))};static \u0275cmp=Bt({type:e,selectors:[["app-center-panel"]],viewQuery:function(n,r){if(n&1&&(xi(Dx,5),xi(_x,5),xi(Cx,5),xi(bx,5),xi(Ix,5)),n&2){let i;ki(i=Pi())&&(r.imageInput=i.first),ki(i=Pi())&&(r.videoInput=i.first),ki(i=Pi())&&(r.documentInput=i.first),ki(i=Pi())&&(r.messagesContainer=i.first),ki(i=Pi())&&(r.audioPreview=i.first)}},hostBindings:function(n,r){n&1&&G("click",function(o){return r.onTriggerDocumentClick(o)},Ps)},decls:78,vars:39,consts:[["messagesContainer",""],["imageInput",""],["documentInput",""],["videoInput",""],["audioPreview",""],[1,"center-panel"],[1,"chat-header"],[1,"room-info"],[1,"room-avatar"],[1,"room-details"],["class","chat-actions",4,"ngIf"],[1,"chat-messages",3,"scroll"],[1,"date-separator"],["class","loading-indicator",4,"ngIf"],[3,"contextmenu",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["class","selected-files",4,"ngIf"],[1,"chat-input"],["class","user-suggestions",4,"ngIf"],["class","emoji-picker",4,"ngIf"],["class","reply-preview",4,"ngIf"],[1,"attachment-actions"],["title","Select video (MP4, MOV < 50MB)",1,"attachment-btn",3,"click"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z","fill","#89898A"],["d","M13.9501 23.2502C13.6101 23.2502 13.31 23.0202 13.22 22.6802L8.2701 2.68018C8.1701 2.28018 8.42009 1.87019 8.82009 1.77019C9.22009 1.67019 9.63006 1.91019 9.73006 2.32019L14.6801 22.3202C14.7801 22.7202 14.5301 23.1302 14.1301 23.2302C14.0701 23.2402 14.0101 23.2502 13.9501 23.2502Z","fill","#89898A"],["d","M1.99985 16.2501C1.66985 16.2501 1.37988 16.0401 1.27988 15.7101C1.15988 15.3101 1.38983 14.9001 1.78983 14.7801L11.3199 12.0001C11.7199 11.8801 12.1299 12.1101 12.2499 12.5101C12.3699 12.9101 12.1398 13.3201 11.7398 13.4401L2.20987 16.2201C2.13987 16.2401 2.06985 16.2501 1.99985 16.2501Z","fill","#89898A"],["title","Select image (JPG, PNG < 5MB)",1,"attachment-btn",3,"click"],["d","M18.3599 23.2499H5.58987C4.06987 23.2499 2.67987 22.4799 1.87987 21.1799C1.07987 19.8799 1.00987 18.2999 1.68987 16.9299L3.40987 13.4799C3.96987 12.3599 4.86987 11.6599 5.87987 11.5499C6.88987 11.4399 7.91987 11.9399 8.69987 12.9099L8.91987 13.1899C9.35987 13.7299 9.86987 14.0199 10.3699 13.9699C10.8699 13.9299 11.3299 13.5699 11.6699 12.9599L13.5599 9.54993C14.3399 8.13993 15.3799 7.40993 16.5099 7.45993C17.6299 7.51993 18.5899 8.35993 19.2299 9.83993L22.3599 17.1499C22.9399 18.4999 22.7999 20.0399 21.9899 21.2699C21.1899 22.5199 19.8299 23.2499 18.3599 23.2499ZM6.15987 13.0499C6.11987 13.0499 6.07987 13.0499 6.03987 13.0599C5.53987 13.1099 5.07987 13.5099 4.74987 14.1599L3.02987 17.6099C2.57987 18.4999 2.62987 19.5499 3.14987 20.3999C3.66987 21.2499 4.58987 21.7599 5.58987 21.7599H18.3499C19.3299 21.7599 20.1999 21.2899 20.7399 20.4699C21.2799 19.6499 21.3699 18.6699 20.9799 17.7699L17.8499 10.4599C17.4699 9.55993 16.9399 9.00993 16.4299 8.98993C15.9599 8.95993 15.3499 9.45993 14.8699 10.3099L12.9799 13.7199C12.3999 14.7599 11.4899 15.4099 10.4999 15.4999C9.50987 15.5799 8.49987 15.0999 7.74987 14.1599L7.52987 13.8799C7.10987 13.3299 6.62987 13.0499 6.15987 13.0499Z","fill","#89898A"],["d","M6.97021 9.25C4.91021 9.25 3.22021 7.57 3.22021 5.5C3.22021 3.43 4.90021 1.75 6.97021 1.75C9.04021 1.75 10.7202 3.43 10.7202 5.5C10.7202 7.57 9.04021 9.25 6.97021 9.25ZM6.97021 3.25C5.73021 3.25 4.72021 4.26 4.72021 5.5C4.72021 6.74 5.73021 7.75 6.97021 7.75C8.21021 7.75 9.22021 6.74 9.22021 5.5C9.22021 4.26 8.21021 3.25 6.97021 3.25Z","fill","#89898A"],["title","Select document (PDF, DOC, XLS < 10MB)",1,"attachment-btn",3,"click"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H14C14.41 1.75 14.75 2.09 14.75 2.5C14.75 2.91 14.41 3.25 14 3.25H9C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V10.5C21.25 10.09 21.59 9.75 22 9.75C22.41 9.75 22.75 10.09 22.75 10.5V15.5C22.75 20.93 20.43 23.25 15 23.25Z","fill","#89898A"],["d","M22 11.25H18C14.58 11.25 13.25 9.91999 13.25 6.49999V2.49999C13.25 2.19999 13.43 1.91999 13.71 1.80999C13.99 1.68999 14.31 1.75999 14.53 1.96999L22.53 9.96999C22.74 10.18 22.81 10.51 22.69 10.79C22.57 11.07 22.3 11.25 22 11.25ZM14.75 4.30999V6.49999C14.75 9.07999 15.42 9.74999 18 9.74999H20.19L14.75 4.30999Z","fill","#89898A"],["d","M13 14.25H7C6.59 14.25 6.25 13.91 6.25 13.5C6.25 13.09 6.59 12.75 7 12.75H13C13.41 12.75 13.75 13.09 13.75 13.5C13.75 13.91 13.41 14.25 13 14.25Z","fill","#89898A"],["d","M11 18.25H7C6.59 18.25 6.25 17.91 6.25 17.5C6.25 17.09 6.59 16.75 7 16.75H11C11.41 16.75 11.75 17.09 11.75 17.5C11.75 17.91 11.41 18.25 11 18.25Z","fill","#89898A"],["title","Select emoji",1,"attachment-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],[1,"attachment-btn",3,"click","disabled","title"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 15.5C14.21 15.5 16 13.71 16 11.5V6C16 3.79 14.21 2 12 2C9.79 2 8 3.79 8 6V11.5C8 13.71 9.79 15.5 12 15.5Z","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M4.35 9.65V11.35C4.35 15.57 7.78 19 12 19C16.22 19 19.65 15.57 19.65 11.35V9.65","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.61 6.43C11.51 6.1 12.49 6.1 13.39 6.43","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M11.2 8.55C11.73 8.41 12.28 8.41 12.81 8.55","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M12 19V22","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["class","recording-indicator",4,"ngIf"],["title","Share location",1,"attachment-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z","fill","#89898A"],[1,"input-container"],["class","recording-panel",4,"ngIf"],["type","text","placeholder","Type a message...",1,"message-input",3,"ngModelChange","input","keyup.enter","paste","ngModel"],[1,"send-btn",3,"click","disabled"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","22","y1","2","x2","11","y2","13"],["points","22,2 15,22 11,13 2,9 22,2"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","multiple","",2,"display","none",3,"change"],["type","file","accept",".pdf,.doc,.docx,.txt,.xls,.xlsx,.ppt,.pptx","multiple","",2,"display","none",3,"change"],["type","file","accept","video/*","multiple","",2,"display","none",3,"change"],["class","context-menu-container",3,"left","top","click",4,"ngIf"],[1,"chat-actions"],[1,"action-btn",3,"click"],["width","32","height","32","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 16L24 16","stroke","#292D32","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["fill","#000000","height","20px","width","20px","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512 512",0,"xml","space","preserve"],["d","M0,0v512h512V0H0z M477.867,477.867H34.133V34.133h443.733V477.867z"],["points",`126.533,102.4 199.111,102.4 199.111,68.267 68.267,68.267 68.267,199.111 102.4,199.111 102.4,126.538 
			198.422,222.558 222.556,198.423 		`],["points",`222.557,313.581 198.422,289.445 102.4,385.467 102.4,312.889 68.267,312.889 68.267,443.733 199.111,443.733 
			199.111,409.6 126.538,409.6 		`],["points",`409.6,312.889 409.6,385.467 313.578,289.444 289.444,313.578 385.462,409.6 312.889,409.6 312.889,443.733 
			443.733,443.733 443.733,312.889 		`],["points",`312.889,68.267 312.889,102.4 385.467,102.4 289.444,198.423 313.578,222.558 409.6,126.538 409.6,199.111 
			443.733,199.111 443.733,68.267 		`],[1,"loading-indicator"],[3,"contextmenu"],[1,"message"],["class","message-avatar",4,"ngIf"],[1,"message-content"],["class","revoked-message",4,"ngFor","ngForOf"],["class","message-text",4,"ngIf"],["class","image-gallery",3,"single","two","three","many",4,"ngIf"],["class","message-attachments",4,"ngFor","ngForOf"],["class","message-location",4,"ngIf"],["class","reaction-trigger",4,"ngIf"],[1,"message-meta"],["class","read-receipt-icon",3,"seen",4,"ngIf"],[1,"message-avatar"],["alt","Avatar",3,"src",4,"ngIf"],["class","avatar-initials",3,"background-color",4,"ngIf"],["alt","Avatar",3,"src"],[1,"avatar-initials"],[1,"revoked-message"],[4,"ngIf"],[1,"message-text"],["class","quoted-message clickable","title","Click to view original message",3,"click",4,"ngIf"],["title","Click to view original message",1,"quoted-message","clickable",3,"click"],[1,"quoted-sender"],[1,"quoted-text"],[1,"image-gallery"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"gallery-item"],["alt","Image",1,"gallery-image",3,"click","src"],[1,"image-overlay"],["title","View picture",1,"attachment-action-btn",3,"click"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["title","Download",1,"attachment-action-btn",3,"click"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","y1","15","x2","12","y2","3"],[1,"message-attachments"],[1,"attachment-video-container"],["alt","Video",1,"attachment-video",3,"click","src"],[1,"video-play-overlay",3,"click"],["viewBox","0 0 24 24",1,"play-icon"],["fill","currentColor","d","M8,5.14V19.14L19,12.14L8,5.14Z"],["class","video-duration",4,"ngIf"],["title","View video",1,"attachment-action-btn",3,"click"],[1,"video-duration"],[1,"attachment-document"],[1,"document-info"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2Z"],["points","14,2 14,8 20,8"],[1,"document-details"],[1,"document-name"],["class","attachment-size",4,"ngIf"],["title","Xem t\xE0i li\u1EC7u",1,"attachment-action-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"attachment-size"],[1,"attachment-sound"],[1,"sound-icon"],["d","M12 15.5C14.21 15.5 16 13.71 16 11.5V6C16 3.79 14.21 2 12 2C9.79 2 8 3.79 8 6V11.5C8 13.71 9.79 15.5 12 15.5Z","fill","currentColor"],["controls","",1,"sound-player",3,"src"],[1,"message-location"],[1,"location-card",3,"click"],[1,"location-icon"],["width","32","height","32","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z","fill","currentColor"],[1,"location-info"],[1,"location-label"],[1,"location-coords"],[1,"location-action"],[1,"reaction-trigger"],[1,"reaction-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 21.65C6.69 21.65 2.35 17.31 2.35 12C2.35 6.69 6.69 2.35 12 2.35C17.31 2.35 21.65 6.69 21.65 12C21.65 17.31 17.31 21.65 12 21.65Z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.5 10.5C9.32843 10.5 10 9.82843 10 9C10 8.17157 9.32843 7.5 8.5 7.5C7.67157 7.5 7 8.17157 7 9C7 9.82843 7.67157 10.5 8.5 10.5Z","fill","currentColor"],["d","M15.5 10.5C16.3284 10.5 17 9.82843 17 9C17 8.17157 16.3284 7.5 15.5 7.5C14.6716 7.5 14 8.17157 14 9C14 9.82843 14.6716 10.5 15.5 10.5Z","fill","currentColor"],["d","M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["class","reaction-picker",4,"ngIf"],[1,"reaction-picker"],["class","reaction-emoji",3,"title","click",4,"ngFor","ngForOf"],[1,"reaction-emoji",3,"click","title"],[1,"read-receipt-icon"],["fill","currentColor","viewBox","0 0 20 20"],["d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd","fill-rule","evenodd"],["d","M11.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-1.293-1.293a1 1 0 111.414-1.414L3 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd","fill-rule","evenodd"],[1,"typing-indicator"],[1,"typing-avatar"],[1,"typing-bubble"],[1,"typing-dot"],[1,"typing-text"],[1,"selected-files"],[1,"selected-files-header"],[1,"clear-files-btn",3,"click"],[1,"file-preview-list"],["class","file-preview-item",4,"ngFor","ngForOf"],[1,"file-preview-item"],[1,"file-preview-content"],["class","file-preview-image","alt","Preview",3,"src",4,"ngIf"],["class","file-preview-document",4,"ngIf"],[1,"file-info"],[1,"file-name"],[1,"file-size"],["title","Remove file",1,"remove-file-btn",3,"click"],["class","loading-overlay",4,"ngIf"],["alt","Preview",1,"file-preview-image",3,"src"],[1,"file-preview-document"],[1,"loading-overlay"],[1,"spinner"],[1,"user-suggestions"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"suggestion-avatar"],[1,"suggestion-info"],[1,"suggestion-name"],[1,"suggestion-email"],[1,"emoji-picker"],[1,"emoji-grid"],["class","emoji-item",3,"click",4,"ngFor","ngForOf"],[1,"emoji-item",3,"click"],[1,"reply-preview"],[1,"reply-preview-content"],[1,"reply-indicator"],[1,"reply-info"],[1,"reply-sender"],[1,"reply-text"],["title","Cancel reply",1,"reply-cancel-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"recording-indicator"],[1,"recording-panel"],[1,"recording-content"],["class","recording-wave",4,"ngIf"],["class","audio-play-btn",3,"title","click",4,"ngIf"],[2,"display","none",3,"src"],[1,"recording-info"],[1,"recording-label"],[1,"recording-duration"],[1,"recording-actions"],["title","Delete recording",1,"recording-action-btn","delete-btn",3,"click"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["class","recording-action-btn stop-btn","title","Stop recording",3,"click",4,"ngIf"],[1,"recording-wave"],[1,"wave-bar"],[1,"audio-play-btn",3,"click","title"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",4,"ngIf"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M8 5v14l11-7z"],["d","M6 4h4v16H6V4zm8 0h4v16h-4V4z"],["title","Stop recording",1,"recording-action-btn","stop-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["x","6","y","6","width","12","height","12","rx","2"],[1,"context-menu-container",3,"click"],[1,"context-menu-list"],[3,"click",4,"ngIf"],[3,"click"],["d","M9 11L6 14M6 14L9 17M6 14H14C16.2091 14 18 12.2091 18 10V9","stroke","#89898A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M12 22.7598C6.07 22.7598 1.25 17.9398 1.25 12.0098C1.25 6.07977 6.07 1.25977 12 1.25977C17.93 1.25977 22.75 6.07977 22.75 12.0098C22.75 17.9398 17.93 22.7598 12 22.7598ZM12 2.75977C6.9 2.75977 2.75 6.90977 2.75 12.0098C2.75 17.1098 6.9 21.2598 12 21.2598C17.1 21.2598 21.25 17.1098 21.25 12.0098C21.25 6.90977 17.1 2.75977 12 2.75977Z","fill","#89898A"],["d","M15.71 15.9395C15.58 15.9395 15.45 15.9095 15.33 15.8295L12.23 13.9795C11.46 13.5195 10.89 12.5095 10.89 11.6195V7.51953C10.89 7.10953 11.23 6.76953 11.64 6.76953C12.05 6.76953 12.39 7.10953 12.39 7.51953V11.6195C12.39 11.9795 12.69 12.5095 13 12.6895L16.1 14.5395C16.46 14.7495 16.57 15.2095 16.36 15.5695C16.21 15.8095 15.96 15.9395 15.71 15.9395Z","fill","#89898A"]],template:function(n,r){if(n&1){let i=ve();b(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),oe(4,"async"),V(5),oe(6,"async"),oe(7,"uppercase"),w(),b(8,"div",9)(9,"h3"),V(10),oe(11,"async"),w(),b(12,"p"),V(13),oe(14,"async"),w()()(),J(15,Mx,21,0,"div",10),oe(16,"async"),w(),b(17,"div",11,0),G("scroll",function(s){return z(i),W(r.onScroll(s))}),b(19,"div",12)(20,"span"),V(21,"00:07 Today"),w()(),J(22,Ex,3,0,"div",13)(23,Sx,3,0,"div",13)(24,Jx,18,24,"div",14)(25,Yx,10,2,"div",15),w(),J(26,nk,8,2,"div",16),b(27,"div",17),J(28,ik,2,1,"div",18)(29,sk,3,1,"div",19)(30,ak,12,2,"div",20),b(31,"div",21)(32,"button",22),G("click",function(){return z(i),W(r.onVideoSelect())}),me(),b(33,"svg",23),Y(34,"path",24)(35,"path",25)(36,"path",26),w()(),Ae(),b(37,"button",27),G("click",function(){return z(i),W(r.onImageSelect())}),me(),b(38,"svg",23),Y(39,"path",28)(40,"path",29),w()(),Ae(),b(41,"button",30),G("click",function(){return z(i),W(r.onDocumentSelect())}),me(),b(42,"svg",23),Y(43,"path",31)(44,"path",32)(45,"path",33)(46,"path",34),w()(),Ae(),b(47,"button",35),G("click",function(){return z(i),W(r.toggleEmojiPicker())}),me(),b(48,"svg",36),Y(49,"circle",37)(50,"path",38)(51,"line",39)(52,"line",40),w()(),Ae(),b(53,"button",41),G("click",function(){return z(i),W(r.toggleRecording())}),me(),b(54,"svg",42),Y(55,"path",43)(56,"path",44)(57,"path",45)(58,"path",46)(59,"path",47),w(),J(60,ck,2,1,"span",48),w(),Ae(),b(61,"button",49),G("click",function(){return z(i),W(r.sendLocationMessage())}),me(),b(62,"svg",50),Y(63,"path",51),w()()(),Ae(),b(64,"div",52),J(65,gk,17,6,"div",53),b(66,"input",54),Co("ngModelChange",function(s){return z(i),Rs(r.messageText,s)||(r.messageText=s),W(s)}),G("input",function(s){return z(i),W(r.onMessageInput(s))})("keyup.enter",function(){return z(i),W(r.sendMessage())})("paste",function(s){return z(i),W(r.onPaste(s))}),w(),b(67,"button",55),G("click",function(){return z(i),W(r.sendMessage())}),me(),b(68,"svg",56),Y(69,"line",57)(70,"polygon",58),w()()(),Ae(),b(71,"input",59,1),G("change",function(s){return z(i),W(r.onFileSelected(s,"image"))}),w(),b(73,"input",60,2),G("change",function(s){return z(i),W(r.onFileSelected(s,"document"))}),w(),b(75,"input",61,3),G("change",function(s){return z(i),W(r.onFileSelected(s,"video"))}),w()()(),J(77,vk,4,6,"div",62)}if(n&2){let i,o,s,a;M(3),rr("background-color",((i=se(4,27,r.selectedRoom$))==null?null:i.bgColor)||"#3b82f6"),M(2),et(" ",se(7,31,((o=se(6,29,r.selectedRoom$))==null?null:o.symbol)||"R0")," "),M(5),be(((s=se(11,33,r.selectedRoom$))==null?null:s.groupName)||"Room"),M(3),be((a=se(14,35,r.selectedRoom$))==null?null:a.emails),M(2),N("ngIf",se(16,37,r.chatService.layoutState$)==r.LayoutState.Minimize),M(7),N("ngIf",r.isLoadingMore),M(),N("ngIf",r.isLoadingHistory),M(),N("ngForOf",r.groupedMessages),M(),N("ngIf",r.isOtherUserTyping),M(),N("ngIf",r.selectedFiles.length>0),M(2),N("ngIf",r.showUserSuggestions),M(),N("ngIf",r.showEmojiPicker),M(),N("ngIf",r.replyingToMessage),M(23),$e("recording",r.isRecording),N("disabled",!r.audioSupported)("title",r.audioSupported?r.isRecording?"Stop recording":"Record voice message":"Browser does not support recording"),M(2),vo("stroke",r.isRecording?"#ef4444":"currentColor")("fill",r.isRecording?"#ef4444":"none"),M(5),N("ngIf",r.isRecording),M(5),N("ngIf",r.isRecording||r.recordedAudio),M(),$e("hidden-input",r.isRecording||r.recordedAudio),_o("ngModel",r.messageText),M(),N("disabled",!r.canSendMessage()),M(10),N("ngIf",r.isContextMenuVisible)}},dependencies:[At,Zr,$t,dn,Vi,Fo,Ao,rl,ha,Vo,ul,jo],styles:['@charset "UTF-8";.center-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;background:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid #e5e7eb;background:#fff}.room-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;max-width:calc(100% - 55px)}.room-info[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]{max-width:100%}.room-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:14px;aspect-ratio:1/1}.room-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#111827}.room-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:13px;color:#6b7280;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:calc(100% - 50px)}.chat-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f3f4f6;border-radius:6px;color:#6b7280;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px}.action-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 24px;display:flex;flex-direction:column;gap:16px}.date-separator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:16px 0}.date-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.message[_ngcontent-%COMP%]{gap:12px;display:flex;position:relative}.message.group[_ngcontent-%COMP%]   .message-attachments[_ngcontent-%COMP%]{margin-top:5px}.message.incoming[_ngcontent-%COMP%]{align-self:flex-start}.message.outgoing[_ngcontent-%COMP%]{align-self:flex-end;flex-direction:row-reverse}.message-content[_ngcontent-%COMP%]{position:relative}.reaction-trigger[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-14px;opacity:0;transition:opacity .2s ease;z-index:10}.message[_ngcontent-%COMP%]:hover   .reaction-trigger[_ngcontent-%COMP%]{opacity:1}.reaction-btn[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;border:none;background:#fff;box-shadow:0 2px 8px #00000026;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#ef4444;transition:all .2s ease}.reaction-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#fef2f2}.reaction-picker[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:0;background:#fff;border-radius:24px;box-shadow:0 4px 20px #00000026;padding:6px 8px;display:flex;gap:4px;margin-bottom:8px;animation:_ngcontent-%COMP%_reactionPopIn .2s ease;white-space:nowrap}@keyframes _ngcontent-%COMP%_reactionPopIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.reaction-emoji[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:transparent;border-radius:50%;cursor:pointer;font-size:20px;display:flex;align-items:center;justify-content:center;transition:all .15s ease}.reaction-emoji[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:scale(1.2)}.message-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;flex-shrink:0}.message-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.message-text[_ngcontent-%COMP%]{background:#f3f4f6;padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.4;color:#111827}.message.outgoing[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.typing-indicator[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280;font-style:italic;position:relative}.typing-indicator[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:4px;height:4px;border-radius:50%;background:#6b7280;margin-left:4px;animation:_ngcontent-%COMP%_typing 1.4s infinite}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-10px)}}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 0;align-self:flex-start}.typing-indicator[_ngcontent-%COMP%]   .typing-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;flex-shrink:0}.typing-indicator[_ngcontent-%COMP%]   .typing-avatar[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#6b7280;color:#fff;font-size:12px;font-weight:600}.typing-indicator[_ngcontent-%COMP%]   .typing-bubble[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:#f3f4f6;padding:12px 16px;border-radius:18px}.typing-indicator[_ngcontent-%COMP%]   .typing-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#9ca3af;border-radius:50%;animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.typing-indicator[_ngcontent-%COMP%]   .typing-dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   .typing-dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.typing-indicator[_ngcontent-%COMP%]   .typing-text[_ngcontent-%COMP%]{color:#6b7280;font-size:12px;font-style:italic}@keyframes _ngcontent-%COMP%_typingBounce{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-6px)}}.chat-input[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e5e7eb;background:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:0 16px}.attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.attachment-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;outline:none;font-size:14px;color:#111827;padding:8px 12px;margin-left:8px}.send-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#3b82f6;color:#fff;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.chat-messages[_ngcontent-%COMP%]{padding:16px}.chat-input[_ngcontent-%COMP%]{padding:12px 16px}.input-container[_ngcontent-%COMP%]{padding:6px 12px}.attachment-btn[_ngcontent-%COMP%], .send-btn[_ngcontent-%COMP%]{width:28px;height:28px}}.user-suggestions[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:16px;right:16px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a;max-height:200px;overflow-y:auto;z-index:1000;margin-bottom:8px}.suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background-color .2s}.suggestion-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.suggestion-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f3f4f6}.suggestion-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#3b82f6;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px;flex-shrink:0}.suggestion-info[_ngcontent-%COMP%]{flex:1;min-width:0}.suggestion-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#111827;margin-bottom:2px}.suggestion-email[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mention[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8;padding:2px 4px;border-radius:4px;font-weight:500}.message-attachments[_ngcontent-%COMP%]{margin-top:8px}.attachment[_ngcontent-%COMP%]{margin-bottom:8px}.attachment-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;cursor:pointer}.attachment-document[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px 12px;background:#f3f4f6;border-radius:8px;flex-direction:column;border:1px solid #e5e7eb}.attachment-size[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.chat-input[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:column}.attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:8px 16px;min-height:48px}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;outline:none;font-size:14px;color:#111827;padding:8px 12px;min-width:0}.send-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#3b82f6;color:#fff;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s;flex-shrink:0}.send-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.selected-files[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb;padding:12px 16px}.selected-files-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:13px;color:#6b7280}.clear-files-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ef4444;cursor:pointer;font-size:12px;padding:2px 6px;border-radius:4px}.clear-files-btn[_ngcontent-%COMP%]:hover{background:#fee2e2}.file-preview-list[_ngcontent-%COMP%]{gap:8px;display:flex}.file-preview-item[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;justify-content:space-between;background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:8px 12px}.file-preview-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.file-preview-image[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:cover;border-radius:4px}.file-preview-document[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#f3f4f6;border-radius:4px;color:#6b7280}.file-info[_ngcontent-%COMP%]{flex:1}.file-name[_ngcontent-%COMP%]{font-size:13px;color:#111827;font-weight:500;margin-bottom:2px}.file-size[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}.remove-file-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;font-size:16px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%}.remove-file-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#ef4444}.attachment-image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.attachment-actions[_ngcontent-%COMP%]{display:flex;transition:opacity .2s}.attachment-image-container[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%], .attachment-document[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%]{opacity:1}.attachment-action-btn[_ngcontent-%COMP%]{background:#000000b3;border:none;color:#fff;width:24px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .2s}.attachment-action-btn[_ngcontent-%COMP%]:hover{background:#000000e6}.document-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.document-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.document-name[_ngcontent-%COMP%]{font-size:13px;color:#111827;font-weight:500}.attachment-document[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{position:static;opacity:1}.attachment-document[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]{background:#e5e7eb;color:#6b7280}.attachment-document[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]:hover{background:#d1d5db;color:#374151}.emoji-picker[_ngcontent-%COMP%]{position:absolute;bottom:80px;left:16px;right:16px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 8px 25px -5px #0000001a,0 10px 10px -5px #0000000a;padding:16px;z-index:1000;max-width:400px;max-height:300px;overflow-y:auto}.emoji-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:8px}.emoji-item[_ngcontent-%COMP%]{padding:8px;border-radius:6px;cursor:pointer;text-align:center;font-size:20px;transition:background-color .2s;display:flex;align-items:center;justify-content:center;min-height:36px}.emoji-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.emoji-item[_ngcontent-%COMP%]:active{background-color:#e5e7eb;transform:scale(.95)}.input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:12px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:8px 16px;min-height:48px}.attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.attachment-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#d1d5db}.attachment-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.attachment-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.attachment-btn[_ngcontent-%COMP%]:disabled:hover{background:none;color:#6b7280}.attachment-btn[_ngcontent-%COMP%]:disabled:active{transform:none}.attachment-btn.recording[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;position:relative}.attachment-btn.recording[_ngcontent-%COMP%]:hover{background:#fecaca;color:#dc2626}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 #ef444466}50%{box-shadow:0 0 0 8px #ef444400}}.recording-indicator[_ngcontent-%COMP%]{position:absolute;bottom:-18px;left:50%;transform:translate(-50%);font-size:10px;font-weight:600;color:#ef4444;white-space:nowrap;background:#fff;padding:2px 6px;border-radius:4px;box-shadow:0 1px 3px #0000001a}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;outline:none;font-size:14px;color:#111827;padding:6px 12px 6px 0;min-width:0;transition:opacity .2s}.message-input.hidden-input[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.send-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#3b82f6;color:#fff;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s;flex-shrink:0}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.send-btn[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed}.send-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px;color:#6b7280;font-size:13px}.avatar-initials[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff;font-weight:600;font-size:16px;text-transform:uppercase}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#01010159;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;gap:8px;border-radius:8px}.loading-text[_ngcontent-%COMP%]{font-size:.9em;font-weight:500;color:#333}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #f3f3f3;border-top:3px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.attachment-video-container[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden;border-radius:8px;display:block}.attachment-video-container[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:flex;gap:8px;opacity:0;transition:opacity .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]{background-color:#0009;border:none;border-radius:50%;width:28px;height:28px;display:flex;justify-content:center;align-items:center;cursor:pointer;color:#fff}.attachment-video-container[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]:hover{background-color:#000c}.attachment-video-container[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.attachment-video[_ngcontent-%COMP%]{display:block;width:100%;height:auto;transition:filter .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]:hover   .attachment-video[_ngcontent-%COMP%]{filter:brightness(.7)}.video-play-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0003;transition:background-color .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]:hover   .video-play-overlay[_ngcontent-%COMP%]{background-color:#0006}.play-icon[_ngcontent-%COMP%]{width:56px;height:56px;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));transition:transform .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]:hover   .play-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.video-duration[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;background-color:#0009;color:#fff;padding:2px 8px;border-radius:4px;font-size:12px;font-weight:500}.attachment-video-container[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%]{opacity:1}.message-meta[_ngcontent-%COMP%]{gap:6px;display:flex;align-items:center;font-size:12px;color:#657786b3}.message-meta.incoming[_ngcontent-%COMP%]{margin-left:46px}.message-meta.outgoing[_ngcontent-%COMP%]{justify-content:flex-end;margin-right:10px}.read-receipt-icon[_ngcontent-%COMP%]{width:16px;height:16px}.read-receipt-icon.seen[_ngcontent-%COMP%]{color:#0084ff}.context-menu-container[_ngcontent-%COMP%]{position:fixed;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;z-index:5000;padding:8px;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.context-menu-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.context-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:6px;cursor:pointer;font-size:15px}.context-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}.context-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#555}.revoked-message[_ngcontent-%COMP%]{font-style:italic;color:#8e8e93;font-size:14px}.image-gallery[_ngcontent-%COMP%]{display:grid;gap:4px;margin-top:8px;border-radius:12px;overflow:hidden;max-width:400px}.image-gallery.single[_ngcontent-%COMP%]{grid-template-columns:1fr}.image-gallery.single[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{max-height:200px}.image-gallery.two[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.image-gallery.two[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{max-height:250px}.image-gallery.three[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.image-gallery.three[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]:first-child{grid-column:1/-1;max-height:250px}.image-gallery.three[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]:not(:first-child){max-height:200px}.image-gallery.many[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.image-gallery.many[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{max-height:200px}.image-gallery.many[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]:nth-child(n+5){display:none}.image-gallery.many[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]:nth-child(4){position:relative}.image-gallery.many[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]:nth-child(4):after{content:"+" attr(data-more);position:absolute;inset:0;background:#0009;color:#fff;display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:600}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:#f3f4f6;cursor:pointer}.gallery-item[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.gallery-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:transform .2s ease}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-image[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;opacity:0;transition:opacity .2s ease;display:flex;align-items:center;justify-content:center}.image-overlay[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{display:flex;gap:8px;opacity:1}.message-location[_ngcontent-%COMP%]{margin-top:8px}.location-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#f3f4f6;border-radius:12px;cursor:pointer;transition:background .2s;max-width:300px}.location-card[_ngcontent-%COMP%]:hover{background:#e5e7eb}.location-icon[_ngcontent-%COMP%]{color:#3b82f6;flex-shrink:0}.location-info[_ngcontent-%COMP%]{flex:1;min-width:0}.location-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#111827;margin-bottom:2px}.location-coords[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:4px}.location-action[_ngcontent-%COMP%]{font-size:11px;color:#3b82f6}.reply-preview[_ngcontent-%COMP%]{padding:8px 12px;background:#f3f4f6;border-bottom:1px solid #e5e7eb;margin-bottom:8px;border-radius:8px}.reply-preview-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.reply-indicator[_ngcontent-%COMP%]{width:3px;height:40px;background:#3b82f6;border-radius:2px;flex-shrink:0}.reply-info[_ngcontent-%COMP%]{flex:1;min-width:0}.reply-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3b82f6;margin-bottom:2px}.reply-text[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reply-cancel-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0;transition:all .2s}.reply-cancel-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.quoted-message[_ngcontent-%COMP%]{padding:8px 12px;margin-bottom:8px;background:#0000000d;border-left:3px solid #3b82f6;border-radius:4px;transition:all .2s}.message.outgoing[_ngcontent-%COMP%]   .quoted-message[_ngcontent-%COMP%]{background:#ffffff26;border-left-color:#ffffff80}.quoted-message.clickable[_ngcontent-%COMP%]{cursor:pointer}.quoted-message.clickable[_ngcontent-%COMP%]:hover{background:#0000001a;border-left-color:#2563eb}.message.outgoing[_ngcontent-%COMP%]   .quoted-message.clickable[_ngcontent-%COMP%]:hover{background:#ffffff40}.highlight-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightPulse 2s ease-out}@keyframes _ngcontent-%COMP%_highlightPulse{0%{background-color:#3b82f64d}50%{background-color:#3b82f626}to{background-color:transparent}}.quoted-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3b82f6;margin-bottom:2px}.message.outgoing[_ngcontent-%COMP%]   .quoted-sender[_ngcontent-%COMP%]{color:#ffffffe6}.quoted-text[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.message.outgoing[_ngcontent-%COMP%]   .quoted-text[_ngcontent-%COMP%]{color:#ffffffb3}.recording-panel[_ngcontent-%COMP%]{position:absolute;inset:0 60px 0 0;display:flex;align-items:center;padding:8px 16px;background:linear-gradient(135deg,#fef3c7,#fed7aa);border-radius:24px;z-index:10;animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.recording-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;width:100%}.recording-wave[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;height:24px}.wave-bar[_ngcontent-%COMP%]{width:3px;background:#f59e0b;border-radius:2px;animation:_ngcontent-%COMP%_wave 1.2s ease-in-out infinite}.wave-bar[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s;height:8px}.wave-bar[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s;height:14px}.wave-bar[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s;height:20px}.wave-bar[_ngcontent-%COMP%]:nth-child(4){animation-delay:.3s;height:14px}.wave-bar[_ngcontent-%COMP%]:nth-child(5){animation-delay:.4s;height:10px}@keyframes _ngcontent-%COMP%_wave{0%,to{transform:scaleY(.5)}50%{transform:scaleY(1)}}.voice-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:50%;flex-shrink:0}.recording-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.recording-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#92400e}.recording-duration[_ngcontent-%COMP%]{font-size:12px;color:#b45309;font-weight:500}.audio-play-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:50%;background:#3b82f6;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;transition:all .2s}.audio-play-btn[_ngcontent-%COMP%]:hover{background:#2563eb;transform:scale(1.05)}.audio-play-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.recording-actions[_ngcontent-%COMP%]{display:flex;gap:6px;margin-left:auto}.recording-action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0}.recording-action-btn.delete-btn[_ngcontent-%COMP%]{background:#fecaca;color:#dc2626}.recording-action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#f87171;transform:scale(1.05)}.recording-action-btn.stop-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.recording-action-btn.stop-btn[_ngcontent-%COMP%]:hover{background:#2563eb;transform:scale(1.05)}.attachment-sound[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#00000008;border-radius:12px;max-width:350px}.sound-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#dbeafe;border-radius:50%;flex-shrink:0;color:#3b82f6}.sound-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.sound-waveform[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px;height:20px}.waveform-bar[_ngcontent-%COMP%]{width:2px;background:#93c5fd;border-radius:1px}.waveform-bar[_ngcontent-%COMP%]:nth-child(1){height:6px}.waveform-bar[_ngcontent-%COMP%]:nth-child(2){height:10px}.waveform-bar[_ngcontent-%COMP%]:nth-child(3){height:14px}.waveform-bar[_ngcontent-%COMP%]:nth-child(4){height:8px}.waveform-bar[_ngcontent-%COMP%]:nth-child(5){height:16px}.waveform-bar[_ngcontent-%COMP%]:nth-child(6){height:12px}.waveform-bar[_ngcontent-%COMP%]:nth-child(7){height:10px}.waveform-bar[_ngcontent-%COMP%]:nth-child(8){height:14px}.waveform-bar[_ngcontent-%COMP%]:nth-child(9){height:8px}.waveform-bar[_ngcontent-%COMP%]:nth-child(10){height:6px}.sound-duration[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;font-weight:500}.sound-player[_ngcontent-%COMP%]{width:100%;height:36px;outline:none;min-width:250px;background-color:#fff;border-radius:20px;padding:0}']})}});function yk(e,t){if(e&1){let n=ve();b(0,"button",10),G("click",function(i){z(n);let o=R(2);return o.previous(),W(o.stopPropagation(i))}),V(1," \u276E "),w()}}function Dk(e,t){if(e&1){let n=ve();b(0,"button",11),G("click",function(i){z(n);let o=R(2);return o.next(),W(o.stopPropagation(i))}),V(1," \u276F "),w()}}function _k(e,t){if(e&1){let n=ve();b(0,"div",1),G("click",function(){z(n);let i=R();return W(i.close())}),b(1,"button",2),G("click",function(){z(n);let i=R();return W(i.close())}),V(2,"\xD7"),w(),b(3,"a",3),G("click",function(i){z(n);let o=R();return W(o.stopPropagation(i))}),me(),b(4,"svg",4),Y(5,"path",5),w()(),J(6,yk,2,0,"button",6)(7,Dk,2,0,"button",7),Ae(),b(8,"div",8)(9,"img",9),G("click",function(i){z(n);let o=R();return W(o.stopPropagation(i))}),w()()()}if(e&2){let n=t.ngIf,r=R();M(3),N("href",r.currentImage,yt),M(3),N("ngIf",n.images.length>1),M(),N("ngIf",n.images.length>1),M(2),N("src",r.currentImage,yt)}}var dl,K_=L(()=>{"use strict";bt();ze();Ks();bt();dl=class e{constructor(t){this.imageViewerService=t;this.viewerData$=this.imageViewerService.viewerData$}viewerData$;currentImage=null;subscription;ngOnInit(){this.subscription=this.viewerData$.subscribe(t=>{t?this.currentImage=t.images[t.currentIndex]:this.currentImage=null})}ngOnDestroy(){this.subscription.unsubscribe()}handleKeyboardEvent(t){this.currentImage&&(t.key==="Escape"&&this.close(),t.key==="ArrowRight"&&this.next(),t.key==="ArrowLeft"&&this.previous())}close(){this.imageViewerService.close()}next(){this.imageViewerService.next()}previous(){this.imageViewerService.previous()}stopPropagation(t){t.stopPropagation()}static \u0275fac=function(n){return new(n||e)(ge(ar))};static \u0275cmp=Bt({type:e,selectors:[["app-image-viewer"]],hostBindings:function(n,r){n&1&&G("keydown",function(o){return r.handleKeyboardEvent(o)},ks)},decls:2,vars:3,consts:[["class","viewer-overlay",3,"click",4,"ngIf"],[1,"viewer-overlay",3,"click"],[1,"control-btn","close-btn",3,"click"],["download","",1,"control-btn","download-btn",3,"click","href"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"],["class","control-btn nav-btn prev-btn",3,"click",4,"ngIf"],["class","control-btn nav-btn next-btn",3,"click",4,"ngIf"],[1,"image-container"],["alt","Image viewer",1,"main-image",3,"click","src"],[1,"control-btn","nav-btn","prev-btn",3,"click"],[1,"control-btn","nav-btn","next-btn",3,"click"]],template:function(n,r){n&1&&(J(0,_k,10,4,"div",0),oe(1,"async")),n&2&&N("ngIf",se(1,1,r.viewerData$))},dependencies:[At,$t,dn],styles:[".viewer-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;display:flex;justify-content:center;align-items:center;z-index:2000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.image-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:90%;height:90%}.main-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:4px;box-shadow:0 0 30px #00000080}.control-btn[_ngcontent-%COMP%]{position:absolute;background-color:#1e1e1e99;color:#fff;border:none;cursor:pointer;border-radius:50%;display:flex;justify-content:center;align-items:center;transition:background-color .2s}.control-btn[_ngcontent-%COMP%]:hover{background-color:#000c}.close-btn[_ngcontent-%COMP%]{top:20px;right:20px;width:44px;height:44px;font-size:28px;line-height:44px}.download-btn[_ngcontent-%COMP%]{top:20px;right:80px;width:44px;height:44px;text-decoration:none}.download-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.nav-btn[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);width:48px;height:48px;font-size:24px;font-weight:700}.prev-btn[_ngcontent-%COMP%]{left:20px}.next-btn[_ngcontent-%COMP%]{right:20px}"]})}});function Ck(e,t){if(e&1){let n=ve();b(0,"button",7),G("click",function(i){z(n);let o=R(2);return o.previous(),W(o.stopPropagation(i))}),V(1," \u276E "),w()}}function bk(e,t){if(e&1){let n=ve();b(0,"button",8),G("click",function(i){z(n);let o=R(2);return o.next(),W(o.stopPropagation(i))}),V(1," \u276F "),w()}}function Ik(e,t){if(e&1&&(b(0,"video",9),V(1," Your browser does not support the video tag. "),w()),e&2){let n=R(2);N("src",n.currentVideoUrl,yt)}}function wk(e,t){if(e&1){let n=ve();b(0,"div",1),G("click",function(){z(n);let i=R();return W(i.close())}),b(1,"button",2),G("click",function(){z(n);let i=R();return W(i.close())}),V(2,"\xD7"),w(),J(3,Ck,2,0,"button",3)(4,bk,2,0,"button",4),b(5,"div",5),G("click",function(i){z(n);let o=R();return W(o.stopPropagation(i))}),J(6,Ik,2,1,"video",6),w()()}if(e&2){let n=t.ngIf,r=R();M(3),N("ngIf",n.urls.length>1),M(),N("ngIf",n.urls.length>1),M(2),N("ngIf",r.currentVideoUrl)}}var fl,X_=L(()=>{"use strict";bt();ze();Qs();bt();fl=class e{constructor(t){this.videoViewerService=t;this.viewerData$=this.videoViewerService.viewerData$}viewerData$;currentVideoUrl=null;subscription;ngOnInit(){this.subscription=this.viewerData$.subscribe(t=>{t?this.currentVideoUrl=t.urls[t.currentIndex]:this.currentVideoUrl=null})}ngOnDestroy(){this.subscription.unsubscribe()}handleKeyboardEvent(t){this.currentVideoUrl&&(t.key==="Escape"&&this.close(),t.key==="ArrowRight"&&this.next(),t.key==="ArrowLeft"&&this.previous())}close(){this.videoViewerService.close()}next(){this.videoViewerService.next()}previous(){this.videoViewerService.previous()}stopPropagation(t){t.stopPropagation()}static \u0275fac=function(n){return new(n||e)(ge(sr))};static \u0275cmp=Bt({type:e,selectors:[["app-video-viewer"]],hostBindings:function(n,r){n&1&&G("keydown",function(o){return r.handleKeyboardEvent(o)},ks)},decls:2,vars:3,consts:[["class","viewer-overlay",3,"click",4,"ngIf"],[1,"viewer-overlay",3,"click"],[1,"control-btn","close-btn",3,"click"],["class","control-btn nav-btn prev-btn",3,"click",4,"ngIf"],["class","control-btn nav-btn next-btn",3,"click",4,"ngIf"],[1,"video-container",3,"click"],["class","main-video","controls","","autoplay","","playsinline","",3,"src",4,"ngIf"],[1,"control-btn","nav-btn","prev-btn",3,"click"],[1,"control-btn","nav-btn","next-btn",3,"click"],["controls","","autoplay","","playsinline","",1,"main-video",3,"src"]],template:function(n,r){n&1&&(J(0,wk,7,3,"div",0),oe(1,"async")),n&2&&N("ngIf",se(1,1,r.viewerData$))},dependencies:[At,$t,dn],styles:['@charset "UTF-8";.viewer-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;display:flex;justify-content:center;align-items:center;z-index:3000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.video-container[_ngcontent-%COMP%]{position:relative;width:90%;max-width:1200px}.main-video[_ngcontent-%COMP%]{width:100%;max-height:90vh;border-radius:4px}.control-btn[_ngcontent-%COMP%]{position:absolute;background-color:#1e1e1e99;color:#fff;border:none;cursor:pointer;border-radius:50%;display:flex;justify-content:center;align-items:center;transition:background-color .2s;z-index:3001}.control-btn[_ngcontent-%COMP%]:hover{background-color:#000c}.close-btn[_ngcontent-%COMP%]{top:20px;right:20px;width:44px;height:44px;font-size:28px;line-height:44px}.nav-btn[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);width:48px;height:48px;font-size:24px;font-weight:700}.prev-btn[_ngcontent-%COMP%]{left:20px}.next-btn[_ngcontent-%COMP%]{right:20px}']})}});function Mk(e,t){if(e&1&&(b(0,"div",3),Y(1,"app-left-panel"),w()),e&2){let n=R();N("ngStyle",Ni(1,eC,n.top))}}function Ek(e,t){if(e&1&&(b(0,"div",4),oe(1,"async"),Y(2,"app-left-panel")(3,"app-center-panel")(4,"app-right-panel"),w()),e&2){let n=R();$e("maximize",se(1,3,n.chatService.layoutState$)==n.LayoutState.Maximize),N("ngStyle",Ni(5,eC,n.top))}}function Sk(e,t){e&1&&(b(0,"div",8),Y(1,"app-center-panel"),w())}function Tk(e,t){if(e&1&&(b(0,"div",22),V(1),oe(2,"async"),oe(3,"async"),w()),e&2){let n,r=R(3);M(),et(" ",((n=se(2,1,r.selectedRoom$))==null?null:n.conversation)&&se(3,3,r.selectedRoom$).conversation.unreadCount," ")}}function xk(e,t){if(e&1){let n=ve();b(0,"div",9),G("click",function(){z(n);let i=R(2);return W(i.toggleChat(i.LayoutState.Minimize))}),b(1,"div",10)(2,"div",11),oe(3,"async"),V(4),oe(5,"async"),oe(6,"uppercase"),w(),b(7,"div",12)(8,"div",13),V(9),oe(10,"async"),w(),b(11,"div",14),V(12,"Online"),w()()(),b(13,"div",15),J(14,Tk,4,5,"div",16),oe(15,"async"),oe(16,"async"),b(17,"button",17),G("click",function(i){z(n);let o=R(2);return o.toggleChat(o.LayoutState.Icon),W(i.stopPropagation())}),me(),b(18,"svg",18),Y(19,"path",19),w()(),Ae(),b(20,"button",20),G("click",function(i){z(n);let o=R(2);return o.toggleChat(o.LayoutState.Close),W(i.stopPropagation())}),me(),b(21,"svg",18),Y(22,"path",21),w()()()()}if(e&2){let n,r,i,o,s=R(2);M(2),rr("background-color",((n=se(3,5,s.selectedRoom$))==null?null:n.bgColor)||"#3b82f6"),M(2),et(" ",se(6,9,((r=se(5,7,s.selectedRoom$))==null?null:r.symbol)||"R0")," "),M(5),be(((i=se(10,11,s.selectedRoom$))==null?null:i.groupName)||"Room"),M(5),N("ngIf",((o=se(15,13,s.selectedRoom$))==null?null:o.conversation)&&se(16,15,s.selectedRoom$).conversation.unreadCount)}}function kk(e,t){if(e&1){let n=ve();b(0,"button",9),G("click",function(){z(n);let i=R(2);return W(i.toggleChat(i.LayoutState.Minibar))}),me(),b(1,"svg",23),Y(2,"path",24),w()()}}function Pk(e,t){if(e&1&&(b(0,"div",5),oe(1,"async"),oe(2,"async"),oe(3,"async"),oe(4,"async"),J(5,Sk,2,0,"div",6),oe(6,"async"),J(7,xk,23,17,"div",7),oe(8,"async"),J(9,kk,3,0,"button",7),oe(10,"async"),w()),e&2){let n=R();$e("close",se(1,11,n.chatService.layoutState$)==n.LayoutState.Close)("icon",se(2,13,n.chatService.layoutState$)==n.LayoutState.Icon)("minibar",se(3,15,n.chatService.layoutState$)==n.LayoutState.Minibar)("minimize",se(4,17,n.chatService.layoutState$)==n.LayoutState.Minimize),M(5),N("ngIf",se(6,19,n.chatService.layoutState$)==n.LayoutState.Minimize),M(2),N("ngIf",se(8,21,n.chatService.layoutState$)==n.LayoutState.Minibar),M(2),N("ngIf",se(10,23,n.chatService.layoutState$)==n.LayoutState.Icon)}}var eC,pl,tC=L(()=>{"use strict";yn();Ys();xr();bt();ba();$o();$_();W_();Q_();K_();X_();ze();Hs();Po();bt();eC=e=>({top:e});pl=class e{constructor(t,n){this.service=t;this.chatService=n}uid="";top="";email="";phone="";gender=0;avatar="";type="customer";layout=1;position=2;members=[];LayoutState=Gi;PositionState=Hi;selectedRoom$;toggleChat(t){this.layout=t,this.chatService.layoutState$.next(t),t==4&&this.chatService.positionState$.next(2)}ngOnInit(){return ne(this,null,function*(){if(!this.uid)return;this.type||(this.type="customer"),this.layout||(this.layout=1),this.position||(this.position=2),this.chatService.layoutState$.next(this.layout),this.chatService.positionState$.next(this.position);let t=yield this.service.getUserToken(this.uid);t?(this.email||this.gender||this.phone)&&(yield this.service.updateUserInfo({type:this.type,userID:this.uid,phone:this.phone,email:this.email,gender:this.gender,faceURL:this.avatar})):yield this.service.userRegister({type:this.type,userID:this.uid,phone:this.phone,email:this.email,gender:this.gender,faceURL:this.avatar}),t&&(yield this.chatService.init(),yield this.chatService.login(this.uid).then(()=>ne(this,null,function*(){let n=yield this.service.getUsers(1e3);switch(this.type){case"sale":{let r=yield this.service.getJoinedRooms(this.uid);r&&r.length>0&&(this.chatService.listConversations=yield this.chatService.conversations(),this.chatService.listConversations&&this.chatService.listConversations.length>0&&r.forEach(i=>ne(this,null,function*(){let o=this.chatService.listConversations.find(a=>a.groupID==i.groupID);if(o&&(i.conversation=o,i.conversationID=o.conversationID,i.lastMessage=o.latestMsg?JSON.parse(o.latestMsg):null,i.lastMessage))switch(i.lastMessage.contentType){case Z.FileMessage:i.lastMessage.textElem={content:"New File..."};break;case Z.VideoMessage:i.lastMessage.textElem={content:"New Video..."};break;case Z.PictureMessage:i.lastMessage.textElem={content:"New Picture..."};break}let s=yield this.chatService.getGroupMembers(i.groupID);s&&s.length>0&&(i.members=s,s.forEach(a=>{let c=n.find(u=>u.userID==a.userID);c&&(a.email=c.email,a.phone=c.phone,a.type=c.type||"customer")}),i.emails=s.filter(a=>a.email).map(a=>a.email).join(", "))}))),this.chatService.setRooms(r)}break;case"customer":{let r=n.filter(i=>i.type=="sale");if(r&&r.length>0){let i=r.map(u=>u.userID),o=Ge.getRandomElement(r),s=yield this.service.getOnlineUsers(i);if(s&&s.length>0){let u=Ge.getRandomElement(s);u&&(o=r.find(l=>l.userID==u.userID))}let a=yield this.service.getJoinedRooms(this.uid);(!a||a.length==0)&&(yield this.service.createRoom({ownerUserID:o.userID,memberUserIDs:[this.uid],bgColor:Ge.getRandomDarkColor(),groupName:"Room: "+o.nickname+" - "+this.uid}),a=yield this.service.getJoinedRooms(this.uid));let c=yield this.chatService.conversations();c&&c.length>0&&a.forEach(u=>ne(this,null,function*(){let l=c.find(p=>p.groupID==u.groupID);l&&(u.conversation=l,u.conversationID=l.conversationID,u.lastMessage=l.latestMsg?JSON.parse(l.latestMsg):null);let d=yield this.chatService.getGroupMembers(u.groupID);d&&d.length>0&&(u.members=d,d.forEach(p=>{let f=n.find(g=>g.userID==p.userID);f&&(p.email=f.email,p.phone=f.phone,p.type=f.type||"customer")}),u.emails=d.map(p=>p.email).join(", "))})),this.chatService.setRooms(a)}}break}this.selectFirstAvailableRoom()})))})}openChat=()=>{this.chatService.positionState$.value==2?(this.chatService.layoutState$.value==4&&this.chatService.layoutState$.next(0),this.chatService.positionState$.next(1)):this.chatService.positionState$.next(2)};selectFirstAvailableRoom(){this.chatService.rooms$.pipe(Pr(t=>t&&t.length>0),vd(1)).subscribe(t=>{let n=t[0];this.chatService.setSelectedRoom(n)}),this.selectedRoom$=this.chatService.selectedRoom$}static \u0275fac=function(n){return new(n||e)(ge(ir),ge(Tn))};static \u0275cmp=Bt({type:e,selectors:[["app-chat-widget"]],inputs:{uid:"uid",top:"top",email:"email",phone:"phone",gender:"gender",avatar:"avatar",type:"type",layout:"layout",position:"position",openChat:"openChat"},features:[bo([oa])],decls:9,vars:11,consts:[["class","chat-widget position-top",3,"ngStyle",4,"ngIf"],["class","chat-widget",3,"maximize","ngStyle",4,"ngIf"],["class","chat-widget",3,"close","icon","minibar","minimize",4,"ngIf"],[1,"chat-widget","position-top",3,"ngStyle"],[1,"chat-widget",3,"ngStyle"],[1,"chat-widget"],["class","chat-container",4,"ngIf"],["class","chat-launcher","title","Open chat",3,"click",4,"ngIf"],[1,"chat-container"],["title","Open chat",1,"chat-launcher",3,"click"],[1,"header-info"],[1,"avatar"],[1,"room-details"],[1,"room-name"],[1,"room-status"],[1,"header-actions"],["class","notification-badge",4,"ngIf"],["title","Minimize",1,"header-btn",3,"click"],["viewBox","0 0 24 24","fill","currentColor"],["d","M19 13H5v-2h14v2z"],["title","Close",1,"header-btn",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],[1,"notification-badge"],["fill","currentColor","viewBox","0 0 24 24"],["d","M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"]],template:function(n,r){n&1&&(J(0,Mk,2,3,"div",0),oe(1,"async"),oe(2,"async"),J(3,Ek,5,7,"div",1),oe(4,"async"),J(5,Pk,11,25,"div",2),oe(6,"async"),Y(7,"app-image-viewer")(8,"app-video-viewer")),n&2&&(N("ngIf",se(1,3,r.chatService.positionState$)==r.PositionState.Top&&se(2,5,r.chatService.layoutState$)!=r.LayoutState.Maximize),M(3),N("ngIf",se(4,7,r.chatService.layoutState$)==r.LayoutState.Maximize),M(2),N("ngIf",se(6,9,r.chatService.layoutState$)!=r.LayoutState.Maximize))},dependencies:[At,$t,wh,dn,Vi,al,ll,cl,dl,fl],styles:['@charset "UTF-8";.chat-widget[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-radius:8px;overflow:hidden}.chat-widget.icon[_ngcontent-%COMP%]{right:20px;width:60px;bottom:20px;height:60px;z-index:1000;position:fixed;border-radius:100%;background-color:transparent}.chat-widget.close[_ngcontent-%COMP%]{display:none}.chat-widget.maximize[_ngcontent-%COMP%]{top:0;bottom:0;height:auto;z-index:1000;position:fixed}.chat-widget.position-top[_ngcontent-%COMP%]{top:0;right:2px;height:auto;width:405px;z-index:1000;position:fixed;max-height:550px}  .chat-widget.minibar{right:2px;bottom:2px;width:450px;height:auto;z-index:1000;position:fixed}  .chat-widget.minibar .chat-launcher{color:#000;border-radius:unset;background-color:transparent}  .chat-widget.minimize{right:2px;bottom:2px;width:450px;height:400px;z-index:1000;position:fixed}  .chat-widget.minimize .chat-container{width:100%}  .chat-widget.minimize .chat-container .center-panel{height:100%}  .chat-widget.position-top .left-panel{padding:16px 0 0}@media (max-width: 1024px){.chat-widget[_ngcontent-%COMP%]{height:auto;flex-direction:column}.chat-widget[_ngcontent-%COMP%]   app-left-panel[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow-y:auto}.chat-widget[_ngcontent-%COMP%]   app-right-panel[_ngcontent-%COMP%]{width:100%;height:auto;max-height:400px;overflow-y:auto}}@media (max-width: 768px){.chat-widget[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}}.chat-widget[_ngcontent-%COMP%]   app-center-panel[_ngcontent-%COMP%]{flex:1;min-width:0}.chat-launcher[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#007aff;color:#fff;border-radius:100%;border:none;cursor:pointer;display:flex;justify-content:center;align-items:center;box-shadow:0 3px 10px #0003;transform-origin:bottom right;opacity:1;transform:scale(1);transition:opacity .2s ease-out,transform .2s ease-out}.chat-launcher[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px}.chat-header[_ngcontent-%COMP%], .chat-launcher[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;flex-shrink:0}.chat-header[_ngcontent-%COMP%]{background-color:#f7f7f7;border-bottom:1px solid #e5e5e5}.header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-grow:1}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#007aff;color:#fff;display:flex;justify-content:center;align-items:center;font-weight:700}.room-details[_ngcontent-%COMP%]   .room-name[_ngcontent-%COMP%]{font-weight:600}.room-details[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]{font-size:13px;color:#34c759}.room-details[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]:before{content:"\\25cf";margin-right:4px}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.notification-badge[_ngcontent-%COMP%]{background-color:#ff3b30;color:#fff;width:24px;height:24px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:14px;font-weight:700}.header-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#8e8e93;width:28px;height:28px}.position-top[_ngcontent-%COMP%]{width:fit-content;border-radius:10px}']})}});var Nk=vl(nC=>{hm();mm();BD();HD();I_();tC();ne(null,null,function*(){let e=yield Rh(UD),t=GD(pl,{injector:e.injector});customElements.define("chat-widget",t)})});Nk();
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular v<unknown>
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/core/fesm2022/primitives/di.mjs:
@angular/core/fesm2022/signal.mjs:
@angular/core/fesm2022/untracked.mjs:
@angular/core/fesm2022/primitives/signals.mjs:
@angular/core/fesm2022/root_effect_scheduler.mjs:
@angular/core/fesm2022/resource.mjs:
@angular/common/fesm2022/xhr.mjs:
@angular/common/fesm2022/module.mjs:
@angular/common/fesm2022/http.mjs:
@angular/elements/fesm2022/elements.mjs:
@angular/common/fesm2022/location.mjs:
@angular/common/fesm2022/common_module.mjs:
@angular/common/fesm2022/common.mjs:
@angular/platform-browser/fesm2022/dom_renderer.mjs:
@angular/platform-browser/fesm2022/browser.mjs:
@angular/platform-browser/fesm2022/platform-browser.mjs:
@angular/forms/fesm2022/forms.mjs:
  (**
   * @license Angular v20.0.6
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/core/fesm2022/debug_node.mjs:
@angular/core/fesm2022/core.mjs:
  (**
   * @license Angular v20.0.6
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
*/

})();
