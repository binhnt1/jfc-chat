(function(){
var ce=globalThis;function te(t){return(ce.__Zone_symbol_prefix||"__zone_symbol__")+t}function ht(){let t=ce.performance;function n(I){t&&t.mark&&t.mark(I)}function a(I,s){t&&t.measure&&t.measure(I,s)}n("Zone");class e{static __symbol__=te;static assertZonePatched(){if(ce.Promise!==S.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let s=e.current;for(;s.parent;)s=s.parent;return s}static get current(){return b.zone}static get currentTask(){return D}static __load_patch(s,i,r=!1){if(S.hasOwnProperty(s)){let E=ce[te("forceDuplicateZoneCheck")]===!0;if(!r&&E)throw Error("Already loaded patch: "+s)}else if(!ce["__Zone_disable_"+s]){let E="Zone:"+s;n(E),S[s]=i(ce,e,R),a(E,E)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(s,i){this._parent=s,this._name=i?i.name||"unnamed":"<root>",this._properties=i&&i.properties||{},this._zoneDelegate=new f(this,this._parent&&this._parent._zoneDelegate,i)}get(s){let i=this.getZoneWith(s);if(i)return i._properties[s]}getZoneWith(s){let i=this;for(;i;){if(i._properties.hasOwnProperty(s))return i;i=i._parent}return null}fork(s){if(!s)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,s)}wrap(s,i){if(typeof s!="function")throw new Error("Expecting function got: "+s);let r=this._zoneDelegate.intercept(this,s,i),E=this;return function(){return E.runGuarded(r,this,arguments,i)}}run(s,i,r,E){b={parent:b,zone:this};try{return this._zoneDelegate.invoke(this,s,i,r,E)}finally{b=b.parent}}runGuarded(s,i=null,r,E){b={parent:b,zone:this};try{try{return this._zoneDelegate.invoke(this,s,i,r,E)}catch(x){if(this._zoneDelegate.handleError(this,x))throw x}}finally{b=b.parent}}runTask(s,i,r){if(s.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(s.zone||J).name+"; Execution: "+this.name+")");let E=s,{type:x,data:{isPeriodic:ee=!1,isRefreshable:M=!1}={}}=s;if(s.state===q&&(x===U||x===k))return;let he=s.state!=A;he&&E._transitionTo(A,d);let _e=D;D=E,b={parent:b,zone:this};try{x==k&&s.data&&!ee&&!M&&(s.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,E,i,r)}catch(Q){if(this._zoneDelegate.handleError(this,Q))throw Q}}finally{let Q=s.state;if(Q!==q&&Q!==X)if(x==U||ee||M&&Q===p)he&&E._transitionTo(d,A,p);else{let Te=E._zoneDelegates;this._updateTaskCount(E,-1),he&&E._transitionTo(q,A,q),M&&(E._zoneDelegates=Te)}b=b.parent,D=_e}}scheduleTask(s){if(s.zone&&s.zone!==this){let r=this;for(;r;){if(r===s.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${s.zone.name}`);r=r.parent}}s._transitionTo(p,q);let i=[];s._zoneDelegates=i,s._zone=this;try{s=this._zoneDelegate.scheduleTask(this,s)}catch(r){throw s._transitionTo(X,p,q),this._zoneDelegate.handleError(this,r),r}return s._zoneDelegates===i&&this._updateTaskCount(s,1),s.state==p&&s._transitionTo(d,p),s}scheduleMicroTask(s,i,r,E){return this.scheduleTask(new g(F,s,i,r,E,void 0))}scheduleMacroTask(s,i,r,E,x){return this.scheduleTask(new g(k,s,i,r,E,x))}scheduleEventTask(s,i,r,E,x){return this.scheduleTask(new g(U,s,i,r,E,x))}cancelTask(s){if(s.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(s.zone||J).name+"; Execution: "+this.name+")");if(!(s.state!==d&&s.state!==A)){s._transitionTo(V,d,A);try{this._zoneDelegate.cancelTask(this,s)}catch(i){throw s._transitionTo(X,V),this._zoneDelegate.handleError(this,i),i}return this._updateTaskCount(s,-1),s._transitionTo(q,V),s.runCount=-1,s}}_updateTaskCount(s,i){let r=s._zoneDelegates;i==-1&&(s._zoneDelegates=null);for(let E=0;E<r.length;E++)r[E]._updateTaskCount(s.type,i)}}let c={name:"",onHasTask:(I,s,i,r)=>I.hasTask(i,r),onScheduleTask:(I,s,i,r)=>I.scheduleTask(i,r),onInvokeTask:(I,s,i,r,E,x)=>I.invokeTask(i,r,E,x),onCancelTask:(I,s,i,r)=>I.cancelTask(i,r)};class f{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(s,i,r){this._zone=s,this._parentDelegate=i,this._forkZS=r&&(r&&r.onFork?r:i._forkZS),this._forkDlgt=r&&(r.onFork?i:i._forkDlgt),this._forkCurrZone=r&&(r.onFork?this._zone:i._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:i._interceptZS),this._interceptDlgt=r&&(r.onIntercept?i:i._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this._zone:i._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:i._invokeZS),this._invokeDlgt=r&&(r.onInvoke?i:i._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this._zone:i._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:i._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?i:i._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this._zone:i._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:i._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?i:i._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this._zone:i._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:i._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?i:i._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this._zone:i._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:i._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?i:i._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this._zone:i._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let E=r&&r.onHasTask,x=i&&i._hasTaskZS;(E||x)&&(this._hasTaskZS=E?r:c,this._hasTaskDlgt=i,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,r.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=i,this._scheduleTaskCurrZone=this._zone),r.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=i,this._invokeTaskCurrZone=this._zone),r.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=i,this._cancelTaskCurrZone=this._zone))}fork(s,i){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,s,i):new e(s,i)}intercept(s,i,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,s,i,r):i}invoke(s,i,r,E,x){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,s,i,r,E,x):i.apply(r,E)}handleError(s,i){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,s,i):!0}scheduleTask(s,i){let r=i;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,s,i),r||(r=i);else if(i.scheduleFn)i.scheduleFn(i);else if(i.type==F)z(i);else throw new Error("Task is missing scheduleFn.");return r}invokeTask(s,i,r,E){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,s,i,r,E):i.callback.apply(r,E)}cancelTask(s,i){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,s,i);else{if(!i.cancelFn)throw Error("Task is not cancelable");r=i.cancelFn(i)}return r}hasTask(s,i){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,s,i)}catch(r){this.handleError(s,r)}}_updateTaskCount(s,i){let r=this._taskCounts,E=r[s],x=r[s]=E+i;if(x<0)throw new Error("More tasks executed then were scheduled.");if(E==0||x==0){let ee={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:s};this.hasTask(this._zone,ee)}}}class g{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(s,i,r,E,x,ee){if(this.type=s,this.source=i,this.data=E,this.scheduleFn=x,this.cancelFn=ee,!r)throw new Error("callback is not defined");this.callback=r;let M=this;s===U&&E&&E.useG?this.invoke=g.invokeTask:this.invoke=function(){return g.invokeTask.call(ce,M,this,arguments)}}static invokeTask(s,i,r){s||(s=this),K++;try{return s.runCount++,s.zone.runTask(s,i,r)}finally{K==1&&$(),K--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(q,p)}_transitionTo(s,i,r){if(this._state===i||this._state===r)this._state=s,s==q&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${s}', expecting state '${i}'${r?" or '"+r+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let T=te("setTimeout"),y=te("Promise"),w=te("then"),_=[],P=!1,L;function H(I){if(L||ce[y]&&(L=ce[y].resolve(0)),L){let s=L[w];s||(s=L.then),s.call(L,I)}else ce[T](I,0)}function z(I){K===0&&_.length===0&&H($),I&&_.push(I)}function $(){if(!P){for(P=!0;_.length;){let I=_;_=[];for(let s=0;s<I.length;s++){let i=I[s];try{i.zone.runTask(i,null,null)}catch(r){R.onUnhandledError(r)}}}R.microtaskDrainDone(),P=!1}}let J={name:"NO ZONE"},q="notScheduled",p="scheduling",d="scheduled",A="running",V="canceling",X="unknown",F="microTask",k="macroTask",U="eventTask",S={},R={symbol:te,currentZoneFrame:()=>b,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:z,showUncaughtError:()=>!e[te("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:H},b={parent:null,zone:new e(null,null)},D=null,K=0;function W(){}return a("Zone","Zone"),e}function dt(){let t=globalThis,n=t[te("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(n||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??=ht(),t.Zone}var pe=Object.getOwnPropertyDescriptor,Me=Object.defineProperty,Ae=Object.getPrototypeOf,_t=Object.create,Tt=Array.prototype.slice,je="addEventListener",He="removeEventListener",Ne=te(je),Ze=te(He),ae="true",le="false",ve=te("");function Ve(t,n){return Zone.current.wrap(t,n)}function xe(t,n,a,e,c){return Zone.current.scheduleMacroTask(t,n,a,e,c)}var j=te,we=typeof window<"u",be=we?window:void 0,Y=we&&be||globalThis,Et="removeAttribute";function Fe(t,n){for(let a=t.length-1;a>=0;a--)typeof t[a]=="function"&&(t[a]=Ve(t[a],n+"_"+a));return t}function gt(t,n){let a=t.constructor.name;for(let e=0;e<n.length;e++){let c=n[e],f=t[c];if(f){let g=pe(t,c);if(!et(g))continue;t[c]=(T=>{let y=function(){return T.apply(this,Fe(arguments,a+"."+c))};return fe(y,T),y})(f)}}}function et(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}var tt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,De=!("nw"in Y)&&typeof Y.process<"u"&&Y.process.toString()==="[object process]",Ge=!De&&!tt&&!!(we&&be.HTMLElement),nt=typeof Y.process<"u"&&Y.process.toString()==="[object process]"&&!tt&&!!(we&&be.HTMLElement),Ce={},kt=j("enable_beforeunload"),Xe=function(t){if(t=t||Y.event,!t)return;let n=Ce[t.type];n||(n=Ce[t.type]=j("ON_PROPERTY"+t.type));let a=this||t.target||Y,e=a[n],c;if(Ge&&a===be&&t.type==="error"){let f=t;c=e&&e.call(this,f.message,f.filename,f.lineno,f.colno,f.error),c===!0&&t.preventDefault()}else c=e&&e.apply(this,arguments),t.type==="beforeunload"&&Y[kt]&&typeof c=="string"?t.returnValue=c:c!=null&&!c&&t.preventDefault();return c};function Ye(t,n,a){let e=pe(t,n);if(!e&&a&&pe(a,n)&&(e={enumerable:!0,configurable:!0}),!e||!e.configurable)return;let c=j("on"+n+"patched");if(t.hasOwnProperty(c)&&t[c])return;delete e.writable,delete e.value;let f=e.get,g=e.set,T=n.slice(2),y=Ce[T];y||(y=Ce[T]=j("ON_PROPERTY"+T)),e.set=function(w){let _=this;if(!_&&t===Y&&(_=Y),!_)return;typeof _[y]=="function"&&_.removeEventListener(T,Xe),g?.call(_,null),_[y]=w,typeof w=="function"&&_.addEventListener(T,Xe,!1)},e.get=function(){let w=this;if(!w&&t===Y&&(w=Y),!w)return null;let _=w[y];if(_)return _;if(f){let P=f.call(this);if(P)return e.set.call(this,P),typeof w[Et]=="function"&&w.removeAttribute(n),P}return null},Me(t,n,e),t[c]=!0}function rt(t,n,a){if(n)for(let e=0;e<n.length;e++)Ye(t,"on"+n[e],a);else{let e=[];for(let c in t)c.slice(0,2)=="on"&&e.push(c);for(let c=0;c<e.length;c++)Ye(t,e[c],a)}}var oe=j("originalInstance");function ye(t){let n=Y[t];if(!n)return;Y[j(t)]=n,Y[t]=function(){let c=Fe(arguments,t);switch(c.length){case 0:this[oe]=new n;break;case 1:this[oe]=new n(c[0]);break;case 2:this[oe]=new n(c[0],c[1]);break;case 3:this[oe]=new n(c[0],c[1],c[2]);break;case 4:this[oe]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},fe(Y[t],n);let a=new n(function(){}),e;for(e in a)t==="XMLHttpRequest"&&e==="responseBlob"||function(c){typeof a[c]=="function"?Y[t].prototype[c]=function(){return this[oe][c].apply(this[oe],arguments)}:Me(Y[t].prototype,c,{set:function(f){typeof f=="function"?(this[oe][c]=Ve(f,t+"."+c),fe(this[oe][c],f)):this[oe][c]=f},get:function(){return this[oe][c]}})}(e);for(e in n)e!=="prototype"&&n.hasOwnProperty(e)&&(Y[t][e]=n[e])}function ue(t,n,a){let e=t;for(;e&&!e.hasOwnProperty(n);)e=Ae(e);!e&&t[n]&&(e=t);let c=j(n),f=null;if(e&&(!(f=e[c])||!e.hasOwnProperty(c))){f=e[c]=e[n];let g=e&&pe(e,n);if(et(g)){let T=a(f,c,n);e[n]=function(){return T(this,arguments)},fe(e[n],f)}}return f}function mt(t,n,a){let e=null;function c(f){let g=f.data;return g.args[g.cbIdx]=function(){f.invoke.apply(this,arguments)},e.apply(g.target,g.args),f}e=ue(t,n,f=>function(g,T){let y=a(g,T);return y.cbIdx>=0&&typeof T[y.cbIdx]=="function"?xe(y.name,T[y.cbIdx],y,c):f.apply(g,T)})}function fe(t,n){t[j("OriginalDelegate")]=n}var $e=!1,Le=!1;function yt(){if($e)return Le;$e=!0;try{let t=be.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(Le=!0)}catch{}return Le}function Je(t){return typeof t=="function"}function Ke(t){return typeof t=="number"}var pt={useG:!0},ne={},ot={},st=new RegExp("^"+ve+"(\\w+)(true|false)$"),it=j("propagationStopped");function ct(t,n){let a=(n?n(t):t)+le,e=(n?n(t):t)+ae,c=ve+a,f=ve+e;ne[t]={},ne[t][le]=c,ne[t][ae]=f}function vt(t,n,a,e){let c=e&&e.add||je,f=e&&e.rm||He,g=e&&e.listeners||"eventListeners",T=e&&e.rmAll||"removeAllListeners",y=j(c),w="."+c+":",_="prependListener",P="."+_+":",L=function(p,d,A){if(p.isRemoved)return;let V=p.callback;typeof V=="object"&&V.handleEvent&&(p.callback=k=>V.handleEvent(k),p.originalDelegate=V);let X;try{p.invoke(p,d,[A])}catch(k){X=k}let F=p.options;if(F&&typeof F=="object"&&F.once){let k=p.originalDelegate?p.originalDelegate:p.callback;d[f].call(d,A.type,k,F)}return X};function H(p,d,A){if(d=d||t.event,!d)return;let V=p||d.target||t,X=V[ne[d.type][A?ae:le]];if(X){let F=[];if(X.length===1){let k=L(X[0],V,d);k&&F.push(k)}else{let k=X.slice();for(let U=0;U<k.length&&!(d&&d[it]===!0);U++){let S=L(k[U],V,d);S&&F.push(S)}}if(F.length===1)throw F[0];for(let k=0;k<F.length;k++){let U=F[k];n.nativeScheduleMicroTask(()=>{throw U})}}}let z=function(p){return H(this,p,!1)},$=function(p){return H(this,p,!0)};function J(p,d){if(!p)return!1;let A=!0;d&&d.useG!==void 0&&(A=d.useG);let V=d&&d.vh,X=!0;d&&d.chkDup!==void 0&&(X=d.chkDup);let F=!1;d&&d.rt!==void 0&&(F=d.rt);let k=p;for(;k&&!k.hasOwnProperty(c);)k=Ae(k);if(!k&&p[c]&&(k=p),!k||k[y])return!1;let U=d&&d.eventNameToString,S={},R=k[y]=k[c],b=k[j(f)]=k[f],D=k[j(g)]=k[g],K=k[j(T)]=k[T],W;d&&d.prepend&&(W=k[j(d.prepend)]=k[d.prepend]);function I(o,u){return u?typeof o=="boolean"?{capture:o,passive:!0}:o?typeof o=="object"&&o.passive!==!1?{...o,passive:!0}:o:{passive:!0}:o}let s=function(o){if(!S.isExisting)return R.call(S.target,S.eventName,S.capture?$:z,S.options)},i=function(o){if(!o.isRemoved){let u=ne[o.eventName],v;u&&(v=u[o.capture?ae:le]);let C=v&&o.target[v];if(C){for(let m=0;m<C.length;m++)if(C[m]===o){C.splice(m,1),o.isRemoved=!0,o.removeAbortListener&&(o.removeAbortListener(),o.removeAbortListener=null),C.length===0&&(o.allRemoved=!0,o.target[v]=null);break}}}if(o.allRemoved)return b.call(o.target,o.eventName,o.capture?$:z,o.options)},r=function(o){return R.call(S.target,S.eventName,o.invoke,S.options)},E=function(o){return W.call(S.target,S.eventName,o.invoke,S.options)},x=function(o){return b.call(o.target,o.eventName,o.invoke,o.options)},ee=A?s:r,M=A?i:x,he=function(o,u){let v=typeof u;return v==="function"&&o.callback===u||v==="object"&&o.originalDelegate===u},_e=d?.diff||he,Q=Zone[j("UNPATCHED_EVENTS")],Te=t[j("PASSIVE_EVENTS")];function h(o){if(typeof o=="object"&&o!==null){let u={...o};return o.signal&&(u.signal=o.signal),u}return o}let l=function(o,u,v,C,m=!1,O=!1){return function(){let N=this||t,Z=arguments[0];d&&d.transferEventName&&(Z=d.transferEventName(Z));let G=arguments[1];if(!G)return o.apply(this,arguments);if(De&&Z==="uncaughtException")return o.apply(this,arguments);let B=!1;if(typeof G!="function"){if(!G.handleEvent)return o.apply(this,arguments);B=!0}if(V&&!V(o,G,N,arguments))return;let de=!!Te&&Te.indexOf(Z)!==-1,se=h(I(arguments[2],de)),Ee=se?.signal;if(Ee?.aborted)return;if(Q){for(let ie=0;ie<Q.length;ie++)if(Z===Q[ie])return de?o.call(N,Z,G,se):o.apply(this,arguments)}let Se=se?typeof se=="boolean"?!0:se.capture:!1,Be=se&&typeof se=="object"?se.once:!1,ft=Zone.current,Oe=ne[Z];Oe||(ct(Z,U),Oe=ne[Z]);let ze=Oe[Se?ae:le],ge=N[ze],Ue=!1;if(ge){if(Ue=!0,X){for(let ie=0;ie<ge.length;ie++)if(_e(ge[ie],G))return}}else ge=N[ze]=[];let Pe,We=N.constructor.name,qe=ot[We];qe&&(Pe=qe[Z]),Pe||(Pe=We+u+(U?U(Z):Z)),S.options=se,Be&&(S.options.once=!1),S.target=N,S.capture=Se,S.eventName=Z,S.isExisting=Ue;let me=A?pt:void 0;me&&(me.taskData=S),Ee&&(S.options.signal=void 0);let re=ft.scheduleEventTask(Pe,G,me,v,C);if(Ee){S.options.signal=Ee;let ie=()=>re.zone.cancelTask(re);o.call(Ee,"abort",ie,{once:!0}),re.removeAbortListener=()=>Ee.removeEventListener("abort",ie)}if(S.target=null,me&&(me.taskData=null),Be&&(S.options.once=!0),typeof re.options!="boolean"&&(re.options=se),re.target=N,re.capture=Se,re.eventName=Z,B&&(re.originalDelegate=G),O?ge.unshift(re):ge.push(re),m)return N}};return k[c]=l(R,w,ee,M,F),W&&(k[_]=l(W,P,E,M,F,!0)),k[f]=function(){let o=this||t,u=arguments[0];d&&d.transferEventName&&(u=d.transferEventName(u));let v=arguments[2],C=v?typeof v=="boolean"?!0:v.capture:!1,m=arguments[1];if(!m)return b.apply(this,arguments);if(V&&!V(b,m,o,arguments))return;let O=ne[u],N;O&&(N=O[C?ae:le]);let Z=N&&o[N];if(Z)for(let G=0;G<Z.length;G++){let B=Z[G];if(_e(B,m)){if(Z.splice(G,1),B.isRemoved=!0,Z.length===0&&(B.allRemoved=!0,o[N]=null,!C&&typeof u=="string")){let de=ve+"ON_PROPERTY"+u;o[de]=null}return B.zone.cancelTask(B),F?o:void 0}}return b.apply(this,arguments)},k[g]=function(){let o=this||t,u=arguments[0];d&&d.transferEventName&&(u=d.transferEventName(u));let v=[],C=at(o,U?U(u):u);for(let m=0;m<C.length;m++){let O=C[m],N=O.originalDelegate?O.originalDelegate:O.callback;v.push(N)}return v},k[T]=function(){let o=this||t,u=arguments[0];if(u){d&&d.transferEventName&&(u=d.transferEventName(u));let v=ne[u];if(v){let C=v[le],m=v[ae],O=o[C],N=o[m];if(O){let Z=O.slice();for(let G=0;G<Z.length;G++){let B=Z[G],de=B.originalDelegate?B.originalDelegate:B.callback;this[f].call(this,u,de,B.options)}}if(N){let Z=N.slice();for(let G=0;G<Z.length;G++){let B=Z[G],de=B.originalDelegate?B.originalDelegate:B.callback;this[f].call(this,u,de,B.options)}}}}else{let v=Object.keys(o);for(let C=0;C<v.length;C++){let m=v[C],O=st.exec(m),N=O&&O[1];N&&N!=="removeListener"&&this[T].call(this,N)}this[T].call(this,"removeListener")}if(F)return this},fe(k[c],R),fe(k[f],b),K&&fe(k[T],K),D&&fe(k[g],D),!0}let q=[];for(let p=0;p<a.length;p++)q[p]=J(a[p],e);return q}function at(t,n){if(!n){let f=[];for(let g in t){let T=st.exec(g),y=T&&T[1];if(y&&(!n||y===n)){let w=t[g];if(w)for(let _=0;_<w.length;_++)f.push(w[_])}}return f}let a=ne[n];a||(ct(n),a=ne[n]);let e=t[a[le]],c=t[a[ae]];return e?c?e.concat(c):e.slice():c?c.slice():[]}function bt(t,n){let a=t.Event;a&&a.prototype&&n.patchMethod(a.prototype,"stopImmediatePropagation",e=>function(c,f){c[it]=!0,e&&e.apply(c,f)})}function Pt(t,n){n.patchMethod(t,"queueMicrotask",a=>function(e,c){Zone.current.scheduleMicroTask("queueMicrotask",c[0])})}var Re=j("zoneTask");function ke(t,n,a,e){let c=null,f=null;n+=e,a+=e;let g={};function T(w){let _=w.data;_.args[0]=function(){return w.invoke.apply(this,arguments)};let P=c.apply(t,_.args);return Ke(P)?_.handleId=P:(_.handle=P,_.isRefreshable=Je(P.refresh)),w}function y(w){let{handle:_,handleId:P}=w.data;return f.call(t,_??P)}c=ue(t,n,w=>function(_,P){if(Je(P[0])){let L={isRefreshable:!1,isPeriodic:e==="Interval",delay:e==="Timeout"||e==="Interval"?P[1]||0:void 0,args:P},H=P[0];P[0]=function(){try{return H.apply(this,arguments)}finally{let{handle:A,handleId:V,isPeriodic:X,isRefreshable:F}=L;!X&&!F&&(V?delete g[V]:A&&(A[Re]=null))}};let z=xe(n,P[0],L,T,y);if(!z)return z;let{handleId:$,handle:J,isRefreshable:q,isPeriodic:p}=z.data;if($)g[$]=z;else if(J&&(J[Re]=z,q&&!p)){let d=J.refresh;J.refresh=function(){let{zone:A,state:V}=z;return V==="notScheduled"?(z._state="scheduled",A._updateTaskCount(z,1)):V==="running"&&(z._state="scheduling"),d.call(this)}}return J??$??z}else return w.apply(t,P)}),f=ue(t,a,w=>function(_,P){let L=P[0],H;Ke(L)?(H=g[L],delete g[L]):(H=L?.[Re],H?L[Re]=null:H=L),H?.type?H.cancelFn&&H.zone.cancelTask(H):w.apply(t,P)})}function Rt(t,n){let{isBrowser:a,isMix:e}=n.getGlobalObjects();if(!a&&!e||!t.customElements||!("customElements"in t))return;let c=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];n.patchCallbacks(n,t.customElements,"customElements","define",c)}function Ct(t,n){if(Zone[n.symbol("patchEventTarget")])return;let{eventNames:a,zoneSymbolEventNames:e,TRUE_STR:c,FALSE_STR:f,ZONE_SYMBOL_PREFIX:g}=n.getGlobalObjects();for(let y=0;y<a.length;y++){let w=a[y],_=w+f,P=w+c,L=g+_,H=g+P;e[w]={},e[w][f]=L,e[w][c]=H}let T=t.EventTarget;if(!(!T||!T.prototype))return n.patchEventTarget(t,n,[T&&T.prototype]),!0}function wt(t,n){n.patchEventPrototype(t,n)}function lt(t,n,a){if(!a||a.length===0)return n;let e=a.filter(f=>f.target===t);if(e.length===0)return n;let c=e[0].ignoreProperties;return n.filter(f=>c.indexOf(f)===-1)}function Qe(t,n,a,e){if(!t)return;let c=lt(t,n,a);rt(t,c,e)}function Ie(t){return Object.getOwnPropertyNames(t).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}function Dt(t,n){if(De&&!nt||Zone[t.symbol("patchEvents")])return;let a=n.__Zone_ignore_on_properties,e=[];if(Ge){let c=window;e=e.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let f=[];Qe(c,Ie(c),a&&a.concat(f),Ae(c))}e=e.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<e.length;c++){let f=n[e[c]];f?.prototype&&Qe(f.prototype,Ie(f.prototype),a)}}function St(t){t.__load_patch("legacy",n=>{let a=n[t.__symbol__("legacyPatch")];a&&a()}),t.__load_patch("timers",n=>{let a="set",e="clear";ke(n,a,e,"Timeout"),ke(n,a,e,"Interval"),ke(n,a,e,"Immediate")}),t.__load_patch("requestAnimationFrame",n=>{ke(n,"request","cancel","AnimationFrame"),ke(n,"mozRequest","mozCancel","AnimationFrame"),ke(n,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(n,a)=>{let e=["alert","prompt","confirm"];for(let c=0;c<e.length;c++){let f=e[c];ue(n,f,(g,T,y)=>function(w,_){return a.current.run(g,n,_,y)})}}),t.__load_patch("EventTarget",(n,a,e)=>{wt(n,e),Ct(n,e);let c=n.XMLHttpRequestEventTarget;c&&c.prototype&&e.patchEventTarget(n,e,[c.prototype])}),t.__load_patch("MutationObserver",(n,a,e)=>{ye("MutationObserver"),ye("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(n,a,e)=>{ye("IntersectionObserver")}),t.__load_patch("FileReader",(n,a,e)=>{ye("FileReader")}),t.__load_patch("on_property",(n,a,e)=>{Dt(e,n)}),t.__load_patch("customElements",(n,a,e)=>{Rt(n,e)}),t.__load_patch("XHR",(n,a)=>{w(n);let e=j("xhrTask"),c=j("xhrSync"),f=j("xhrListener"),g=j("xhrScheduled"),T=j("xhrURL"),y=j("xhrErrorBeforeScheduled");function w(_){let P=_.XMLHttpRequest;if(!P)return;let L=P.prototype;function H(R){return R[e]}let z=L[Ne],$=L[Ze];if(!z){let R=_.XMLHttpRequestEventTarget;if(R){let b=R.prototype;z=b[Ne],$=b[Ze]}}let J="readystatechange",q="scheduled";function p(R){let b=R.data,D=b.target;D[g]=!1,D[y]=!1;let K=D[f];z||(z=D[Ne],$=D[Ze]),K&&$.call(D,J,K);let W=D[f]=()=>{if(D.readyState===D.DONE)if(!b.aborted&&D[g]&&R.state===q){let s=D[a.__symbol__("loadfalse")];if(D.status!==0&&s&&s.length>0){let i=R.invoke;R.invoke=function(){let r=D[a.__symbol__("loadfalse")];for(let E=0;E<r.length;E++)r[E]===R&&r.splice(E,1);!b.aborted&&R.state===q&&i.call(R)},s.push(R)}else R.invoke()}else!b.aborted&&D[g]===!1&&(D[y]=!0)};return z.call(D,J,W),D[e]||(D[e]=R),U.apply(D,b.args),D[g]=!0,R}function d(){}function A(R){let b=R.data;return b.aborted=!0,S.apply(b.target,b.args)}let V=ue(L,"open",()=>function(R,b){return R[c]=b[2]==!1,R[T]=b[1],V.apply(R,b)}),X="XMLHttpRequest.send",F=j("fetchTaskAborting"),k=j("fetchTaskScheduling"),U=ue(L,"send",()=>function(R,b){if(a.current[k]===!0||R[c])return U.apply(R,b);{let D={target:R,url:R[T],isPeriodic:!1,args:b,aborted:!1},K=xe(X,d,D,p,A);R&&R[y]===!0&&!D.aborted&&K.state===q&&K.invoke()}}),S=ue(L,"abort",()=>function(R,b){let D=H(R);if(D&&typeof D.type=="string"){if(D.cancelFn==null||D.data&&D.data.aborted)return;D.zone.cancelTask(D)}else if(a.current[F]===!0)return S.apply(R,b)})}}),t.__load_patch("geolocation",n=>{n.navigator&&n.navigator.geolocation&&gt(n.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(n,a)=>{function e(c){return function(f){at(n,c).forEach(T=>{let y=n.PromiseRejectionEvent;if(y){let w=new y(c,{promise:f.promise,reason:f.rejection});T.invoke(w)}})}}n.PromiseRejectionEvent&&(a[j("unhandledPromiseRejectionHandler")]=e("unhandledrejection"),a[j("rejectionHandledHandler")]=e("rejectionhandled"))}),t.__load_patch("queueMicrotask",(n,a,e)=>{Pt(n,e)})}function Ot(t){t.__load_patch("ZoneAwarePromise",(n,a,e)=>{let c=Object.getOwnPropertyDescriptor,f=Object.defineProperty;function g(h){if(h&&h.toString===Object.prototype.toString){let l=h.constructor&&h.constructor.name;return(l||"")+": "+JSON.stringify(h)}return h?h.toString():Object.prototype.toString.call(h)}let T=e.symbol,y=[],w=n[T("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,_=T("Promise"),P=T("then"),L="__creationTrace__";e.onUnhandledError=h=>{if(e.showUncaughtError()){let l=h&&h.rejection;l?console.error("Unhandled Promise rejection:",l instanceof Error?l.message:l,"; Zone:",h.zone.name,"; Task:",h.task&&h.task.source,"; Value:",l,l instanceof Error?l.stack:void 0):console.error(h)}},e.microtaskDrainDone=()=>{for(;y.length;){let h=y.shift();try{h.zone.runGuarded(()=>{throw h.throwOriginal?h.rejection:h})}catch(l){z(l)}}};let H=T("unhandledPromiseRejectionHandler");function z(h){e.onUnhandledError(h);try{let l=a[H];typeof l=="function"&&l.call(this,h)}catch{}}function $(h){return h&&typeof h.then=="function"}function J(h){return h}function q(h){return M.reject(h)}let p=T("state"),d=T("value"),A=T("finally"),V=T("parentPromiseValue"),X=T("parentPromiseState"),F="Promise.then",k=null,U=!0,S=!1,R=0;function b(h,l){return o=>{try{I(h,l,o)}catch(u){I(h,!1,u)}}}let D=function(){let h=!1;return function(o){return function(){h||(h=!0,o.apply(null,arguments))}}},K="Promise resolved with itself",W=T("currentTaskTrace");function I(h,l,o){let u=D();if(h===o)throw new TypeError(K);if(h[p]===k){let v=null;try{(typeof o=="object"||typeof o=="function")&&(v=o&&o.then)}catch(C){return u(()=>{I(h,!1,C)})(),h}if(l!==S&&o instanceof M&&o.hasOwnProperty(p)&&o.hasOwnProperty(d)&&o[p]!==k)i(o),I(h,o[p],o[d]);else if(l!==S&&typeof v=="function")try{v.call(o,u(b(h,l)),u(b(h,!1)))}catch(C){u(()=>{I(h,!1,C)})()}else{h[p]=l;let C=h[d];if(h[d]=o,h[A]===A&&l===U&&(h[p]=h[X],h[d]=h[V]),l===S&&o instanceof Error){let m=a.currentTask&&a.currentTask.data&&a.currentTask.data[L];m&&f(o,W,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(let m=0;m<C.length;)r(h,C[m++],C[m++],C[m++],C[m++]);if(C.length==0&&l==S){h[p]=R;let m=o;try{throw new Error("Uncaught (in promise): "+g(o)+(o&&o.stack?`
`+o.stack:""))}catch(O){m=O}w&&(m.throwOriginal=!0),m.rejection=o,m.promise=h,m.zone=a.current,m.task=a.currentTask,y.push(m),e.scheduleMicroTask()}}}return h}let s=T("rejectionHandledHandler");function i(h){if(h[p]===R){try{let l=a[s];l&&typeof l=="function"&&l.call(this,{rejection:h[d],promise:h})}catch{}h[p]=S;for(let l=0;l<y.length;l++)h===y[l].promise&&y.splice(l,1)}}function r(h,l,o,u,v){i(h);let C=h[p],m=C?typeof u=="function"?u:J:typeof v=="function"?v:q;l.scheduleMicroTask(F,()=>{try{let O=h[d],N=!!o&&A===o[A];N&&(o[V]=O,o[X]=C);let Z=l.run(m,void 0,N&&m!==q&&m!==J?[]:[O]);I(o,!0,Z)}catch(O){I(o,!1,O)}},o)}let E="function ZoneAwarePromise() { [native code] }",x=function(){},ee=n.AggregateError;class M{static toString(){return E}static resolve(l){return l instanceof M?l:I(new this(null),U,l)}static reject(l){return I(new this(null),S,l)}static withResolvers(){let l={};return l.promise=new M((o,u)=>{l.resolve=o,l.reject=u}),l}static any(l){if(!l||typeof l[Symbol.iterator]!="function")return Promise.reject(new ee([],"All promises were rejected"));let o=[],u=0;try{for(let m of l)u++,o.push(M.resolve(m))}catch{return Promise.reject(new ee([],"All promises were rejected"))}if(u===0)return Promise.reject(new ee([],"All promises were rejected"));let v=!1,C=[];return new M((m,O)=>{for(let N=0;N<o.length;N++)o[N].then(Z=>{v||(v=!0,m(Z))},Z=>{C.push(Z),u--,u===0&&(v=!0,O(new ee(C,"All promises were rejected")))})})}static race(l){let o,u,v=new this((O,N)=>{o=O,u=N});function C(O){o(O)}function m(O){u(O)}for(let O of l)$(O)||(O=this.resolve(O)),O.then(C,m);return v}static all(l){return M.allWithCallback(l)}static allSettled(l){return(this&&this.prototype instanceof M?this:M).allWithCallback(l,{thenCallback:u=>({status:"fulfilled",value:u}),errorCallback:u=>({status:"rejected",reason:u})})}static allWithCallback(l,o){let u,v,C=new this((Z,G)=>{u=Z,v=G}),m=2,O=0,N=[];for(let Z of l){$(Z)||(Z=this.resolve(Z));let G=O;try{Z.then(B=>{N[G]=o?o.thenCallback(B):B,m--,m===0&&u(N)},B=>{o?(N[G]=o.errorCallback(B),m--,m===0&&u(N)):v(B)})}catch(B){v(B)}m++,O++}return m-=2,m===0&&u(N),C}constructor(l){let o=this;if(!(o instanceof M))throw new Error("Must be an instanceof Promise.");o[p]=k,o[d]=[];try{let u=D();l&&l(u(b(o,U)),u(b(o,S)))}catch(u){I(o,!1,u)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return M}then(l,o){let u=this.constructor?.[Symbol.species];(!u||typeof u!="function")&&(u=this.constructor||M);let v=new u(x),C=a.current;return this[p]==k?this[d].push(C,v,l,o):r(this,C,v,l,o),v}catch(l){return this.then(null,l)}finally(l){let o=this.constructor?.[Symbol.species];(!o||typeof o!="function")&&(o=M);let u=new o(x);u[A]=A;let v=a.current;return this[p]==k?this[d].push(v,u,l,l):r(this,v,u,l,l),u}}M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;let he=n[_]=n.Promise;n.Promise=M;let _e=T("thenPatched");function Q(h){let l=h.prototype,o=c(l,"then");if(o&&(o.writable===!1||!o.configurable))return;let u=l.then;l[P]=u,h.prototype.then=function(v,C){return new M((O,N)=>{u.call(this,O,N)}).then(v,C)},h[_e]=!0}e.patchThen=Q;function Te(h){return function(l,o){let u=h.apply(l,o);if(u instanceof M)return u;let v=u.constructor;return v[_e]||Q(v),u}}return he&&(Q(he),ue(n,"fetch",h=>Te(h))),Promise[a.__symbol__("uncaughtPromiseErrors")]=y,M})}function Nt(t){t.__load_patch("toString",n=>{let a=Function.prototype.toString,e=j("OriginalDelegate"),c=j("Promise"),f=j("Error"),g=function(){if(typeof this=="function"){let _=this[e];if(_)return typeof _=="function"?a.call(_):Object.prototype.toString.call(_);if(this===Promise){let P=n[c];if(P)return a.call(P)}if(this===Error){let P=n[f];if(P)return a.call(P)}}return a.call(this)};g[e]=a,Function.prototype.toString=g;let T=Object.prototype.toString,y="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?y:T.call(this)}})}function Zt(t,n,a,e,c){let f=Zone.__symbol__(e);if(n[f])return;let g=n[f]=n[e];n[e]=function(T,y,w){return y&&y.prototype&&c.forEach(function(_){let P=`${a}.${e}::`+_,L=y.prototype;try{if(L.hasOwnProperty(_)){let H=t.ObjectGetOwnPropertyDescriptor(L,_);H&&H.value?(H.value=t.wrapWithCurrentZone(H.value,P),t._redefineProperty(y.prototype,_,H)):L[_]&&(L[_]=t.wrapWithCurrentZone(L[_],P))}else L[_]&&(L[_]=t.wrapWithCurrentZone(L[_],P))}catch{}}),g.call(n,T,y,w)},t.attachOriginToPatched(n[e],g)}function Lt(t){t.__load_patch("util",(n,a,e)=>{let c=Ie(n);e.patchOnProperties=rt,e.patchMethod=ue,e.bindArguments=Fe,e.patchMacroTask=mt;let f=a.__symbol__("BLACK_LISTED_EVENTS"),g=a.__symbol__("UNPATCHED_EVENTS");n[g]&&(n[f]=n[g]),n[f]&&(a[f]=a[g]=n[f]),e.patchEventPrototype=bt,e.patchEventTarget=vt,e.isIEOrEdge=yt,e.ObjectDefineProperty=Me,e.ObjectGetOwnPropertyDescriptor=pe,e.ObjectCreate=_t,e.ArraySlice=Tt,e.patchClass=ye,e.wrapWithCurrentZone=Ve,e.filterProperties=lt,e.attachOriginToPatched=fe,e._redefineProperty=Object.defineProperty,e.patchCallbacks=Zt,e.getGlobalObjects=()=>({globalSources:ot,zoneSymbolEventNames:ne,eventNames:c,isBrowser:Ge,isMix:nt,isNode:De,TRUE_STR:ae,FALSE_STR:le,ZONE_SYMBOL_PREFIX:ve,ADD_EVENT_LISTENER_STR:je,REMOVE_EVENT_LISTENER_STR:He})})}function It(t){Ot(t),Nt(t),Lt(t)}var ut=dt();It(ut);St(ut);
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular v<unknown>
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)
*/

})();
(function(){
/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */(function(M,Y){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=M.document?Y(M,!0):function(Ce){if(!Ce.document)throw new Error("jQuery requires a window with a document");return Y(Ce)}:Y(M)})(typeof window<"u"?window:this,function(M,Y){"use strict";var Ce=[],B=M.document,Qt=Object.getPrototypeOf,Le=Ce.slice,St=Ce.concat,pt=Ce.push,Ye=Ce.indexOf,Qe={},Nt=Qe.toString,ze=Qe.hasOwnProperty,At=ze.toString,Jt=At.call(Object),_={},L=function(e){return typeof e=="function"&&typeof e.nodeType!="number"},ce=function(e){return e!=null&&e===e.window},ht={type:!0,src:!0,nonce:!0,noModule:!0};function Q(e,t,n){var r,o,a=(n=n||B).createElement("script");if(a.text=e,t)for(r in ht)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function He(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?Qe[Nt.call(e)]||"object":typeof e}var Je="3.4.1",i=function(e,t){return new i.fn.init(e,t)},Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Ze(e){var t=!!e&&"length"in e&&e.length,n=He(e);return!L(e)&&!ce(e)&&(n==="array"||t===0||typeof t=="number"&&0<t&&t-1 in e)}i.fn=i.prototype={jquery:Je,constructor:i,length:0,toArray:function(){return Le.call(this)},get:function(e){return e==null?Le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=i.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return i.each(this,e)},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pt,sort:Ce.sort,splice:Ce.splice},i.extend=i.fn.extend=function(){var e,t,n,r,o,a,s=arguments[0]||{},l=1,f=arguments.length,p=!1;for(typeof s=="boolean"&&(p=s,s=arguments[l]||{},l++),typeof s=="object"||L(s)||(s={}),l===f&&(s=this,l--);l<f;l++)if((e=arguments[l])!=null)for(t in e)r=e[t],t!=="__proto__"&&s!==r&&(p&&r&&(i.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[t],a=o&&!Array.isArray(n)?[]:o||i.isPlainObject(n)?n:{},o=!1,s[t]=i.extend(p,a,r)):r!==void 0&&(s[t]=r));return s},i.extend({expando:"jQuery"+(Je+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||Nt.call(e)!=="[object Object]")&&(!(t=Qt(e))||typeof(n=ze.call(t,"constructor")&&t.constructor)=="function"&&At.call(n)===Jt)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){Q(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(Ze(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return e==null?"":(e+"").replace(Ke,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(Ze(Object(e))?i.merge(n,typeof e=="string"?[e]:e):pt.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:Ye.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,a=e.length,s=!n;o<a;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(Ze(e))for(r=e.length;a<r;a++)(o=t(e[a],a,n))!=null&&s.push(o);else for(a in e)(o=t(e[a],a,n))!=null&&s.push(o);return St.apply([],s)},guid:1,support:_}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=Ce[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Qe["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,o,a,s,l,f,p,v,x,g,m,E,A,k,J,oe,ye,U="sizzle"+1*new Date,H=e.document,pe=0,$=0,K=Ut(),kt=Ut(),_t=Ut(),De=Ut(),Ve=function(u,c){return u===c&&(x=!0),0},ct={}.hasOwnProperty,he=[],ft=he.pop,Se=he.push,Z=he.push,xe=he.slice,be=function(u,c){for(var d=0,y=u.length;d<y;d++)if(u[d]===c)return d;return-1},Pe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ae="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+F+"))|)"+R+"*\\]",we=":("+F+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ae+")*)|.*)\\)|)",re=new RegExp(R+"+","g"),Te=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),dt=new RegExp("^"+R+"*,"+R+"*"),mn=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Ir=new RegExp(R+"|>"),$r=new RegExp(we),Fr=new RegExp("^"+F+"$"),zt={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+we),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+Pe+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},_r=/HTML$/i,zr=/^(?:input|select|textarea|button)$/i,Ur=/^h\d$/i,Dt=/^[^{]+\{\s*\[native \w/,Xr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vn=/[+~]/,Ie=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),$e=function(u,c,d){var y="0x"+c-65536;return y!=y||d?c:y<0?String.fromCharCode(y+65536):String.fromCharCode(y>>10|55296,1023&y|56320)},tr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nr=function(u,c){return c?u==="\0"?"\uFFFD":u.slice(0,-1)+"\\"+u.charCodeAt(u.length-1).toString(16)+" ":"\\"+u},rr=function(){g()},Vr=Vt(function(u){return u.disabled===!0&&u.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Z.apply(he=xe.call(H.childNodes),H.childNodes),he[H.childNodes.length].nodeType}catch{Z={apply:he.length?function(c,d){Se.apply(c,xe.call(d))}:function(c,d){for(var y=c.length,h=0;c[y++]=d[h++];);c.length=y-1}}}function X(u,c,d,y){var h,b,w,T,C,O,j,q=c&&c.ownerDocument,W=c?c.nodeType:9;if(d=d||[],typeof u!="string"||!u||W!==1&&W!==9&&W!==11)return d;if(!y&&((c?c.ownerDocument||c:H)!==m&&g(c),c=c||m,A)){if(W!==11&&(C=Xr.exec(u)))if(h=C[1]){if(W===9){if(!(w=c.getElementById(h)))return d;if(w.id===h)return d.push(w),d}else if(q&&(w=q.getElementById(h))&&ye(c,w)&&w.id===h)return d.push(w),d}else{if(C[2])return Z.apply(d,c.getElementsByTagName(u)),d;if((h=C[3])&&n.getElementsByClassName&&c.getElementsByClassName)return Z.apply(d,c.getElementsByClassName(h)),d}if(n.qsa&&!De[u+" "]&&(!k||!k.test(u))&&(W!==1||c.nodeName.toLowerCase()!=="object")){if(j=u,q=c,W===1&&Ir.test(u)){for((T=c.getAttribute("id"))?T=T.replace(tr,nr):c.setAttribute("id",T=U),b=(O=s(u)).length;b--;)O[b]="#"+T+" "+Xt(O[b]);j=O.join(","),q=vn.test(u)&&xn(c.parentNode)||c}try{return Z.apply(d,q.querySelectorAll(j)),d}catch{De(u,!0)}finally{T===U&&c.removeAttribute("id")}}}return f(u.replace(Te,"$1"),c,d,y)}function Ut(){var u=[];return function c(d,y){return u.push(d+" ")>r.cacheLength&&delete c[u.shift()],c[d+" "]=y}}function je(u){return u[U]=!0,u}function Re(u){var c=m.createElement("fieldset");try{return!!u(c)}catch{return!1}finally{c.parentNode&&c.parentNode.removeChild(c),c=null}}function yn(u,c){for(var d=u.split("|"),y=d.length;y--;)r.attrHandle[d[y]]=c}function ir(u,c){var d=c&&u,y=d&&u.nodeType===1&&c.nodeType===1&&u.sourceIndex-c.sourceIndex;if(y)return y;if(d){for(;d=d.nextSibling;)if(d===c)return-1}return u?1:-1}function Gr(u){return function(c){return c.nodeName.toLowerCase()==="input"&&c.type===u}}function Yr(u){return function(c){var d=c.nodeName.toLowerCase();return(d==="input"||d==="button")&&c.type===u}}function or(u){return function(c){return"form"in c?c.parentNode&&c.disabled===!1?"label"in c?"label"in c.parentNode?c.parentNode.disabled===u:c.disabled===u:c.isDisabled===u||c.isDisabled!==!u&&Vr(c)===u:c.disabled===u:"label"in c&&c.disabled===u}}function Ge(u){return je(function(c){return c=+c,je(function(d,y){for(var h,b=u([],d.length,c),w=b.length;w--;)d[h=b[w]]&&(d[h]=!(y[h]=d[h]))})})}function xn(u){return u&&typeof u.getElementsByTagName<"u"&&u}for(t in n=X.support={},a=X.isXML=function(u){var c=u.namespaceURI,d=(u.ownerDocument||u).documentElement;return!_r.test(c||d&&d.nodeName||"HTML")},g=X.setDocument=function(u){var c,d,y=u?u.ownerDocument||u:H;return y!==m&&y.nodeType===9&&y.documentElement&&(E=(m=y).documentElement,A=!a(m),H!==m&&(d=m.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",rr,!1):d.attachEvent&&d.attachEvent("onunload",rr)),n.attributes=Re(function(h){return h.className="i",!h.getAttribute("className")}),n.getElementsByTagName=Re(function(h){return h.appendChild(m.createComment("")),!h.getElementsByTagName("*").length}),n.getElementsByClassName=Dt.test(m.getElementsByClassName),n.getById=Re(function(h){return E.appendChild(h).id=U,!m.getElementsByName||!m.getElementsByName(U).length}),n.getById?(r.filter.ID=function(h){var b=h.replace(Ie,$e);return function(w){return w.getAttribute("id")===b}},r.find.ID=function(h,b){if(typeof b.getElementById<"u"&&A){var w=b.getElementById(h);return w?[w]:[]}}):(r.filter.ID=function(h){var b=h.replace(Ie,$e);return function(w){var T=typeof w.getAttributeNode<"u"&&w.getAttributeNode("id");return T&&T.value===b}},r.find.ID=function(h,b){if(typeof b.getElementById<"u"&&A){var w,T,C,O=b.getElementById(h);if(O){if((w=O.getAttributeNode("id"))&&w.value===h)return[O];for(C=b.getElementsByName(h),T=0;O=C[T++];)if((w=O.getAttributeNode("id"))&&w.value===h)return[O]}return[]}}),r.find.TAG=n.getElementsByTagName?function(h,b){return typeof b.getElementsByTagName<"u"?b.getElementsByTagName(h):n.qsa?b.querySelectorAll(h):void 0}:function(h,b){var w,T=[],C=0,O=b.getElementsByTagName(h);if(h==="*"){for(;w=O[C++];)w.nodeType===1&&T.push(w);return T}return O},r.find.CLASS=n.getElementsByClassName&&function(h,b){if(typeof b.getElementsByClassName<"u"&&A)return b.getElementsByClassName(h)},J=[],k=[],(n.qsa=Dt.test(m.querySelectorAll))&&(Re(function(h){E.appendChild(h).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",h.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+R+`*(?:''|"")`),h.querySelectorAll("[selected]").length||k.push("\\["+R+"*(?:value|"+Pe+")"),h.querySelectorAll("[id~="+U+"-]").length||k.push("~="),h.querySelectorAll(":checked").length||k.push(":checked"),h.querySelectorAll("a#"+U+"+*").length||k.push(".#.+[+~]")}),Re(function(h){h.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=m.createElement("input");b.setAttribute("type","hidden"),h.appendChild(b).setAttribute("name","D"),h.querySelectorAll("[name=d]").length&&k.push("name"+R+"*[*^$|!~]?="),h.querySelectorAll(":enabled").length!==2&&k.push(":enabled",":disabled"),E.appendChild(h).disabled=!0,h.querySelectorAll(":disabled").length!==2&&k.push(":enabled",":disabled"),h.querySelectorAll("*,:x"),k.push(",.*:")})),(n.matchesSelector=Dt.test(oe=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&Re(function(h){n.disconnectedMatch=oe.call(h,"*"),oe.call(h,"[s!='']:x"),J.push("!=",we)}),k=k.length&&new RegExp(k.join("|")),J=J.length&&new RegExp(J.join("|")),c=Dt.test(E.compareDocumentPosition),ye=c||Dt.test(E.contains)?function(h,b){var w=h.nodeType===9?h.documentElement:h,T=b&&b.parentNode;return h===T||!(!T||T.nodeType!==1||!(w.contains?w.contains(T):h.compareDocumentPosition&&16&h.compareDocumentPosition(T)))}:function(h,b){if(b){for(;b=b.parentNode;)if(b===h)return!0}return!1},Ve=c?function(h,b){if(h===b)return x=!0,0;var w=!h.compareDocumentPosition-!b.compareDocumentPosition;return w||(1&(w=(h.ownerDocument||h)===(b.ownerDocument||b)?h.compareDocumentPosition(b):1)||!n.sortDetached&&b.compareDocumentPosition(h)===w?h===m||h.ownerDocument===H&&ye(H,h)?-1:b===m||b.ownerDocument===H&&ye(H,b)?1:v?be(v,h)-be(v,b):0:4&w?-1:1)}:function(h,b){if(h===b)return x=!0,0;var w,T=0,C=h.parentNode,O=b.parentNode,j=[h],q=[b];if(!C||!O)return h===m?-1:b===m?1:C?-1:O?1:v?be(v,h)-be(v,b):0;if(C===O)return ir(h,b);for(w=h;w=w.parentNode;)j.unshift(w);for(w=b;w=w.parentNode;)q.unshift(w);for(;j[T]===q[T];)T++;return T?ir(j[T],q[T]):j[T]===H?-1:q[T]===H?1:0}),m},X.matches=function(u,c){return X(u,null,null,c)},X.matchesSelector=function(u,c){if((u.ownerDocument||u)!==m&&g(u),n.matchesSelector&&A&&!De[c+" "]&&(!J||!J.test(c))&&(!k||!k.test(c)))try{var d=oe.call(u,c);if(d||n.disconnectedMatch||u.document&&u.document.nodeType!==11)return d}catch{De(c,!0)}return 0<X(c,m,null,[u]).length},X.contains=function(u,c){return(u.ownerDocument||u)!==m&&g(u),ye(u,c)},X.attr=function(u,c){(u.ownerDocument||u)!==m&&g(u);var d=r.attrHandle[c.toLowerCase()],y=d&&ct.call(r.attrHandle,c.toLowerCase())?d(u,c,!A):void 0;return y!==void 0?y:n.attributes||!A?u.getAttribute(c):(y=u.getAttributeNode(c))&&y.specified?y.value:null},X.escape=function(u){return(u+"").replace(tr,nr)},X.error=function(u){throw new Error("Syntax error, unrecognized expression: "+u)},X.uniqueSort=function(u){var c,d=[],y=0,h=0;if(x=!n.detectDuplicates,v=!n.sortStable&&u.slice(0),u.sort(Ve),x){for(;c=u[h++];)c===u[h]&&(y=d.push(h));for(;y--;)u.splice(d[y],1)}return v=null,u},o=X.getText=function(u){var c,d="",y=0,h=u.nodeType;if(h){if(h===1||h===9||h===11){if(typeof u.textContent=="string")return u.textContent;for(u=u.firstChild;u;u=u.nextSibling)d+=o(u)}else if(h===3||h===4)return u.nodeValue}else for(;c=u[y++];)d+=o(c);return d},(r=X.selectors={cacheLength:50,createPseudo:je,match:zt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(u){return u[1]=u[1].replace(Ie,$e),u[3]=(u[3]||u[4]||u[5]||"").replace(Ie,$e),u[2]==="~="&&(u[3]=" "+u[3]+" "),u.slice(0,4)},CHILD:function(u){return u[1]=u[1].toLowerCase(),u[1].slice(0,3)==="nth"?(u[3]||X.error(u[0]),u[4]=+(u[4]?u[5]+(u[6]||1):2*(u[3]==="even"||u[3]==="odd")),u[5]=+(u[7]+u[8]||u[3]==="odd")):u[3]&&X.error(u[0]),u},PSEUDO:function(u){var c,d=!u[6]&&u[2];return zt.CHILD.test(u[0])?null:(u[3]?u[2]=u[4]||u[5]||"":d&&$r.test(d)&&(c=s(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(u[0]=u[0].slice(0,c),u[2]=d.slice(0,c)),u.slice(0,3))}},filter:{TAG:function(u){var c=u.replace(Ie,$e).toLowerCase();return u==="*"?function(){return!0}:function(d){return d.nodeName&&d.nodeName.toLowerCase()===c}},CLASS:function(u){var c=K[u+" "];return c||(c=new RegExp("(^|"+R+")"+u+"("+R+"|$)"))&&K(u,function(d){return c.test(typeof d.className=="string"&&d.className||typeof d.getAttribute<"u"&&d.getAttribute("class")||"")})},ATTR:function(u,c,d){return function(y){var h=X.attr(y,u);return h==null?c==="!=":!c||(h+="",c==="="?h===d:c==="!="?h!==d:c==="^="?d&&h.indexOf(d)===0:c==="*="?d&&-1<h.indexOf(d):c==="$="?d&&h.slice(-d.length)===d:c==="~="?-1<(" "+h.replace(re," ")+" ").indexOf(d):c==="|="&&(h===d||h.slice(0,d.length+1)===d+"-"))}},CHILD:function(u,c,d,y,h){var b=u.slice(0,3)!=="nth",w=u.slice(-4)!=="last",T=c==="of-type";return y===1&&h===0?function(C){return!!C.parentNode}:function(C,O,j){var q,W,ne,P,se,ue,fe=b!==w?"nextSibling":"previousSibling",V=C.parentNode,Be=T&&C.nodeName.toLowerCase(),le=!j&&!T,ie=!1;if(V){if(b){for(;fe;){for(P=C;P=P[fe];)if(T?P.nodeName.toLowerCase()===Be:P.nodeType===1)return!1;ue=fe=u==="only"&&!ue&&"nextSibling"}return!0}if(ue=[w?V.firstChild:V.lastChild],w&&le){for(ie=(se=(q=(W=(ne=(P=V)[U]||(P[U]={}))[P.uniqueID]||(ne[P.uniqueID]={}))[u]||[])[0]===pe&&q[1])&&q[2],P=se&&V.childNodes[se];P=++se&&P&&P[fe]||(ie=se=0)||ue.pop();)if(P.nodeType===1&&++ie&&P===C){W[u]=[pe,se,ie];break}}else if(le&&(ie=se=(q=(W=(ne=(P=C)[U]||(P[U]={}))[P.uniqueID]||(ne[P.uniqueID]={}))[u]||[])[0]===pe&&q[1]),ie===!1)for(;(P=++se&&P&&P[fe]||(ie=se=0)||ue.pop())&&!((T?P.nodeName.toLowerCase()===Be:P.nodeType===1)&&++ie&&(le&&((W=(ne=P[U]||(P[U]={}))[P.uniqueID]||(ne[P.uniqueID]={}))[u]=[pe,ie]),P===C)););return(ie-=h)===y||ie%y==0&&0<=ie/y}}},PSEUDO:function(u,c){var d,y=r.pseudos[u]||r.setFilters[u.toLowerCase()]||X.error("unsupported pseudo: "+u);return y[U]?y(c):1<y.length?(d=[u,u,"",c],r.setFilters.hasOwnProperty(u.toLowerCase())?je(function(h,b){for(var w,T=y(h,c),C=T.length;C--;)h[w=be(h,T[C])]=!(b[w]=T[C])}):function(h){return y(h,0,d)}):y}},pseudos:{not:je(function(u){var c=[],d=[],y=l(u.replace(Te,"$1"));return y[U]?je(function(h,b,w,T){for(var C,O=y(h,null,T,[]),j=h.length;j--;)(C=O[j])&&(h[j]=!(b[j]=C))}):function(h,b,w){return c[0]=h,y(c,null,w,d),c[0]=null,!d.pop()}}),has:je(function(u){return function(c){return 0<X(u,c).length}}),contains:je(function(u){return u=u.replace(Ie,$e),function(c){return-1<(c.textContent||o(c)).indexOf(u)}}),lang:je(function(u){return Fr.test(u||"")||X.error("unsupported lang: "+u),u=u.replace(Ie,$e).toLowerCase(),function(c){var d;do if(d=A?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return(d=d.toLowerCase())===u||d.indexOf(u+"-")===0;while((c=c.parentNode)&&c.nodeType===1);return!1}}),target:function(u){var c=e.location&&e.location.hash;return c&&c.slice(1)===u.id},root:function(u){return u===E},focus:function(u){return u===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(u.type||u.href||~u.tabIndex)},enabled:or(!1),disabled:or(!0),checked:function(u){var c=u.nodeName.toLowerCase();return c==="input"&&!!u.checked||c==="option"&&!!u.selected},selected:function(u){return u.parentNode&&u.parentNode.selectedIndex,u.selected===!0},empty:function(u){for(u=u.firstChild;u;u=u.nextSibling)if(u.nodeType<6)return!1;return!0},parent:function(u){return!r.pseudos.empty(u)},header:function(u){return Ur.test(u.nodeName)},input:function(u){return zr.test(u.nodeName)},button:function(u){var c=u.nodeName.toLowerCase();return c==="input"&&u.type==="button"||c==="button"},text:function(u){var c;return u.nodeName.toLowerCase()==="input"&&u.type==="text"&&((c=u.getAttribute("type"))==null||c.toLowerCase()==="text")},first:Ge(function(){return[0]}),last:Ge(function(u,c){return[c-1]}),eq:Ge(function(u,c,d){return[d<0?d+c:d]}),even:Ge(function(u,c){for(var d=0;d<c;d+=2)u.push(d);return u}),odd:Ge(function(u,c){for(var d=1;d<c;d+=2)u.push(d);return u}),lt:Ge(function(u,c,d){for(var y=d<0?d+c:c<d?c:d;0<=--y;)u.push(y);return u}),gt:Ge(function(u,c,d){for(var y=d<0?d+c:d;++y<c;)u.push(y);return u})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=Gr(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=Yr(t);function ar(){}function Xt(u){for(var c=0,d=u.length,y="";c<d;c++)y+=u[c].value;return y}function Vt(u,c,d){var y=c.dir,h=c.next,b=h||y,w=d&&b==="parentNode",T=$++;return c.first?function(C,O,j){for(;C=C[y];)if(C.nodeType===1||w)return u(C,O,j);return!1}:function(C,O,j){var q,W,ne,P=[pe,T];if(j){for(;C=C[y];)if((C.nodeType===1||w)&&u(C,O,j))return!0}else for(;C=C[y];)if(C.nodeType===1||w)if(W=(ne=C[U]||(C[U]={}))[C.uniqueID]||(ne[C.uniqueID]={}),h&&h===C.nodeName.toLowerCase())C=C[y]||C;else{if((q=W[b])&&q[0]===pe&&q[1]===T)return P[2]=q[2];if((W[b]=P)[2]=u(C,O,j))return!0}return!1}}function bn(u){return 1<u.length?function(c,d,y){for(var h=u.length;h--;)if(!u[h](c,d,y))return!1;return!0}:u[0]}function Gt(u,c,d,y,h){for(var b,w=[],T=0,C=u.length,O=c!=null;T<C;T++)(b=u[T])&&(d&&!d(b,y,h)||(w.push(b),O&&c.push(T)));return w}function wn(u,c,d,y,h,b){return y&&!y[U]&&(y=wn(y)),h&&!h[U]&&(h=wn(h,b)),je(function(w,T,C,O){var j,q,W,ne=[],P=[],se=T.length,ue=w||function(Be,le,ie){for(var qe=0,Yt=le.length;qe<Yt;qe++)X(Be,le[qe],ie);return ie}(c||"*",C.nodeType?[C]:C,[]),fe=!u||!w&&c?ue:Gt(ue,ne,u,C,O),V=d?h||(w?u:se||y)?[]:T:fe;if(d&&d(fe,V,C,O),y)for(j=Gt(V,P),y(j,[],C,O),q=j.length;q--;)(W=j[q])&&(V[P[q]]=!(fe[P[q]]=W));if(w){if(h||u){if(h){for(j=[],q=V.length;q--;)(W=V[q])&&j.push(fe[q]=W);h(null,V=[],j,O)}for(q=V.length;q--;)(W=V[q])&&-1<(j=h?be(w,W):ne[q])&&(w[j]=!(T[j]=W))}}else V=Gt(V===T?V.splice(se,V.length):V),h?h(null,T,V,O):Z.apply(T,V)})}function Tn(u){for(var c,d,y,h=u.length,b=r.relative[u[0].type],w=b||r.relative[" "],T=b?1:0,C=Vt(function(q){return q===c},w,!0),O=Vt(function(q){return-1<be(c,q)},w,!0),j=[function(q,W,ne){var P=!b&&(ne||W!==p)||((c=W).nodeType?C(q,W,ne):O(q,W,ne));return c=null,P}];T<h;T++)if(d=r.relative[u[T].type])j=[Vt(bn(j),d)];else{if((d=r.filter[u[T].type].apply(null,u[T].matches))[U]){for(y=++T;y<h&&!r.relative[u[y].type];y++);return wn(1<T&&bn(j),1<T&&Xt(u.slice(0,T-1).concat({value:u[T-2].type===" "?"*":""})).replace(Te,"$1"),d,T<y&&Tn(u.slice(T,y)),y<h&&Tn(u=u.slice(y)),y<h&&Xt(u))}j.push(d)}return bn(j)}return ar.prototype=r.filters=r.pseudos,r.setFilters=new ar,s=X.tokenize=function(u,c){var d,y,h,b,w,T,C,O=kt[u+" "];if(O)return c?0:O.slice(0);for(w=u,T=[],C=r.preFilter;w;){for(b in d&&!(y=dt.exec(w))||(y&&(w=w.slice(y[0].length)||w),T.push(h=[])),d=!1,(y=mn.exec(w))&&(d=y.shift(),h.push({value:d,type:y[0].replace(Te," ")}),w=w.slice(d.length)),r.filter)!(y=zt[b].exec(w))||C[b]&&!(y=C[b](y))||(d=y.shift(),h.push({value:d,type:b,matches:y}),w=w.slice(d.length));if(!d)break}return c?w.length:w?X.error(u):kt(u,T).slice(0)},l=X.compile=function(u,c){var d,y,h,b,w,T,C=[],O=[],j=_t[u+" "];if(!j){for(c||(c=s(u)),d=c.length;d--;)(j=Tn(c[d]))[U]?C.push(j):O.push(j);(j=_t(u,(y=O,b=0<(h=C).length,w=0<y.length,T=function(q,W,ne,P,se){var ue,fe,V,Be=0,le="0",ie=q&&[],qe=[],Yt=p,sr=q||w&&r.find.TAG("*",se),ur=pe+=Yt==null?1:Math.random()||.1,Qr=sr.length;for(se&&(p=W===m||W||se);le!==Qr&&(ue=sr[le])!=null;le++){if(w&&ue){for(fe=0,W||ue.ownerDocument===m||(g(ue),ne=!A);V=y[fe++];)if(V(ue,W||m,ne)){P.push(ue);break}se&&(pe=ur)}b&&((ue=!V&&ue)&&Be--,q&&ie.push(ue))}if(Be+=le,b&&le!==Be){for(fe=0;V=h[fe++];)V(ie,qe,W,ne);if(q){if(0<Be)for(;le--;)ie[le]||qe[le]||(qe[le]=ft.call(P));qe=Gt(qe)}Z.apply(P,qe),se&&!q&&0<qe.length&&1<Be+h.length&&X.uniqueSort(P)}return se&&(pe=ur,p=Yt),ie},b?je(T):T))).selector=u}return j},f=X.select=function(u,c,d,y){var h,b,w,T,C,O=typeof u=="function"&&u,j=!y&&s(u=O.selector||u);if(d=d||[],j.length===1){if(2<(b=j[0]=j[0].slice(0)).length&&(w=b[0]).type==="ID"&&c.nodeType===9&&A&&r.relative[b[1].type]){if(!(c=(r.find.ID(w.matches[0].replace(Ie,$e),c)||[])[0]))return d;O&&(c=c.parentNode),u=u.slice(b.shift().value.length)}for(h=zt.needsContext.test(u)?0:b.length;h--&&(w=b[h],!r.relative[T=w.type]);)if((C=r.find[T])&&(y=C(w.matches[0].replace(Ie,$e),vn.test(b[0].type)&&xn(c.parentNode)||c))){if(b.splice(h,1),!(u=y.length&&Xt(b)))return Z.apply(d,y),d;break}}return(O||l(u,j))(y,c,!A,d,!c||vn.test(u)&&xn(c.parentNode)||c),d},n.sortStable=U.split("").sort(Ve).join("")===U,n.detectDuplicates=!!x,g(),n.sortDetached=Re(function(u){return 1&u.compareDocumentPosition(m.createElement("fieldset"))}),Re(function(u){return u.innerHTML="<a href='#'></a>",u.firstChild.getAttribute("href")==="#"})||yn("type|href|height|width",function(u,c,d){if(!d)return u.getAttribute(c,c.toLowerCase()==="type"?1:2)}),n.attributes&&Re(function(u){return u.innerHTML="<input/>",u.firstChild.setAttribute("value",""),u.firstChild.getAttribute("value")===""})||yn("value",function(u,c,d){if(!d&&u.nodeName.toLowerCase()==="input")return u.defaultValue}),Re(function(u){return u.getAttribute("disabled")==null})||yn(Pe,function(u,c,d){var y;if(!d)return u[c]===!0?c.toLowerCase():(y=u.getAttributeNode(c))&&y.specified?y.value:null}),X}(M);i.find=S,i.expr=S.selectors,i.expr[":"]=i.expr.pseudos,i.uniqueSort=i.unique=S.uniqueSort,i.text=S.getText,i.isXMLDoc=S.isXML,i.contains=S.contains,i.escapeSelector=S.escape;var z=function(e,t,n){for(var r=[],o=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(o&&i(e).is(n))break;r.push(e)}return r},G=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},et=i.expr.match.needsContext;function ge(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var jt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function gt(e,t,n){return L(t)?i.grep(e,function(r,o){return!!t.call(r,o,r)!==n}):t.nodeType?i.grep(e,function(r){return r===t!==n}):typeof t!="string"?i.grep(e,function(r){return-1<Ye.call(t,r)!==n}):i.filter(t,e,n)}i.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?i.find.matchesSelector(r,e)?[r]:[]:i.find.matches(e,i.grep(t,function(o){return o.nodeType===1}))},i.fn.extend({find:function(e){var t,n,r=this.length,o=this;if(typeof e!="string")return this.pushStack(i(e).filter(function(){for(t=0;t<r;t++)if(i.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)i.find(e,o[t],n);return 1<r?i.uniqueSort(n):n},filter:function(e){return this.pushStack(gt(this,e||[],!1))},not:function(e){return this.pushStack(gt(this,e||[],!0))},is:function(e){return!!gt(this,typeof e=="string"&&et.test(e)?i(e):e||[],!1).length}});var qt,Kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||qt,typeof e=="string"){if(!(r=e[0]==="<"&&e[e.length-1]===">"&&3<=e.length?[null,e,null]:Kt.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:B,!0)),jt.test(r[1])&&i.isPlainObject(t))for(r in t)L(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=B.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):L(e)?n.ready!==void 0?n.ready(e):e(i):i.makeArray(e,this)}).prototype=i.fn,qt=i(B);var Zt=/^(?:parents|prev(?:Until|All))/,en={children:!0,contents:!0,next:!0,prev:!0};function Lt(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}i.fn.extend({has:function(e){var t=i(e,this),n=t.length;return this.filter(function(){for(var r=0;r<n;r++)if(i.contains(this,t[r]))return!0})},closest:function(e,t){var n,r=0,o=this.length,a=[],s=typeof e!="string"&&i(e);if(!et.test(e)){for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):n.nodeType===1&&i.find.matchesSelector(n,e))){a.push(n);break}}return this.pushStack(1<a.length?i.uniqueSort(a):a)},index:function(e){return e?typeof e=="string"?Ye.call(i(e),this[0]):Ye.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),i.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return z(e,"parentNode")},parentsUntil:function(e,t,n){return z(e,"parentNode",n)},next:function(e){return Lt(e,"nextSibling")},prev:function(e){return Lt(e,"previousSibling")},nextAll:function(e){return z(e,"nextSibling")},prevAll:function(e){return z(e,"previousSibling")},nextUntil:function(e,t,n){return z(e,"nextSibling",n)},prevUntil:function(e,t,n){return z(e,"previousSibling",n)},siblings:function(e){return G((e.parentNode||{}).firstChild,e)},children:function(e){return G(e.firstChild)},contents:function(e){return typeof e.contentDocument<"u"?e.contentDocument:(ge(e,"template")&&(e=e.content||e),i.merge([],e.childNodes))}},function(e,t){i.fn[e]=function(n,r){var o=i.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(o=i.filter(r,o)),1<this.length&&(en[e]||i.uniqueSort(o),Zt.test(e)&&o.reverse()),this.pushStack(o)}});var Ee=/[^\x20\t\r\n\f]+/g;function Fe(e){return e}function Oe(e){throw e}function Ht(e,t,n,r){var o;try{e&&L(o=e.promise)?o.call(e).done(t).fail(n):e&&L(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(a){n.apply(void 0,[a])}}i.Callbacks=function(e){var t,n;e=typeof e=="string"?(t=e,n={},i.each(t.match(Ee)||[],function(g,m){n[m]=!0}),n):i.extend({},e);var r,o,a,s,l=[],f=[],p=-1,v=function(){for(s=s||e.once,a=r=!0;f.length;p=-1)for(o=f.shift();++p<l.length;)l[p].apply(o[0],o[1])===!1&&e.stopOnFalse&&(p=l.length,o=!1);e.memory||(o=!1),r=!1,s&&(l=o?[]:"")},x={add:function(){return l&&(o&&!r&&(p=l.length-1,f.push(o)),function g(m){i.each(m,function(E,A){L(A)?e.unique&&x.has(A)||l.push(A):A&&A.length&&He(A)!=="string"&&g(A)})}(arguments),o&&!r&&v()),this},remove:function(){return i.each(arguments,function(g,m){for(var E;-1<(E=i.inArray(m,l,E));)l.splice(E,1),E<=p&&p--}),this},has:function(g){return g?-1<i.inArray(g,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return s=f=[],l=o="",this},disabled:function(){return!l},lock:function(){return s=f=[],o||r||(l=o=""),this},locked:function(){return!!s},fireWith:function(g,m){return s||(m=[g,(m=m||[]).slice?m.slice():m],f.push(m),r||v()),this},fire:function(){return x.fireWith(this,arguments),this},fired:function(){return!!a}};return x},i.extend({Deferred:function(e){var t=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(a){return r.then(null,a)},pipe:function(){var a=arguments;return i.Deferred(function(s){i.each(t,function(l,f){var p=L(a[f[4]])&&a[f[4]];o[f[1]](function(){var v=p&&p.apply(this,arguments);v&&L(v.promise)?v.promise().progress(s.notify).done(s.resolve).fail(s.reject):s[f[0]+"With"](this,p?[v]:arguments)})}),a=null}).promise()},then:function(a,s,l){var f=0;function p(v,x,g,m){return function(){var E=this,A=arguments,k=function(){var oe,ye;if(!(v<f)){if((oe=g.apply(E,A))===x.promise())throw new TypeError("Thenable self-resolution");ye=oe&&(typeof oe=="object"||typeof oe=="function")&&oe.then,L(ye)?m?ye.call(oe,p(f,x,Fe,m),p(f,x,Oe,m)):(f++,ye.call(oe,p(f,x,Fe,m),p(f,x,Oe,m),p(f,x,Fe,x.notifyWith))):(g!==Fe&&(E=void 0,A=[oe]),(m||x.resolveWith)(E,A))}},J=m?k:function(){try{k()}catch(oe){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(oe,J.stackTrace),f<=v+1&&(g!==Oe&&(E=void 0,A=[oe]),x.rejectWith(E,A))}};v?J():(i.Deferred.getStackHook&&(J.stackTrace=i.Deferred.getStackHook()),M.setTimeout(J))}}return i.Deferred(function(v){t[0][3].add(p(0,v,L(l)?l:Fe,v.notifyWith)),t[1][3].add(p(0,v,L(a)?a:Fe)),t[2][3].add(p(0,v,L(s)?s:Oe))}).promise()},promise:function(a){return a!=null?i.extend(a,r):r}},o={};return i.each(t,function(a,s){var l=s[2],f=s[5];r[s[1]]=l.add,f&&l.add(function(){n=f},t[3-a][2].disable,t[3-a][3].disable,t[0][2].lock,t[0][3].lock),l.add(s[3].fire),o[s[0]]=function(){return o[s[0]+"With"](this===o?void 0:this,arguments),this},o[s[0]+"With"]=l.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=Le.call(arguments),a=i.Deferred(),s=function(l){return function(f){r[l]=this,o[l]=1<arguments.length?Le.call(arguments):f,--t||a.resolveWith(r,o)}};if(t<=1&&(Ht(e,a.done(s(n)).resolve,a.reject,!t),a.state()==="pending"||L(o[n]&&o[n].then)))return a.then();for(;n--;)Ht(o[n],s(n),a.reject);return a.promise()}});var tn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(e,t){M.console&&M.console.warn&&e&&tn.test(e.name)&&M.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},i.readyException=function(e){M.setTimeout(function(){throw e})};var mt=i.Deferred();function N(){B.removeEventListener("DOMContentLoaded",N),M.removeEventListener("load",N),i.ready()}i.fn.ready=function(e){return mt.then(e).catch(function(t){i.readyException(t)}),this},i.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--i.readyWait:i.isReady)||(i.isReady=!0)!==e&&0<--i.readyWait||mt.resolveWith(B,[i])}}),i.ready.then=mt.then,B.readyState==="complete"||B.readyState!=="loading"&&!B.documentElement.doScroll?M.setTimeout(i.ready):(B.addEventListener("DOMContentLoaded",N),M.addEventListener("load",N));var me=function(e,t,n,r,o,a,s){var l=0,f=e.length,p=n==null;if(He(n)==="object")for(l in o=!0,n)me(e,t,l,n[l],!0,a,s);else if(r!==void 0&&(o=!0,L(r)||(s=!0),p&&(s?(t.call(e,r),t=null):(p=t,t=function(v,x,g){return p.call(i(v),g)})),t))for(;l<f;l++)t(e[l],n,s?r:r.call(e[l],l,t(e[l],n)));return o?e:p?t.call(e):f?t(e[0],n):a},tt=/^-ms-/,ee=/-([a-z])/g;function Ot(e,t){return t.toUpperCase()}function ve(e){return e.replace(tt,"ms-").replace(ee,Ot)}var _e=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Me(){this.expando=i.expando+Me.uid++}Me.uid=1,Me.prototype={cache:function(e){var t=e[this.expando];return t||(t={},_e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if(typeof t=="string")o[ve(t)]=n;else for(r in t)o[ve(r)]=t[r];return o},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][ve(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,r=e[this.expando];if(r!==void 0){if(t!==void 0)for(n=(t=Array.isArray(t)?t.map(ve):(t=ve(t))in r?[t]:t.match(Ee)||[]).length;n--;)delete r[t[n]];(t===void 0||i.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!i.isEmptyObject(t)}};var D=new Me,te=new Me,I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function Mt(e,t,n){var r,o;if(n===void 0&&e.nodeType===1)if(r="data-"+t.replace(nt,"-$&").toLowerCase(),typeof(n=e.getAttribute(r))=="string"){try{n=(o=n)==="true"||o!=="false"&&(o==="null"?null:o===+o+""?+o:I.test(o)?JSON.parse(o):o)}catch{}te.set(e,t,n)}else n=void 0;return n}i.extend({hasData:function(e){return te.hasData(e)||D.hasData(e)},data:function(e,t,n){return te.access(e,t,n)},removeData:function(e,t){te.remove(e,t)},_data:function(e,t,n){return D.access(e,t,n)},_removeData:function(e,t){D.remove(e,t)}}),i.fn.extend({data:function(e,t){var n,r,o,a=this[0],s=a&&a.attributes;if(e===void 0){if(this.length&&(o=te.get(a),a.nodeType===1&&!D.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name).indexOf("data-")===0&&(r=ve(r.slice(5)),Mt(a,r,o[r]));D.set(a,"hasDataAttrs",!0)}return o}return typeof e=="object"?this.each(function(){te.set(this,e)}):me(this,function(l){var f;if(a&&l===void 0)return(f=te.get(a,e))!==void 0||(f=Mt(a,e))!==void 0?f:void 0;this.each(function(){te.set(this,e,l)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){te.remove(this,e)})}}),i.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=D.get(e,t),n&&(!r||Array.isArray(n)?r=D.access(e,t,i.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=i.queue(e,t),r=n.length,o=n.shift(),a=i._queueHooks(e,t);o==="inprogress"&&(o=n.shift(),r--),o&&(t==="fx"&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){i.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return D.get(e,n)||D.access(e,n,{empty:i.Callbacks("once memory").add(function(){D.remove(e,[t+"queue",n])})})}}),i.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?i.queue(this[0],e):t===void 0?this:this.each(function(){var r=i.queue(this,e,t);i._queueHooks(this,e),e==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=i.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";s--;)(n=D.get(a[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(t)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],yt=B.documentElement,rt=function(e){return i.contains(e.ownerDocument,e)},lr={composed:!0};yt.getRootNode&&(rt=function(e){return i.contains(e.ownerDocument,e)||e.getRootNode(lr)===e.ownerDocument});var Rt=function(e,t){return(e=t||e).style.display==="none"||e.style.display===""&&rt(e)&&i.css(e,"display")==="none"},Cn=function(e,t,n,r){var o,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];for(a in o=n.apply(e,r||[]),t)e.style[a]=s[a];return o};function En(e,t,n,r){var o,a,s=20,l=r?function(){return r.cur()}:function(){return i.css(e,t,"")},f=l(),p=n&&n[3]||(i.cssNumber[t]?"":"px"),v=e.nodeType&&(i.cssNumber[t]||p!=="px"&&+f)&&vt.exec(i.css(e,t));if(v&&v[3]!==p){for(f/=2,p=p||v[3],v=+f||1;s--;)i.style(e,t,v+p),(1-a)*(1-(a=l()/f||.5))<=0&&(s=0),v/=a;v*=2,i.style(e,t,v+p),n=n||[]}return n&&(v=+v||+f||0,o=n[1]?v+(n[1]+1)*n[2]:+n[2],r&&(r.unit=p,r.start=v,r.end=o)),o}var kn={};function it(e,t){for(var n,r,o,a,s,l,f,p=[],v=0,x=e.length;v<x;v++)(r=e[v]).style&&(n=r.style.display,t?(n==="none"&&(p[v]=D.get(r,"display")||null,p[v]||(r.style.display="")),r.style.display===""&&Rt(r)&&(p[v]=(f=s=a=void 0,s=(o=r).ownerDocument,l=o.nodeName,(f=kn[l])||(a=s.body.appendChild(s.createElement(l)),f=i.css(a,"display"),a.parentNode.removeChild(a),f==="none"&&(f="block"),kn[l]=f)))):n!=="none"&&(p[v]="none",D.set(r,"display",n)));for(v=0;v<x;v++)p[v]!=null&&(e[v].style.display=p[v]);return e}i.fn.extend({show:function(){return it(this,!0)},hide:function(){return it(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){Rt(this)?i(this).show():i(this).hide()})}});var xt=/^(?:checkbox|radio)$/i,Dn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sn=/^$|^module$|\/(?:java|ecma)script/i,ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){var n;return n=typeof e.getElementsByTagName<"u"?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?e.querySelectorAll(t||"*"):[],t===void 0||t&&ge(e,t)?i.merge([e],n):n}function nn(e,t){for(var n=0,r=e.length;n<r;n++)D.set(e[n],"globalEval",!t||D.get(t[n],"globalEval"))}ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td;var bt,Bt,cr=/<|&#?\w+;/;function Nn(e,t,n,r,o){for(var a,s,l,f,p,v,x=t.createDocumentFragment(),g=[],m=0,E=e.length;m<E;m++)if((a=e[m])||a===0)if(He(a)==="object")i.merge(g,a.nodeType?[a]:a);else if(cr.test(a)){for(s=s||x.appendChild(t.createElement("div")),l=(Dn.exec(a)||["",""])[1].toLowerCase(),f=ke[l]||ke._default,s.innerHTML=f[1]+i.htmlPrefilter(a)+f[2],v=f[0];v--;)s=s.lastChild;i.merge(g,s.childNodes),(s=x.firstChild).textContent=""}else g.push(t.createTextNode(a));for(x.textContent="",m=0;a=g[m++];)if(r&&-1<i.inArray(a,r))o&&o.push(a);else if(p=rt(a),s=de(x.appendChild(a),"script"),p&&nn(s),n)for(v=0;a=s[v++];)Sn.test(a.type||"")&&n.push(a);return x}bt=B.createDocumentFragment().appendChild(B.createElement("div")),(Bt=B.createElement("input")).setAttribute("type","radio"),Bt.setAttribute("checked","checked"),Bt.setAttribute("name","t"),bt.appendChild(Bt),_.checkClone=bt.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!bt.cloneNode(!0).lastChild.defaultValue;var fr=/^key/,dr=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,An=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function at(){return!1}function pr(e,t){return e===function(){try{return B.activeElement}catch{}}()==(t==="focus")}function rn(e,t,n,r,o,a){var s,l;if(typeof t=="object"){for(l in typeof n!="string"&&(r=r||n,n=void 0),t)rn(e,l,n,r,t[l],a);return e}if(r==null&&o==null?(o=n,r=n=void 0):o==null&&(typeof n=="string"?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=at;else if(!o)return e;return a===1&&(s=o,(o=function(f){return i().off(f),s.apply(this,arguments)}).guid=s.guid||(s.guid=i.guid++)),e.each(function(){i.event.add(this,t,o,r,n)})}function Wt(e,t,n){n?(D.set(e,t,!1),i.event.add(e,t,{namespace:!1,handler:function(r){var o,a,s=D.get(this,t);if(1&r.isTrigger&&this[t]){if(s.length)(i.event.special[t]||{}).delegateType&&r.stopPropagation();else if(s=Le.call(arguments),D.set(this,t,s),o=n(this,t),this[t](),s!==(a=D.get(this,t))||o?D.set(this,t,!1):a={},s!==a)return r.stopImmediatePropagation(),r.preventDefault(),a.value}else s.length&&(D.set(this,t,{value:i.event.trigger(i.extend(s[0],i.Event.prototype),s.slice(1),this)}),r.stopImmediatePropagation())}})):D.get(e,t)===void 0&&i.event.add(e,t,ot)}i.event={global:{},add:function(e,t,n,r,o){var a,s,l,f,p,v,x,g,m,E,A,k=D.get(e);if(k)for(n.handler&&(n=(a=n).handler,o=a.selector),o&&i.find.matchesSelector(yt,o),n.guid||(n.guid=i.guid++),(f=k.events)||(f=k.events={}),(s=k.handle)||(s=k.handle=function(J){return typeof i<"u"&&i.event.triggered!==J.type?i.event.dispatch.apply(e,arguments):void 0}),p=(t=(t||"").match(Ee)||[""]).length;p--;)m=A=(l=An.exec(t[p])||[])[1],E=(l[2]||"").split(".").sort(),m&&(x=i.event.special[m]||{},m=(o?x.delegateType:x.bindType)||m,x=i.event.special[m]||{},v=i.extend({type:m,origType:A,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&i.expr.match.needsContext.test(o),namespace:E.join(".")},a),(g=f[m])||((g=f[m]=[]).delegateCount=0,x.setup&&x.setup.call(e,r,E,s)!==!1||e.addEventListener&&e.addEventListener(m,s)),x.add&&(x.add.call(e,v),v.handler.guid||(v.handler.guid=n.guid)),o?g.splice(g.delegateCount++,0,v):g.push(v),i.event.global[m]=!0)},remove:function(e,t,n,r,o){var a,s,l,f,p,v,x,g,m,E,A,k=D.hasData(e)&&D.get(e);if(k&&(f=k.events)){for(p=(t=(t||"").match(Ee)||[""]).length;p--;)if(m=A=(l=An.exec(t[p])||[])[1],E=(l[2]||"").split(".").sort(),m){for(x=i.event.special[m]||{},g=f[m=(r?x.delegateType:x.bindType)||m]||[],l=l[2]&&new RegExp("(^|\\.)"+E.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=g.length;a--;)v=g[a],!o&&A!==v.origType||n&&n.guid!==v.guid||l&&!l.test(v.namespace)||r&&r!==v.selector&&(r!=="**"||!v.selector)||(g.splice(a,1),v.selector&&g.delegateCount--,x.remove&&x.remove.call(e,v));s&&!g.length&&(x.teardown&&x.teardown.call(e,E,k.handle)!==!1||i.removeEvent(e,m,k.handle),delete f[m])}else for(m in f)i.event.remove(e,m+t[p],n,r,!0);i.isEmptyObject(f)&&D.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,s,l=i.event.fix(e),f=new Array(arguments.length),p=(D.get(this,"events")||{})[l.type]||[],v=i.event.special[l.type]||{};for(f[0]=l,t=1;t<arguments.length;t++)f[t]=arguments[t];if(l.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,l)!==!1){for(s=i.event.handlers.call(this,l,p),t=0;(o=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&a.namespace!==!1&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,(r=((i.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,f))!==void 0&&(l.result=r)===!1&&(l.preventDefault(),l.stopPropagation()));return v.postDispatch&&v.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,a,s,l=[],f=t.delegateCount,p=e.target;if(f&&p.nodeType&&!(e.type==="click"&&1<=e.button)){for(;p!==this;p=p.parentNode||this)if(p.nodeType===1&&(e.type!=="click"||p.disabled!==!0)){for(a=[],s={},n=0;n<f;n++)s[o=(r=t[n]).selector+" "]===void 0&&(s[o]=r.needsContext?-1<i(o,this).index(p):i.find(o,this,null,[p]).length),s[o]&&a.push(r);a.length&&l.push({elem:p,handlers:a})}}return p=this,f<t.length&&l.push({elem:p,handlers:t.slice(f)}),l},addProp:function(e,t){Object.defineProperty(i.Event.prototype,e,{enumerable:!0,configurable:!0,get:L(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[i.expando]?e:new i.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return xt.test(t.type)&&t.click&&ge(t,"input")&&Wt(t,"click",ot),!1},trigger:function(e){var t=this||e;return xt.test(t.type)&&t.click&&ge(t,"input")&&Wt(t,"click"),!0},_default:function(e){var t=e.target;return xt.test(t.type)&&t.click&&ge(t,"input")&&D.get(t,"click")||ge(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},i.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},i.Event=function(e,t){if(!(this instanceof i.Event))return new i.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?ot:at,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&i.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:at,isPropagationStopped:at,isImmediatePropagationStopped:at,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ot,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ot,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ot,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return e.which==null&&fr.test(e.type)?e.charCode!=null?e.charCode:e.keyCode:!e.which&&t!==void 0&&dr.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(e,t){i.event.special[e]={setup:function(){return Wt(this,e,pr),!1},trigger:function(){return Wt(this,e),!0},delegateType:t}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){i.event.special[e]={delegateType:t,bindType:t,handle:function(n){var r,o=n.relatedTarget,a=n.handleObj;return o&&(o===this||i.contains(this,o))||(n.type=a.origType,r=a.handler.apply(this,arguments),n.type=t),r}}}),i.fn.extend({on:function(e,t,n,r){return rn(this,e,t,n,r)},one:function(e,t,n,r){return rn(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,i(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&typeof t!="function"||(n=t,t=void 0),n===!1&&(n=at),this.each(function(){i.event.remove(this,e,n,t)})}});var hr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,gr=/<script|<style|<link/i,mr=/checked\s*(?:[^=]|=\s*.checked.)/i,vr=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jn(e,t){return ge(e,"table")&&ge(t.nodeType!==11?t:t.firstChild,"tr")&&i(e).children("tbody")[0]||e}function yr(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function xr(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function qn(e,t){var n,r,o,a,s,l,f,p;if(t.nodeType===1){if(D.hasData(e)&&(a=D.access(e),s=D.set(t,a),p=a.events))for(o in delete s.handle,s.events={},p)for(n=0,r=p[o].length;n<r;n++)i.event.add(t,o,p[o][n]);te.hasData(e)&&(l=te.access(e),f=i.extend({},l),te.set(t,f))}}function st(e,t,n,r){t=St.apply([],t);var o,a,s,l,f,p,v=0,x=e.length,g=x-1,m=t[0],E=L(m);if(E||1<x&&typeof m=="string"&&!_.checkClone&&mr.test(m))return e.each(function(A){var k=e.eq(A);E&&(t[0]=m.call(this,A,k.html())),st(k,t,n,r)});if(x&&(a=(o=Nn(t,e[0].ownerDocument,!1,e,r)).firstChild,o.childNodes.length===1&&(o=a),a||r)){for(l=(s=i.map(de(o,"script"),yr)).length;v<x;v++)f=o,v!==g&&(f=i.clone(f,!0,!0),l&&i.merge(s,de(f,"script"))),n.call(e[v],f,v);if(l)for(p=s[s.length-1].ownerDocument,i.map(s,xr),v=0;v<l;v++)f=s[v],Sn.test(f.type||"")&&!D.access(f,"globalEval")&&i.contains(p,f)&&(f.src&&(f.type||"").toLowerCase()!=="module"?i._evalUrl&&!f.noModule&&i._evalUrl(f.src,{nonce:f.nonce||f.getAttribute("nonce")}):Q(f.textContent.replace(vr,""),f,p))}return e}function Ln(e,t,n){for(var r,o=t?i.filter(t,e):e,a=0;(r=o[a])!=null;a++)n||r.nodeType!==1||i.cleanData(de(r)),r.parentNode&&(n&&rt(r)&&nn(de(r,"script")),r.parentNode.removeChild(r));return e}i.extend({htmlPrefilter:function(e){return e.replace(hr,"<$1></$2>")},clone:function(e,t,n){var r,o,a,s,l,f,p,v=e.cloneNode(!0),x=rt(e);if(!(_.noCloneChecked||e.nodeType!==1&&e.nodeType!==11||i.isXMLDoc(e)))for(s=de(v),r=0,o=(a=de(e)).length;r<o;r++)l=a[r],f=s[r],(p=f.nodeName.toLowerCase())==="input"&&xt.test(l.type)?f.checked=l.checked:p!=="input"&&p!=="textarea"||(f.defaultValue=l.defaultValue);if(t)if(n)for(a=a||de(e),s=s||de(v),r=0,o=a.length;r<o;r++)qn(a[r],s[r]);else qn(e,v);return 0<(s=de(v,"script")).length&&nn(s,!x&&de(e,"script")),v},cleanData:function(e){for(var t,n,r,o=i.event.special,a=0;(n=e[a])!==void 0;a++)if(_e(n)){if(t=n[D.expando]){if(t.events)for(r in t.events)o[r]?i.event.remove(n,r):i.removeEvent(n,r,t.handle);n[D.expando]=void 0}n[te.expando]&&(n[te.expando]=void 0)}}}),i.fn.extend({detach:function(e){return Ln(this,e,!0)},remove:function(e){return Ln(this,e)},text:function(e){return me(this,function(t){return t===void 0?i.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=t)})},null,e,arguments.length)},append:function(){return st(this,arguments,function(e){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||jn(this,e).appendChild(e)})},prepend:function(){return st(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=jn(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return st(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return st(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(i.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e!=null&&e,t=t??e,this.map(function(){return i.clone(this,e,t)})},html:function(e){return me(this,function(t){var n=this[0]||{},r=0,o=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!gr.test(t)&&!ke[(Dn.exec(t)||["",""])[1].toLowerCase()]){t=i.htmlPrefilter(t);try{for(;r<o;r++)(n=this[r]||{}).nodeType===1&&(i.cleanData(de(n,!1)),n.innerHTML=t);n=0}catch{}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return st(this,arguments,function(t){var n=this.parentNode;i.inArray(this,e)<0&&(i.cleanData(de(this)),n&&n.replaceChild(t,this))},e)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){i.fn[e]=function(n){for(var r,o=[],a=i(n),s=a.length-1,l=0;l<=s;l++)r=l===s?this:this.clone(!0),i(a[l])[t](r),pt.apply(o,r.get());return this.pushStack(o)}});var on=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),It=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=M),t.getComputedStyle(e)},br=new RegExp(We.join("|"),"i");function wt(e,t,n){var r,o,a,s,l=e.style;return(n=n||It(e))&&((s=n.getPropertyValue(t)||n[t])!==""||rt(e)||(s=i.style(e,t)),!_.pixelBoxStyles()&&on.test(s)&&br.test(t)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=o,l.maxWidth=a)),s!==void 0?s+"":s}function Hn(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}(function(){function e(){if(f){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",f.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(l).appendChild(f);var p=M.getComputedStyle(f);n=p.top!=="1%",s=t(p.marginLeft)===12,f.style.right="60%",a=t(p.right)===36,r=t(p.width)===36,f.style.position="absolute",o=t(f.offsetWidth/3)===12,yt.removeChild(l),f=null}}function t(p){return Math.round(parseFloat(p))}var n,r,o,a,s,l=B.createElement("div"),f=B.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=f.style.backgroundClip==="content-box",i.extend(_,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o}}))})();var On=["Webkit","Moz","ms"],Mn=B.createElement("div").style,Pn={};function an(e){var t=i.cssProps[e]||Pn[e];return t||(e in Mn?e:Pn[e]=function(n){for(var r=n[0].toUpperCase()+n.slice(1),o=On.length;o--;)if((n=On[o]+r)in Mn)return n}(e)||e)}var wr=/^(none|table(?!-c[ea]).+)/,Rn=/^--/,Tr={position:"absolute",visibility:"hidden",display:"block"},Bn={letterSpacing:"0",fontWeight:"400"};function Wn(e,t,n){var r=vt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function sn(e,t,n,r,o,a){var s=t==="width"?1:0,l=0,f=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)n==="margin"&&(f+=i.css(e,n+We[s],!0,o)),r?(n==="content"&&(f-=i.css(e,"padding"+We[s],!0,o)),n!=="margin"&&(f-=i.css(e,"border"+We[s]+"Width",!0,o))):(f+=i.css(e,"padding"+We[s],!0,o),n!=="padding"?f+=i.css(e,"border"+We[s]+"Width",!0,o):l+=i.css(e,"border"+We[s]+"Width",!0,o));return!r&&0<=a&&(f+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-f-l-.5))||0),f}function In(e,t,n){var r=It(e),o=(!_.boxSizingReliable()||n)&&i.css(e,"boxSizing",!1,r)==="border-box",a=o,s=wt(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(on.test(s)){if(!n)return s;s="auto"}return(!_.boxSizingReliable()&&o||s==="auto"||!parseFloat(s)&&i.css(e,"display",!1,r)==="inline")&&e.getClientRects().length&&(o=i.css(e,"boxSizing",!1,r)==="border-box",(a=l in e)&&(s=e[l])),(s=parseFloat(s)||0)+sn(e,t,n||(o?"border":"content"),a,r,s)+"px"}function Ne(e,t,n,r,o){return new Ne.prototype.init(e,t,n,r,o)}i.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=wt(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&e.nodeType!==3&&e.nodeType!==8&&e.style){var o,a,s,l=ve(t),f=Rn.test(t),p=e.style;if(f||(t=an(l)),s=i.cssHooks[t]||i.cssHooks[l],n===void 0)return s&&"get"in s&&(o=s.get(e,!1,r))!==void 0?o:p[t];(a=typeof n)=="string"&&(o=vt.exec(n))&&o[1]&&(n=En(e,t,o),a="number"),n!=null&&n==n&&(a!=="number"||f||(n+=o&&o[3]||(i.cssNumber[l]?"":"px")),_.clearCloneStyle||n!==""||t.indexOf("background")!==0||(p[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===void 0||(f?p.setProperty(t,n):p[t]=n))}},css:function(e,t,n,r){var o,a,s,l=ve(t);return Rn.test(t)||(t=an(l)),(s=i.cssHooks[t]||i.cssHooks[l])&&"get"in s&&(o=s.get(e,!0,n)),o===void 0&&(o=wt(e,t,r)),o==="normal"&&t in Bn&&(o=Bn[t]),n===""||n?(a=parseFloat(o),n===!0||isFinite(a)?a||0:o):o}}),i.each(["height","width"],function(e,t){i.cssHooks[t]={get:function(n,r,o){if(r)return!wr.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?In(n,t,o):Cn(n,Tr,function(){return In(n,t,o)})},set:function(n,r,o){var a,s=It(n),l=!_.scrollboxSize()&&s.position==="absolute",f=(l||o)&&i.css(n,"boxSizing",!1,s)==="border-box",p=o?sn(n,t,o,f,s):0;return f&&l&&(p-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-sn(n,t,"border",!1,s)-.5)),p&&(a=vt.exec(r))&&(a[3]||"px")!=="px"&&(n.style[t]=r,r=i.css(n,t)),Wn(0,r,p)}}}),i.cssHooks.marginLeft=Hn(_.reliableMarginLeft,function(e,t){if(t)return(parseFloat(wt(e,"marginLeft"))||e.getBoundingClientRect().left-Cn(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(e,t){i.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a=typeof n=="string"?n.split(" "):[n];r<4;r++)o[e+We[r]+t]=a[r]||a[r-2]||a[0];return o}},e!=="margin"&&(i.cssHooks[e+t].set=Wn)}),i.fn.extend({css:function(e,t){return me(this,function(n,r,o){var a,s,l={},f=0;if(Array.isArray(r)){for(a=It(n),s=r.length;f<s;f++)l[r[f]]=i.css(n,r[f],!1,a);return l}return o!==void 0?i.style(n,r,o):i.css(n,r)},e,t,1<arguments.length)}}),((i.Tween=Ne).prototype={constructor:Ne,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||i.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(i.cssNumber[n]?"":"px")},cur:function(){var e=Ne.propHooks[this.prop];return e&&e.get?e.get(this):Ne.propHooks._default.get(this)},run:function(e){var t,n=Ne.propHooks[this.prop];return this.options.duration?this.pos=t=i.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ne.propHooks._default.set(this),this}}).init.prototype=Ne.prototype,(Ne.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=i.css(e.elem,e.prop,""))&&t!=="auto"?t:0},set:function(e){i.fx.step[e.prop]?i.fx.step[e.prop](e):e.elem.nodeType!==1||!i.cssHooks[e.prop]&&e.elem.style[an(e.prop)]==null?e.elem[e.prop]=e.now:i.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ne.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},i.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},i.fx=Ne.prototype.init,i.fx.step={};var ut,$t,lt,$n,Cr=/^(?:toggle|show|hide)$/,Er=/queueHooks$/;function un(){$t&&(B.hidden===!1&&M.requestAnimationFrame?M.requestAnimationFrame(un):M.setTimeout(un,i.fx.interval),i.fx.tick())}function Fn(){return M.setTimeout(function(){ut=void 0}),ut=Date.now()}function Ft(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=We[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function _n(e,t,n){for(var r,o=(Ae.tweeners[t]||[]).concat(Ae.tweeners["*"]),a=0,s=o.length;a<s;a++)if(r=o[a].call(n,t,e))return r}function Ae(e,t,n){var r,o,a=0,s=Ae.prefilters.length,l=i.Deferred().always(function(){delete f.elem}),f=function(){if(o)return!1;for(var x=ut||Fn(),g=Math.max(0,p.startTime+p.duration-x),m=1-(g/p.duration||0),E=0,A=p.tweens.length;E<A;E++)p.tweens[E].run(m);return l.notifyWith(e,[p,m,g]),m<1&&A?g:(A||l.notifyWith(e,[p,1,0]),l.resolveWith(e,[p]),!1)},p=l.promise({elem:e,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||Fn(),duration:n.duration,tweens:[],createTween:function(x,g){var m=i.Tween(e,p.opts,x,g,p.opts.specialEasing[x]||p.opts.easing);return p.tweens.push(m),m},stop:function(x){var g=0,m=x?p.tweens.length:0;if(o)return this;for(o=!0;g<m;g++)p.tweens[g].run(1);return x?(l.notifyWith(e,[p,1,0]),l.resolveWith(e,[p,x])):l.rejectWith(e,[p,x]),this}}),v=p.props;for(!function(x,g){var m,E,A,k,J;for(m in x)if(A=g[E=ve(m)],k=x[m],Array.isArray(k)&&(A=k[1],k=x[m]=k[0]),m!==E&&(x[E]=k,delete x[m]),(J=i.cssHooks[E])&&"expand"in J)for(m in k=J.expand(k),delete x[E],k)m in x||(x[m]=k[m],g[m]=A);else g[E]=A}(v,p.opts.specialEasing);a<s;a++)if(r=Ae.prefilters[a].call(p,e,v,p.opts))return L(r.stop)&&(i._queueHooks(p.elem,p.opts.queue).stop=r.stop.bind(r)),r;return i.map(v,_n,p),L(p.opts.start)&&p.opts.start.call(e,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),i.fx.timer(i.extend(f,{elem:e,anim:p,queue:p.opts.queue})),p}i.Animation=i.extend(Ae,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return En(n.elem,e,vt.exec(t),n),n}]},tweener:function(e,t){L(e)?(t=e,e=["*"]):e=e.match(Ee);for(var n,r=0,o=e.length;r<o;r++)n=e[r],Ae.tweeners[n]=Ae.tweeners[n]||[],Ae.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,a,s,l,f,p,v,x="width"in t||"height"in t,g=this,m={},E=e.style,A=e.nodeType&&Rt(e),k=D.get(e,"fxshow");for(r in n.queue||((s=i._queueHooks(e,"fx")).unqueued==null&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,g.always(function(){g.always(function(){s.unqueued--,i.queue(e,"fx").length||s.empty.fire()})})),t)if(o=t[r],Cr.test(o)){if(delete t[r],a=a||o==="toggle",o===(A?"hide":"show")){if(o!=="show"||!k||k[r]===void 0)continue;A=!0}m[r]=k&&k[r]||i.style(e,r)}if((f=!i.isEmptyObject(t))||!i.isEmptyObject(m))for(r in x&&e.nodeType===1&&(n.overflow=[E.overflow,E.overflowX,E.overflowY],(p=k&&k.display)==null&&(p=D.get(e,"display")),(v=i.css(e,"display"))==="none"&&(p?v=p:(it([e],!0),p=e.style.display||p,v=i.css(e,"display"),it([e]))),(v==="inline"||v==="inline-block"&&p!=null)&&i.css(e,"float")==="none"&&(f||(g.done(function(){E.display=p}),p==null&&(v=E.display,p=v==="none"?"":v)),E.display="inline-block")),n.overflow&&(E.overflow="hidden",g.always(function(){E.overflow=n.overflow[0],E.overflowX=n.overflow[1],E.overflowY=n.overflow[2]})),f=!1,m)f||(k?"hidden"in k&&(A=k.hidden):k=D.access(e,"fxshow",{display:p}),a&&(k.hidden=!A),A&&it([e],!0),g.done(function(){for(r in A||it([e]),D.remove(e,"fxshow"),m)i.style(e,r,m[r])})),f=_n(A?k[r]:0,r,g),r in k||(k[r]=f.start,A&&(f.end=f.start,f.start=0))}],prefilter:function(e,t){t?Ae.prefilters.unshift(e):Ae.prefilters.push(e)}}),i.speed=function(e,t,n){var r=e&&typeof e=="object"?i.extend({},e):{complete:n||!n&&t||L(e)&&e,duration:e,easing:n&&t||t&&!L(t)&&t};return i.fx.off?r.duration=0:typeof r.duration!="number"&&(r.duration in i.fx.speeds?r.duration=i.fx.speeds[r.duration]:r.duration=i.fx.speeds._default),r.queue!=null&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){L(r.old)&&r.old.call(this),r.queue&&i.dequeue(this,r.queue)},r},i.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Rt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=i.isEmptyObject(e),a=i.speed(t,n,r),s=function(){var l=Ae(this,i.extend({},e),a);(o||D.get(this,"finish"))&&l.stop(!0)};return s.finish=s,o||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var r=function(o){var a=o.stop;delete o.stop,a(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var o=!0,a=e!=null&&e+"queueHooks",s=i.timers,l=D.get(this);if(a)l[a]&&l[a].stop&&r(l[a]);else for(a in l)l[a]&&l[a].stop&&Er.test(a)&&r(l[a]);for(a=s.length;a--;)s[a].elem!==this||e!=null&&s[a].queue!==e||(s[a].anim.stop(n),o=!1,s.splice(a,1));!o&&n||i.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=D.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=i.timers,s=r?r.length:0;for(n.finish=!0,i.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),i.each(["toggle","show","hide"],function(e,t){var n=i.fn[t];i.fn[t]=function(r,o,a){return r==null||typeof r=="boolean"?n.apply(this,arguments):this.animate(Ft(t,!0),r,o,a)}}),i.each({slideDown:Ft("show"),slideUp:Ft("hide"),slideToggle:Ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){i.fn[e]=function(n,r,o){return this.animate(t,n,r,o)}}),i.timers=[],i.fx.tick=function(){var e,t=0,n=i.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||i.fx.stop(),ut=void 0},i.fx.timer=function(e){i.timers.push(e),i.fx.start()},i.fx.interval=13,i.fx.start=function(){$t||($t=!0,un())},i.fx.stop=function(){$t=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(e,t){return e=i.fx&&i.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,r){var o=M.setTimeout(n,e);r.stop=function(){M.clearTimeout(o)}})},lt=B.createElement("input"),$n=B.createElement("select").appendChild(B.createElement("option")),lt.type="checkbox",_.checkOn=lt.value!=="",_.optSelected=$n.selected,(lt=B.createElement("input")).value="t",lt.type="radio",_.radioValue=lt.value==="t";var zn,Tt=i.expr.attrHandle;i.fn.extend({attr:function(e,t){return me(this,i.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){i.removeAttr(this,e)})}}),i.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(a!==3&&a!==8&&a!==2)return typeof e.getAttribute>"u"?i.prop(e,t,n):(a===1&&i.isXMLDoc(e)||(o=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?zn:void 0)),n!==void 0?n===null?void i.removeAttr(e,t):o&&"set"in o&&(r=o.set(e,n,t))!==void 0?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&(r=o.get(e,t))!==null?r:(r=i.find.attr(e,t))==null?void 0:r)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&t==="radio"&&ge(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(Ee);if(o&&e.nodeType===1)for(;n=o[r++];)e.removeAttribute(n)}}),zn={set:function(e,t,n){return t===!1?i.removeAttr(e,n):e.setAttribute(n,n),n}},i.each(i.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||i.find.attr;Tt[t]=function(r,o,a){var s,l,f=o.toLowerCase();return a||(l=Tt[f],Tt[f]=s,s=n(r,o,a)!=null?f:null,Tt[f]=l),s}});var kr=/^(?:input|select|textarea|button)$/i,Dr=/^(?:a|area)$/i;function Ue(e){return(e.match(Ee)||[]).join(" ")}function Xe(e){return e.getAttribute&&e.getAttribute("class")||""}function ln(e){return Array.isArray(e)?e:typeof e=="string"&&e.match(Ee)||[]}i.fn.extend({prop:function(e,t){return me(this,i.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[i.propFix[e]||e]})}}),i.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(a!==3&&a!==8&&a!==2)return a===1&&i.isXMLDoc(e)||(t=i.propFix[t]||t,o=i.propHooks[t]),n!==void 0?o&&"set"in o&&(r=o.set(e,n,t))!==void 0?r:e[t]=n:o&&"get"in o&&(r=o.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=i.find.attr(e,"tabindex");return t?parseInt(t,10):kr.test(e.nodeName)||Dr.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(i.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this}),i.fn.extend({addClass:function(e){var t,n,r,o,a,s,l,f=0;if(L(e))return this.each(function(p){i(this).addClass(e.call(this,p,Xe(this)))});if((t=ln(e)).length){for(;n=this[f++];)if(o=Xe(n),r=n.nodeType===1&&" "+Ue(o)+" "){for(s=0;a=t[s++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");o!==(l=Ue(r))&&n.setAttribute("class",l)}}return this},removeClass:function(e){var t,n,r,o,a,s,l,f=0;if(L(e))return this.each(function(p){i(this).removeClass(e.call(this,p,Xe(this)))});if(!arguments.length)return this.attr("class","");if((t=ln(e)).length){for(;n=this[f++];)if(o=Xe(n),r=n.nodeType===1&&" "+Ue(o)+" "){for(s=0;a=t[s++];)for(;-1<r.indexOf(" "+a+" ");)r=r.replace(" "+a+" "," ");o!==(l=Ue(r))&&n.setAttribute("class",l)}}return this},toggleClass:function(e,t){var n=typeof e,r=n==="string"||Array.isArray(e);return typeof t=="boolean"&&r?t?this.addClass(e):this.removeClass(e):L(e)?this.each(function(o){i(this).toggleClass(e.call(this,o,Xe(this),t),t)}):this.each(function(){var o,a,s,l;if(r)for(a=0,s=i(this),l=ln(e);o=l[a++];)s.hasClass(o)?s.removeClass(o):s.addClass(o);else e!==void 0&&n!=="boolean"||((o=Xe(this))&&D.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||e===!1?"":D.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(n.nodeType===1&&-1<(" "+Ue(Xe(n))+" ").indexOf(t))return!0;return!1}});var Sr=/\r/g;i.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=L(e),this.each(function(a){var s;this.nodeType===1&&((s=r?e.call(this,a,i(this).val()):e)==null?s="":typeof s=="number"?s+="":Array.isArray(s)&&(s=i.map(s,function(l){return l==null?"":l+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,s,"value")!==void 0||(this.value=s))})):o?(t=i.valHooks[o.type]||i.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(o,"value"))!==void 0?n:typeof(n=o.value)=="string"?n.replace(Sr,""):n??"":void 0}}),i.extend({valHooks:{option:{get:function(e){var t=i.find.attr(e,"value");return t??Ue(i.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,s=e.type==="select-one",l=s?null:[],f=s?a+1:o.length;for(r=a<0?f:s?a:0;r<f;r++)if(((n=o[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!ge(n.parentNode,"optgroup"))){if(t=i(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,r,o=e.options,a=i.makeArray(t),s=o.length;s--;)((r=o[s]).selected=-1<i.inArray(i.valHooks.option.get(r),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<i.inArray(i(e).val(),t)}},_.checkOn||(i.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),_.focusin="onfocusin"in M;var Un=/^(?:focusinfocus|focusoutblur)$/,Xn=function(e){e.stopPropagation()};i.extend(i.event,{trigger:function(e,t,n,r){var o,a,s,l,f,p,v,x,g=[n||B],m=ze.call(e,"type")?e.type:e,E=ze.call(e,"namespace")?e.namespace.split("."):[];if(a=x=s=n=n||B,n.nodeType!==3&&n.nodeType!==8&&!Un.test(m+i.event.triggered)&&(-1<m.indexOf(".")&&(m=(E=m.split(".")).shift(),E.sort()),f=m.indexOf(":")<0&&"on"+m,(e=e[i.expando]?e:new i.Event(m,typeof e=="object"&&e)).isTrigger=r?2:3,e.namespace=E.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+E.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:i.makeArray(t,[e]),v=i.event.special[m]||{},r||!v.trigger||v.trigger.apply(n,t)!==!1)){if(!r&&!v.noBubble&&!ce(n)){for(l=v.delegateType||m,Un.test(l+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),s=a;s===(n.ownerDocument||B)&&g.push(s.defaultView||s.parentWindow||M)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)x=a,e.type=1<o?l:v.bindType||m,(p=(D.get(a,"events")||{})[e.type]&&D.get(a,"handle"))&&p.apply(a,t),(p=f&&a[f])&&p.apply&&_e(a)&&(e.result=p.apply(a,t),e.result===!1&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||v._default&&v._default.apply(g.pop(),t)!==!1||!_e(n)||f&&L(n[m])&&!ce(n)&&((s=n[f])&&(n[f]=null),i.event.triggered=m,e.isPropagationStopped()&&x.addEventListener(m,Xn),n[m](),e.isPropagationStopped()&&x.removeEventListener(m,Xn),i.event.triggered=void 0,s&&(n[f]=s)),e.result}},simulate:function(e,t,n){var r=i.extend(new i.Event,n,{type:e,isSimulated:!0});i.event.trigger(r,null,t)}}),i.fn.extend({trigger:function(e,t){return this.each(function(){i.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return i.event.trigger(e,t,n,!0)}}),_.focusin||i.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(r){i.event.simulate(t,r.target,i.event.fix(r))};i.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=D.access(r,t);o||r.addEventListener(e,n,!0),D.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=D.access(r,t)-1;o?D.access(r,t,o):(r.removeEventListener(e,n,!0),D.remove(r,t))}}});var Ct=M.location,Vn=Date.now(),cn=/\?/;i.parseXML=function(e){var t;if(!e||typeof e!="string")return null;try{t=new M.DOMParser().parseFromString(e,"text/xml")}catch{t=void 0}return t&&!t.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+e),t};var Nr=/\[\]$/,Gn=/\r?\n/g,Ar=/^(?:submit|button|image|reset|file)$/i,jr=/^(?:input|select|textarea|keygen)/i;function fn(e,t,n,r){var o;if(Array.isArray(t))i.each(t,function(a,s){n||Nr.test(e)?r(e,s):fn(e+"["+(typeof s=="object"&&s!=null?a:"")+"]",s,n,r)});else if(n||He(t)!=="object")r(e,t);else for(o in t)fn(e+"["+o+"]",t[o],n,r)}i.param=function(e,t){var n,r=[],o=function(a,s){var l=L(s)?s():s;r[r.length]=encodeURIComponent(a)+"="+encodeURIComponent(l??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!i.isPlainObject(e))i.each(e,function(){o(this.name,this.value)});else for(n in e)fn(n,e[n],t,o);return r.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=i.prop(this,"elements");return e?i.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!i(this).is(":disabled")&&jr.test(this.nodeName)&&!Ar.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=i(this).val();return n==null?null:Array.isArray(n)?i.map(n,function(r){return{name:t.name,value:r.replace(Gn,`\r
`)}}):{name:t.name,value:n.replace(Gn,`\r
`)}}).get()}});var qr=/%20/g,Lr=/#.*$/,Hr=/([?&])_=[^&]*/,Or=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mr=/^(?:GET|HEAD)$/,Pr=/^\/\//,Yn={},dn={},Qn="*/".concat("*"),pn=B.createElement("a");function Jn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(Ee)||[];if(L(n))for(;r=a[o++];)r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Kn(e,t,n,r){var o={},a=e===dn;function s(l){var f;return o[l]=!0,i.each(e[l]||[],function(p,v){var x=v(t,n,r);return typeof x!="string"||a||o[x]?a?!(f=x):void 0:(t.dataTypes.unshift(x),s(x),!1)}),f}return s(t.dataTypes[0])||!o["*"]&&s("*")}function hn(e,t){var n,r,o=i.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&i.extend(!0,e,r),e}pn.href=Ct.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?hn(hn(e,i.ajaxSettings),t):hn(i.ajaxSettings,e)},ajaxPrefilter:Jn(Yn),ajaxTransport:Jn(dn),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,l,f,p,v,x,g=i.ajaxSetup({},t),m=g.context||g,E=g.context&&(m.nodeType||m.jquery)?i(m):i.event,A=i.Deferred(),k=i.Callbacks("once memory"),J=g.statusCode||{},oe={},ye={},U="canceled",H={readyState:0,getResponseHeader:function($){var K;if(f){if(!a)for(a={};K=Or.exec(o);)a[K[1].toLowerCase()+" "]=(a[K[1].toLowerCase()+" "]||[]).concat(K[2]);K=a[$.toLowerCase()+" "]}return K==null?null:K.join(", ")},getAllResponseHeaders:function(){return f?o:null},setRequestHeader:function($,K){return f==null&&($=ye[$.toLowerCase()]=ye[$.toLowerCase()]||$,oe[$]=K),this},overrideMimeType:function($){return f==null&&(g.mimeType=$),this},statusCode:function($){var K;if($)if(f)H.always($[H.status]);else for(K in $)J[K]=[J[K],$[K]];return this},abort:function($){var K=$||U;return n&&n.abort(K),pe(0,K),this}};if(A.promise(H),g.url=((e||g.url||Ct.href)+"").replace(Pr,Ct.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(Ee)||[""],g.crossDomain==null){l=B.createElement("a");try{l.href=g.url,l.href=l.href,g.crossDomain=pn.protocol+"//"+pn.host!=l.protocol+"//"+l.host}catch{g.crossDomain=!0}}if(g.data&&g.processData&&typeof g.data!="string"&&(g.data=i.param(g.data,g.traditional)),Kn(Yn,g,t,H),f)return H;for(v in(p=i.event&&g.global)&&i.active++==0&&i.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Mr.test(g.type),r=g.url.replace(Lr,""),g.hasContent?g.data&&g.processData&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(g.data=g.data.replace(qr,"+")):(x=g.url.slice(r.length),g.data&&(g.processData||typeof g.data=="string")&&(r+=(cn.test(r)?"&":"?")+g.data,delete g.data),g.cache===!1&&(r=r.replace(Hr,"$1"),x=(cn.test(r)?"&":"?")+"_="+Vn+++x),g.url=r+x),g.ifModified&&(i.lastModified[r]&&H.setRequestHeader("If-Modified-Since",i.lastModified[r]),i.etag[r]&&H.setRequestHeader("If-None-Match",i.etag[r])),(g.data&&g.hasContent&&g.contentType!==!1||t.contentType)&&H.setRequestHeader("Content-Type",g.contentType),H.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!=="*"?", "+Qn+"; q=0.01":""):g.accepts["*"]),g.headers)H.setRequestHeader(v,g.headers[v]);if(g.beforeSend&&(g.beforeSend.call(m,H,g)===!1||f))return H.abort();if(U="abort",k.add(g.complete),H.done(g.success),H.fail(g.error),n=Kn(dn,g,t,H)){if(H.readyState=1,p&&E.trigger("ajaxSend",[H,g]),f)return H;g.async&&0<g.timeout&&(s=M.setTimeout(function(){H.abort("timeout")},g.timeout));try{f=!1,n.send(oe,pe)}catch($){if(f)throw $;pe(-1,$)}}else pe(-1,"No Transport");function pe($,K,kt,_t){var De,Ve,ct,he,ft,Se=K;f||(f=!0,s&&M.clearTimeout(s),n=void 0,o=_t||"",H.readyState=0<$?4:0,De=200<=$&&$<300||$===304,kt&&(he=function(Z,xe,be){for(var Pe,R,F,ae,we=Z.contents,re=Z.dataTypes;re[0]==="*";)re.shift(),Pe===void 0&&(Pe=Z.mimeType||xe.getResponseHeader("Content-Type"));if(Pe){for(R in we)if(we[R]&&we[R].test(Pe)){re.unshift(R);break}}if(re[0]in be)F=re[0];else{for(R in be){if(!re[0]||Z.converters[R+" "+re[0]]){F=R;break}ae||(ae=R)}F=F||ae}if(F)return F!==re[0]&&re.unshift(F),be[F]}(g,H,kt)),he=function(Z,xe,be,Pe){var R,F,ae,we,re,Te={},dt=Z.dataTypes.slice();if(dt[1])for(ae in Z.converters)Te[ae.toLowerCase()]=Z.converters[ae];for(F=dt.shift();F;)if(Z.responseFields[F]&&(be[Z.responseFields[F]]=xe),!re&&Pe&&Z.dataFilter&&(xe=Z.dataFilter(xe,Z.dataType)),re=F,F=dt.shift()){if(F==="*")F=re;else if(re!=="*"&&re!==F){if(!(ae=Te[re+" "+F]||Te["* "+F])){for(R in Te)if((we=R.split(" "))[1]===F&&(ae=Te[re+" "+we[0]]||Te["* "+we[0]])){ae===!0?ae=Te[R]:Te[R]!==!0&&(F=we[0],dt.unshift(we[1]));break}}if(ae!==!0)if(ae&&Z.throws)xe=ae(xe);else try{xe=ae(xe)}catch(mn){return{state:"parsererror",error:ae?mn:"No conversion from "+re+" to "+F}}}}return{state:"success",data:xe}}(g,he,H,De),De?(g.ifModified&&((ft=H.getResponseHeader("Last-Modified"))&&(i.lastModified[r]=ft),(ft=H.getResponseHeader("etag"))&&(i.etag[r]=ft)),$===204||g.type==="HEAD"?Se="nocontent":$===304?Se="notmodified":(Se=he.state,Ve=he.data,De=!(ct=he.error))):(ct=Se,!$&&Se||(Se="error",$<0&&($=0))),H.status=$,H.statusText=(K||Se)+"",De?A.resolveWith(m,[Ve,Se,H]):A.rejectWith(m,[H,Se,ct]),H.statusCode(J),J=void 0,p&&E.trigger(De?"ajaxSuccess":"ajaxError",[H,g,De?Ve:ct]),k.fireWith(m,[H,Se]),p&&(E.trigger("ajaxComplete",[H,g]),--i.active||i.event.trigger("ajaxStop")))}return H},getJSON:function(e,t,n){return i.get(e,t,n,"json")},getScript:function(e,t){return i.get(e,void 0,t,"script")}}),i.each(["get","post"],function(e,t){i[t]=function(n,r,o,a){return L(r)&&(a=a||o,o=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:a,data:r,success:o},i.isPlainObject(n)&&n))}}),i._evalUrl=function(e,t){return i.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t)}})},i.fn.extend({wrapAll:function(e){var t;return this[0]&&(L(e)&&(e=e.call(this[0])),t=i(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return L(e)?this.each(function(t){i(this).wrapInner(e.call(this,t))}):this.each(function(){var t=i(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=L(e);return this.each(function(n){i(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(e){return!i.expr.pseudos.visible(e)},i.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new M.XMLHttpRequest}catch{}};var Rr={0:200,1223:204},Et=i.ajaxSettings.xhr();_.cors=!!Et&&"withCredentials"in Et,_.ajax=Et=!!Et,i.ajaxTransport(function(e){var t,n;if(_.cors||Et&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(l){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,l==="abort"?s.abort():l==="error"?typeof s.status!="number"?o(0,"error"):o(s.status,s.statusText):o(Rr[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),s.onabort!==void 0?s.onabort=n:s.onreadystatechange=function(){s.readyState===4&&M.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}}),i.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return i.globalEval(e),e}}}),i.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),i.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=i("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(a){t.remove(),n=null,a&&o(a.type==="error"?404:200,a.type)}),B.head.appendChild(t[0])},abort:function(){n&&n()}}});var Zn,er=[],gn=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||i.expando+"_"+Vn++;return this[e]=!0,e}}),i.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,s=e.jsonp!==!1&&(gn.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&gn.test(e.data)&&"data");if(s||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=L(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(gn,"$1"+r):e.jsonp!==!1&&(e.url+=(cn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||i.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=M[r],M[r]=function(){a=arguments},n.always(function(){o===void 0?i(M).removeProp(r):M[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,er.push(r)),a&&L(o)&&o(a[0]),a=o=void 0}),"script"}),_.createHTMLDocument=((Zn=B.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",Zn.childNodes.length===2),i.parseHTML=function(e,t,n){return typeof e!="string"?[]:(typeof t=="boolean"&&(n=t,t=!1),t||(_.createHTMLDocument?((r=(t=B.implementation.createHTMLDocument("")).createElement("base")).href=B.location.href,t.head.appendChild(r)):t=B),a=!n&&[],(o=jt.exec(e))?[t.createElement(o[1])]:(o=Nn([e],t,a),a&&a.length&&i(a).remove(),i.merge([],o.childNodes)));var r,o,a},i.fn.load=function(e,t,n){var r,o,a,s=this,l=e.indexOf(" ");return-1<l&&(r=Ue(e.slice(l)),e=e.slice(0,l)),L(t)?(n=t,t=void 0):t&&typeof t=="object"&&(o="POST"),0<s.length&&i.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(f){a=arguments,s.html(r?i("<div>").append(i.parseHTML(f)).find(r):f)}).always(n&&function(f,p){s.each(function(){n.apply(this,a||[f.responseText,p,f])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(e){return i.grep(i.timers,function(t){return e===t.elem}).length},i.offset={setOffset:function(e,t,n){var r,o,a,s,l,f,p=i.css(e,"position"),v=i(e),x={};p==="static"&&(e.style.position="relative"),l=v.offset(),a=i.css(e,"top"),f=i.css(e,"left"),(p==="absolute"||p==="fixed")&&-1<(a+f).indexOf("auto")?(s=(r=v.position()).top,o=r.left):(s=parseFloat(a)||0,o=parseFloat(f)||0),L(t)&&(t=t.call(e,n,i.extend({},l))),t.top!=null&&(x.top=t.top-l.top+s),t.left!=null&&(x.left=t.left-l.left+o),"using"in t?t.using.call(e,x):v.css(x)}},i.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(o){i.offset.setOffset(this,e,o)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if(i.css(r,"position")==="fixed")t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&i.css(e,"position")==="static";)e=e.parentNode;e&&e!==r&&e.nodeType===1&&((o=i(e).offset()).top+=i.css(e,"borderTopWidth",!0),o.left+=i.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-i.css(r,"marginTop",!0),left:t.left-o.left-i.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&i.css(e,"position")==="static";)e=e.offsetParent;return e||yt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";i.fn[e]=function(r){return me(this,function(o,a,s){var l;if(ce(o)?l=o:o.nodeType===9&&(l=o.defaultView),s===void 0)return l?l[t]:o[a];l?l.scrollTo(n?l.pageXOffset:s,n?s:l.pageYOffset):o[a]=s},e,r,arguments.length)}}),i.each(["top","left"],function(e,t){i.cssHooks[t]=Hn(_.pixelPosition,function(n,r){if(r)return r=wt(n,t),on.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(e,t){i.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){i.fn[r]=function(o,a){var s=arguments.length&&(n||typeof o!="boolean"),l=n||(o===!0||a===!0?"margin":"border");return me(this,function(f,p,v){var x;return ce(f)?r.indexOf("outer")===0?f["inner"+e]:f.document.documentElement["client"+e]:f.nodeType===9?(x=f.documentElement,Math.max(f.body["scroll"+e],x["scroll"+e],f.body["offset"+e],x["offset"+e],x["client"+e])):v===void 0?i.css(f,p,l):i.style(f,p,v,l)},t,s?o:void 0,s)}})}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){i.fn[t]=function(n,r){return 0<arguments.length?this.on(t,null,n,r):this.trigger(t)}}),i.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),i.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}}),i.proxy=function(e,t){var n,r,o;if(typeof t=="string"&&(n=e[t],t=e,e=n),L(e))return r=Le.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(Le.call(arguments)))}).guid=e.guid=e.guid||i.guid++,o},i.holdReady=function(e){e?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=ge,i.isFunction=L,i.isWindow=ce,i.camelCase=ve,i.type=He,i.now=Date.now,i.isNumeric=function(e){var t=i.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i});var Br=M.jQuery,Wr=M.$;return i.noConflict=function(e){return M.$===i&&(M.$=Wr),e&&M.jQuery===i&&(M.jQuery=Br),i},Y||(M.jQuery=M.$=i),i}),function(M){M(["jquery"],function(Y){return function(){function Ce(S,z,G){return L({type:Ke.error,iconClass:ce().iconClasses.error,message:S,optionsOverride:G,title:z})}function B(S,z){return S||(S=ce()),Q=Y("#"+S.containerId),Q.length||z&&(Q=At(S)),Q}function Qt(S,z,G){return L({type:Ke.info,iconClass:ce().iconClasses.info,message:S,optionsOverride:G,title:z})}function Le(S){He=S}function St(S,z,G){return L({type:Ke.success,iconClass:ce().iconClasses.success,message:S,optionsOverride:G,title:z})}function pt(S,z,G){return L({type:Ke.warning,iconClass:ce().iconClasses.warning,message:S,optionsOverride:G,title:z})}function Ye(S,z){var G=ce();Q||B(G),ze(S,G,z)||Nt(G)}function Qe(S){var z=ce();return Q||B(z),S&&Y(":focus",S).length===0?void ht(S):void(Q.children().length&&Q.remove())}function Nt(S){for(var z=Q.children(),G=z.length-1;G>=0;G--)ze(Y(z[G]),S)}function ze(S,z,G){var et=!(!G||!G.force)&&G.force;return!(!S||!et&&Y(":focus",S).length!==0)&&(S[z.hideMethod]({duration:z.hideDuration,easing:z.hideEasing,complete:function(){ht(S)}}),!0)}function At(S){return Q=Y("<div/>").attr("id",S.containerId).addClass(S.positionClass),Q.appendTo(Y(S.target)),Q}function Jt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function _(S){He&&He(S)}function L(S){function z(I){return I==null&&(I=""),I.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G(){gt(),Kt(),Zt(),en(),Lt(),Ee(),qt(),et()}function et(){var I="";switch(S.iconClass){case"toast-success":case"toast-info":I="polite";break;default:I="assertive"}ee.attr("aria-live",I)}function ge(){N.closeOnHover&&ee.hover(tn,Ht),!N.onclick&&N.tapToDismiss&&ee.click(Oe),N.closeButton&&Me&&Me.click(function(I){I.stopPropagation?I.stopPropagation():I.cancelBubble!==void 0&&I.cancelBubble!==!0&&(I.cancelBubble=!0),N.onCloseClick&&N.onCloseClick(I),Oe(!0)}),N.onclick&&ee.click(function(I){N.onclick(I),Oe()})}function jt(){ee.hide(),ee[N.showMethod]({duration:N.showDuration,easing:N.showEasing,complete:N.onShown}),N.timeOut>0&&(tt=setTimeout(Oe,N.timeOut),D.maxHideTime=parseFloat(N.timeOut),D.hideEta=new Date().getTime()+D.maxHideTime,N.progressBar&&(D.intervalId=setInterval(mt,10)))}function gt(){S.iconClass&&ee.addClass(N.toastClass).addClass(me)}function qt(){N.newestOnTop?Q.prepend(ee):Q.append(ee)}function Kt(){if(S.title){var I=S.title;N.escapeHtml&&(I=z(S.title)),Ot.append(I).addClass(N.titleClass),ee.append(Ot)}}function Zt(){if(S.message){var I=S.message;N.escapeHtml&&(I=z(S.message)),ve.append(I).addClass(N.messageClass),ee.append(ve)}}function en(){N.closeButton&&(Me.addClass(N.closeClass).attr("role","button"),ee.prepend(Me))}function Lt(){N.progressBar&&(_e.addClass(N.progressClass),ee.prepend(_e))}function Ee(){N.rtl&&ee.addClass("rtl")}function Fe(I,nt){if(I.preventDuplicates){if(nt.message===Je)return!0;Je=nt.message}return!1}function Oe(I){var nt=I&&N.closeMethod!==!1?N.closeMethod:N.hideMethod,Mt=I&&N.closeDuration!==!1?N.closeDuration:N.hideDuration,Pt=I&&N.closeEasing!==!1?N.closeEasing:N.hideEasing;if(!Y(":focus",ee).length||I)return clearTimeout(D.intervalId),ee[nt]({duration:Mt,easing:Pt,complete:function(){ht(ee),clearTimeout(tt),N.onHidden&&te.state!=="hidden"&&N.onHidden(),te.state="hidden",te.endTime=new Date,_(te)}})}function Ht(){(N.timeOut>0||N.extendedTimeOut>0)&&(tt=setTimeout(Oe,N.extendedTimeOut),D.maxHideTime=parseFloat(N.extendedTimeOut),D.hideEta=new Date().getTime()+D.maxHideTime)}function tn(){clearTimeout(tt),D.hideEta=0,ee.stop(!0,!0)[N.showMethod]({duration:N.showDuration,easing:N.showEasing})}function mt(){var I=(D.hideEta-new Date().getTime())/D.maxHideTime*100;_e.width(I+"%")}var N=ce(),me=S.iconClass||N.iconClass;if(typeof S.optionsOverride<"u"&&(N=Y.extend(N,S.optionsOverride),me=S.optionsOverride.iconClass||me),!Fe(N,S)){i++,Q=B(N,!0);var tt=null,ee=Y("<div/>"),Ot=Y("<div/>"),ve=Y("<div/>"),_e=Y("<div/>"),Me=Y(N.closeHtml),D={intervalId:null,hideEta:null,maxHideTime:null},te={toastId:i,state:"visible",startTime:new Date,options:N,map:S};return G(),jt(),ge(),_(te),N.debug&&console&&console.log(te),ee}}function ce(){return Y.extend({},Jt(),Ze.options)}function ht(S){Q||(Q=B()),S.is(":visible")||(S.remove(),S=null,Q.children().length===0&&(Q.remove(),Je=void 0))}var Q,He,Je,i=0,Ke={error:"error",info:"info",success:"success",warning:"warning"},Ze={clear:Ye,remove:Qe,error:Ce,getContainer:B,info:Qt,options:{},subscribe:Le,success:St,version:"2.1.4",warning:pt};return Ze}()})}(typeof define=="function"&&define.amd?define:function(M,Y){typeof module<"u"&&module.exports?module.exports=Y(require("jquery")):window.toastr=Y(window.jQuery)});

})();
(function(){
var nI=Object.create;var hl=Object.defineProperty,rI=Object.defineProperties,iI=Object.getOwnPropertyDescriptor,oI=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertyNames,zg=Object.getOwnPropertySymbols,aI=Object.getPrototypeOf,Zg=Object.prototype.hasOwnProperty,cI=Object.prototype.propertyIsEnumerable;var Wg=(e,t,n)=>t in e?hl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ye=(e,t)=>{for(var n in t||={})Zg.call(t,n)&&Wg(e,n,t[n]);if(zg)for(var n of zg(t))cI.call(t,n)&&Wg(e,n,t[n]);return e},Oe=(e,t)=>rI(e,oI(t));var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var gl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var uI=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sI(t))!Zg.call(e,i)&&i!==n&&hl(e,i,{get:()=>t[i],enumerable:!(r=iI(t,i))||r.enumerable});return e};var Jg=(e,t,n)=>(n=e!=null?nI(aI(e)):{},uI(t||!e||!e.__esModule?hl(n,"default",{value:e,enumerable:!0}):n,e));var ce=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function fn(e){return(qn.__Zone_symbol_prefix||"__zone_symbol__")+e}function lI(){let e=qn.performance;function t(W){e&&e.mark&&e.mark(W)}function n(W,Z){e&&e.measure&&e.measure(W,Z)}t("Zone");let r=(()=>{class W{static __symbol__=fn;static assertZonePatched(){if(qn.Promise!==N.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let E=W.current;for(;E.parent;)E=E.parent;return E}static get current(){return j.zone}static get currentTask(){return z}static __load_patch(E,T,X=!1){if(N.hasOwnProperty(E)){let se=qn[fn("forceDuplicateZoneCheck")]===!0;if(!X&&se)throw Error("Already loaded patch: "+E)}else if(!qn["__Zone_disable_"+E]){let se="Zone:"+E;t(se),N[E]=T(qn,W,V),n(se,se)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(E,T){this._parent=E,this._name=T?T.name||"unnamed":"<root>",this._properties=T&&T.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,T)}get(E){let T=this.getZoneWith(E);if(T)return T._properties[E]}getZoneWith(E){let T=this;for(;T;){if(T._properties.hasOwnProperty(E))return T;T=T._parent}return null}fork(E){if(!E)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,E)}wrap(E,T){if(typeof E!="function")throw new Error("Expecting function got: "+E);let X=this._zoneDelegate.intercept(this,E,T),se=this;return function(){return se.runGuarded(X,this,arguments,T)}}run(E,T,X,se){j={parent:j,zone:this};try{return this._zoneDelegate.invoke(this,E,T,X,se)}finally{j=j.parent}}runGuarded(E,T=null,X,se){j={parent:j,zone:this};try{try{return this._zoneDelegate.invoke(this,E,T,X,se)}catch(Le){if(this._zoneDelegate.handleError(this,Le))throw Le}}finally{j=j.parent}}runTask(E,T,X){if(E.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(E.zone||C).name+"; Execution: "+this.name+")");let se=E,{type:Le,data:{isPeriodic:Ce=!1,isRefreshable:Et=!1}={}}=E;if(E.state===_&&(Le===O||Le===M))return;let _t=E.state!=m;_t&&se._transitionTo(m,g);let at=z;z=se,j={parent:j,zone:this};try{Le==M&&E.data&&!Ce&&!Et&&(E.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,se,T,X)}catch(ct){if(this._zoneDelegate.handleError(this,ct))throw ct}}finally{let ct=E.state;if(ct!==_&&ct!==v)if(Le==O||Ce||Et&&ct===y)_t&&se._transitionTo(g,m,y);else{let H=se._zoneDelegates;this._updateTaskCount(se,-1),_t&&se._transitionTo(_,m,_),Et&&(se._zoneDelegates=H)}j=j.parent,z=at}}scheduleTask(E){if(E.zone&&E.zone!==this){let X=this;for(;X;){if(X===E.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${E.zone.name}`);X=X.parent}}E._transitionTo(y,_);let T=[];E._zoneDelegates=T,E._zone=this;try{E=this._zoneDelegate.scheduleTask(this,E)}catch(X){throw E._transitionTo(v,y,_),this._zoneDelegate.handleError(this,X),X}return E._zoneDelegates===T&&this._updateTaskCount(E,1),E.state==y&&E._transitionTo(g,y),E}scheduleMicroTask(E,T,X,se){return this.scheduleTask(new s(S,E,T,X,se,void 0))}scheduleMacroTask(E,T,X,se,Le){return this.scheduleTask(new s(M,E,T,X,se,Le))}scheduleEventTask(E,T,X,se,Le){return this.scheduleTask(new s(O,E,T,X,se,Le))}cancelTask(E){if(E.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(E.zone||C).name+"; Execution: "+this.name+")");if(!(E.state!==g&&E.state!==m)){E._transitionTo(D,g,m);try{this._zoneDelegate.cancelTask(this,E)}catch(T){throw E._transitionTo(v,D),this._zoneDelegate.handleError(this,T),T}return this._updateTaskCount(E,-1),E._transitionTo(_,D),E.runCount=-1,E}}_updateTaskCount(E,T){let X=E._zoneDelegates;T==-1&&(E._zoneDelegates=null);for(let se=0;se<X.length;se++)X[se]._updateTaskCount(E.type,T)}}return W})(),i={name:"",onHasTask:(W,Z,E,T)=>W.hasTask(E,T),onScheduleTask:(W,Z,E,T)=>W.scheduleTask(E,T),onInvokeTask:(W,Z,E,T,X,se)=>W.invokeTask(E,T,X,se),onCancelTask:(W,Z,E,T)=>W.cancelTask(E,T)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(Z,E,T){this._zone=Z,this._parentDelegate=E,this._forkZS=T&&(T&&T.onFork?T:E._forkZS),this._forkDlgt=T&&(T.onFork?E:E._forkDlgt),this._forkCurrZone=T&&(T.onFork?this._zone:E._forkCurrZone),this._interceptZS=T&&(T.onIntercept?T:E._interceptZS),this._interceptDlgt=T&&(T.onIntercept?E:E._interceptDlgt),this._interceptCurrZone=T&&(T.onIntercept?this._zone:E._interceptCurrZone),this._invokeZS=T&&(T.onInvoke?T:E._invokeZS),this._invokeDlgt=T&&(T.onInvoke?E:E._invokeDlgt),this._invokeCurrZone=T&&(T.onInvoke?this._zone:E._invokeCurrZone),this._handleErrorZS=T&&(T.onHandleError?T:E._handleErrorZS),this._handleErrorDlgt=T&&(T.onHandleError?E:E._handleErrorDlgt),this._handleErrorCurrZone=T&&(T.onHandleError?this._zone:E._handleErrorCurrZone),this._scheduleTaskZS=T&&(T.onScheduleTask?T:E._scheduleTaskZS),this._scheduleTaskDlgt=T&&(T.onScheduleTask?E:E._scheduleTaskDlgt),this._scheduleTaskCurrZone=T&&(T.onScheduleTask?this._zone:E._scheduleTaskCurrZone),this._invokeTaskZS=T&&(T.onInvokeTask?T:E._invokeTaskZS),this._invokeTaskDlgt=T&&(T.onInvokeTask?E:E._invokeTaskDlgt),this._invokeTaskCurrZone=T&&(T.onInvokeTask?this._zone:E._invokeTaskCurrZone),this._cancelTaskZS=T&&(T.onCancelTask?T:E._cancelTaskZS),this._cancelTaskDlgt=T&&(T.onCancelTask?E:E._cancelTaskDlgt),this._cancelTaskCurrZone=T&&(T.onCancelTask?this._zone:E._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let X=T&&T.onHasTask,se=E&&E._hasTaskZS;(X||se)&&(this._hasTaskZS=X?T:i,this._hasTaskDlgt=E,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,T.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=E,this._scheduleTaskCurrZone=this._zone),T.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=E,this._invokeTaskCurrZone=this._zone),T.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=E,this._cancelTaskCurrZone=this._zone))}fork(Z,E){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,Z,E):new r(Z,E)}intercept(Z,E,T){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,Z,E,T):E}invoke(Z,E,T,X,se){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,Z,E,T,X,se):E.apply(T,X)}handleError(Z,E){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,Z,E):!0}scheduleTask(Z,E){let T=E;if(this._scheduleTaskZS)this._hasTaskZS&&T._zoneDelegates.push(this._hasTaskDlgtOwner),T=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,Z,E),T||(T=E);else if(E.scheduleFn)E.scheduleFn(E);else if(E.type==S)h(E);else throw new Error("Task is missing scheduleFn.");return T}invokeTask(Z,E,T,X){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,Z,E,T,X):E.callback.apply(T,X)}cancelTask(Z,E){let T;if(this._cancelTaskZS)T=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,Z,E);else{if(!E.cancelFn)throw Error("Task is not cancelable");T=E.cancelFn(E)}return T}hasTask(Z,E){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,Z,E)}catch(T){this.handleError(Z,T)}}_updateTaskCount(Z,E){let T=this._taskCounts,X=T[Z],se=T[Z]=X+E;if(se<0)throw new Error("More tasks executed then were scheduled.");if(X==0||se==0){let Le={microTask:T.microTask>0,macroTask:T.macroTask>0,eventTask:T.eventTask>0,change:Z};this.hasTask(this._zone,Le)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(Z,E,T,X,se,Le){if(this.type=Z,this.source=E,this.data=X,this.scheduleFn=se,this.cancelFn=Le,!T)throw new Error("callback is not defined");this.callback=T;let Ce=this;Z===O&&X&&X.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(qn,Ce,this,arguments)}}static invokeTask(Z,E,T){Z||(Z=this),ge++;try{return Z.runCount++,Z.zone.runTask(Z,E,T)}finally{ge==1&&I(),ge--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(_,y)}_transitionTo(Z,E,T){if(this._state===E||this._state===T)this._state=Z,Z==_&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${Z}', expecting state '${E}'${T?" or '"+T+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=fn("setTimeout"),c=fn("Promise"),u=fn("then"),l=[],d=!1,p;function f(W){if(p||qn[c]&&(p=qn[c].resolve(0)),p){let Z=p[u];Z||(Z=p.then),Z.call(p,W)}else qn[a](W,0)}function h(W){ge===0&&l.length===0&&f(I),W&&l.push(W)}function I(){if(!d){for(d=!0;l.length;){let W=l;l=[];for(let Z=0;Z<W.length;Z++){let E=W[Z];try{E.zone.runTask(E,null,null)}catch(T){V.onUnhandledError(T)}}}V.microtaskDrainDone(),d=!1}}let C={name:"NO ZONE"},_="notScheduled",y="scheduling",g="scheduled",m="running",D="canceling",v="unknown",S="microTask",M="macroTask",O="eventTask",N={},V={symbol:fn,currentZoneFrame:()=>j,onUnhandledError:te,microtaskDrainDone:te,scheduleMicroTask:h,showUncaughtError:()=>!r[fn("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:te,patchMethod:()=>te,bindArguments:()=>[],patchThen:()=>te,patchMacroTask:()=>te,patchEventPrototype:()=>te,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>te,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>te,wrapWithCurrentZone:()=>te,filterProperties:()=>[],attachOriginToPatched:()=>te,_redefineProperty:()=>te,patchCallbacks:()=>te,nativeScheduleMicroTask:f},j={parent:null,zone:new r(null,null)},z=null,ge=0;function te(){}return n("Zone","Zone"),r}function dI(){let e=globalThis,t=e[fn("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(t||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return e.Zone??=lI(),e.Zone}function wl(e,t){return Zone.current.wrap(e,t)}function El(e,t,n,r,i){return Zone.current.scheduleMacroTask(e,t,n,r,i)}function Ml(e,t){for(let n=e.length-1;n>=0;n--)typeof e[n]=="function"&&(e[n]=wl(e[n],t+"_"+n));return e}function gI(e,t){let n=e.constructor.name;for(let r=0;r<t.length;r++){let i=t[r],o=e[i];if(o){let s=jo(e,i);if(!nm(s))continue;e[i]=(a=>{let c=function(){return a.apply(this,Ml(arguments,n+"."+i))};return ur(c,a),c})(o)}}}function nm(e){return e?e.writable===!1?!1:!(typeof e.get=="function"&&typeof e.set>"u"):!0}function Qg(e,t,n){let r=jo(e,t);if(!r&&n&&jo(n,t)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=He("on"+t+"patched");if(e.hasOwnProperty(i)&&e[i])return;delete r.writable,delete r.value;let o=r.get,s=r.set,a=t.slice(2),c=ga[a];c||(c=ga[a]=He("ON_PROPERTY"+a)),r.set=function(u){let l=this;if(!l&&e===pt&&(l=pt),!l)return;typeof l[c]=="function"&&l.removeEventListener(a,Yg),s?.call(l,null),l[c]=u,typeof u=="function"&&l.addEventListener(a,Yg,!1)},r.get=function(){let u=this;if(!u&&e===pt&&(u=pt),!u)return null;let l=u[c];if(l)return l;if(o){let d=o.call(this);if(d)return r.set.call(this,d),typeof u[hI]=="function"&&u.removeAttribute(t),d}return null},_l(e,t,r),e[i]=!0}function om(e,t,n){if(t)for(let r=0;r<t.length;r++)Qg(e,"on"+t[r],n);else{let r=[];for(let i in e)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)Qg(e,r[i],n)}}function Vo(e){let t=pt[e];if(!t)return;pt[He(e)]=t,pt[e]=function(){let i=Ml(arguments,e);switch(i.length){case 0:this[kn]=new t;break;case 1:this[kn]=new t(i[0]);break;case 2:this[kn]=new t(i[0],i[1]);break;case 3:this[kn]=new t(i[0],i[1],i[2]);break;case 4:this[kn]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},ur(pt[e],t);let n=new t(function(){}),r;for(r in n)e==="XMLHttpRequest"&&r==="responseBlob"||function(i){typeof n[i]=="function"?pt[e].prototype[i]=function(){return this[kn][i].apply(this[kn],arguments)}:_l(pt[e].prototype,i,{set:function(o){typeof o=="function"?(this[kn][i]=wl(o,e+"."+i),ur(this[kn][i],o)):this[kn][i]=o},get:function(){return this[kn][i]}})}(r);for(r in t)r!=="prototype"&&t.hasOwnProperty(r)&&(pt[e][r]=t[r])}function cr(e,t,n){let r=e;for(;r&&!r.hasOwnProperty(t);)r=Il(r);!r&&e[t]&&(r=e);let i=He(t),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[t];let s=r&&jo(r,t);if(nm(s)){let a=n(o,i,t);r[t]=function(){return a(this,arguments)},ur(r[t],o)}}return o}function vI(e,t,n){let r=null;function i(o){let s=o.data;return s.args[s.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(s.target,s.args),o}r=cr(e,t,o=>function(s,a){let c=n(s,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?El(c.name,a[c.cbIdx],c,i):o.apply(s,a)})}function ur(e,t){e[He("OriginalDelegate")]=t}function yI(){if(Kg)return yl;Kg=!0;try{let e=Bo.navigator.userAgent;(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1||e.indexOf("Edge/")!==-1)&&(yl=!0)}catch{}return yl}function Xg(e){return typeof e=="function"}function em(e){return typeof e=="number"}function um(e,t){let n=(t?t(e):e)+ar,r=(t?t(e):e)+sr,i=Uo+n,o=Uo+r;pn[e]={},pn[e][ar]=i,pn[e][sr]=o}function _I(e,t,n,r){let i=r&&r.add||Cl,o=r&&r.rm||bl,s=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",c=He(i),u="."+i+":",l="prependListener",d="."+l+":",p=function(y,g,m){if(y.isRemoved)return;let D=y.callback;typeof D=="object"&&D.handleEvent&&(y.callback=M=>D.handleEvent(M),y.originalDelegate=D);let v;try{y.invoke(y,g,[m])}catch(M){v=M}let S=y.options;if(S&&typeof S=="object"&&S.once){let M=y.originalDelegate?y.originalDelegate:y.callback;g[o].call(g,m.type,M,S)}return v};function f(y,g,m){if(g=g||e.event,!g)return;let D=y||g.target||e,v=D[pn[g.type][m?sr:ar]];if(v){let S=[];if(v.length===1){let M=p(v[0],D,g);M&&S.push(M)}else{let M=v.slice();for(let O=0;O<M.length&&!(g&&g[cm]===!0);O++){let N=p(M[O],D,g);N&&S.push(N)}}if(S.length===1)throw S[0];for(let M=0;M<S.length;M++){let O=S[M];t.nativeScheduleMicroTask(()=>{throw O})}}}let h=function(y){return f(this,y,!1)},I=function(y){return f(this,y,!0)};function C(y,g){if(!y)return!1;let m=!0;g&&g.useG!==void 0&&(m=g.useG);let D=g&&g.vh,v=!0;g&&g.chkDup!==void 0&&(v=g.chkDup);let S=!1;g&&g.rt!==void 0&&(S=g.rt);let M=y;for(;M&&!M.hasOwnProperty(i);)M=Il(M);if(!M&&y[i]&&(M=y),!M||M[c])return!1;let O=g&&g.eventNameToString,N={},V=M[c]=M[i],j=M[He(o)]=M[o],z=M[He(s)]=M[s],ge=M[He(a)]=M[a],te;g&&g.prepend&&(te=M[He(g.prepend)]=M[g.prepend]);function W(P,$){return $?typeof P=="boolean"?{capture:P,passive:!0}:P?typeof P=="object"&&P.passive!==!1?Oe(ye({},P),{passive:!0}):P:{passive:!0}:P}let Z=function(P){if(!N.isExisting)return V.call(N.target,N.eventName,N.capture?I:h,N.options)},E=function(P){if(!P.isRemoved){let $=pn[P.eventName],fe;$&&(fe=$[P.capture?sr:ar]);let _e=fe&&P.target[fe];if(_e){for(let pe=0;pe<_e.length;pe++)if(_e[pe]===P){_e.splice(pe,1),P.isRemoved=!0,P.removeAbortListener&&(P.removeAbortListener(),P.removeAbortListener=null),_e.length===0&&(P.allRemoved=!0,P.target[fe]=null);break}}}if(P.allRemoved)return j.call(P.target,P.eventName,P.capture?I:h,P.options)},T=function(P){return V.call(N.target,N.eventName,P.invoke,N.options)},X=function(P){return te.call(N.target,N.eventName,P.invoke,N.options)},se=function(P){return j.call(P.target,P.eventName,P.invoke,P.options)},Le=m?Z:T,Ce=m?E:se,Et=function(P,$){let fe=typeof $;return fe==="function"&&P.callback===$||fe==="object"&&P.originalDelegate===$},_t=g?.diff||Et,at=Zone[He("UNPATCHED_EVENTS")],ct=e[He("PASSIVE_EVENTS")];function H(P){if(typeof P=="object"&&P!==null){let $=ye({},P);return P.signal&&($.signal=P.signal),$}return P}let G=function(P,$,fe,_e,pe=!1,Te=!1){return function(){let Pe=this||e,Ne=arguments[0];g&&g.transferEventName&&(Ne=g.transferEventName(Ne));let Ye=arguments[1];if(!Ye)return P.apply(this,arguments);if(va&&Ne==="uncaughtException")return P.apply(this,arguments);let Qe=!1;if(typeof Ye!="function"){if(!Ye.handleEvent)return P.apply(this,arguments);Qe=!0}if(D&&!D(P,Ye,Pe,arguments))return;let Mr=!!ct&&ct.indexOf(Ne)!==-1,Hn=H(W(arguments[2],Mr)),Oi=Hn?.signal;if(Oi?.aborted)return;if(at){for(let $n=0;$n<at.length;$n++)if(Ne===at[$n])return Mr?P.call(Pe,Ne,Ye,Hn):P.apply(this,arguments)}let fl=Hn?typeof Hn=="boolean"?!0:Hn.capture:!1,Bg=Hn&&typeof Hn=="object"?Hn.once:!1,tI=Zone.current,pl=pn[Ne];pl||(um(Ne,O),pl=pn[Ne]);let Gg=pl[fl?sr:ar],Fi=Pe[Gg],Hg=!1;if(Fi){if(Hg=!0,v){for(let $n=0;$n<Fi.length;$n++)if(_t(Fi[$n],Ye))return}}else Fi=Pe[Gg]=[];let pa,$g=Pe.constructor.name,qg=sm[$g];qg&&(pa=qg[Ne]),pa||(pa=$g+$+(O?O(Ne):Ne)),N.options=Hn,Bg&&(N.options.once=!1),N.target=Pe,N.capture=fl,N.eventName=Ne,N.isExisting=Hg;let Lo=m?DI:void 0;Lo&&(Lo.taskData=N),Oi&&(N.options.signal=void 0);let xn=tI.scheduleEventTask(pa,Ye,Lo,fe,_e);if(Oi){N.options.signal=Oi;let $n=()=>xn.zone.cancelTask(xn);P.call(Oi,"abort",$n,{once:!0}),xn.removeAbortListener=()=>Oi.removeEventListener("abort",$n)}if(N.target=null,Lo&&(Lo.taskData=null),Bg&&(N.options.once=!0),typeof xn.options!="boolean"&&(xn.options=Hn),xn.target=Pe,xn.capture=fl,xn.eventName=Ne,Qe&&(xn.originalDelegate=Ye),Te?Fi.unshift(xn):Fi.push(xn),pe)return Pe}};return M[i]=G(V,u,Le,Ce,S),te&&(M[l]=G(te,d,X,Ce,S,!0)),M[o]=function(){let P=this||e,$=arguments[0];g&&g.transferEventName&&($=g.transferEventName($));let fe=arguments[2],_e=fe?typeof fe=="boolean"?!0:fe.capture:!1,pe=arguments[1];if(!pe)return j.apply(this,arguments);if(D&&!D(j,pe,P,arguments))return;let Te=pn[$],Pe;Te&&(Pe=Te[_e?sr:ar]);let Ne=Pe&&P[Pe];if(Ne)for(let Ye=0;Ye<Ne.length;Ye++){let Qe=Ne[Ye];if(_t(Qe,pe)){if(Ne.splice(Ye,1),Qe.isRemoved=!0,Ne.length===0&&(Qe.allRemoved=!0,P[Pe]=null,!_e&&typeof $=="string")){let Mr=Uo+"ON_PROPERTY"+$;P[Mr]=null}return Qe.zone.cancelTask(Qe),S?P:void 0}}return j.apply(this,arguments)},M[s]=function(){let P=this||e,$=arguments[0];g&&g.transferEventName&&($=g.transferEventName($));let fe=[],_e=lm(P,O?O($):$);for(let pe=0;pe<_e.length;pe++){let Te=_e[pe],Pe=Te.originalDelegate?Te.originalDelegate:Te.callback;fe.push(Pe)}return fe},M[a]=function(){let P=this||e,$=arguments[0];if($){g&&g.transferEventName&&($=g.transferEventName($));let fe=pn[$];if(fe){let _e=fe[ar],pe=fe[sr],Te=P[_e],Pe=P[pe];if(Te){let Ne=Te.slice();for(let Ye=0;Ye<Ne.length;Ye++){let Qe=Ne[Ye],Mr=Qe.originalDelegate?Qe.originalDelegate:Qe.callback;this[o].call(this,$,Mr,Qe.options)}}if(Pe){let Ne=Pe.slice();for(let Ye=0;Ye<Ne.length;Ye++){let Qe=Ne[Ye],Mr=Qe.originalDelegate?Qe.originalDelegate:Qe.callback;this[o].call(this,$,Mr,Qe.options)}}}}else{let fe=Object.keys(P);for(let _e=0;_e<fe.length;_e++){let pe=fe[_e],Te=am.exec(pe),Pe=Te&&Te[1];Pe&&Pe!=="removeListener"&&this[a].call(this,Pe)}this[a].call(this,"removeListener")}if(S)return this},ur(M[i],V),ur(M[o],j),ge&&ur(M[a],ge),z&&ur(M[s],z),!0}let _=[];for(let y=0;y<n.length;y++)_[y]=C(n[y],r);return _}function lm(e,t){if(!t){let o=[];for(let s in e){let a=am.exec(s),c=a&&a[1];if(c&&(!t||c===t)){let u=e[s];if(u)for(let l=0;l<u.length;l++)o.push(u[l])}}return o}let n=pn[t];n||(um(t),n=pn[t]);let r=e[n[ar]],i=e[n[sr]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function II(e,t){let n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,o){i[cm]=!0,r&&r.apply(i,o)})}function CI(e,t){t.patchMethod(e,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}function Li(e,t,n,r){let i=null,o=null;t+=r,n+=r;let s={};function a(u){let l=u.data;l.args[0]=function(){return u.invoke.apply(this,arguments)};let d=i.apply(e,l.args);return em(d)?l.handleId=d:(l.handle=d,l.isRefreshable=Xg(d.refresh)),u}function c(u){let{handle:l,handleId:d}=u.data;return o.call(e,l??d)}i=cr(e,t,u=>function(l,d){if(Xg(d[0])){let p={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?d[1]||0:void 0,args:d},f=d[0];d[0]=function(){try{return f.apply(this,arguments)}finally{let{handle:m,handleId:D,isPeriodic:v,isRefreshable:S}=p;!v&&!S&&(D?delete s[D]:m&&(m[ha]=null))}};let h=El(t,d[0],p,a,c);if(!h)return h;let{handleId:I,handle:C,isRefreshable:_,isPeriodic:y}=h.data;if(I)s[I]=h;else if(C&&(C[ha]=h,_&&!y)){let g=C.refresh;C.refresh=function(){let{zone:m,state:D}=h;return D==="notScheduled"?(h._state="scheduled",m._updateTaskCount(h,1)):D==="running"&&(h._state="scheduling"),g.call(this)}}return C??I??h}else return u.apply(e,d)}),o=cr(e,n,u=>function(l,d){let p=d[0],f;em(p)?(f=s[p],delete s[p]):(f=p?.[ha],f?p[ha]=null:f=p),f?.type?f.cancelFn&&f.zone.cancelTask(f):u.apply(e,d)})}function bI(e,t){let{isBrowser:n,isMix:r}=t.getGlobalObjects();if(!n&&!r||!e.customElements||!("customElements"in e))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,e.customElements,"customElements","define",i)}function wI(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=t.getGlobalObjects();for(let c=0;c<n.length;c++){let u=n[c],l=u+o,d=u+i,p=s+l,f=s+d;r[u]={},r[u][o]=p,r[u][i]=f}let a=e.EventTarget;if(!(!a||!a.prototype))return t.patchEventTarget(e,t,[a&&a.prototype]),!0}function EI(e,t){t.patchEventPrototype(e,t)}function dm(e,t,n){if(!n||n.length===0)return t;let r=n.filter(o=>o.target===e);if(r.length===0)return t;let i=r[0].ignoreProperties;return t.filter(o=>i.indexOf(o)===-1)}function tm(e,t,n,r){if(!e)return;let i=dm(e,t,n);om(e,i,r)}function Dl(e){return Object.getOwnPropertyNames(e).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function MI(e,t){if(va&&!im||Zone[e.symbol("patchEvents")])return;let n=t.__Zone_ignore_on_properties,r=[];if(Sl){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];tm(i,Dl(i),n&&n.concat(o),Il(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=t[r[i]];o?.prototype&&tm(o.prototype,Dl(o.prototype),n)}}function SI(e){e.__load_patch("legacy",t=>{let n=t[e.__symbol__("legacyPatch")];n&&n()}),e.__load_patch("timers",t=>{let n="set",r="clear";Li(t,n,r,"Timeout"),Li(t,n,r,"Interval"),Li(t,n,r,"Immediate")}),e.__load_patch("requestAnimationFrame",t=>{Li(t,"request","cancel","AnimationFrame"),Li(t,"mozRequest","mozCancel","AnimationFrame"),Li(t,"webkitRequest","webkitCancel","AnimationFrame")}),e.__load_patch("blocking",(t,n)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];cr(t,o,(s,a,c)=>function(u,l){return n.current.run(s,t,l,c)})}}),e.__load_patch("EventTarget",(t,n,r)=>{EI(t,r),wI(t,r);let i=t.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(t,r,[i.prototype])}),e.__load_patch("MutationObserver",(t,n,r)=>{Vo("MutationObserver"),Vo("WebKitMutationObserver")}),e.__load_patch("IntersectionObserver",(t,n,r)=>{Vo("IntersectionObserver")}),e.__load_patch("FileReader",(t,n,r)=>{Vo("FileReader")}),e.__load_patch("on_property",(t,n,r)=>{MI(r,t)}),e.__load_patch("customElements",(t,n,r)=>{bI(t,r)}),e.__load_patch("XHR",(t,n)=>{u(t);let r=He("xhrTask"),i=He("xhrSync"),o=He("xhrListener"),s=He("xhrScheduled"),a=He("xhrURL"),c=He("xhrErrorBeforeScheduled");function u(l){let d=l.XMLHttpRequest;if(!d)return;let p=d.prototype;function f(V){return V[r]}let h=p[ml],I=p[vl];if(!h){let V=l.XMLHttpRequestEventTarget;if(V){let j=V.prototype;h=j[ml],I=j[vl]}}let C="readystatechange",_="scheduled";function y(V){let j=V.data,z=j.target;z[s]=!1,z[c]=!1;let ge=z[o];h||(h=z[ml],I=z[vl]),ge&&I.call(z,C,ge);let te=z[o]=()=>{if(z.readyState===z.DONE)if(!j.aborted&&z[s]&&V.state===_){let Z=z[n.__symbol__("loadfalse")];if(z.status!==0&&Z&&Z.length>0){let E=V.invoke;V.invoke=function(){let T=z[n.__symbol__("loadfalse")];for(let X=0;X<T.length;X++)T[X]===V&&T.splice(X,1);!j.aborted&&V.state===_&&E.call(V)},Z.push(V)}else V.invoke()}else!j.aborted&&z[s]===!1&&(z[c]=!0)};return h.call(z,C,te),z[r]||(z[r]=V),O.apply(z,j.args),z[s]=!0,V}function g(){}function m(V){let j=V.data;return j.aborted=!0,N.apply(j.target,j.args)}let D=cr(p,"open",()=>function(V,j){return V[i]=j[2]==!1,V[a]=j[1],D.apply(V,j)}),v="XMLHttpRequest.send",S=He("fetchTaskAborting"),M=He("fetchTaskScheduling"),O=cr(p,"send",()=>function(V,j){if(n.current[M]===!0||V[i])return O.apply(V,j);{let z={target:V,url:V[a],isPeriodic:!1,args:j,aborted:!1},ge=El(v,g,z,y,m);V&&V[c]===!0&&!z.aborted&&ge.state===_&&ge.invoke()}}),N=cr(p,"abort",()=>function(V,j){let z=f(V);if(z&&typeof z.type=="string"){if(z.cancelFn==null||z.data&&z.data.aborted)return;z.zone.cancelTask(z)}else if(n.current[S]===!0)return N.apply(V,j)})}}),e.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&gI(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),e.__load_patch("PromiseRejectionEvent",(t,n)=>{function r(i){return function(o){lm(t,i).forEach(a=>{let c=t.PromiseRejectionEvent;if(c){let u=new c(i,{promise:o.promise,reason:o.rejection});a.invoke(u)}})}}t.PromiseRejectionEvent&&(n[He("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),n[He("rejectionHandledHandler")]=r("rejectionhandled"))}),e.__load_patch("queueMicrotask",(t,n,r)=>{CI(t,r)})}function TI(e){e.__load_patch("ZoneAwarePromise",(t,n,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function s(H){if(H&&H.toString===Object.prototype.toString){let G=H.constructor&&H.constructor.name;return(G||"")+": "+JSON.stringify(H)}return H?H.toString():Object.prototype.toString.call(H)}let a=r.symbol,c=[],u=t[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,l=a("Promise"),d=a("then"),p="__creationTrace__";r.onUnhandledError=H=>{if(r.showUncaughtError()){let G=H&&H.rejection;G?console.error("Unhandled Promise rejection:",G instanceof Error?G.message:G,"; Zone:",H.zone.name,"; Task:",H.task&&H.task.source,"; Value:",G,G instanceof Error?G.stack:void 0):console.error(H)}},r.microtaskDrainDone=()=>{for(;c.length;){let H=c.shift();try{H.zone.runGuarded(()=>{throw H.throwOriginal?H.rejection:H})}catch(G){h(G)}}};let f=a("unhandledPromiseRejectionHandler");function h(H){r.onUnhandledError(H);try{let G=n[f];typeof G=="function"&&G.call(this,H)}catch{}}function I(H){return H&&typeof H.then=="function"}function C(H){return H}function _(H){return Ce.reject(H)}let y=a("state"),g=a("value"),m=a("finally"),D=a("parentPromiseValue"),v=a("parentPromiseState"),S="Promise.then",M=null,O=!0,N=!1,V=0;function j(H,G){return P=>{try{W(H,G,P)}catch($){W(H,!1,$)}}}let z=function(){let H=!1;return function(P){return function(){H||(H=!0,P.apply(null,arguments))}}},ge="Promise resolved with itself",te=a("currentTaskTrace");function W(H,G,P){let $=z();if(H===P)throw new TypeError(ge);if(H[y]===M){let fe=null;try{(typeof P=="object"||typeof P=="function")&&(fe=P&&P.then)}catch(_e){return $(()=>{W(H,!1,_e)})(),H}if(G!==N&&P instanceof Ce&&P.hasOwnProperty(y)&&P.hasOwnProperty(g)&&P[y]!==M)E(P),W(H,P[y],P[g]);else if(G!==N&&typeof fe=="function")try{fe.call(P,$(j(H,G)),$(j(H,!1)))}catch(_e){$(()=>{W(H,!1,_e)})()}else{H[y]=G;let _e=H[g];if(H[g]=P,H[m]===m&&G===O&&(H[y]=H[v],H[g]=H[D]),G===N&&P instanceof Error){let pe=n.currentTask&&n.currentTask.data&&n.currentTask.data[p];pe&&o(P,te,{configurable:!0,enumerable:!1,writable:!0,value:pe})}for(let pe=0;pe<_e.length;)T(H,_e[pe++],_e[pe++],_e[pe++],_e[pe++]);if(_e.length==0&&G==N){H[y]=V;let pe=P;try{throw new Error("Uncaught (in promise): "+s(P)+(P&&P.stack?`
`+P.stack:""))}catch(Te){pe=Te}u&&(pe.throwOriginal=!0),pe.rejection=P,pe.promise=H,pe.zone=n.current,pe.task=n.currentTask,c.push(pe),r.scheduleMicroTask()}}}return H}let Z=a("rejectionHandledHandler");function E(H){if(H[y]===V){try{let G=n[Z];G&&typeof G=="function"&&G.call(this,{rejection:H[g],promise:H})}catch{}H[y]=N;for(let G=0;G<c.length;G++)H===c[G].promise&&c.splice(G,1)}}function T(H,G,P,$,fe){E(H);let _e=H[y],pe=_e?typeof $=="function"?$:C:typeof fe=="function"?fe:_;G.scheduleMicroTask(S,()=>{try{let Te=H[g],Pe=!!P&&m===P[m];Pe&&(P[D]=Te,P[v]=_e);let Ne=G.run(pe,void 0,Pe&&pe!==_&&pe!==C?[]:[Te]);W(P,!0,Ne)}catch(Te){W(P,!1,Te)}},P)}let X="function ZoneAwarePromise() { [native code] }",se=function(){},Le=t.AggregateError;class Ce{static toString(){return X}static resolve(G){return G instanceof Ce?G:W(new this(null),O,G)}static reject(G){return W(new this(null),N,G)}static withResolvers(){let G={};return G.promise=new Ce((P,$)=>{G.resolve=P,G.reject=$}),G}static any(G){if(!G||typeof G[Symbol.iterator]!="function")return Promise.reject(new Le([],"All promises were rejected"));let P=[],$=0;try{for(let pe of G)$++,P.push(Ce.resolve(pe))}catch{return Promise.reject(new Le([],"All promises were rejected"))}if($===0)return Promise.reject(new Le([],"All promises were rejected"));let fe=!1,_e=[];return new Ce((pe,Te)=>{for(let Pe=0;Pe<P.length;Pe++)P[Pe].then(Ne=>{fe||(fe=!0,pe(Ne))},Ne=>{_e.push(Ne),$--,$===0&&(fe=!0,Te(new Le(_e,"All promises were rejected")))})})}static race(G){let P,$,fe=new this((Te,Pe)=>{P=Te,$=Pe});function _e(Te){P(Te)}function pe(Te){$(Te)}for(let Te of G)I(Te)||(Te=this.resolve(Te)),Te.then(_e,pe);return fe}static all(G){return Ce.allWithCallback(G)}static allSettled(G){return(this&&this.prototype instanceof Ce?this:Ce).allWithCallback(G,{thenCallback:$=>({status:"fulfilled",value:$}),errorCallback:$=>({status:"rejected",reason:$})})}static allWithCallback(G,P){let $,fe,_e=new this((Ne,Ye)=>{$=Ne,fe=Ye}),pe=2,Te=0,Pe=[];for(let Ne of G){I(Ne)||(Ne=this.resolve(Ne));let Ye=Te;try{Ne.then(Qe=>{Pe[Ye]=P?P.thenCallback(Qe):Qe,pe--,pe===0&&$(Pe)},Qe=>{P?(Pe[Ye]=P.errorCallback(Qe),pe--,pe===0&&$(Pe)):fe(Qe)})}catch(Qe){fe(Qe)}pe++,Te++}return pe-=2,pe===0&&$(Pe),_e}constructor(G){let P=this;if(!(P instanceof Ce))throw new Error("Must be an instanceof Promise.");P[y]=M,P[g]=[];try{let $=z();G&&G($(j(P,O)),$(j(P,N)))}catch($){W(P,!1,$)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Ce}then(G,P){let $=this.constructor?.[Symbol.species];(!$||typeof $!="function")&&($=this.constructor||Ce);let fe=new $(se),_e=n.current;return this[y]==M?this[g].push(_e,fe,G,P):T(this,_e,fe,G,P),fe}catch(G){return this.then(null,G)}finally(G){let P=this.constructor?.[Symbol.species];(!P||typeof P!="function")&&(P=Ce);let $=new P(se);$[m]=m;let fe=n.current;return this[y]==M?this[g].push(fe,$,G,G):T(this,fe,$,G,G),$}}Ce.resolve=Ce.resolve,Ce.reject=Ce.reject,Ce.race=Ce.race,Ce.all=Ce.all;let Et=t[l]=t.Promise;t.Promise=Ce;let _t=a("thenPatched");function at(H){let G=H.prototype,P=i(G,"then");if(P&&(P.writable===!1||!P.configurable))return;let $=G.then;G[d]=$,H.prototype.then=function(fe,_e){return new Ce((Te,Pe)=>{$.call(this,Te,Pe)}).then(fe,_e)},H[_t]=!0}r.patchThen=at;function ct(H){return function(G,P){let $=H.apply(G,P);if($ instanceof Ce)return $;let fe=$.constructor;return fe[_t]||at(fe),$}}return Et&&(at(Et),cr(t,"fetch",H=>ct(H))),Promise[n.__symbol__("uncaughtPromiseErrors")]=c,Ce})}function xI(e){e.__load_patch("toString",t=>{let n=Function.prototype.toString,r=He("OriginalDelegate"),i=He("Promise"),o=He("Error"),s=function(){if(typeof this=="function"){let l=this[r];if(l)return typeof l=="function"?n.call(l):Object.prototype.toString.call(l);if(this===Promise){let d=t[i];if(d)return n.call(d)}if(this===Error){let d=t[o];if(d)return n.call(d)}}return n.call(this)};s[r]=n,Function.prototype.toString=s;let a=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:a.call(this)}})}function kI(e,t,n,r,i){let o=Zone.__symbol__(r);if(t[o])return;let s=t[o]=t[r];t[r]=function(a,c,u){return c&&c.prototype&&i.forEach(function(l){let d=`${n}.${r}::`+l,p=c.prototype;try{if(p.hasOwnProperty(l)){let f=e.ObjectGetOwnPropertyDescriptor(p,l);f&&f.value?(f.value=e.wrapWithCurrentZone(f.value,d),e._redefineProperty(c.prototype,l,f)):p[l]&&(p[l]=e.wrapWithCurrentZone(p[l],d))}else p[l]&&(p[l]=e.wrapWithCurrentZone(p[l],d))}catch{}}),s.call(t,a,c,u)},e.attachOriginToPatched(t[r],s)}function PI(e){e.__load_patch("util",(t,n,r)=>{let i=Dl(t);r.patchOnProperties=om,r.patchMethod=cr,r.bindArguments=Ml,r.patchMacroTask=vI;let o=n.__symbol__("BLACK_LISTED_EVENTS"),s=n.__symbol__("UNPATCHED_EVENTS");t[s]&&(t[o]=t[s]),t[o]&&(n[o]=n[s]=t[o]),r.patchEventPrototype=II,r.patchEventTarget=_I,r.isIEOrEdge=yI,r.ObjectDefineProperty=_l,r.ObjectGetOwnPropertyDescriptor=jo,r.ObjectCreate=fI,r.ArraySlice=pI,r.patchClass=Vo,r.wrapWithCurrentZone=wl,r.filterProperties=dm,r.attachOriginToPatched=ur,r._redefineProperty=Object.defineProperty,r.patchCallbacks=kI,r.getGlobalObjects=()=>({globalSources:sm,zoneSymbolEventNames:pn,eventNames:i,isBrowser:Sl,isMix:im,isNode:va,TRUE_STR:sr,FALSE_STR:ar,ZONE_SYMBOL_PREFIX:Uo,ADD_EVENT_LISTENER_STR:Cl,REMOVE_EVENT_LISTENER_STR:bl})})}function NI(e){TI(e),xI(e),PI(e)}var qn,jo,_l,Il,fI,pI,Cl,bl,ml,vl,sr,ar,Uo,He,ma,Bo,pt,hI,rm,va,Sl,im,ga,mI,Yg,kn,Kg,yl,DI,pn,sm,am,cm,ha,fm,pm=L(()=>{"use strict";qn=globalThis;jo=Object.getOwnPropertyDescriptor,_l=Object.defineProperty,Il=Object.getPrototypeOf,fI=Object.create,pI=Array.prototype.slice,Cl="addEventListener",bl="removeEventListener",ml=fn(Cl),vl=fn(bl),sr="true",ar="false",Uo=fn("");He=fn,ma=typeof window<"u",Bo=ma?window:void 0,pt=ma&&Bo||globalThis,hI="removeAttribute";rm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,va=!("nw"in pt)&&typeof pt.process<"u"&&pt.process.toString()==="[object process]",Sl=!va&&!rm&&!!(ma&&Bo.HTMLElement),im=typeof pt.process<"u"&&pt.process.toString()==="[object process]"&&!rm&&!!(ma&&Bo.HTMLElement),ga={},mI=He("enable_beforeunload"),Yg=function(e){if(e=e||pt.event,!e)return;let t=ga[e.type];t||(t=ga[e.type]=He("ON_PROPERTY"+e.type));let n=this||e.target||pt,r=n[t],i;if(Sl&&n===Bo&&e.type==="error"){let o=e;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&e.preventDefault()}else i=r&&r.apply(this,arguments),e.type==="beforeunload"&&pt[mI]&&typeof i=="string"?e.returnValue=i:i!=null&&!i&&e.preventDefault();return i};kn=He("originalInstance");Kg=!1,yl=!1;DI={useG:!0},pn={},sm={},am=new RegExp("^"+Uo+"(\\w+)(true|false)$"),cm=He("propagationStopped");ha=He("zoneTask");fm=dI();NI(fm);SI(fm)});var hm=L(()=>{});var Mt,ya=L(()=>{"use strict";Mt=class{static platformId=5;static adminId="imAdmin";static secret="openIM123";static apiAddr="https://im.vigo-global.com/api";static wsAddr="wss://im.vigo-global.com/msg_gateway"}});var hn,gm=L(()=>{"use strict";ya();hn=class{static ToUrl(t,n,r){if(n&&n.length>0){let o="";n.forEach(s=>{s.value!==void 0&&(o+=o?"&"+s.key+"="+s.value:s.key+"="+s.value)}),t+="?"+o}if(t.indexOf("//")==0||t.indexOf("http")>=0)return t;let i=r||Mt.apiAddr;return!i.endsWith("/")&&!t.startsWith("/")?i+"/"+t:i+t}}});var Ge,Sr=L(()=>{"use strict";Ge=class{static emojiList=["\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F602}","\u{1F923}","\u{1F60A}","\u{1F607}","\u{1F642}","\u{1F643}","\u{1F609}","\u{1F60C}","\u{1F60D}","\u{1F970}","\u{1F618}","\u{1F617}","\u{1F619}","\u{1F61A}","\u{1F60B}","\u{1F61B}","\u{1F61D}","\u{1F61C}","\u{1F92A}","\u{1F928}","\u{1F9D0}","\u{1F913}","\u{1F60E}","\u{1F929}","\u{1F973}","\u{1F60F}","\u{1F612}","\u{1F61E}","\u{1F614}","\u{1F61F}","\u{1F615}","\u{1F641}","\u2639\uFE0F","\u{1F623}","\u{1F616}","\u{1F62B}","\u{1F629}","\u{1F97A}","\u{1F622}","\u{1F62D}","\u{1F624}","\u{1F620}","\u{1F621}","\u{1F92C}","\u{1F92F}","\u{1F633}","\u{1F975}","\u{1F976}","\u{1F631}","\u{1F628}","\u{1F630}","\u{1F625}","\u{1F613}","\u{1F917}","\u{1F914}","\u{1F92D}","\u{1F92B}","\u{1F925}","\u{1F636}","\u{1F610}","\u{1F611}","\u{1F62C}","\u{1F644}","\u{1F62F}","\u{1F626}","\u{1F627}","\u{1F62E}","\u{1F632}","\u{1F971}","\u{1F634}","\u{1F924}","\u{1F62A}","\u{1F635}","\u{1F910}","\u{1F974}","\u{1F922}","\u{1F92E}","\u{1F927}","\u{1F637}","\u{1F912}","\u{1F915}","\u{1F911}","\u{1F920}","\u{1F608}","\u{1F44D}","\u{1F44E}","\u{1F44C}","\u270C\uFE0F","\u{1F91E}","\u{1F91F}","\u{1F918}","\u{1F919}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F595}","\u{1F447}","\u261D\uFE0F","\u{1F44B}","\u{1F91A}","\u{1F590}\uFE0F","\u270B","\u{1F596}","\u{1F44F}","\u{1F64C}","\u{1F932}","\u{1F91D}","\u{1F64F}","\u270D\uFE0F","\u{1F485}","\u{1F933}","\u{1F4AA}","\u{1F9BE}","\u{1F9BF}","\u2764\uFE0F","\u{1F9E1}","\u{1F49B}","\u{1F49A}","\u{1F499}","\u{1F49C}","\u{1F5A4}","\u{1F90D}","\u{1F90E}","\u{1F494}","\u2763\uFE0F","\u{1F495}","\u{1F49E}","\u{1F493}","\u{1F497}","\u{1F496}","\u{1F498}","\u{1F49D}","\u{1F49F}","\u262E\uFE0F","\u271D\uFE0F","\u262A\uFE0F","\u{1F549}\uFE0F","\u2638\uFE0F","\u2721\uFE0F","\u{1F52F}","\u{1F54E}","\u262F\uFE0F","\u2626\uFE0F","\u{1F6D0}"];static avatarDefault="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiMzQjgyRjYiLz4KPHN2ZyB4PSI2IiB5PSI2IiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yMCAyMVYxOUE0IDQgMCAwIDAgMTYgMTVIOEE0IDQgMCAwIDAgNCAyMFYyMSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGNpcmNsZSBjeD0iMTIiIGN5PSI3IiByPSI0IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4KPC9zdmc+";static createUniqueId(){return Date.now().toString()+Math.floor(Math.random()*1e3).toString().padStart(3,"0")}static getRandomDarkColor(){let t=Math.floor(Math.random()*361),n=Math.floor(Math.random()*31)+25,r=Math.floor(Math.random()*31)+70;return`hsl(${t}, ${r}%, ${n}%)`}static getRandomElement(t){if(!Array.isArray(t)||t.length===0)return;let n=Math.floor(Math.random()*t.length);return t[n]}static isImageFile(t){return["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp"].includes(t.type.toLowerCase())}static formatFileSize(t){if(t===0)return"0 Bytes";let n=1024,r=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,i)).toFixed(2))+" "+r[i]}static getImageDimensions(t){return new Promise((n,r)=>{let i=new Image,o=URL.createObjectURL(t);i.onload=()=>{URL.revokeObjectURL(o),n({width:i.naturalWidth,height:i.naturalHeight})},i.onerror=()=>{URL.revokeObjectURL(o),r(new Error("Failed to load image"))},i.src=o})}static validateImageFile(t,n=5*1024*1024){return new Promise((r,i)=>ce(this,null,function*(){try{if(!this.isImageFile(t)){i(new Error("Invalid image file type"));return}if(t.size>n){i(new Error(`Image size exceeds ${this.formatFileSize(n)} limit`));return}let o=yield this.getImageDimensions(t),s=1e4;if(o.width>s||o.height>s){i(new Error(`Image dimensions too large (max: ${s}px)`));return}r(!0)}catch(o){i(o)}}))}}});var Vi,ji,Pn,Go=L(()=>{"use strict";Vi=(o=>(o[o.Close=0]="Close",o[o.Icon=1]="Icon",o[o.Minibar=2]="Minibar",o[o.Minimize=3]="Minimize",o[o.Maximize=4]="Maximize",o))(Vi||{}),ji=(n=>(n[n.Top=1]="Top",n[n.Widget=2]="Widget",n))(ji||{}),Pn=class{Object;Type;Description;constructor(t,n,r){this.Object=n||null,this.Description=r||"",this.Type=t||1}static IsSuccess(t){return t?(t.Type||t.type)==1:!1}static ToEntity(t){return t.errCode==0?{Description:"",Object:t.data,Type:1}:{Object:t,Type:3,Description:t.errMsg}}static ToException(t){let n;return t&&t.status==0&&(n="The system connection has been interrupted, please try again later"),{Object:t,Type:2,Description:n||t}}static ToFail(t,n){return{Object:n,Description:t,Type:3}}}});var Da=L(()=>{"use strict"});function xl(){return Tl}function lr(e){let t=Tl;return Tl=e,t}function Ui(e){return e===AI||e?.name==="\u0275NotFound"}var Tl,AI,_a,kl=L(()=>{"use strict";AI=Symbol("NotFound"),_a=class extends Error{name="\u0275NotFound";constructor(t){super(t)}}});function Ea(e,t){return Object.is(e,t)}function Me(e){let t=ht;return ht=e,t}function Ma(){return ht}function Sa(e){if(Ia)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(e);let t=ht.nextProducerIndex++;if(Na(ht),t<ht.producerNode.length&&ht.producerNode[t]!==e&&$o(ht)){let n=ht.producerNode[t];Pa(n,ht.producerIndexOfThis[t])}ht.producerNode[t]!==e&&(ht.producerNode[t]=e,ht.producerIndexOfThis[t]=$o(ht)?vm(e,ht,t):0),ht.producerLastReadVersion[t]=e.version}function mm(){Pl++}function Ta(e){if(!($o(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Pl)){if(!e.producerMustRecompute(e)&&!xa(e)){wa(e);return}e.producerRecomputeValue(e),wa(e)}}function Nl(e){if(e.liveConsumerNode===void 0)return;let t=Ia;Ia=!0;try{for(let n of e.liveConsumerNode)n.dirty||OI(n)}finally{Ia=t}}function Al(){return ht?.consumerAllowSignalWrites!==!1}function OI(e){e.dirty=!0,Nl(e),e.consumerMarkedDirty?.(e)}function wa(e){e.dirty=!1,e.lastCleanEpoch=Pl}function Bi(e){return e&&(e.nextProducerIndex=0),Me(e)}function qo(e,t){if(Me(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if($o(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Pa(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function xa(e){Na(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Ta(n),r!==n.version))return!0}return!1}function ka(e){if(Na(e),$o(e))for(let t=0;t<e.producerNode.length;t++)Pa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function vm(e,t,n){if(ym(e),e.liveConsumerNode.length===0&&Dm(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=vm(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Pa(e,t){if(ym(e),e.liveConsumerNode.length===1&&Dm(e))for(let r=0;r<e.producerNode.length;r++)Pa(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Na(i),i.producerIndexOfThis[r]=t}}function $o(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Na(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ym(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Dm(e){return e.producerNode!==void 0}function Aa(e){RI?.(e)}function Ra(e,t){let n=Object.create(FI);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ta(n),Sa(n),n.value===Ho)throw n.error;return n.value};return r[zt]=n,Aa(n),r}function LI(){throw new Error}function Im(e){_m(e)}function Rl(e){_m=e}function Ol(e,t){let n=Object.create(bm);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Cm(n);return r[zt]=n,Aa(n),[r,s=>Oa(n,s),s=>Fl(n,s)]}function Cm(e){return Sa(e),e.value}function Oa(e,t){Al()||Im(e),e.equal(e.value,t)||(e.value=t,jI(e))}function Fl(e,t){Al()||Im(e),Oa(e,t(e.value))}function jI(e){e.version++,mm(),Nl(e),VI?.(e)}var ht,Ia,Pl,RI,zt,Zr,Ca,ba,Ho,FI,_m,VI,bm,Gi=L(()=>{"use strict";ht=null,Ia=!1,Pl=1,RI=null,zt=Symbol("SIGNAL");Zr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Ca=Symbol("UNSET"),ba=Symbol("COMPUTING"),Ho=Symbol("ERRORED"),FI=Oe(ye({},Zr),{value:Ca,dirty:!0,error:null,equal:Ea,kind:"computed",producerMustRecompute(e){return e.value===Ca||e.value===ba},producerRecomputeValue(e){if(e.value===ba)throw new Error("");let t=e.value;e.value=ba;let n=Bi(e),r,i=!1;try{r=e.computation(),Me(null),i=t!==Ca&&t!==Ho&&r!==Ho&&e.equal(t,r)}catch(o){r=Ho,e.error=o}finally{qo(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});_m=LI;VI=null;bm=Oe(ye({},Zr),{equal:Ea,value:void 0,kind:"signal"})});function Fe(e){return typeof e=="function"}var xt=L(()=>{"use strict"});function Fa(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ll=L(()=>{"use strict"});var La,wm=L(()=>{"use strict";Ll();La=Fa(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n})});function zo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Vl=L(()=>{"use strict"});function Va(e){return e instanceof Ft||e&&"closed"in e&&Fe(e.remove)&&Fe(e.add)&&Fe(e.unsubscribe)}function Em(e){Fe(e)?e():e.unsubscribe()}var Ft,jl,Wo=L(()=>{"use strict";xt();wm();Vl();Ft=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Fe(r))try{r()}catch(o){t=o instanceof La?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Em(o)}catch(s){t=t??[],s instanceof La?t=[...t,...s.errors]:t.push(s)}}if(t)throw new La(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Em(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&zo(n,t)}remove(t){let{_finalizers:n}=this;n&&zo(n,t),t instanceof e&&t._removeParent(this)}};Ft.EMPTY=(()=>{let e=new Ft;return e.closed=!0,e})();jl=Ft.EMPTY});var Nn,Zo=L(()=>{"use strict";Nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Hi,Ul=L(()=>{"use strict";Hi={setTimeout(e,t,...n){let{delegate:r}=Hi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Hi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});function ja(e){Hi.setTimeout(()=>{let{onUnhandledError:t}=Nn;if(t)t(e);else throw e})}var Bl=L(()=>{"use strict";Zo();Ul()});function Gl(){}var Mm=L(()=>{"use strict"});function Tm(e){return Hl("E",void 0,e)}function xm(e){return Hl("N",e,void 0)}function Hl(e,t,n){return{kind:e,value:t,error:n}}var Sm,km=L(()=>{"use strict";Sm=Hl("C",void 0,void 0)});function $i(e){if(Nn.useDeprecatedSynchronousErrorHandling){let t=!Jr;if(t&&(Jr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Jr;if(Jr=null,n)throw r}}else e()}function Pm(e){Nn.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=e)}var Jr,Ua=L(()=>{"use strict";Zo();Jr=null});function $l(e,t){return UI.call(e,t)}function Ba(e){Nn.useDeprecatedSynchronousErrorHandling?Pm(e):ja(e)}function BI(e){throw e}function ql(e,t){let{onStoppedNotification:n}=Nn;n&&Hi.setTimeout(()=>n(e,t))}var Yr,UI,zl,qi,GI,Wl=L(()=>{"use strict";xt();Wo();Zo();Bl();Mm();km();Ul();Ua();Yr=class extends Ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Va(t)&&t.add(this)):this.destination=GI}static create(t,n,r){return new qi(t,n,r)}next(t){this.isStopped?ql(xm(t),this):this._next(t)}error(t){this.isStopped?ql(Tm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ql(Sm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UI=Function.prototype.bind;zl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ba(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ba(r)}else Ba(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ba(n)}}},qi=class extends Yr{constructor(t,n,r){super();let i;if(Fe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Nn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&$l(t.next,o),error:t.error&&$l(t.error,o),complete:t.complete&&$l(t.complete,o)}):i=t}this.destination=new zl(i)}};GI={closed:!0,next:Gl,error:BI,complete:Gl}});var zi,Ga=L(()=>{"use strict";zi=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function Ha(e){return e}var Zl=L(()=>{"use strict"});function Nm(e){return e.length===0?Ha:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Am=L(()=>{"use strict";Zl()});function Rm(e){var t;return(t=e??Nn.Promise)!==null&&t!==void 0?t:Promise}function HI(e){return e&&Fe(e.next)&&Fe(e.error)&&Fe(e.complete)}function $I(e){return e&&e instanceof Yr||HI(e)&&Va(e)}var Ze,dr=L(()=>{"use strict";Wl();Wo();Ga();Am();Zo();xt();Ua();Ze=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=$I(n)?n:new qi(n,r,i);return $i(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rm(r),new r((i,o)=>{let s=new qi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zi](){return this}pipe(...n){return Nm(n)(this)}toPromise(n){return n=Rm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})()});function qI(e){return Fe(e?.lift)}function kt(e){return t=>{if(qI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var fr=L(()=>{"use strict";xt()});function Pt(e,t,n,r,i){return new Jl(e,t,n,r,i)}var Jl,Tr=L(()=>{"use strict";Wl();Jl=class extends Yr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}}});var Om,Fm=L(()=>{"use strict";Ll();Om=Fa(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var gn,$a,qa=L(()=>{"use strict";dr();Wo();Fm();Vl();Ua();gn=(()=>{class e extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $a(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Om}next(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jl:(this.currentObservers=null,o.push(n),new Ft(()=>{this.currentObservers=null,zo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ze;return n.source=this,n}}return e.create=(t,n)=>new $a(t,n),e})(),$a=class extends gn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:jl}}});var It,Lm=L(()=>{"use strict";qa();It=class extends gn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}});var Yl,Vm=L(()=>{"use strict";Yl={now(){return(Yl.delegate||Date).now()},delegate:void 0}});var Jo,jm=L(()=>{"use strict";qa();Vm();Jo=class extends gn{constructor(t=1/0,n=1/0,r=Yl){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}});var za,Ql=L(()=>{"use strict";dr();za=new Ze(e=>e.complete())});function Um(e){return e&&Fe(e.schedule)}var Bm=L(()=>{"use strict";xt()});function Kl(e){return e[e.length-1]}function Gm(e){return Fe(Kl(e))?e.pop():void 0}function Wa(e){return Um(Kl(e))?e.pop():void 0}function Hm(e,t){return typeof Kl(e)=="number"?e.pop():t}var Za=L(()=>{"use strict";xt();Bm()});function qm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function $m(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qr(e){return this instanceof Qr?(this.v=e,this):new Qr(e)}function zm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function a(f,h){r[f]&&(i[f]=function(I){return new Promise(function(C,_){o.push([f,I,C,_])>1||c(f,I)})},h&&(i[f]=h(i[f])))}function c(f,h){try{u(r[f](h))}catch(I){p(o[0][3],I)}}function u(f){f.value instanceof Qr?Promise.resolve(f.value.v).then(l,d):p(o[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function p(f,h){f(h),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Wm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $m=="function"?$m(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Xl=L(()=>{"use strict"});var Ja,ed=L(()=>{"use strict";Ja=e=>e&&typeof e.length=="number"&&typeof e!="function"});function Ya(e){return Fe(e?.then)}var td=L(()=>{"use strict";xt()});function Qa(e){return Fe(e[zi])}var nd=L(()=>{"use strict";Ga();xt()});function Ka(e){return Symbol.asyncIterator&&Fe(e?.[Symbol.asyncIterator])}var rd=L(()=>{"use strict";xt()});function Xa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var id=L(()=>{"use strict"});function zI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ec,od=L(()=>{"use strict";ec=zI()});function tc(e){return Fe(e?.[ec])}var sd=L(()=>{"use strict";od();xt()});function nc(e){return zm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Qr(n.read());if(i)return yield Qr(void 0);yield yield Qr(r)}}finally{n.releaseLock()}})}function rc(e){return Fe(e?.getReader)}var ic=L(()=>{"use strict";Xl();xt()});function Nt(e){if(e instanceof Ze)return e;if(e!=null){if(Qa(e))return WI(e);if(Ja(e))return ZI(e);if(Ya(e))return JI(e);if(Ka(e))return Zm(e);if(tc(e))return YI(e);if(rc(e))return QI(e)}throw Xa(e)}function WI(e){return new Ze(t=>{let n=e[zi]();if(Fe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZI(e){return new Ze(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function JI(e){return new Ze(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ja)})}function YI(e){return new Ze(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Zm(e){return new Ze(t=>{KI(e,t).catch(n=>t.error(n))})}function QI(e){return Zm(nc(e))}function KI(e,t){var n,r,i,o;return qm(this,void 0,void 0,function*(){try{for(n=Wm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}var pr=L(()=>{"use strict";Xl();ed();td();dr();nd();rd();id();sd();ic();xt();Bl();Ga()});function mn(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}var Yo=L(()=>{"use strict"});function oc(e,t=0){return kt((n,r)=>{n.subscribe(Pt(r,i=>mn(r,e,()=>r.next(i),t),()=>mn(r,e,()=>r.complete(),t),i=>mn(r,e,()=>r.error(i),t)))})}var ad=L(()=>{"use strict";Yo();fr();Tr()});function sc(e,t=0){return kt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}var cd=L(()=>{"use strict";fr()});function Jm(e,t){return Nt(e).pipe(sc(t),oc(t))}var Ym=L(()=>{"use strict";pr();ad();cd()});function Qm(e,t){return Nt(e).pipe(sc(t),oc(t))}var Km=L(()=>{"use strict";pr();ad();cd()});function Xm(e,t){return new Ze(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}var ev=L(()=>{"use strict";dr()});function tv(e,t){return new Ze(n=>{let r;return mn(n,t,()=>{r=e[ec](),mn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}var nv=L(()=>{"use strict";dr();od();xt();Yo()});function ac(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ze(n=>{mn(n,t,()=>{let r=e[Symbol.asyncIterator]();mn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}var ud=L(()=>{"use strict";dr();Yo()});function rv(e,t){return ac(nc(e),t)}var iv=L(()=>{"use strict";ud();ic()});function ov(e,t){if(e!=null){if(Qa(e))return Jm(e,t);if(Ja(e))return Xm(e,t);if(Ya(e))return Qm(e,t);if(Ka(e))return ac(e,t);if(tc(e))return tv(e,t);if(rc(e))return rv(e,t)}throw Xa(e)}var sv=L(()=>{"use strict";Ym();Km();ev();nv();ud();nd();td();ed();sd();rd();id();ic();iv()});function Kr(e,t){return t?ov(e,t):Nt(e)}var cc=L(()=>{"use strict";sv();pr()});function uc(...e){let t=Wa(e);return Kr(e,t)}var av=L(()=>{"use strict";Za();cc()});function gt(e,t){return kt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>{r.next(e.call(t,o,i++))}))})}var Qo=L(()=>{"use strict";fr();Tr()});function eC(e,t){return XI(t)?e(...t):e(t)}function cv(e){return gt(t=>eC(e,t))}var XI,uv=L(()=>{"use strict";Qo();({isArray:XI}=Array)});function lv(e){if(e.length===1){let t=e[0];if(tC(t))return{args:t,keys:null};if(oC(t)){let n=iC(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function oC(e){return e&&typeof e=="object"&&nC(e)===rC}var tC,nC,rC,iC,dv=L(()=>{"use strict";({isArray:tC}=Array),{getPrototypeOf:nC,prototype:rC,keys:iC}=Object});function fv(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}var pv=L(()=>{"use strict"});function hv(e,t,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,p=()=>{d&&!c.length&&!u&&t.complete()},f=I=>u<r?h(I):c.push(I),h=I=>{o&&t.next(I),u++;let C=!1;Nt(n(I,l++)).subscribe(Pt(t,_=>{i?.(_),o?f(_):t.next(_)},()=>{C=!0},void 0,()=>{if(C)try{for(u--;c.length&&u<r;){let _=c.shift();s?mn(t,s,()=>h(_)):h(_)}p()}catch(_){t.error(_)}}))};return e.subscribe(Pt(t,f,()=>{d=!0,p()})),()=>{a?.()}}var gv=L(()=>{"use strict";pr();Yo();Tr()});function Wi(e,t,n=1/0){return Fe(t)?Wi((r,i)=>gt((o,s)=>t(r,o,i,s))(Nt(e(r,i))),n):(typeof t=="number"&&(n=t),kt((r,i)=>hv(r,i,e,n)))}var ld=L(()=>{"use strict";Qo();pr();fr();gv();xt()});function mv(e=1/0){return Wi(Ha,e)}var vv=L(()=>{"use strict";ld();Zl()});function dd(...e){let t=Gm(e),{args:n,keys:r}=lv(e),i=new Ze(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Nt(n[l]).subscribe(Pt(o,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?fv(r,a):a),o.complete())}))}});return t?i.pipe(cv(t)):i}var yv=L(()=>{"use strict";dr();dv();pr();Za();Tr();uv();pv()});function fd(...e){let t=Wa(e),n=Hm(e,1/0),r=e;return r.length?r.length===1?Nt(r[0]):mv(n)(Kr(r,t)):za}var Dv=L(()=>{"use strict";vv();pr();Ql();Za();cc()});function xr(e,t){return kt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>e.call(t,o,i++)&&r.next(o)))})}var pd=L(()=>{"use strict";fr();Tr()});var _v=L(()=>{"use strict"});function hd(e,t){return Fe(t)?Wi(e,t,1):Wi(e,1)}var Iv=L(()=>{"use strict";ld();xt()});function gd(e){return e<=0?()=>za:kt((t,n)=>{let r=0;t.subscribe(Pt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}var Cv=L(()=>{"use strict";Ql();fr();Tr()});function md(e){return kt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}var bv=L(()=>{"use strict";fr()});function Ko(e,t){return kt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Pt(r,c=>{i?.unsubscribe();let u=0,l=o++;Nt(e(c,l)).subscribe(i=Pt(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var wv=L(()=>{"use strict";pr();fr();Tr()});var vn=L(()=>{"use strict";dr();qa();Lm();jm();Wo();yv();cc();Dv();av();_v();pd();Qo();Cv()});function Ev(e){let t=Me(null);try{return e()}finally{Me(t)}}var Mv=L(()=>{"use strict";Gi();});var vd=L(()=>{"use strict";Gi();});function sC(e){return`NG0${Math.abs(e)}`}function gc(e,t){return`${sC(e)}${t?": "+t:""}`}function et(e){for(let t in e)if(e[t]===et)return t;throw Error("")}function kv(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Yt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Yt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function kd(e,t){return e?t?`${e} ${t}`:e:t||""}function ii(e){return e.__forward_ref__=ii,e.toString=function(){return Yt(this())},e}function St(e){return Pd(e)?e():e}function Pd(e){return typeof e=="function"&&e.hasOwnProperty(aC)&&e.__forward_ref__===ii}function Pv(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function ke(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gr(e){return{providers:e.providers||[],imports:e.imports||[]}}function mc(e){return cC(e,vc)}function cC(e,t){return e.hasOwnProperty(t)&&e[t]||null}function uC(e){let t=e?.[vc]??null;return t||null}function Dd(e){return e&&e.hasOwnProperty(dc)?e[dc]:null}function Nd(e){return e&&!!e.\u0275providers}function yc(e){return typeof e=="string"?e:e==null?"":String(e)}function Nv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():yc(e)}function Fd(e,t){throw new de(-200,e)}function Dc(e,t){throw new de(-201,!1)}function Av(){return _d}function Lt(e){let t=_d;return _d=e,t}function Ld(e,t,n){let r=mc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Dc(e,"Injector")}function hC(e,t=0){let n=xl();if(n===void 0)throw new de(-203,!1);if(n===null)return Ld(e,void 0,t);{let r=gC(t),i=n.retrieve(e,r);if(Ui(i)){if(r.optional)return null;throw i}return i}}function Se(e,t=0){return(Av()||hC)(St(e),t)}function De(e,t){return Se(e,ei(t))}function ei(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gC(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function bd(e){let t=[];for(let n=0;n<e.length;n++){let r=St(e[n]);if(Array.isArray(r)){if(r.length===0)throw new de(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=mC(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(Se(i,o))}else t.push(Se(r))}return t}function Vd(e,t){return e[Id]=t,e.prototype[Id]=t,e}function mC(e){return e[Id]}function vC(e,t,n,r){let i=e[fc];throw t[Tv]&&i.unshift(t[Tv]),e.message=yC(`
`+e.message,i,n,r),e[dC]=i,e[fc]=null,e}function yC(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==pC?e.slice(2):e;let i=Yt(t);if(Array.isArray(t))i=t.map(Yt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Yt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fC,`
  `)}`}function kr(e,t){let n=e.hasOwnProperty(es);return n?e[es]:null}function Rv(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Ov(e){return e.flat(Number.POSITIVE_INFINITY)}function _c(e,t){e.forEach(n=>Array.isArray(n)?_c(n,t):t(n))}function jd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ns(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fv(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Lv(e,t,n){let r=Ji(e,t);return r>=0?e[r|1]=n:(r=~r,Fv(e,r,t,n)),r}function Ic(e,t){let n=Ji(e,t);if(n>=0)return e[n|1]}function Ji(e,t){return DC(e,t,1)}function DC(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}function ai(e){return e[Ad]||null}function Gd(e){return e[Rd]||null}function Vv(e){return e[Od]||null}function rs(e){return{\u0275providers:e}}function jv(...e){return{\u0275providers:Hd(!0,e),\u0275fromNgModule:!0}}function Hd(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return _c(t,s=>{let a=s;pc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Uv(i,o),n}function Uv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];$d(i,o=>{t(o,r)})}}function pc(e,t,n,r){if(e=St(e),!e)return!1;let i=null,o=Dd(e),s=!o&&ai(e);if(!o&&!s){let c=e.ngModule;if(o=Dd(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)pc(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{_c(o.imports,l=>{pc(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Uv(u,t)}if(!a){let u=kr(i)||(()=>new i);t({provide:i,useFactory:u,deps:Qt},i),t({provide:Bd,useValue:i,multi:!0},i),t({provide:si,useValue:()=>Se(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;$d(c,l=>{t(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function $d(e,t){for(let n of e)Nd(n)&&(n=n.\u0275providers),Array.isArray(n)?$d(n,t):t(n)}function Bv(e){return e!==null&&typeof e=="object"&&_C in e}function IC(e){return!!(e&&e.useExisting)}function CC(e){return!!(e&&e.useFactory)}function ti(e){return typeof e=="function"}function Gv(e){return!!e.useClass}function os(){return yd===void 0&&(yd=new ts),yd}function wd(e){let t=mc(e),n=t!==null?t.factory:kr(e);if(n!==null)return n;if(e instanceof ve)throw new de(204,!1);if(e instanceof Function)return bC(e);throw new de(204,!1)}function bC(e){if(e.length>0)throw new de(204,!1);let n=uC(e);return n!==null?()=>n.factory(e):()=>new e}function wC(e){if(Bv(e))return Zi(void 0,e.useValue);{let t=qd(e);return Zi(t,lc)}}function qd(e,t,n){let r;if(ti(e)){let i=St(e);return kr(i)||wd(i)}else if(Bv(e))r=()=>St(e.useValue);else if(CC(e))r=()=>e.useFactory(...bd(e.deps||[]));else if(IC(e))r=()=>Se(St(e.useExisting));else{let i=St(e&&(e.useClass||e.provide));if(EC(e))r=()=>new i(...bd(e.deps));else return kr(i)||wd(i)}return r}function Xo(e){if(e.destroyed)throw new de(205,!1)}function Zi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function EC(e){return!!e.deps}function MC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function SC(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ed(e,t){for(let n of e)Array.isArray(n)?Ed(n,t):n&&Nd(n)?Ed(n.\u0275providers,t):t(n)}function Yi(e,t){let n;e instanceof ni?(Xo(e),n=e):n=new Cd(e);let r,i=lr(n),o=Lt(void 0);try{return t()}finally{lr(i),Lt(o)}}function Hv(){return Av()!==void 0||xl()!=null}function Qn(e){return Array.isArray(e)&&typeof e[$v]=="object"}function Rn(e){return Array.isArray(e)&&e[$v]===!0}function wc(e){return(e.flags&4)!==0}function Or(e){return e.componentOffset>-1}function ls(e){return(e.flags&1)===1}function Kn(e){return!!e.template}function Xi(e){return(e[Ie]&512)!==0}function fi(e){return(e[Ie]&256)===256}function In(e){for(;Array.isArray(e);)e=e[An];return e}function Jd(e,t){return In(t[e])}function Xn(e,t){return In(t[e.index])}function Ec(e,t){return e.data[t]}function Yd(e,t){return e[t]}function Qd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Cn(e,t){let n=t[e];return Qn(n)?n:n[An]}function zv(e){return(e[Ie]&4)===4}function Mc(e){return(e[Ie]&128)===128}function Wv(e){return Rn(e[Ct])}function pi(e,t){return t==null?null:e[t]}function Kd(e){e[li]=0}function Sc(e){e[Ie]&1024||(e[Ie]|=1024,Mc(e)&&ds(e))}function Zv(e,t){for(;e>0;)t=t[ui],e--;return t}function eo(e){return!!(e[Ie]&9216||e[Kt]?.dirty)}function Tc(e){e[Jn].changeDetectionScheduler?.notify(8),e[Ie]&64&&(e[Ie]|=1024),eo(e)&&ds(e)}function ds(e){e[Jn].changeDetectionScheduler?.notify(0);let t=Pr(e);for(;t!==null&&!(t[Ie]&8192||(t[Ie]|=8192,!Mc(t)));)t=Pr(t)}function Xd(e,t){if(fi(e))throw new de(911,!1);e[hr]===null&&(e[hr]=[]),e[hr].push(t)}function Jv(e,t){if(e[hr]===null)return;let n=e[hr].indexOf(t);n!==-1&&e[hr].splice(n,1)}function Pr(e){let t=e[Ct];return Rn(t)?t[Ct]:t}function ef(e){return e[Qi]??=[]}function tf(e){return e.cleanup??=[]}function Yv(e,t,n,r){let i=ef(t);i.push(n),e.firstCreatePass&&tf(e).push(r,i.length-1)}function Qv(){return xe.lFrame.elementDepthCount}function Kv(){xe.lFrame.elementDepthCount++}function Xv(){xe.lFrame.elementDepthCount--}function xc(){return xe.bindingsEnabled}function e0(){return xe.skipHydrationRootTNode!==null}function t0(e){return xe.skipHydrationRootTNode===e}function n0(){xe.skipHydrationRootTNode=null}function Ue(){return xe.lFrame.lView}function bt(){return xe.lFrame.tView}function Y(e){return xe.lFrame.contextLView=e,e[At]}function Q(e){return xe.lFrame.contextLView=null,e}function Ut(){let e=nf();for(;e!==null&&e.type===64;)e=e.parent;return e}function nf(){return xe.lFrame.currentTNode}function r0(){let e=xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Fr(e,t){let n=xe.lFrame;n.currentTNode=e,n.isParent=t}function kc(){return xe.lFrame.isParent}function rf(){xe.lFrame.isParent=!1}function of(e){Pv("Must never be called in production mode"),TC=e}function sf(){return Md}function af(e){let t=Md;return Md=e,t}function Pc(){let e=xe.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function i0(e){return xe.lFrame.bindingIndex=e}function Nc(){return xe.lFrame.bindingIndex++}function o0(e){let t=xe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function s0(){return xe.lFrame.inI18n}function a0(e,t){let n=xe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ac(t)}function c0(){return xe.lFrame.currentDirectiveIndex}function Ac(e){xe.lFrame.currentDirectiveIndex=e}function u0(e){let t=xe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function cf(){return xe.lFrame.currentQueryIndex}function Rc(e){xe.lFrame.currentQueryIndex=e}function xC(e){let t=e[be];return t.type===2?t.declTNode:t.type===1?e[Dn]:null}function uf(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=xC(o),i===null||(o=o[ui],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=xe.lFrame=l0();return r.currentTNode=t,r.lView=e,!0}function Oc(e){let t=l0(),n=e[be];xe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function l0(){let e=xe.lFrame,t=e===null?null:e.child;return t===null?d0(e):t}function d0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function f0(){let e=xe.lFrame;return xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}function Fc(){let e=f0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function p0(e){return(xe.lFrame.contextLView=Zv(e,xe.lFrame.contextLView))[At]}function hi(){return xe.lFrame.selectedIndex}function Lr(e){xe.lFrame.selectedIndex=e}function df(){let e=xe.lFrame;return Ec(e.tView,e.selectedIndex)}function we(){xe.lFrame.currentNamespace=Zd}function Be(){kC()}function kC(){xe.lFrame.currentNamespace=null}function h0(){return xe.lFrame.currentNamespace}function ps(){return g0}function hs(e){g0=e}function Sd(e,t=null,n=null,r){let i=m0(e,t,n,r);return i.resolveInjectorInitializers(),i}function m0(e,t=null,n=null,r,i=new Set){let o=[n||Qt,jv(e)];return r=r||(typeof e=="object"?void 0:Yt(e)),new ni(o,t||os(),r||null,i)}function PC(){return new Td(Ue())}function ff(e){return typeof e=="function"&&e[zt]!==void 0}function to(e,t){let[n,r,i]=Ol(e,t?.equal),o=n,s=o[zt];return o.set=r,o.update=i,o.asReadonly=y0.bind(o),o}function y0(){let e=this[zt];if(e.readonlyFn===void 0){let t=()=>this();t[zt]=e,e.readonlyFn=t}return e.readonlyFn}function pf(e){return ff(e)&&typeof e.set=="function"}function vs(...e){}var hc,de,ri,aC,vc,dc,ve,Ad,Rd,Od,es,oi,Sv,_d,lC,Xr,Id,Cd,fc,dC,fC,pC,Tv,Nr,Qt,si,Ud,Bd,ts,_C,is,lc,xv,yd,Wt,ni,An,be,Ie,Ct,yn,Dn,ss,Qi,At,ci,Jn,rt,Ki,zd,ui,_n,Ar,li,Yn,as,Wd,hr,Cc,cs,Kt,bc,Vt,$v,Rr,us,di,jt,Zd,qv,xe,fs,TC,Md,lf,g0,zn,Xt,gs,Td,Wn,On,v0,Zn,ms,hf,gf,gi,Lc,mf,xd,Vc=L(()=>{"use strict";kl();Gi();vn();kl();vd();hc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",de=class extends Error{code;constructor(t,n){super(gc(t,n)),this.code=t}};ri=globalThis;aC=et({__forward_ref__:et});vc=et({\u0275prov:et}),dc=et({\u0275inj:et}),ve=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ke({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};Ad=et({\u0275cmp:et}),Rd=et({\u0275dir:et}),Od=et({\u0275pipe:et}),es=et({\u0275fac:et}),oi=et({__NG_ELEMENT_ID__:et}),Sv=et({__NG_ENV_ID__:et});lC={},Xr=lC,Id="__NG_DI_FLAG__",Cd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ei(n)||0;try{return this.injector.get(t,r&8?null:Xr,r)}catch(i){if(Ui(i))return i;throw i}}},fc="ngTempTokenPath",dC="ngTokenPath",fC=/\n/gm,pC="\u0275",Tv="__source";Nr={},Qt=[],si=new ve(""),Ud=new ve("",-1),Bd=new ve(""),ts=class{get(t,n=Xr){if(n===Xr)throw new _a(`NullInjectorError: No provider for ${Yt(t)}!`);return n}};_C=et({provide:String,useValue:et});is=new ve(""),lc={},xv={};Wt=class{},ni=class extends Wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ed(t,s=>this.processProvider(s)),this.records.set(Ud,Zi(void 0,this)),i.has("environment")&&this.records.set(Wt,Zi(void 0,this));let o=this.records.get(is);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bd,Qt,{self:!0}))}retrieve(t,n){let r=ei(n)||0;try{return this.get(t,Xr,r)}catch(i){if(Ui(i))return i;throw i}}destroy(){Xo(this),this._destroyed=!0;let t=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(t)}}onDestroy(t){return Xo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Xo(this);let n=lr(this),r=Lt(void 0),i;try{return t()}finally{lr(n),Lt(r)}}get(t,n=Xr,r){if(Xo(this),t.hasOwnProperty(Sv))return t[Sv](this);let i=ei(r),o,s=lr(this),a=Lt(void 0);try{if(!(i&4)){let u=this.records.get(t);if(u===void 0){let l=SC(t)&&mc(t);l&&this.injectableDefInScope(l)?u=Zi(wd(t),lc):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u)}let c=i&2?os():this.parent;return n=i&8&&n===Xr?null:n,c.get(t,n)}catch(c){if(Ui(c)){if((c[fc]=c[fc]||[]).unshift(Yt(t)),s)throw c;return vC(c,t,"R3InjectorError",this.source)}else throw c}finally{Lt(a),lr(s)}}resolveInjectorInitializers(){let t=Me(null),n=lr(this),r=Lt(void 0),i;try{let o=this.get(si,Qt,{self:!0});for(let s of o)s()}finally{lr(n),Lt(r),Me(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Yt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=St(t);let n=ti(t)?t:St(t&&t.provide),r=wC(t);if(!ti(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,lc,!0),i.factory=()=>bd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Me(null);try{return n.value===xv?Fd(Yt(t)):n.value===lc&&(n.value=xv,n.value=n.factory()),typeof n.value=="object"&&n.value&&MC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Me(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=St(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};An=0,be=1,Ie=2,Ct=3,yn=4,Dn=5,ss=6,Qi=7,At=8,ci=9,Jn=10,rt=11,Ki=12,zd=13,ui=14,_n=15,Ar=16,li=17,Yn=18,as=19,Wd=20,hr=21,Cc=22,cs=23,Kt=24,bc=25,Vt=26,$v=1,Rr=7,us=8,di=9,jt=10;Zd="svg",qv="math";xe={lFrame:d0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},fs=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(fs||{}),TC=0,Md=!1;lf=f0;g0=!0;zn=class e{static THROW_IF_NOT_FOUND=Xr;static NULL=new ts;static create(t,n){if(Array.isArray(t))return Sd({name:""},n,t,"");{let r=t.name??"";return Sd({name:r},t.parent,t.providers,r)}}static \u0275prov=ke({token:e,providedIn:"any",factory:()=>Se(Ud)});static __NG_ELEMENT_ID__=-1},Xt=new ve(""),gs=(()=>{class e{static __NG_ELEMENT_ID__=PC;static __NG_ENV_ID__=n=>n}return e})(),Td=class extends gs{_lView;constructor(t){super(),this._lView=t}get destroyed(){return fi(this._lView)}onDestroy(t){let n=this._lView;return Xd(n,t),()=>Jv(n,t)}};Wn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},On=new ve("",{providedIn:"root",factory:()=>{let e=De(Wt),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Wn),t.handleError(n))}}}),v0={provide:si,useValue:()=>void De(Wn),multi:!0};Zn=class{},ms=new ve("",{providedIn:"root",factory:()=>!1}),hf=new ve(""),gf=new ve(""),gi=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new It(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ze(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}return e})(),Lc=(()=>{class e{internalPendingTasks=De(gi);scheduler=De(Zn);errorHandler=De(On);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}return e})();mf=(()=>{class e{static \u0275prov=ke({token:e,providedIn:"root",factory:()=>new xd})}return e})(),xd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}});var ys=L(()=>{"use strict";Iv();pd();bv();Qo();wv()});function so(e){return{toString:e}.toString()}function UC(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function W0(e,t,n){return so(()=>{let r=UC(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(jc)?c[jc]:Object.defineProperty(c,jc,{value:[]})[jc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function BC(e){return typeof e=="function"}function Z0(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function J0(e){return e.type.prototype.ngOnChanges&&(e.setInput=HC),GC}function GC(){let e=Q0(this),t=e?.current;if(t){let n=e.previous;if(n===Nr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function HC(e,t,n,r,i){let o=this.declaredInputs[r],s=Q0(e)||$C(e,{previous:Nr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new qc(u&&u.currentValue,n,c===Nr),Z0(e,t,i,n)}function Q0(e){return e[Y0]||null}function $C(e,t){return e[Y0]=t}function qC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=J0(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function rp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function Bc(e,t,n){K0(e,t,3,n)}function Gc(e,t,n,r){(e[Ie]&3)===n&&K0(e,t,n,r)}function vf(e,t){let n=e[Ie];(n&3)===t&&(n&=16383,n+=1,e[Ie]=n)}function K0(e,t,n,r){let i=r!==void 0?e[li]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[li]+=65536),(a<o||o==-1)&&(zC(e,n,t,c),e[li]=(e[li]&4294901760)+c+2),c++}function _0(e,t){Je(4,e,t);let n=Me(null);try{t.call(e)}finally{Me(n),Je(5,e,t)}}function zC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[Ie]>>14<e[li]>>16&&(e[Ie]&3)===t&&(e[Ie]+=16384,_0(a,o)):_0(a,o)}function WC(e){return(e.flags&8)!==0}function ZC(e){return(e.flags&16)!==0}function JC(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];QC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function YC(e){return e===3||e===4||e===6}function QC(e){return e.charCodeAt(0)===64}function io(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?I0(e,n,i,null,t[++r]):I0(e,n,i,null,null))}}return e}function I0(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function X0(e){return e!==ro}function zc(e){return e&32767}function KC(e){return e>>16}function Wc(e,t){let n=KC(e),r=t;for(;n>0;)r=r[ui],n--;return r}function Zc(e){let t=Tf;return Tf=e,t}function tb(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(oi)&&(r=n[oi]),r==null&&(r=n[oi]=eb++);let i=r&ey,o=1<<i;t.data[e+(i>>ty)]|=o}function Jc(e,t){let n=ny(e,t);if(n!==-1)return n;let r=t[be];r.firstCreatePass&&(e.injectorIndex=t.length,yf(r.data,e),yf(t,null),yf(r.blueprint,null));let i=ip(e,t),o=e.injectorIndex;if(X0(i)){let s=zc(i),a=Wc(i,t),c=a[be].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function yf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ny(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function ip(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=ay(i),r===null)return ro;if(n++,i=i[ui],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ro}function xf(e,t,n){tb(e,t,n)}function ry(e,t,n){if(n&8||e!==void 0)return e;Dc(t,"NodeInjector")}function iy(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[ci],o=Lt(void 0);try{return i?i.get(t,r,n&8):Ld(t,r,n&8)}finally{Lt(o)}}return ry(r,t,n)}function oy(e,t,n,r=0,i){if(e!==null){if(t[Ie]&2048&&!(r&2)){let s=ob(e,t,n,r,er);if(s!==er)return s}let o=sy(e,t,n,r,er);if(o!==er)return o}return iy(t,n,r,i)}function sy(e,t,n,r,i){let o=rb(n);if(typeof o=="function"){if(!uf(t,e,r))return r&1?ry(i,n,r):iy(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Dc(n);else return s}finally{lf()}}else if(typeof o=="number"){let s=null,a=ny(e,t),c=ro,u=r&1?t[_n][Dn]:null;for((a===-1||r&4)&&(c=a===-1?ip(e,t):t[a+8],c===ro||!b0(r,!1)?a=-1:(s=t[be],a=zc(c),t=Wc(c,t)));a!==-1;){let l=t[be];if(C0(o,a,l.data)){let d=nb(a,t,n,s,r,u);if(d!==er)return d}c=t[a+8],c!==ro&&b0(r,t[be].data[a+8]===u)&&C0(o,a,t)?(s=l,a=zc(c),t=Wc(c,t)):a=-1}}return i}function nb(e,t,n,r,i,o){let s=t[be],a=s.data[e+8],c=r==null?Or(a)&&Tf:r!=s&&(a.type&3)!==0,u=i&1&&o===a,l=Hc(a,s,n,c,u);return l!==null?Is(t,s,l,a):er}function Hc(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=r?a:a+l,p=i?a+l:u;for(let f=d;f<p;f++){let h=s[f];if(f<c&&n===h||f>=c&&h.type===n)return f}if(i){let f=s[c];if(f&&Kn(f)&&f.type===n)return c}return null}function Is(e,t,n,r){let i=e[n],o=t.data;if(i instanceof yi){let s=i;s.resolving&&Fd(Nv(o[n]));let a=Zc(s.canSeeViewProviders);s.resolving=!0;let c=o[n].type||o[n],u,l=s.injectImpl?Lt(s.injectImpl):null,d=uf(e,r,0);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&qC(n,o[n],t)}finally{l!==null&&Lt(l),Zc(a),s.resolving=!1,lf()}}return i}function rb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(oi)?e[oi]:void 0;return typeof t=="number"?t>=0?t&ey:ib:t}function C0(e,t,n){let r=1<<e;return!!(n[t+(e>>ty)]&r)}function b0(e,t){return!(e&2)&&!(e&1&&t)}function ib(){return new vi(Ut(),Ue())}function op(e){return so(()=>{let t=e.prototype.constructor,n=t[es]||kf(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[es]||kf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kf(e){return Pd(e)?()=>{let t=kf(St(e));return t&&t()}:kr(e)}function ob(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Ie]&2048&&!Xi(s);){let a=sy(o,s,n,r|2,er);if(a!==er)return a;let c=o.parent;if(!c){let u=s[Wd];if(u){let l=u.get(n,er,r);if(l!==er)return l}c=ay(s),s=s[ui]}o=c}return i}function ay(e){let t=e[be],n=t.type;return n===2?t.declTNode:n===1?e[Dn]:null}function sb(){return ao(Ut(),Ue())}function ao(e,t){return new Vn(Xn(e,t))}function ab(e){return e instanceof Vn?e.nativeElement:e}function cb(){return this._results[Symbol.iterator]()}function cy(e){return(e.flags&128)===128}function lb(){return ub++}function db(e){uy.set(e[as],e)}function Pf(e){uy.delete(e[as])}function co(e,t){Qn(t)?(e[w0]=t[as],db(t)):e[w0]=t}function ly(e){return fy(e[Ki])}function dy(e){return fy(e[yn])}function fy(e){for(;e!==null&&!Rn(e);)e=e[yn];return e}function ap(e){Nf=e}function py(){if(Nf!==void 0)return Nf;if(typeof document<"u")return document;throw new de(210,!1)}function mb(e,t,n,r){gb(e,t,n,r)}function vy(e,t,n=!1){return vb(e,t,n)}function yy(e,t){let n=e.contentQueries;if(n!==null){let r=Me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Rc(o),a.contentQueries(2,t[s],s)}}}finally{Me(r)}}}function Af(e,t,n){Rc(0);let r=Me(null);try{t(e,n)}finally{Me(r)}}function cp(e,t,n){if(wc(t)){let r=Me(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Me(r)}}}function up(e){return e instanceof Qc?e.changingThisBreaksApplicationSecurity:e}function Dy(e,t){let n=_y(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${hc})`)}return n===t}function _y(e){return e instanceof Qc&&e.getTypeName()||null}function Iy(e){return e=String(e),e.match(yb)?e:"unsafe:"+e}function Tt(e){let t=Db();return t?t.sanitize(lp.URL,e)||"":Dy(e,"URL")?up(e):Iy(yc(e))}function Db(){let e=Ue();return e&&e[Jn].sanitizer}function bb(e){return e.replace(_b,t=>t.replace(Ib,Cb))}function Ss(e){return e.ownerDocument.defaultView}function Ts(e){return e.ownerDocument}function wb(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Eb(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&wb(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(dp(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function dp(e){return e.type===4&&e.value!==Cy}function Mb(e,t,n){let r=e.type===4&&!n?Cy:e.value;return t===r}function Sb(e,t,n){let r=4,i=e.attrs,o=i!==null?kb(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Fn(r)&&!Fn(c))return!1;if(s&&Fn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Mb(e,c,n)||c===""&&t.length===1){if(Fn(r))return!1;s=!0}}else if(r&8){if(i===null||!Eb(e,i,c,n)){if(Fn(r))return!1;s=!0}}else{let u=t[++a],l=Tb(c,i,dp(e),n);if(l===-1){if(Fn(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Fn(r))return!1;s=!0}}}}return Fn(r)||s}function Fn(e){return(e&1)===0}function Tb(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Pb(t,e)}function xb(e,t,n=!1){for(let r=0;r<t.length;r++)if(Sb(e,t[r],n))return!0;return!1}function kb(e){for(let t=0;t<e.length;t++){let n=e[t];if(YC(n))return t}return e.length}function Pb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function E0(e,t){return e?":not("+t.trim()+")":t}function Nb(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Fn(s)&&(t+=E0(o,i),i=""),r=s,o=o||!Fn(r);n++}return i!==""&&(t+=E0(o,i)),t}function Ab(e){return e.map(Nb).join(",")}function Rb(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Fn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}function Ob(e,t){return e.createText(t)}function Fb(e,t,n){e.setValue(t,n)}function Lb(e,t){return e.createComment(bb(t))}function by(e,t,n){return e.createElement(t,n)}function Kc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function wy(e,t,n){e.appendChild(t,n)}function M0(e,t,n,r,i){r!==null?Kc(e,t,n,r,i):wy(e,t,n)}function Vb(e,t,n){e.removeChild(null,t,n)}function jb(e,t,n){e.setAttribute(t,"style",n)}function Ub(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ey(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&JC(e,t,r),i!==null&&Ub(e,t,i),o!==null&&jb(e,t,o)}function fp(e,t,n,r,i,o,s,a,c,u,l){let d=Vt+r,p=d+i,f=Bb(d,p),h=typeof u=="function"?u():u;return f[be]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:l}}function Bb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:vr);return n}function Gb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=fp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function pp(e,t,n,r,i,o,s,a,c,u,l){let d=t.blueprint.slice();return d[An]=i,d[Ie]=r|4|128|8|64|1024,(u!==null||e&&e[Ie]&2048)&&(d[Ie]|=2048),Kd(d),d[Ct]=d[ui]=e,d[At]=n,d[Jn]=s||e&&e[Jn],d[rt]=a||e&&e[rt],d[ci]=c||e&&e[ci]||null,d[Dn]=o,d[as]=lb(),d[ss]=l,d[Wd]=u,d[_n]=t.type==2?e[_n]:d,d}function Hb(e,t,n){let r=Xn(t,e),i=Gb(n),o=e[Jn].rendererFactory,s=hp(e,pp(e,i,null,My(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function My(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Sy(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function hp(e,t){return e[Ki]?e[zd][yn]=t:e[Ki]=t,e[zd]=t,t}function k(e=1){Ty(bt(),Ue(),hi()+e,!1)}function Ty(e,t,n,r){if(!r)if((t[Ie]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Bc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Gc(t,o,0,n)}Lr(n)}function Rf(e,t,n,r){let i=Me(null);try{let[o,s,a]=e.inputs[n],c=null;(s&au.SignalBased)!==0&&(c=t[o][zt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Z0(t,c,o,r)}finally{Me(i)}}function xy(e,t,n,r,i){let o=hi(),s=r&2;try{Lr(-1),s&&t.length>Vt&&Ty(e,t,Vt,!1),Je(s?2:0,i,n),n(r,i)}finally{Lr(o),Je(s?3:1,i,n)}}function cu(e,t,n){Yb(e,t,n),(n.flags&64)===64&&Qb(e,t,n)}function gp(e,t,n=Xn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function $b(e,t,n,r){let o=r.get(gy,hy)||n===mr.ShadowDom,s=e.selectRootElement(t,o);return qb(s),s}function qb(e){zb(e)}function Wb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ky(e,t,n,r,i,o){let s=t[be];if(vp(e,s,t,n,r)){Or(e)&&Jb(t,e.index);return}Zb(e,t,n,r,i,o)}function Zb(e,t,n,r,i,o){if(e.type&3){let s=Xn(e,t);n=Wb(n),r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function Jb(e,t){let n=Cn(t,e);n[Ie]&16||(n[Ie]|=64)}function Yb(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Or(n)&&Hb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Jc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Is(t,e,s,n);if(co(c,t),o!==null&&Xb(t,s-r,c,a,n,o),Kn(a)){let u=Cn(n.index,t);u[At]=Is(t,e,s,n)}}}function Qb(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=c0();try{Lr(o);for(let a=r;a<i;a++){let c=e.data[a],u=t[a];Ac(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Kb(c,u)}}finally{Lr(-1),Ac(s)}}function Kb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function mp(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];xb(t,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function Xb(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Rf(r,n,c,u)}}function ew(e,t){let n=e[ci];if(!n)return;n.get(On,null)?.(t)}function vp(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];Rf(d,n[u],l,i),a=!0}if(o)for(let c of o){let u=n[c],l=t.data[c];Rf(l,u,r,i),a=!0}return a}function tw(e,t){let n=Cn(t,e),r=n[be];nw(r,n);let i=n[An];i!==null&&n[ss]===null&&(n[ss]=vy(i,n[ci])),Je(18),yp(r,n,n[At]),Je(19,n[At])}function nw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function yp(e,t,n){Oc(t);try{let r=e.viewQuery;r!==null&&Af(1,r,n);let i=e.template;i!==null&&xy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Yn]?.finishViewCreation(e),e.staticContentQueries&&yy(e,t),e.staticViewQueries&&Af(2,e.viewQuery,n);let o=e.components;o!==null&&rw(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ie]&=-5,Fc()}}function rw(e,t){for(let n=0;n<t.length;n++)tw(e,t[n])}function iw(e,t,n,r){let i=Me(null);try{let o=t.tView,a=e[Ie]&4096?4096:16,c=pp(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[Ar]=u;let l=e[Yn];return l!==null&&(c[Yn]=l.createEmbeddedView(o)),yp(o,c,n),c}finally{Me(i)}}function S0(e,t){return!t||t.firstChild===null||cy(e)}function Dp(e,t){return sw(e,t)}function _p(e){return(e.flags&32)===32}function no(e,t,n,r,i){if(r!=null){let o,s=!1;Rn(r)?o=r:Qn(r)&&(s=!0,r=r[An]);let a=In(r);e===0&&n!==null?i==null?wy(t,n,a):Kc(t,n,a,i||null,!0):e===1&&n!==null?Kc(t,n,a,i||null,!0):e===2?Vb(t,a,s):e===3&&t.destroyNode(a),o!=null&&yw(t,e,o,n,i)}}function aw(e,t){Py(e,t),t[An]=null,t[Dn]=null}function cw(e,t,n,r,i,o){r[An]=i,r[Dn]=t,lu(e,r,n,1,i,o)}function Py(e,t){t[Jn].changeDetectionScheduler?.notify(9),lu(e,t,t[rt],2,null,null)}function uw(e){let t=e[Ki];if(!t)return Df(e[be],e);for(;t;){let n=null;if(Qn(t))n=t[Ki];else{let r=t[jt];r&&(n=r)}if(!n){for(;t&&!t[yn]&&t!==e;)Qn(t)&&Df(t[be],t),t=t[Ct];t===null&&(t=e),Qn(t)&&Df(t[be],t),n=t&&t[yn]}t=n}}function Ip(e,t){let n=e[di],r=n.indexOf(t);n.splice(r,1)}function Ny(e,t){if(fi(t))return;let n=t[rt];n.destroyNode&&lu(e,t,n,3,null,null),uw(t)}function Df(e,t){if(fi(t))return;let n=Me(null);try{t[Ie]&=-129,t[Ie]|=256,t[Kt]&&ka(t[Kt]),dw(e,t),lw(e,t),t[be].type===1&&t[rt].destroy();let r=t[Ar];if(r!==null&&Rn(t[Ct])){r!==t[Ct]&&Ip(r,t);let i=t[Yn];i!==null&&i.detachView(e)}Pf(t)}finally{Me(n)}}function lw(e,t){let n=e.cleanup,r=t[Qi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Qi]=null);let i=t[hr];if(i!==null){t[hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[cs];if(o!==null){t[cs]=null;for(let s of o)s.destroy()}}function dw(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof yi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Je(4,a,c);try{c.call(a)}finally{Je(5,a,c)}}else{Je(4,i,o);try{o.call(i)}finally{Je(5,i,o)}}}}}function fw(e,t,n){return pw(e,t.parent,n)}function pw(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[An];if(Or(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===mr.None||i===mr.Emulated)return null}return Xn(r,n)}function hw(e,t,n){return mw(e,t,n)}function gw(e,t,n){return e.type&40?Xn(e,n):null}function uu(e,t,n,r){let i=fw(e,r,t),o=t[rt],s=r.parent||t[Dn],a=hw(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)M0(o,i,n[c],a,!1);else M0(o,i,n,a,!1);x0!==void 0&&x0(o,r,t,n,i)}function Ds(e,t){if(t!==null){let n=t.type;if(n&3)return Xn(t,e);if(n&4)return Of(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ds(e,r);{let i=e[t.index];return Rn(i)?Of(-1,i):In(i)}}else{if(n&128)return Ds(e,t.next);if(n&32)return Dp(t,e)()||In(e[t.index]);{let r=Ay(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Pr(e[_n]);return Ds(i,r)}else return Ds(e,t.next)}}}return null}function Ay(e,t){if(t!==null){let r=e[_n][Dn],i=t.projection;return r.projection[i]}return null}function Of(e,t){let n=jt+e+1;if(n<t.length){let r=t[n],i=r[be].firstChild;if(i!==null)return Ds(r,i)}return t[Rr]}function Cp(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&co(In(a),r),n.flags|=2),!_p(n))if(c&8)Cp(e,t,n.child,r,i,o,!1),no(t,e,i,a,o);else if(c&32){let u=Dp(n,r),l;for(;l=u();)no(t,e,i,l,o);no(t,e,i,a,o)}else c&16?vw(e,t,r,n,i,o):no(t,e,i,a,o);n=s?n.projectionNext:n.next}}function lu(e,t,n,r,i,o){Cp(n,r,e.firstChild,t,i,o,!1)}function vw(e,t,n,r,i,o){let s=n[_n],c=s[Dn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];no(t,e,i,l,o)}else{let u=c,l=s[Ct];cy(r)&&(u.flags|=128),Cp(e,t,u,l,i,o,!0)}}function yw(e,t,n,r,i){let o=n[Rr],s=In(n);o!==s&&no(t,e,r,o,i);for(let a=jt;a<n.length;a++){let c=n[a];lu(c[be],c,e,t,r,o)}}function Dw(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ln.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ln.Important),e.setStyle(n,r,i,o))}}function Cs(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(In(o)),Rn(o)&&Ry(o,r);let s=n.type;if(s&8)Cs(e,t,n.child,r);else if(s&32){let a=Dp(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ay(t,n);if(Array.isArray(a))r.push(...a);else{let c=Pr(t[_n]);Cs(c[be],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ry(e,t){for(let n=jt;n<e.length;n++){let r=e[n],i=r[be].firstChild;i!==null&&Cs(r[be],r,i,t)}e[Rr]!==e[An]&&t.push(e[Rr])}function Oy(e){if(e[bc]!==null){for(let t of e[bc])t.impl.addSequence(t);e[bc].length=0}}function _w(e){return e[Kt]??Iw(e)}function Iw(e){let t=Fy.pop()??Object.create(bw);return t.lView=e,t}function Cw(e){e.lView[Kt]!==e&&(e.lView=null,Fy.push(e))}function ww(e){let t=e[Kt]??Object.create(Ew);return t.lView=e,t}function Ly(e){return e.type!==2}function Vy(e){if(e[cs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[cs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Ie]&8192)}}function bp(e,t=0){let r=e[Jn].rendererFactory,i=!1;i||r.begin?.();try{Sw(e,t)}finally{i||r.end?.()}}function Sw(e,t){let n=sf();try{af(!0),Ff(e,t);let r=0;for(;eo(e);){if(r===Mw)throw new de(103,!1);r++,Ff(e,1)}}finally{af(n)}}function jy(e,t){of(t?fs.Exhaustive:fs.OnlyDirtyViews);try{bp(e)}finally{of(fs.Off)}}function Tw(e,t,n,r){if(fi(t))return;let i=t[Ie],o=!1,s=!1;Oc(t);let a=!0,c=null,u=null;o||(Ly(e)?(u=_w(t),c=Bi(u)):Ma()===null?(a=!1,u=ww(t),c=Bi(u)):t[Kt]&&(ka(t[Kt]),t[Kt]=null));try{Kd(t),i0(e.bindingStartIndex),n!==null&&xy(e,t,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=e.preOrderCheckHooks;f!==null&&Bc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Gc(t,f,0,null),vf(t,0)}if(s||xw(t),Vy(t),Uy(t,0),e.contentQueries!==null&&yy(e,t),!o)if(l){let f=e.contentCheckHooks;f!==null&&Bc(t,f)}else{let f=e.contentHooks;f!==null&&Gc(t,f,1),vf(t,1)}Pw(e,t);let d=e.components;d!==null&&Gy(t,d,0);let p=e.viewQuery;if(p!==null&&Af(2,p,r),!o)if(l){let f=e.viewCheckHooks;f!==null&&Bc(t,f)}else{let f=e.viewHooks;f!==null&&Gc(t,f,2),vf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Cc]){for(let f of t[Cc])f();t[Cc]=null}o||(Oy(t),t[Ie]&=-73)}catch(l){throw o||ds(t),l}finally{u!==null&&(qo(u,c),a&&Cw(u)),Fc()}}function Uy(e,t){for(let n=ly(e);n!==null;n=dy(n))for(let r=jt;r<n.length;r++){let i=n[r];By(i,t)}}function xw(e){for(let t=ly(e);t!==null;t=dy(t)){if(!(t[Ie]&2))continue;let n=t[di];for(let r=0;r<n.length;r++){let i=n[r];Sc(i)}}}function kw(e,t,n){Je(18);let r=Cn(t,e);By(r,n),Je(19,r[At])}function By(e,t){Mc(e)&&Ff(e,t)}function Ff(e,t){let r=e[be],i=e[Ie],o=e[Kt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&xa(o)),s||=!1,o&&(o.dirty=!1),e[Ie]&=-9217,s)Tw(r,e,r.template,e[At]);else if(i&8192){let a=Me(null);try{Vy(e),Uy(e,1);let c=r.components;c!==null&&Gy(e,c,1),Oy(e)}finally{Me(a)}}}function Gy(e,t,n){for(let r=0;r<t.length;r++)kw(e,t[r],n)}function Pw(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lr(~i);else{let o=i,s=n[++r],a=n[++r];a0(s,o);let c=t[o];Je(24,c),a(2,c),Je(25,c)}}}finally{Lr(-1)}}function wp(e,t){let n=sf()?64:1088;for(e[Jn].changeDetectionScheduler?.notify(t);e;){e[Ie]|=n;let r=Pr(e);if(Xi(e)&&!r)return e;e=r}return null}function Hy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Nw(e,t,n,r=!0){let i=t[be];if(Aw(i,t,e,n),r){let s=Of(n,e),a=t[rt],c=a.parentNode(e[Rr]);c!==null&&cw(i,e[Dn],a,t,c,s)}let o=t[ss];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lf(e,t){if(e.length<=jt)return;let n=jt+t,r=e[n];if(r){let i=r[Ar];i!==null&&i!==e&&Ip(i,r),t>0&&(e[n-1][yn]=r[yn]);let o=ns(e,jt+t);aw(r[be],r);let s=o[Yn];s!==null&&s.detachView(o[be]),r[Ct]=null,r[yn]=null,r[Ie]&=-129}return r}function Aw(e,t,n,r){let i=jt+r,o=n.length;r>0&&(n[i-1][yn]=t),r<o-jt?(t[yn]=n[i],jd(n,jt+r,t)):(n.push(t),t[yn]=null),t[Ct]=n;let s=t[Ar];s!==null&&n!==s&&$y(s,t);let a=t[Yn];a!==null&&a.insertView(e),Tc(t),t[Ie]|=128}function $y(e,t){let n=e[di],r=t[Ct];if(Qn(r))e[Ie]|=2;else{let i=r[Ct][_n];t[_n]!==i&&(e[Ie]|=2)}n===null?e[di]=[t]:n.push(t)}function Ep(e){return eo(e._lView)||!!(e._lView[Ie]&64)}function Mp(e){Sc(e._lView)}function Rw(){return Sp(Ut(),Ue())}function Sp(e,t){return e.type&4?new jr(t,e,ao(e,t)):null}function du(e,t,n,r,i){let o=e.data[t];if(o===null)o=Ow(e,t,n,r,i),s0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=r0();o.injectorIndex=s===null?-1:s.injectorIndex}return Fr(o,!0),o}function Ow(e,t,n,r,i){let o=nf(),s=kc(),a=s?o:o&&o.parent,c=e.data[t]=Lw(e,a,n,t,r,i);return Fw(e,c,o,s),c}function Fw(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Lw(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return e0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function k0(e,t){return Vw(e,t)}function jw(){let e=Ue(),t=Ut(),n=Cn(t.index,e);return(Qn(n)?n:e)[rt]}function Uf(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=kd(i,a);else if(o==2){let c=a,u=t[++s];r=kd(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function he(e,t=0){let n=Ue();if(n===null)return Se(e,t);let r=Ut();return oy(r,n,St(e),t)}function Tp(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}Gw(e,t,n,a,o,c,u)}o!==null&&r!==null&&Uw(n,r,o)}function Uw(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new de(-301,!1);r.push(t[i],o)}}function Bw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Gw(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&Kn(f)&&(c=!0,Bw(e,n,p)),xf(Jc(n,t),e,f.type)}Zw(n,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Sy(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=io(n.mergedAttrs,f.hostAttrs),$w(e,n,t,d,f),Ww(d,f,i),s!==null&&s.has(f)){let[I,C]=s.get(f);n.directiveToIndex.set(f.type,[d,I+n.directiveStart,C+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!u&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}Hw(e,n,o)}function Hw(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))P0(0,t,i,r),P0(1,t,i,r),A0(t,r,!1);else{let o=n.get(i);N0(0,t,o,r),N0(1,t,o,r),A0(t,r,!0)}}}function P0(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Wy(t,o)}}function N0(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Wy(t,s)}}function Wy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function A0(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||dp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function $w(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=kr(i.type,!0)),s=new yi(o,Kn(i),he);e.blueprint[r]=s,n[r]=s,qw(e,t,r,Sy(e,n,i.hostVars,vr),i)}function qw(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;zw(s)!=a&&s.push(a),s.push(n,r,o)}}function zw(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Ww(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kn(t)&&(n[""]=e)}}function Zw(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Zy(e,t,n,r,i,o,s,a){let c=t.consts,u=pi(c,s),l=du(t,e,2,r,u);return o&&Tp(t,n,l,pi(c,a),i),l.mergedAttrs=io(l.mergedAttrs,l.attrs),l.attrs!==null&&Uf(l,l.attrs,!1),l.mergedAttrs!==null&&Uf(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function Jy(e,t){rp(e,t),wc(t)&&e.queries.elementEnd(t)}function xp(e){return pu(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Yy(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function pu(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Qy(e,t,n){return e[t]=n}function _i(e,t,n){if(n===vr)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Jw(e,t,n,r){let i=_i(e,t,n);return _i(e,t+1,r)||i}function _f(e,t,n){return function r(i){let o=Or(e)?Cn(e.index,t):t;wp(o,5);let s=t[At],a=R0(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=R0(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function R0(e,t,n,r){let i=Me(null);try{return Je(6,t,n),n(r)!==!1}catch(o){return ew(e,o),!1}finally{Je(7,t,n),Me(i)}}function Yw(e,t,n,r,i,o,s,a){let c=ls(e),u=!1,l=null;if(!r&&c&&(l=Qw(t,n,o,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Xn(e,n),p=r?r(d):d;mb(n,p,o,a);let f=i.listen(p,o,a),h=r?I=>r(In(I[e.index])):e.index;Ky(h,t,n,o,a,f,!1)}return u}function Qw(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Qi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ky(e,t,n,r,i,o,s){let a=t.firstCreatePass?tf(t):null,c=ef(n),u=c.length;c.push(i,o),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function O0(e,t,n,r,i,o){let s=t[n],a=t[be],u=a.data[n].outputs[r],d=s[u].subscribe(o);Ky(e.index,a,t,i,o,d,!0)}function Kw(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&au.SignalBased)!==0};return i&&(o.transform=i),o})}function Xw(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function eE(e,t,n){let r=t instanceof Wt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new jf(n,r):n}function tE(e){let t=e.get(Di,null);if(t===null)throw new de(407,!1);let n=e.get(zy,null),r=e.get(Zn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function nE(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return by(t,n,n==="svg"?Zd:n==="math"?qv:null)}function rE(e,t,n,r){let i=e?["ng-version","20.0.6"]:Rb(t.selectors[0]),o=null,s=null,a=0;if(n)for(let l of n)a+=l[Bf].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let p of d.bindings){a+=p[Bf].requiredVars;let f=l+1;p.create&&(p.targetIdx=f,(o??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,p=Gd(d);c.push(p)}return fp(0,null,iE(o,s),1,a,c,null,null,null,[i],null)}function iE(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function F0(e){let t=e[Bf].kind;return t==="input"||t==="twoWay"}function oE(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function sE(){let e=Ut();return eD(e,Ue())}function L0(e){return e[us]}function If(e){return e[us]||(e[us]=[])}function eD(e,t){let n,r=t[e.index];return Rn(r)?n=r:(n=Hy(r,t,null,e),t[e.index]=n,hp(t,n)),uE(n,t,e,r),new Xy(n,e,t)}function cE(e,t){let n=e[rt],r=n.createComment(""),i=Xn(t,e),o=n.parentNode(i);return Kc(n,o,r,n.nextSibling(i),!1),r}function dE(e,t,n){return lE(e,t,n)}function fE(e,t,n,r){if(e[Rr])return;let i;n.type&8?i=In(r):i=cE(t,n),e[Rr]=i}function pE(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function hE(e,t){return e.type&11?ao(e,t):e.type&4?Sp(e,t):null}function gE(e,t,n,r){return n===-1?hE(t,e):n===-2?mE(e,t,r):Is(e,e[be],n,t)}function mE(e,t,n){if(n===Vn)return ao(t,e);if(n===jr)return Sp(t,e);if(n===wi)return eD(t,e)}function tD(e,t,n,r){let i=t[Yn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(gE(t,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Zf(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=tD(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=t[-c];for(let d=jt;d<l.length;d++){let p=l[d];p[Ar]===p[Ct]&&Zf(p[be],p,u,r)}if(l[di]!==null){let d=l[di];for(let p=0;p<d.length;p++){let f=d[p];Zf(f[be],f,u,r)}}}}}return r}function vE(e,t){return e[Yn].queries[t].queryList}function yE(e,t,n){let r=new Yc((n&4)===4);return Yv(e,t,r,r.destroy),(t[Yn]??=new $f).queries.push(new Hf(r))-1}function DE(e,t,n){let r=bt();return r.firstCreatePass&&(IE(r,new qf(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),yE(r,Ue(),t)}function _E(e){return e.split(",").map(t=>t.trim())}function IE(e,t,n){e.queries===null&&(e.queries=new zf),e.queries.track(new Wf(t,n))}function kp(e,t){return e.queries.getByIndex(t)}function CE(e,t){let n=e[be],r=kp(n,t);return r.crossesNgTemplate?Zf(n,e,t,[]):tD(n,e,r,t)}function Pp(e){V0.has(e)||(V0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function nD(e,t,n=null){return new Es({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Bt(e){return so(()=>{let t=rD(e),n=Oe(ye({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(bE).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||mr.Emulated,styles:e.styles||Qt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Pp("NgStandalone"),iD(n);let r=e.dependencies;return n.directiveDefs=j0(r,!1),n.pipeDefs=j0(r,!0),n.id=TE(n),n})}function wE(e){return ai(e)||Gd(e)}function EE(e){return e!==null}function Ur(e){return so(()=>({type:e.type,bootstrap:e.bootstrap||Qt,declarations:e.declarations||Qt,imports:e.imports||Qt,exports:e.exports||Qt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ME(e,t){if(e==null)return Nr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=au.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function SE(e){if(e==null)return Nr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function bn(e){return so(()=>{let t=rD(e);return iD(t),t})}function Zt(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function rD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Nr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Qt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ME(e.inputs,t),outputs:SE(e.outputs),debugInfo:null}}function iD(e){e.features?.forEach(t=>t(e))}function j0(e,t){if(!e)return null;let n=t?Vv:wE;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(EE)}function TE(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function xE(e){return Object.getPrototypeOf(e.prototype).constructor}function Ei(e){let t=xE(e.type),n=!0,r=[e];for(;t;){let i;if(Kn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new de(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Cf(e.inputs),s.declaredInputs=Cf(e.declaredInputs),s.outputs=Cf(e.outputs);let a=i.hostBindings;a&&RE(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&NE(e,c),u&&AE(e,u),kE(e,i),kv(e.outputs,i.outputs),Kn(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ei&&(n=!1)}}t=Object.getPrototypeOf(t)}PE(r)}function kE(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function PE(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=io(i.hostAttrs,n=io(n,i.hostAttrs))}}function Cf(e){return e===Nr?{}:e===Qt?[]:e}function NE(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function AE(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function RE(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function OE(e,t,n,r,i,o,s,a,c){let u=t.consts,l=du(t,e,4,s||null,a||null);xc()&&Tp(t,n,l,pi(u,c),mp),l.mergedAttrs=io(l.mergedAttrs,l.attrs),rp(t,l);let d=l.tView=fp(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}function FE(e,t,n,r,i,o,s,a,c,u,l){let d=n+Vt,p=t.firstCreatePass?OE(d,t,e,r,i,o,s,a,u):t.data[d];c&&(p.flags|=c),Fr(p,!1);let f=LE(t,e,p,n);ps()&&uu(t,e,f,p),co(f,e);let h=Hy(f,e,f,p);return e[d]=h,hp(e,h),dE(h,p,e),ls(p)&&cu(t,e,p),u!=null&&gp(e,p,l),p}function K(e,t,n,r,i,o,s,a){let c=Ue(),u=bt(),l=pi(u.consts,o);return FE(c,u,e,t,n,r,i,l,void 0,s,a),K}function VE(e,t,n,r){return hs(!0),t[rt].createComment("")}function sD(e){let t,n;function r(){e=vs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function U0(e){return queueMicrotask(()=>e()),()=>{e=vs}}function Rp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function BE(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){sD(()=>{e.callbackScheduled=!1,Yf(e),e.isCheckStableRunning=!0,Rp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Yf(e)}function GE(e){let t=()=>{BE(e)},n=jE++;e._inner=e._inner.fork({name:"angular",properties:{[Ap]:!0,[eu]:n,[eu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(HE(c))return r.invokeTask(o,s,a,c);try{return B0(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),G0(e)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return B0(e),r.invoke(o,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!$E(c)&&t(),G0(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Yf(e),Rp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Yf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function B0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function G0(e){e._nesting--,Rp(e)}function HE(e){return aD(e,"__ignore_ng_zone__")}function $E(e){return aD(e,"__scheduler_tick__")}function aD(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function Mi(e){return!!e&&typeof e.then=="function"}function hu(e){return!!e&&typeof e.subscribe=="function"}function dD(){Rl(()=>{let e="";throw new de(600,e)})}function fD(e){return e.isBoundToModule}function _s(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function F(e,t,n){let r=Ue(),i=Nc();if(_i(r,i,t)){let o=bt(),s=df();ky(s,r,e,t,r[rt],n)}return F}function H0(e,t,n,r,i){vp(t,e,n,i?"class":"style",r)}function b(e,t,n,r){let i=Ue(),o=bt(),s=Vt+e,a=i[rt],c=o.firstCreatePass?Zy(s,o,i,t,mp,xc(),n,r):o.data[s],u=zE(o,i,c,a,t,e);i[s]=u;let l=ls(c);return Fr(c,!0),Ey(a,u,c),!_p(c)&&ps()&&uu(o,i,u,c),(Qv()===0||l)&&co(u,i),Kv(),l&&(cu(o,i,c),cp(o,c,i)),r!==null&&gp(i,c),b}function w(){let e=Ut();kc()?rf():(e=e.parent,Fr(e,!1));let t=e;t0(t)&&n0(),Xv();let n=bt();return n.firstCreatePass&&Jy(n,t),t.classesWithoutHost!=null&&WC(t)&&H0(n,t,Ue(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ZC(t)&&H0(n,t,Ue(),t.stylesWithoutHost,!1),w}function ae(e,t,n,r){return b(e,t,n,r),w(),ae}function WE(e,t,n,r,i){let o=t.consts,s=pi(o,r),a=du(t,e,8,"ng-container",s);s!==null&&Uf(a,s,!0);let c=pi(o,i);return xc()&&Tp(t,n,a,c,mp),a.mergedAttrs=io(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function lo(e,t,n){let r=Ue(),i=bt(),o=e+Vt,s=i.firstCreatePass?WE(o,i,r,t,n):i.data[o];Fr(s,!0);let a=ZE(i,r,s,e);return r[o]=a,ps()&&uu(i,r,a,s),co(a,r),ls(s)&&(cu(i,r,s),cp(i,s,r)),n!=null&&gp(r,s),lo}function fo(){let e=Ut(),t=bt();return kc()?rf():(e=e.parent,Fr(e,!1)),t.firstCreatePass&&(rp(t,e),wc(e)&&t.queries.elementEnd(e)),fo}function Ee(){return Ue()}function JE(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}function tn(e){let t=QE(e),n=$0(t);if(n)return n;let r=t.split("-")[0];if(n=$0(r),n)return n;if(r==="en")return YE;throw new de(701,!1)}function $0(e){return e in bf||(bf[e]=ri.ng&&ri.ng.common&&ri.ng.common.locales&&ri.ng.common.locales[e]),bf[e]}function QE(e){return e.toLowerCase().replace(/_/g,"-")}function pD(e){typeof e=="string"&&(KE=e.toLowerCase().replace(/_/g,"-"))}function q(e,t,n){let r=Ue(),i=bt(),o=Ut();return hD(i,r,r[rt],o,e,t,n),q}function hD(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=_f(r,t,o),Yw(r,e,t,s,n,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let d=0;d<l.length;d+=2){let p=l[d],f=l[d+1];c??=_f(r,t,o),O0(r,t,p,f,i,c)}if(u&&u.length)for(let d of u)c??=_f(r,t,o),O0(r,t,d,i,i,c)}}function R(e=1){return p0(e)}function po(e,t,n){DE(e,t,n)}function ho(e){let t=Ue(),n=bt(),r=cf();Rc(r+1);let i=kp(n,r);if(e.dirty&&zv(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=CE(t,r);e.reset(o,ab),e.notifyOnChanges()}return!0}return!1}function go(){return vE(Ue(),cf())}function Uc(e,t){return e<<17|t<<2}function Ii(e){return e>>17&32767}function XE(e){return(e&2)==2}function eM(e,t){return e&131071|t<<17}function Qf(e){return e|2}function oo(e){return(e&131068)>>2}function wf(e,t){return e&-131069|t<<2}function tM(e){return(e&1)===1}function Kf(e){return e|1}function nM(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ii(s),c=oo(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ji(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let p=Ii(e[a+1]);e[r+1]=Uc(p,a),p!==0&&(e[p+1]=wf(e[p+1],r)),e[a+1]=eM(e[a+1],r)}else e[r+1]=Uc(a,0),a!==0&&(e[a+1]=wf(e[a+1],r)),a=r;else e[r+1]=Uc(c,0),a===0?a=r:e[c+1]=wf(e[c+1],r),c=r;u&&(e[r+1]=Qf(e[r+1])),q0(e,l,r,!0),q0(e,l,r,!1),rM(t,l,e,r,o),s=Uc(a,c),o?t.classBindings=s:t.styleBindings=s}function rM(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ji(o,t)>=0&&(n[r+1]=Kf(n[r+1]))}function q0(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ii(i):oo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];iM(c,t)&&(a=!0,e[s+1]=r?Kf(u):Qf(u)),s=r?Ii(u):oo(u)}a&&(e[n+1]=r?Qf(i):Kf(i))}function iM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ji(e,t)>=0:!1}function tr(e,t,n){return gD(e,t,n,!1),tr}function Ke(e,t){return gD(e,t,null,!0),Ke}function gD(e,t,n,r){let i=Ue(),o=bt(),s=o0(2);if(o.firstUpdatePass&&sM(o,e,s,r),t!==vr&&_i(i,s,t)){let a=o.data[hi()];dM(o,a,i,i[rt],e,i[s+1]=fM(t,n),r,s)}}function oM(e,t){return t>=e.expandoStartIndex}function sM(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[hi()],s=oM(e,n);pM(o,r)&&t===null&&!s&&(t=!1),t=aM(i,o,t,r),nM(i,o,t,n,s,r)}}function aM(e,t,n,r){let i=u0(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ef(null,e,t,n,r),n=Ms(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Ef(i,e,t,n,r),o===null){let c=cM(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Ef(null,e,t,c[1],r),c=Ms(c,t.attrs,r),uM(e,t,r,c))}else o=lM(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function cM(e,t,n){let r=n?t.classBindings:t.styleBindings;if(oo(r)!==0)return e[Ii(r)]}function uM(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ii(i)]=r}function lM(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ms(r,s,n)}return Ms(r,t.attrs,n)}function Ef(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ms(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ms(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Lv(e,s,n?!0:t[++o]))}return e===void 0?null:e}function dM(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=tM(u)?z0(c,t,n,i,oo(u),s):void 0;if(!nu(l)){nu(o)||XE(u)&&(o=z0(c,null,n,i,a,s));let d=Jd(hi(),n);Dw(r,s,d,i,o)}}function z0(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[i+1];p===vr&&(p=d?Qt:void 0);let f=d?Ic(p,r):l===r?p:void 0;if(u&&!nu(f)&&(f=Ic(c,r)),nu(f)&&(a=f,s))return a;let h=e[i+1];i=s?Ii(h):oo(h)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Ic(c,r))}return a}function nu(e){return e!==void 0}function fM(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Yt(up(e)))),e}function pM(e,t){return(e.flags&(t?8:16))!==0}function B(e,t=""){let n=Ue(),r=bt(),i=e+Vt,o=r.firstCreatePass?du(r,i,1,t,null):r.data[i],s=hM(r,n,o,t,e);n[i]=s,ps()&&uu(r,n,s,o),Fr(o,!1)}function gM(e,t,n,r=""){return _i(e,Nc(),n)?t+yc(n)+r:vr}function Ae(e){return tt("",e),Ae}function tt(e,t,n){let r=Ue(),i=gM(r,e,t,n);return i!==vr&&mM(r,hi(),i),tt}function mM(e,t,n){let r=Jd(t,e);Fb(e[rt],r,n)}function mo(e,t,n){pf(t)&&(t=t());let r=Ue(),i=Nc();if(_i(r,i,t)){let o=bt(),s=df();ky(s,r,e,t,r[rt],n)}return mo}function Ps(e,t){let n=pf(e);return n&&e.set(t),n}function vo(e,t){let n=Ue(),r=bt(),i=Ut();return hD(r,n,n[rt],i,e,t),vo}function vM(e,t,n){let r=bt();if(r.firstCreatePass){let i=Kn(e);Xf(n,r.data,r.blueprint,i,!0),Xf(t,r.data,r.blueprint,i,!1)}}function Xf(e,t,n,r,i){if(e=St(e),Array.isArray(e))for(let o=0;o<e.length;o++)Xf(e[o],t,n,r,i);else{let o=bt(),s=Ue(),a=Ut(),c=ti(e)?e:St(e.provide),u=qd(e),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(ti(e)||!e.multi){let f=new yi(u,i,he),h=Sf(c,t,i?l:l+p,d);h===-1?(xf(Jc(a,s),o,c),Mf(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[h]=f,s[h]=f)}else{let f=Sf(c,t,l+p,d),h=Sf(c,t,l,l+p),I=f>=0&&n[f],C=h>=0&&n[h];if(i&&!C||!i&&!I){xf(Jc(a,s),o,c);let _=_M(i?DM:yM,n.length,i,r,u);!i&&C&&(n[h].providerFactory=_),Mf(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=mD(n[i?h:f],u,!i&&r);Mf(o,e,f>-1?f:h,_)}!i&&r&&C&&n[h].componentProviders++}}}function Mf(e,t,n,r){let i=ti(t),o=Gv(t);if(i||o){let c=(o?St(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function mD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Sf(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function yM(e,t,n,r){return ep(this.multi,[])}function DM(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Is(n,n[be],this.providerFactory.index,r);o=a.slice(0,s),ep(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ep(i,o);return o}function ep(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function _M(e,t,n,r,i){let o=new yi(e,n,he);return o.multi=[],o.index=t,o.componentProviders=0,mD(o,i,r&&!n),o}function yo(e,t=[]){return n=>{n.providersResolver=(r,i)=>vM(r,i?i(e):e,t)}}function Ti(e,t,n,r){return yD(Ue(),Pc(),e,t,n,r)}function vD(e,t){let n=e[t];return n===vr?void 0:n}function yD(e,t,n,r,i,o){let s=t+n;return _i(e,s,i)?Qy(e,s+1,o?r.call(o,i):r(i)):vD(e,s+1)}function IM(e,t,n,r,i,o,s){let a=t+n;return Jw(e,a,i,o)?Qy(e,a+2,s?r.call(s,i,o):r(i,o)):vD(e,a+2)}function re(e,t){let n=bt(),r,i=e+Vt;n.firstCreatePass?(r=CM(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=kr(r.type,!0)),s,a=Lt(he);try{let c=Zc(!1),u=o();return Zc(c),Qd(n,Ue(),i,u),u}finally{Lt(a)}}function CM(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function ie(e,t,n){let r=e+Vt,i=Ue(),o=Yd(i,r);return DD(i,r)?yD(i,Pc(),t,o.transform,n,o):o.transform(n)}function Lp(e,t,n,r){let i=e+Vt,o=Ue(),s=Yd(o,i);return DD(o,i)?IM(o,Pc(),t,s.transform,n,r,s):s.transform(n,r)}function DD(e,t){return e[be].data[t].pure}function Vp({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new it(Oe(ye({},Up()),{scheduleInRootZone:n})),[{provide:it,useFactory:e},{provide:si,multi:!0,useFactory:()=>{let r=De(bM,{optional:!0});return()=>r.initialize()}},{provide:si,multi:!0,useFactory:()=>{let r=De(wM);return()=>{r.initialize()}}},t===!0?{provide:hf,useValue:!0}:[],{provide:gf,useValue:n??oD},{provide:On,useFactory:()=>{let r=De(it),i=De(Wt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Wn),o.handleError(s))})}}}]}function jp(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Vp({ngZoneFactory:()=>{let i=Up(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Pp("NgZone_CoalesceEvent"),new it(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return rs([{provide:_D,useValue:!0},{provide:ms,useValue:!1},r])}function Up(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}function EM(){return typeof $localize<"u"&&$localize.locale||ks}var jc,tp,np,qc,ru,Y0,D0,Je,ro,yi,Tf,XC,ey,ty,eb,er,vi,Vn,Yc,sp,uy,ub,w0,Nf,iu,fb,ou,uo,su,pb,hb,hy,gy,gb,vb,mr,Qc,yb,lp,_b,Ib,Cb,Cy,vr,au,zb,T0,ow,sw,Ln,mw,x0,Fy,bw,Ew,Mw,Vr,jr,YO,Vw,qy,fu,Vf,Ci,Di,bi,zy,$c,jf,Bf,Gf,bs,Xc,wi,aE,Xy,uE,lE,Hf,$f,qf,zf,Wf,V0,ws,Es,bE,LE,Np,xs,oD,Jf,en,Ap,eu,jE,it,UE,tu,cD,Op,uD,Fp,lD,qE,Si,zE,ZE,mi,YE,bf,ot,ks,KE,hM,bM,_D,wM,ID,Ns,Bp=L(()=>{"use strict";Vc();Gi();vn();vd();ys();jc="__parameters__";tp=Vd(W0("Optional"),8),np=Vd(W0("SkipSelf"),4);qc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};ru=(()=>{let e=()=>J0;return e.ngInherit=!0,e})();Y0="__ngSimpleChanges__";D0=[],Je=function(e,t=null,n){for(let r=0;r<D0.length;r++){let i=D0[r];i(e,t,n)}};ro=-1,yi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};Tf=!0;XC=256,ey=XC-1,ty=5,eb=0,er={};vi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return oy(this._tNode,this._lView,t,ei(r),n)}};Vn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=sb}return e})();Yc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new gn}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Ov(t);(this._changesDetected=!Rv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cb};sp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(sp||{}),uy=new Map,ub=0;w0="__ngContext__";iu=new ve("",{providedIn:"root",factory:()=>fb}),fb="ng",ou=new ve(""),uo=new ve("",{providedIn:"platform",factory:()=>"unknown"}),su=new ve("",{providedIn:"root",factory:()=>py().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),pb="h",hb="b",hy=!1,gy=new ve("",{providedIn:"root",factory:()=>hy});gb=(e,t,n,r)=>{};vb=()=>null;mr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(mr||{}),Qc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hc})`}};yb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;lp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(lp||{});_b=/^>|^->|<!--|-->|--!>|<!-$/g,Ib=/(<|>)/g,Cb="\u200B$1\u200B";Cy="ng-template";vr={};au=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(au||{});zb=()=>null;T0=!1,ow=new ve("");Ln=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ln||{});mw=gw;Fy=[];bw=Oe(ye({},Zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ds(e.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});Ew=Oe(ye({},Zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Pr(e.lView);for(;t&&!Ly(t[be]);)t=Pr(t);t&&Sc(t)},consumerOnSignalRead(){this.lView[Kt]=this}});Mw=100;Vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[be];return Cs(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[At]}set context(t){this._lView[At]=t}get destroyed(){return fi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ct];if(Rn(t)){let n=t[us],r=n?n.indexOf(this):-1;r>-1&&(Lf(t,r),ns(n,r))}this._attachedToViewContainer=!1}Ny(this._lView[be],this._lView)}onDestroy(t){Xd(this._lView,t)}markForCheck(){wp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ie]&=-129}reattach(){Tc(this._lView),this._lView[Ie]|=128}detectChanges(){this._lView[Ie]|=1024,bp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[ci].get(ow,T0)}catch{this.exhaustive=T0}}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Xi(this._lView),n=this._lView[Ar];n!==null&&!t&&Ip(n,this._lView),Py(this._lView[be],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=t;let n=Xi(this._lView),r=this._lView[Ar];r!==null&&!n&&$y(r,this._lView),Tc(this._lView)}};jr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Rw;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=iw(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Vr(o)}}return e})();YO=new RegExp(`^(\\d+)*(${hb}|${pb})*(.*)`),Vw=()=>null;qy=class{},fu=class{},Vf=class{resolveComponentFactory(t){throw new de(917,!1)}},Ci=class{static NULL=new Vf},Di=class{},bi=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>jw()}return e})();zy=(()=>{class e{static \u0275prov=ke({token:e,providedIn:"root",factory:()=>null})}return e})(),$c={},jf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,$c,r);return i!==$c||n===$c?i:this.parentInjector.get(t,n,r)}};Bf=Symbol("BINDING"),Gf=class extends Ci{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ai(t);return new bs(n,this.ngModule)}};bs=class extends fu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Kw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Xw(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Ab(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Je(22);let a=Me(null);try{let c=this.componentDef,u=rE(r,c,s,o),l=eE(c,i||this.ngModule,t),d=tE(l),p=d.rendererFactory.createRenderer(null,c),f=r?$b(p,r,c.encapsulation,l):nE(c,p),h=s?.some(F0)||o?.some(_=>typeof _!="function"&&_.bindings.some(F0)),I=pp(null,u,null,512|My(c),null,null,d,p,l,null,vy(f,l,!0));I[Vt]=f,Oc(I);let C=null;try{let _=Zy(Vt,u,I,"#host",()=>u.directiveRegistry,!0,0);f&&(Ey(p,f,_),co(f,I)),cu(u,I,_),cp(u,_,I),Jy(u,_),n!==void 0&&oE(_,this.ngContentSelectors,n),C=Cn(_.index,I),I[At]=C[At],yp(u,I,null)}catch(_){throw C!==null&&Pf(C),Pf(I),_}finally{Je(23),Fc()}return new Xc(this.componentType,I,!!h)}finally{Me(a)}}};Xc=class extends qy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ec(n[be],Vt),this.location=ao(this._tNode,n),this.instance=Cn(this._tNode.index,n)[At],this.hostView=this.changeDetectorRef=new Vr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=vp(r,i[be],i,t,n);this.previousInputValues.set(t,n);let s=Cn(r.index,i);wp(s,1)}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};wi=(()=>{class e{static __NG_ELEMENT_ID__=sE}return e})();aE=wi,Xy=class extends aE{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let t=ip(this._hostTNode,this._hostLView);if(X0(t)){let n=Wc(t,this._hostLView),r=zc(t),i=n[be].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=L0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=k0(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,S0(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!BC(t),u;if(c)u=n;else{let C=n||{};u=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let l=c?t:new bs(ai(t)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(c?d:this.parentInjector).get(Wt,null);_&&(o=_)}let p=ai(l.componentType??{}),f=k0(this._lContainer,p?.id??null),h=f?.firstChild??null,I=l.create(d,i,h,o,s,a);return this.insertImpl(I.hostView,u,S0(this._hostTNode,f)),I}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(Wv(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ct],u=new Xy(c,c[Dn],c[Ct]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Nw(s,i,o,r),t.attachToViewContainerRef(),jd(If(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=L0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Lf(this._lContainer,n);r&&(ns(If(this._lContainer),n),Ny(r[be],r))}detach(t){let n=this._adjustIndex(t,-1),r=Lf(this._lContainer,n);return r&&ns(If(this._lContainer),n)!=null?new Vr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};uE=fE,lE=()=>!1;Hf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},$f=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)kp(t,n).matches!==null&&this.queries[n].setDirty()}},qf=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=_E(t):this.predicate=t}},zf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Wf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,pE(n,o)),this.matchTNodeWithReadOption(t,n,Hc(n,t,o,!1,!1))}else r===jr?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Hc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vn||i===wi||i===jr&&n.type&4)this.addMatch(n.index,-2);else{let o=Hc(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};V0=new Set;ws=class{},Es=class extends ws{injector;componentFactoryResolver=new Gf(this);instance=null;constructor(t){super();let n=new ni([...t.providers,{provide:ws,useValue:this},{provide:Ci,useValue:this.componentFactoryResolver}],t.parent||os(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};bE=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Hd(!1,n.type),i=r.length>0?nD([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ke({token:e,providedIn:"environment",factory:()=>new e(Se(Wt))})}return e})();LE=VE;Np=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Np||{}),xs=new ve(""),oD=!1,Jf=class extends gn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Hv()&&(this.destroyRef=De(gs,{optional:!0})??void 0,this.pendingTasks=De(gi,{optional:!0})??void 0)}emit(t){let n=Me(null);try{super.next(t)}finally{Me(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ft&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},en=Jf;Ap="isAngularZone",eu=Ap+"_ID",jE=0,it=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new en(!1);onMicrotaskEmpty=new en(!1);onStable=new en(!1);onError=new en(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=oD}=t;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,GE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ap)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new de(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,UE,vs,vs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},UE={};tu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new en;onMicrotaskEmpty=new en;onStable=new en;onError=new en;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};cD=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}return e})();Op=new ve("");uD=new ve(""),Fp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=De(uD,{optional:!0})??[];injector=De(zn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Yi(this.injector,i);if(Mi(o))n.push(o);else if(hu(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lD=new ve("");qE=10,Si=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=De(On);afterRenderManager=De(cD);zonelessEnabled=De(ms);rootEffectScheduler=De(mf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new gn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=De(gi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(gt(n=>!n))}constructor(){De(xs,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=De(Wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=zn.NULL){return this._injector.get(it).run(()=>{Je(10);let s=n instanceof fu;if(!this._injector.get(Fp).done){let h="";throw new de(405,h)}let c;s?c=n:c=this._injector.get(Ci).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=fD(c)?void 0:this._injector.get(ws),l=r||c.selector,d=c.create(i,[],l,u),p=d.location.nativeElement,f=d.injector.get(Op,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),_s(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),Je(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Np.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new de(101,!1);let n=Me(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(n),this.afterTick.next(),Je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Di,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<qE;)Je(14),this.synchronizeOnce(),Je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!eo(i))continue;let o=r&&!this.zonelessEnabled?0:1;bp(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>eo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_s(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(lD,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_s(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new de(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();zE=(e,t,n,r,i,o)=>(hs(!0),by(r,i,h0()));ZE=(e,t,n,r)=>(hs(!0),Lb(t[rt],""));mi=void 0;YE=["en",[["a","p"],["AM","PM"],mi],[["AM","PM"],mi,mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mi,"{1} 'at' {0}",mi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",JE],bf={};ot=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ot||{});ks="en-US",KE=ks;hM=(e,t,n,r,i)=>(hs(!0),Ob(t[rt],r));bM=(()=>{class e{zone=De(it);changeDetectionScheduler=De(Zn);applicationRef=De(Si);applicationErrorHandler=De(On);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_D=new ve("",{factory:()=>!1});wM=(()=>{class e{subscription=new Ft;initialized=!1;zone=De(it);pendingTasks=De(gi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ID=(()=>{class e{applicationErrorHandler=De(On);appRef=De(Si);taskService=De(gi);ngZone=De(it);zonelessEnabled=De(ms);tracing=De(xs,{optional:!0});disableScheduling=De(hf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ft;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(eu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(De(gf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?U0:sD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(eu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,U0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();Ns=new ve("",{providedIn:"root",factory:()=>De(Ns,{optional:!0,skipSelf:!0})||EM()})});function jn(e){return Ev(e)}function As(e,t){return Ra(e,t?.equal)}var CD,bD=L(()=>{"use strict";Gi();Mv();CD=class{[zt];constructor(t){this[zt]=t}destroy(){this[zt].destroy()}}});function Rs(e){return!e.moduleRef}function jM(e){let t=Rs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(it);return n.run(()=>{Rs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(On),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Rs(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Gp);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Gp);s.add(o),e.moduleRef.onDestroy(()=>{_s(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return BM(r,n,()=>{let o=t.get(Fp);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Ns,ks);if(pD(s||ks),!t.get(VM,!0))return Rs(e)?t.get(Si):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Rs(e)){let c=t.get(Si);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return UM?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function BM(e,t,n){try{let r=n();return Mi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}function GM(e=[],t){return zn.create({name:t,providers:[{provide:is,useValue:"platform"},{provide:Gp,useValue:new Set([()=>gu=null])},...e]})}function HM(e=[]){if(gu)return gu;let t=GM(e);return gu=t,dD(),$M(t),t}function $M(e){let t=e.get(ou,null);Yi(e,()=>{t?.forEach(n=>n())})}function qM(e){return zM(Ut(),Ue(),(e&16)===16)}function zM(e,t,n){if(Or(e)&&!n){let r=Cn(e.index,t);return new Vr(r,r)}else if(e.type&175){let r=t[_n];return new Vr(r,t)}return null}function wD(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function ED(){return new Yp([new Hp])}function MD(){return new yu([new Wp])}function SD(e){Je(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=HM(r),o=[Vp({}),{provide:Zn,useExisting:ID},v0,...n||[]],s=new Es({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return jM({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Je(9)}}function TD(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var LM,Gp,VM,UM,gu,vu,Hp,WM,$p,qp,zp,mu,Wp,Zp,Jp,Yp,yu,qe=L(()=>{"use strict";Vc();Vc();Bp();Bp();bD();LM=new ve("");LM.__NG_ELEMENT_ID__=e=>{let t=Ut();if(t===null)throw new de(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new de(204,!1)};Gp=new ve(""),VM=new ve("");gu=null;vu=(()=>{class e{static __NG_ELEMENT_ID__=qM}return e})();Hp=class{constructor(){}supports(t){return xp(t)}create(t){return new $p(t)}},WM=(e,t)=>t,$p=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||WM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<wD(r,i,o)?n:r,a=wD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let p=0;p<u;p++){let f=p<o.length?o[p]:o[p]=0,h=f+p;l<=h&&h<u&&(o[p]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!xp(t))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Yy(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new qp(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new mu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new mu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},qp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},zp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},mu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new zp,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};Wp=class{constructor(){}supports(t){return t instanceof Map||pu(t)}create(){return new Zp}},Zp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||pu(t)))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Jp(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},Jp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};Yp=(()=>{class e{factories;static \u0275prov=ke({token:e,providedIn:"root",factory:ED});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ED()),deps:[[e,new np,new tp]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new de(901,!1)}}return e})();yu=(()=>{class e{static \u0275prov=ke({token:e,providedIn:"root",factory:MD});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||MD()),deps:[[e,new np,new tp]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new de(901,!1)}}return e})();});function Os(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var ki,Qp=L(()=>{"use strict";ki=class{}});function ZM(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}function xD(e){return encodeURIComponent(e).replace(JM,(t,n)=>YM[n]??t)}function Du(e){return`${e}`}function QM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function PD(e){return typeof Blob<"u"&&e instanceof Blob}function ND(e){return typeof FormData<"u"&&e instanceof FormData}function KM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function Kp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive}}function rS(e,t){return t(e)}function iS(e,t,n){return(r,i)=>Yi(n,()=>t(r,o=>e(o,i)))}function aS(e){return"responseURL"in e&&e.responseURL?e.responseURL:sS.test(e.getAllResponseHeaders())?e.getResponseHeader(OD):null}function pS(e,t){let n=e.url.toLowerCase();if(!De(BD)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=De(js).getToken(),i=De(dS);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function eh(...e){let t=[wu,Xp,bu,{provide:_o,useExisting:bu},{provide:Fs,useFactory:()=>De(nS,{optional:!0})??De(Xp)},{provide:VD,useValue:pS,multi:!0},{provide:BD,useValue:!0},{provide:js,useClass:fS}];for(let n of e)t.push(...n.\u0275providers);return rs(t)}var _o,Fs,Br,_u,JM,YM,yr,Iu,AD,RD,OD,FD,LD,XM,Do,Pi,Io,Cu,Ls,Vs,eS,tS,wu,nS,VD,jD,UD,bu,oS,sS,Xp,BD,cS,uS,lS,dS,js,fS,th=L(()=>{"use strict";qe();qe();ys();vn();Qp();_o=class{},Fs=class{},Br=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}},_u=class{encodeKey(t){return xD(t)}encodeValue(t){return xD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};JM=/%(\d[a-f0-9])/gi,YM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};yr=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new _u,t.fromString){if(t.fromObject)throw new de(2805,!1);this.map=ZM(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Du):[Du(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Du(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Du(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}},Iu=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};AD="Content-Type",RD="Accept",OD="X-Request-URL",FD="text/plain",LD="application/json",XM=`${LD}, ${FD}, */*`,Do=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(QM(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Br,this.context??=new Iu,!this.params)this.params=new yr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kD(this.body)||PD(this.body)||ND(this.body)||KM(this.body)?this.body:this.body instanceof yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ND(this.body)?null:PD(this.body)?this.body.type||null:kD(this.body)?null:typeof this.body=="string"?FD:this.body instanceof yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?LD:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),d)),new e(n,r,a,{params:d,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:s,keepalive:o})}},Pi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Pi||{}),Io=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Br,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Cu=class e extends Io{constructor(t={}){super(t)}type=Pi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ls=class e extends Io{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Pi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Vs=class extends Io{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},eS=200,tS=204;wu=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Do)o=n;else{let c;i.headers instanceof Br?c=i.headers:c=new Br(i.headers);let u;i.params&&(i.params instanceof yr?u=i.params:u=new yr({fromObject:i.params})),o=new Do(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=uc(o).pipe(hd(c=>this.handler.handle(c)));if(n instanceof Do||i.observe==="events")return s;let a=s.pipe(xr(c=>c instanceof Ls));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(gt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new de(2806,!1);return c.body}));case"blob":return a.pipe(gt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new de(2807,!1);return c.body}));case"text":return a.pipe(gt(c=>{if(c.body!==null&&typeof c.body!="string")throw new de(2808,!1);return c.body}));case"json":default:return a.pipe(gt(c=>c.body))}case"response":return a;default:throw new de(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new yr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Kp(i,r))}post(n,r,i={}){return this.request("POST",n,Kp(i,r))}put(n,r,i={}){return this.request("PUT",n,Kp(i,r))}static \u0275fac=function(r){return new(r||e)(Se(_o))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),nS=new ve("");VD=new ve(""),jD=new ve(""),UD=new ve("",{providedIn:"root",factory:()=>!0}),bu=(()=>{class e extends _o{backend;injector;chain=null;pendingTasks=De(Lc);contributeToStability=De(UD);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(VD),...this.injector.get(jD,[])]));this.chain=r.reduceRight((i,o)=>iS(i,o,this.injector),rS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(md(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(Se(Fs),Se(Wt))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),oS=/^\)\]\}',?\n/,sS=RegExp(`^${OD}:`,"m");Xp=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new de(-2800,!1);n.keepalive;let r=this.xhrFactory;return uc(null).pipe(Ko(()=>new Ze(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((I,C)=>s.setRequestHeader(I,C.join(","))),n.headers.has(RD)||s.setRequestHeader(RD,XM),!n.headers.has(AD)){let I=n.detectContentTypeHeader();I!==null&&s.setRequestHeader(AD,I)}if(n.responseType){let I=n.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let I=s.statusText||"OK",C=new Br(s.getAllResponseHeaders()),_=aS(s)||n.url;return c=new Cu({headers:C,status:s.status,statusText:I,url:_}),c},l=()=>{let{headers:I,status:C,statusText:_,url:y}=u(),g=null;C!==tS&&(g=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=g?eS:0);let m=C>=200&&C<300;if(n.responseType==="json"&&typeof g=="string"){let D=g;g=g.replace(oS,"");try{g=g!==""?JSON.parse(g):null}catch(v){g=D,m&&(m=!1,g={error:v,text:g})}}m?(o.next(new Ls({body:g,headers:I,status:C,statusText:_,url:y||void 0})),o.complete()):o.error(new Vs({error:g,headers:I,status:C,statusText:_,url:y||void 0}))},d=I=>{let{url:C}=u(),_=new Vs({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(_)},p=!1,f=I=>{p||(o.next(u()),p=!0);let C={type:Pi.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(C.total=I.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},h=I=>{let C={type:Pi.UploadProgress,loaded:I.loaded};I.lengthComputable&&(C.total=I.total),o.next(C)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(a),o.next({type:Pi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(Se(ki))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),BD=new ve(""),cS="XSRF-TOKEN",uS=new ve("",{providedIn:"root",factory:()=>cS}),lS="X-XSRF-TOKEN",dS=new ve("",{providedIn:"root",factory:()=>lS}),js=class{},fS=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Os(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(Se(Xt),Se(uS))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})()});var nh=L(()=>{"use strict";th();th();});var nr,Us=L(()=>{"use strict";gm();Sr();Go();ya();Da();qe();nh();nr=class e{constructor(t){this.http=t}getAdminToken(){return ce(this,null,function*(){let t="openim_admin_token",r="openim_admin_token_expiration",i=new Date().getTime(),o=localStorage.getItem(t),s=localStorage.getItem(r);if(o&&s&&parseInt(s,10)>i+3e5)return o;let a=hn.ToUrl("/auth/get_admin_token"),c={secret:Mt.secret,userID:Mt.adminId};return this.callApi(a,c,!1).then(u=>{if(Pn.IsSuccess(u)){let{token:l,expireTimeSeconds:d}=u.Object,p=i+d*1e3;return localStorage.setItem(r,p.toString()),localStorage.setItem(t,l),l}return null})})}userRegister(t){return ce(this,null,function*(){let n=hn.ToUrl("/user/user_register"),r={secret:Mt.secret,users:[{userId:t.userID,gender:t.gender,faceURL:t.faceURL,nickname:t.userID,ex:JSON.stringify({type:t.type,email:t.email,phone:t.phone})}]};return yield this.callApi(n,r)})}updateUserInfo(t){return ce(this,null,function*(){let n=hn.ToUrl("/user/update_user_info_ex"),r={userInfo:{userID:t.userID,gender:t.gender,faceURL:t.faceURL,nickname:t.userID,ex:JSON.stringify({type:t.type,email:t.email,phone:t.phone})}};return yield this.callApi(n,r)})}getUserToken(t){return ce(this,null,function*(){let r="openim_"+t+"_token",i="openim_"+t+"_token_expiration",o=new Date().getTime(),s=hn.ToUrl("/auth/get_user_token"),a={userID:t,platformID:Mt.platformId};return this.callApi(s,a).then(c=>ce(this,null,function*(){if(Pn.IsSuccess(c)){let{token:u,expireTimeSeconds:l}=c.Object,d=o+l*1e3;return localStorage.setItem(i,d.toString()),localStorage.setItem(r,u),u}return null}))})}getJoinedRooms(t){return ce(this,null,function*(){let n=hn.ToUrl("/group/get_joined_group_list"),r={fromUserID:t,pagination:{pageNumber:1,showNumber:100}};return yield this.callApi(n,r).then(o=>{if(Pn.IsSuccess(o)){let s=o.Object.groups;return s&&s.length>0&&s.forEach(a=>{a.introduction||(a.introduction="open"),a.symbol=a.ex?JSON.parse(a.ex).symbol:a.groupName.substring(0,2),a.bgColor=a.ex?JSON.parse(a.ex).bgColor:Ge.getRandomDarkColor()}),s}return null})})}getUserInfos(t){return ce(this,null,function*(){let n=hn.ToUrl("/user/get_users_info"),r={userIDs:t};return yield this.callApi(n,r).then(o=>{if(Pn.IsSuccess(o)){let s=o.Object.usersInfo;return s&&s.length>0&&s.forEach(a=>{a.email=a.ex?JSON.parse(a.ex).email:"",a.phone=a.ex?JSON.parse(a.ex).phone:"",a.type=a.ex?JSON.parse(a.ex).type:"customer"}),s}return null})})}createRoom(t){return ce(this,null,function*(){let n=t.ownerUserID.substring(0,1),r=t.memberUserIDs[0].substring(0,1),i=hn.ToUrl("/group/create_group"),o={ownerUserID:t.ownerUserID,memberUserIDs:t.memberUserIDs,adminUserIDs:[Mt.adminId],groupInfo:{groupType:2,lookMemberInfo:1,needVerification:0,applyMemberFriend:1,introduction:"open",groupName:t.groupName,ex:JSON.stringify({bgColor:t.bgColor,symbol:n+r}),groupID:"RO_"+Ge.createUniqueId()}};return yield this.callApi(i,o)})}getUsers(t=1e3){return ce(this,null,function*(){let n=hn.ToUrl("/user/get_users"),r={pagination:{pageNumber:1,showNumber:t}};return yield this.callApi(n,r).then(o=>{if(Pn.IsSuccess(o)){let s=o.Object.users;return s&&s.length>0&&s.forEach(a=>{a.email=a.ex?JSON.parse(a.ex).email:"",a.phone=a.ex?JSON.parse(a.ex).phone:"",a.type=a.ex?JSON.parse(a.ex).type:"customer"}),s}return null})})}getOnlineUsers(t){return ce(this,null,function*(){let n=hn.ToUrl("/user/get_users_online_status"),r={userIDs:t};return yield this.callApi(n,r).then(o=>Pn.IsSuccess(o)?o.Object.users:null)})}callApi(t,n,r=!0){return ce(this,null,function*(){n||(n={});let i={operationID:Ge.createUniqueId()};return r&&(i.token=yield this.getAdminToken()),yield this.http.post(t,n,{headers:i}).toPromise().then(o=>Pn.ToEntity(o)).catch(o=>ce(this,null,function*(){return Pn.ToException(o)}))})}static \u0275fac=function(n){return new(n||e)(Se(wu))};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}});var $D=gl((HD,Eu)=>{"use strict";(function(e,t){"use strict";typeof define=="function"&&define.amd?define(t):typeof Eu=="object"&&Eu.exports?Eu.exports=t():e.log=t()})(HD,function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},o=null;function s(h,I){var C=h[I];if(typeof C.bind=="function")return C.bind(h);try{return Function.prototype.bind.call(C,h)}catch{return function(){return Function.prototype.apply.apply(C,[h,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(h){return h==="debug"&&(h="log"),typeof console===t?!1:h==="trace"&&n?a:console[h]!==void 0?s(console,h):console.log!==void 0?s(console,"log"):e}function u(){for(var h=this.getLevel(),I=0;I<r.length;I++){var C=r[I];this[C]=I<h?e:this.methodFactory(C,h,this.name)}if(this.log=this.debug,typeof console===t&&h<this.levels.SILENT)return"No console available for logging"}function l(h){return function(){typeof console!==t&&(u.call(this),this[h].apply(this,arguments))}}function d(h,I,C){return c(h)||l.apply(this,arguments)}function p(h,I){var C=this,_,y,g,m="loglevel";typeof h=="string"?m+=":"+h:typeof h=="symbol"&&(m=void 0);function D(N){var V=(r[N]||"silent").toUpperCase();if(!(typeof window===t||!m)){try{window.localStorage[m]=V;return}catch{}try{window.document.cookie=encodeURIComponent(m)+"="+V+";"}catch{}}}function v(){var N;if(!(typeof window===t||!m)){try{N=window.localStorage[m]}catch{}if(typeof N===t)try{var V=window.document.cookie,j=encodeURIComponent(m),z=V.indexOf(j+"=");z!==-1&&(N=/^([^;]+)/.exec(V.slice(z+j.length+1))[1])}catch{}return C.levels[N]===void 0&&(N=void 0),N}}function S(){if(!(typeof window===t||!m)){try{window.localStorage.removeItem(m)}catch{}try{window.document.cookie=encodeURIComponent(m)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function M(N){var V=N;if(typeof V=="string"&&C.levels[V.toUpperCase()]!==void 0&&(V=C.levels[V.toUpperCase()]),typeof V=="number"&&V>=0&&V<=C.levels.SILENT)return V;throw new TypeError("log.setLevel() called with invalid level: "+N)}C.name=h,C.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},C.methodFactory=I||d,C.getLevel=function(){return g??y??_},C.setLevel=function(N,V){return g=M(N),V!==!1&&D(g),u.call(C)},C.setDefaultLevel=function(N){y=M(N),v()||C.setLevel(N,!1)},C.resetLevel=function(){g=null,S(),u.call(C)},C.enableAll=function(N){C.setLevel(C.levels.TRACE,N)},C.disableAll=function(N){C.setLevel(C.levels.SILENT,N)},C.rebuild=function(){if(o!==C&&(_=M(o.getLevel())),u.call(C),o===C)for(var N in i)i[N].rebuild()},_=M(o?o.getLevel():"WARN");var O=v();O!=null&&(g=M(O)),u.call(C)}o=new p,o.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var C=i[I];return C||(C=i[I]=new p(I,o.methodFactory)),C};var f=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=f),o},o.getLoggers=function(){return i},o.default=o,o})});var WD=gl((qD,zD)=>{"use strict";(function(e){if(typeof qD=="object")zD.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}})(function(e){"use strict";var t=function(_,y){return _+y&4294967295},n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(_,y,g,m,D,v){return y=t(t(y,_),t(m,v)),t(y<<D|y>>>32-D,g)}function i(_,y){var g=_[0],m=_[1],D=_[2],v=_[3];g+=(m&D|~m&v)+y[0]-680876936|0,g=(g<<7|g>>>25)+m|0,v+=(g&m|~g&D)+y[1]-389564586|0,v=(v<<12|v>>>20)+g|0,D+=(v&g|~v&m)+y[2]+606105819|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&g)+y[3]-1044525330|0,m=(m<<22|m>>>10)+D|0,g+=(m&D|~m&v)+y[4]-176418897|0,g=(g<<7|g>>>25)+m|0,v+=(g&m|~g&D)+y[5]+1200080426|0,v=(v<<12|v>>>20)+g|0,D+=(v&g|~v&m)+y[6]-1473231341|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&g)+y[7]-45705983|0,m=(m<<22|m>>>10)+D|0,g+=(m&D|~m&v)+y[8]+1770035416|0,g=(g<<7|g>>>25)+m|0,v+=(g&m|~g&D)+y[9]-1958414417|0,v=(v<<12|v>>>20)+g|0,D+=(v&g|~v&m)+y[10]-42063|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&g)+y[11]-1990404162|0,m=(m<<22|m>>>10)+D|0,g+=(m&D|~m&v)+y[12]+1804603682|0,g=(g<<7|g>>>25)+m|0,v+=(g&m|~g&D)+y[13]-40341101|0,v=(v<<12|v>>>20)+g|0,D+=(v&g|~v&m)+y[14]-1502002290|0,D=(D<<17|D>>>15)+v|0,m+=(D&v|~D&g)+y[15]+1236535329|0,m=(m<<22|m>>>10)+D|0,g+=(m&v|D&~v)+y[1]-165796510|0,g=(g<<5|g>>>27)+m|0,v+=(g&D|m&~D)+y[6]-1069501632|0,v=(v<<9|v>>>23)+g|0,D+=(v&m|g&~m)+y[11]+643717713|0,D=(D<<14|D>>>18)+v|0,m+=(D&g|v&~g)+y[0]-373897302|0,m=(m<<20|m>>>12)+D|0,g+=(m&v|D&~v)+y[5]-701558691|0,g=(g<<5|g>>>27)+m|0,v+=(g&D|m&~D)+y[10]+38016083|0,v=(v<<9|v>>>23)+g|0,D+=(v&m|g&~m)+y[15]-660478335|0,D=(D<<14|D>>>18)+v|0,m+=(D&g|v&~g)+y[4]-405537848|0,m=(m<<20|m>>>12)+D|0,g+=(m&v|D&~v)+y[9]+568446438|0,g=(g<<5|g>>>27)+m|0,v+=(g&D|m&~D)+y[14]-1019803690|0,v=(v<<9|v>>>23)+g|0,D+=(v&m|g&~m)+y[3]-187363961|0,D=(D<<14|D>>>18)+v|0,m+=(D&g|v&~g)+y[8]+1163531501|0,m=(m<<20|m>>>12)+D|0,g+=(m&v|D&~v)+y[13]-1444681467|0,g=(g<<5|g>>>27)+m|0,v+=(g&D|m&~D)+y[2]-51403784|0,v=(v<<9|v>>>23)+g|0,D+=(v&m|g&~m)+y[7]+1735328473|0,D=(D<<14|D>>>18)+v|0,m+=(D&g|v&~g)+y[12]-1926607734|0,m=(m<<20|m>>>12)+D|0,g+=(m^D^v)+y[5]-378558|0,g=(g<<4|g>>>28)+m|0,v+=(g^m^D)+y[8]-2022574463|0,v=(v<<11|v>>>21)+g|0,D+=(v^g^m)+y[11]+1839030562|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^g)+y[14]-35309556|0,m=(m<<23|m>>>9)+D|0,g+=(m^D^v)+y[1]-1530992060|0,g=(g<<4|g>>>28)+m|0,v+=(g^m^D)+y[4]+1272893353|0,v=(v<<11|v>>>21)+g|0,D+=(v^g^m)+y[7]-155497632|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^g)+y[10]-1094730640|0,m=(m<<23|m>>>9)+D|0,g+=(m^D^v)+y[13]+681279174|0,g=(g<<4|g>>>28)+m|0,v+=(g^m^D)+y[0]-358537222|0,v=(v<<11|v>>>21)+g|0,D+=(v^g^m)+y[3]-722521979|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^g)+y[6]+76029189|0,m=(m<<23|m>>>9)+D|0,g+=(m^D^v)+y[9]-640364487|0,g=(g<<4|g>>>28)+m|0,v+=(g^m^D)+y[12]-421815835|0,v=(v<<11|v>>>21)+g|0,D+=(v^g^m)+y[15]+530742520|0,D=(D<<16|D>>>16)+v|0,m+=(D^v^g)+y[2]-995338651|0,m=(m<<23|m>>>9)+D|0,g+=(D^(m|~v))+y[0]-198630844|0,g=(g<<6|g>>>26)+m|0,v+=(m^(g|~D))+y[7]+1126891415|0,v=(v<<10|v>>>22)+g|0,D+=(g^(v|~m))+y[14]-1416354905|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~g))+y[5]-57434055|0,m=(m<<21|m>>>11)+D|0,g+=(D^(m|~v))+y[12]+1700485571|0,g=(g<<6|g>>>26)+m|0,v+=(m^(g|~D))+y[3]-1894986606|0,v=(v<<10|v>>>22)+g|0,D+=(g^(v|~m))+y[10]-1051523|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~g))+y[1]-2054922799|0,m=(m<<21|m>>>11)+D|0,g+=(D^(m|~v))+y[8]+1873313359|0,g=(g<<6|g>>>26)+m|0,v+=(m^(g|~D))+y[15]-30611744|0,v=(v<<10|v>>>22)+g|0,D+=(g^(v|~m))+y[6]-1560198380|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~g))+y[13]+1309151649|0,m=(m<<21|m>>>11)+D|0,g+=(D^(m|~v))+y[4]-145523070|0,g=(g<<6|g>>>26)+m|0,v+=(m^(g|~D))+y[11]-1120210379|0,v=(v<<10|v>>>22)+g|0,D+=(g^(v|~m))+y[2]+718787259|0,D=(D<<15|D>>>17)+v|0,m+=(v^(D|~g))+y[9]-343485551|0,m=(m<<21|m>>>11)+D|0,_[0]=g+_[0]|0,_[1]=m+_[1]|0,_[2]=D+_[2]|0,_[3]=v+_[3]|0}function o(_){var y=[],g;for(g=0;g<64;g+=4)y[g>>2]=_.charCodeAt(g)+(_.charCodeAt(g+1)<<8)+(_.charCodeAt(g+2)<<16)+(_.charCodeAt(g+3)<<24);return y}function s(_){var y=[],g;for(g=0;g<64;g+=4)y[g>>2]=_[g]+(_[g+1]<<8)+(_[g+2]<<16)+(_[g+3]<<24);return y}function a(_){var y=_.length,g=[1732584193,-271733879,-1732584194,271733878],m,D,v,S,M,O;for(m=64;m<=y;m+=64)i(g,o(_.substring(m-64,m)));for(_=_.substring(m-64),D=_.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0;m<D;m+=1)v[m>>2]|=_.charCodeAt(m)<<(m%4<<3);if(v[m>>2]|=128<<(m%4<<3),m>55)for(i(g,v),m=0;m<16;m+=1)v[m]=0;return S=y*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(S[2],16),O=parseInt(S[1],16)||0,v[14]=M,v[15]=O,i(g,v),g}function c(_){var y=_.length,g=[1732584193,-271733879,-1732584194,271733878],m,D,v,S,M,O;for(m=64;m<=y;m+=64)i(g,s(_.subarray(m-64,m)));for(_=m-64<y?_.subarray(m-64):new Uint8Array(0),D=_.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0;m<D;m+=1)v[m>>2]|=_[m]<<(m%4<<3);if(v[m>>2]|=128<<(m%4<<3),m>55)for(i(g,v),m=0;m<16;m+=1)v[m]=0;return S=y*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(S[2],16),O=parseInt(S[1],16)||0,v[14]=M,v[15]=O,i(g,v),g}function u(_){var y="",g;for(g=0;g<4;g+=1)y+=n[_>>g*8+4&15]+n[_>>g*8&15];return y}function l(_){var y;for(y=0;y<_.length;y+=1)_[y]=u(_[y]);return _.join("")}l(a("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(t=function(_,y){var g=(_&65535)+(y&65535),m=(_>>16)+(y>>16)+(g>>16);return m<<16|g&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function _(y,g){return y=y|0||0,y<0?Math.max(y+g,0):Math.min(y,g)}ArrayBuffer.prototype.slice=function(y,g){var m=this.byteLength,D=_(y,m),v=m,S,M,O,N;return g!==e&&(v=_(g,m)),D>v?new ArrayBuffer(0):(S=v-D,M=new ArrayBuffer(S),O=new Uint8Array(M),N=new Uint8Array(this,D,S),O.set(N),M)}}();function d(_){return/[\u0080-\uFFFF]/.test(_)&&(_=unescape(encodeURIComponent(_))),_}function p(_,y){var g=_.length,m=new ArrayBuffer(g),D=new Uint8Array(m),v;for(v=0;v<g;v+=1)D[v]=_.charCodeAt(v);return y?D:m}function f(_){return String.fromCharCode.apply(null,new Uint8Array(_))}function h(_,y,g){var m=new Uint8Array(_.byteLength+y.byteLength);return m.set(new Uint8Array(_)),m.set(new Uint8Array(y),_.byteLength),g?m:m.buffer}function I(_){var y=[],g=_.length,m;for(m=0;m<g-1;m+=2)y.push(parseInt(_.substr(m,2),16));return String.fromCharCode.apply(String,y)}function C(){this.reset()}return C.prototype.append=function(_){return this.appendBinary(d(_)),this},C.prototype.appendBinary=function(_){this._buff+=_,this._length+=_.length;var y=this._buff.length,g;for(g=64;g<=y;g+=64)i(this._hash,o(this._buff.substring(g-64,g)));return this._buff=this._buff.substring(g-64),this},C.prototype.end=function(_){var y=this._buff,g=y.length,m,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v;for(m=0;m<g;m+=1)D[m>>2]|=y.charCodeAt(m)<<(m%4<<3);return this._finish(D,g),v=l(this._hash),_&&(v=I(v)),this.reset(),v},C.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},C.prototype.setState=function(_){return this._buff=_.buff,this._length=_.length,this._hash=_.hash,this},C.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},C.prototype._finish=function(_,y){var g=y,m,D,v;if(_[g>>2]|=128<<(g%4<<3),g>55)for(i(this._hash,_),g=0;g<16;g+=1)_[g]=0;m=this._length*8,m=m.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(m[2],16),v=parseInt(m[1],16)||0,_[14]=D,_[15]=v,i(this._hash,_)},C.hash=function(_,y){return C.hashBinary(d(_),y)},C.hashBinary=function(_,y){var g=a(_),m=l(g);return y?I(m):m},C.ArrayBuffer=function(){this.reset()},C.ArrayBuffer.prototype.append=function(_){var y=h(this._buff.buffer,_,!0),g=y.length,m;for(this._length+=_.byteLength,m=64;m<=g;m+=64)i(this._hash,s(y.subarray(m-64,m)));return this._buff=m-64<g?new Uint8Array(y.buffer.slice(m-64)):new Uint8Array(0),this},C.ArrayBuffer.prototype.end=function(_){var y=this._buff,g=y.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D,v;for(D=0;D<g;D+=1)m[D>>2]|=y[D]<<(D%4<<3);return this._finish(m,g),v=l(this._hash),_&&(v=I(v)),this.reset(),v},C.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.ArrayBuffer.prototype.getState=function(){var _=C.prototype.getState.call(this);return _.buff=f(_.buff),_},C.ArrayBuffer.prototype.setState=function(_){return _.buff=p(_.buff,!0),C.prototype.setState.call(this,_)},C.ArrayBuffer.prototype.destroy=C.prototype.destroy,C.ArrayBuffer.prototype._finish=C.prototype._finish,C.ArrayBuffer.hash=function(_,y){var g=c(new Uint8Array(_)),m=l(g);return y?I(m):m},C})});var Co,Gs,Bs,ZD,JD,YD=L(()=>{"use strict";Co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Bs=0;Bs<Co.length;Bs++)Gs[Co.charCodeAt(Bs)]=Bs;ZD=function(e){var t=new Uint8Array(e),n,r=t.length,i="";for(n=0;n<r;n+=3)i+=Co[t[n]>>2],i+=Co[(t[n]&3)<<4|t[n+1]>>4],i+=Co[(t[n+1]&15)<<2|t[n+2]>>6],i+=Co[t[n+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i},JD=function(e){var t=e.length*.75,n=e.length,r,i=0,o,s,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=new ArrayBuffer(t),l=new Uint8Array(u);for(r=0;r<n;r+=4)o=Gs[e.charCodeAt(r)],s=Gs[e.charCodeAt(r+1)],a=Gs[e.charCodeAt(r+2)],c=Gs[e.charCodeAt(r+3)],l[i++]=o<<2|s>>4,l[i++]=(s&15)<<4|a>>2,l[i++]=(a&3)<<6|c&63;return u}});function XD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function mt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(i,o){if(i){if(typeof i=="string")return XD(i,o);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?XD(i,o):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gS(){for(var e=0,t=0,n=0;n<28;n+=7){var r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}var i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,!(128&i))return this.assertBounds(),[e,t];for(var o=3;o<=31;o+=7){var s=this.buf[this.pos++];if(t|=(127&s)<<o,!(128&s))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function ih(e,t,n){for(var r=0;r<28;r+=7){var i=e>>>r,o=!(!(i>>>7)&&t==0);if(n.push(255&(o?128|i:i)),!o)return}var s=e>>>28&15|(7&t)<<4,a=!!(t>>3);if(n.push(255&(a?128|s:s)),a){for(var c=3;c<31;c+=7){var u=t>>>c,l=!!(u>>>7);if(n.push(255&(l?128|u:u)),!l)return}n.push(t>>>31&1)}}function e1(e){var t=e[0]==="-";t&&(e=e.slice(1));var n=1e6,r=0,i=0;function o(s,a){var c=Number(e.slice(s,a));i*=n,(r=r*n+c)>=Su&&(i+=r/Su|0,r%=Su)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?c1(r,i):Hh(r,i)}function t1(e,t){var n=function(u,l){return{lo:u>>>0,hi:l>>>0}}(e,t);if(e=n.lo,(t=n.hi)<=2097151)return String(Su*t+e);var r=16777215&(e>>>24|t<<8),i=t>>16&65535,o=(16777215&e)+6777216*r+6710656*i,s=r+8147497*i,a=2*i,c=1e7;return o>=c&&(s+=Math.floor(o/c),o%=c),s>=c&&(a+=Math.floor(s/c),s%=c),a.toString()+n1(s)+n1(o)}function Hh(e,t){return{lo:0|e,hi:0|t}}function c1(e,t){return t=~t,e?e=1+~e:t+=1,Hh(e,t)}function r1(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(var n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function mS(){var e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<7,!(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<14,!(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<21,!(128&e))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(var n=5;128&e&&n<10;n++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function vS(){var e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){var t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),i=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse:function(o){var s=typeof o=="bigint"?o:BigInt(o);if(s>n||s<t)throw new Error("invalid int64: "+o);return s},uParse:function(o){var s=typeof o=="bigint"?o:BigInt(o);if(s>i||s<r)throw new Error("invalid uint64: "+o);return s},enc:function(o){return e.setBigInt64(0,this.parse(o),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc:function(o){return e.setBigInt64(0,this.uParse(o),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:function(o,s){return e.setInt32(0,o,!0),e.setInt32(4,s,!0),e.getBigInt64(0,!0)},uDec:function(o,s){return e.setInt32(0,o,!0),e.setInt32(4,s,!0),e.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse:function(o){return typeof o!="string"&&(o=o.toString()),i1(o),o},uParse:function(o){return typeof o!="string"&&(o=o.toString()),o1(o),o},enc:function(o){return typeof o!="string"&&(o=o.toString()),i1(o),e1(o)},uEnc:function(o){return typeof o!="string"&&(o=o.toString()),o1(o),e1(o)},dec:function(o,s){return function(a,c){var u=Hh(a,c),l=2147483648&u.hi;l&&(u=c1(u.lo,u.hi));var d=t1(u.lo,u.hi);return l?"-"+d:d}(o,s)},uDec:function(o,s){return t1(o,s)}}}function i1(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function o1(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}function u1(){if(globalThis[oh]==null){var e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[oh]={encodeUtf8:function(n){return e.encode(n)},decodeUtf8:function(n){return t.decode(n)},checkUtf8:function(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[oh]}function sh(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int32: "+e)}function s1(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint32: "+e)}function $e(e){var t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}var Mu,QD,KD,ah,a1,Su,n1,wn,Gr,oh,oe,A,Gt,ch,Hs,uh,yS,lh,dh,DS,_S,fh,ph,nn,IS,hh,gh,mh,CS,vh,yh,Dh,$s,qs,bS,wS,_h,ES,MS,Ih,Ch,SS,bh,wh,TS,Eh,Mh,Sh,Th,xh,kh,Ph,Nh,Ah,xS,Rh,Oh,Fh,Lh,Vh,jh,Uh,Ht,$t,Bh,Gh,kS,PS,st,l1=L(()=>{"use strict";Mu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:void 0,QD=function(){function e(){}return e.prototype.decode=function(t){if(!ArrayBuffer.isView(t)){var n=Object.prototype.toString.call(t);if(n!=="[object ArrayBuffer]"&&n!=="[object SharedArrayBuffer]"&&n!=="[object Object]")throw new TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");t=new Uint8Array(t)}for(var r=t,i=[],o=0,s=r.length;o<s;){var a=r[o],c=void 0;if(128&a){if((224&a)==192)c=(31&a)<<6|63&r[o+1],o+=2;else if((240&a)==224)c=(15&a)<<12|(63&r[o+1])<<6|63&r[o+2],o+=3;else{if((248&a)!=240){i.push(65533),o++;continue}c=(7&a)<<18|(63&r[o+1])<<12|(63&r[o+2])<<6|63&r[o+3],o+=4}if(c>65535){var u=c-65536;i.push(55296+(u>>10)),i.push(56320+(1023&u))}else i.push(c)}else i.push(a),o++}return String.fromCharCode.apply(String,i)},e}(),KD=function(){function e(){}return e.prototype.encode=function(t){for(var n=[],r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<t.length){var o=t.charCodeAt(r+1);o>=56320&&o<=57343&&(i=o-56320+(i-55296<<10)+65536,r++)}i<=127?n.push(i):i<=2047?(n.push(192|i>>6),n.push(128|63&i)):i<=65535?(n.push(224|i>>12),n.push(128|i>>6&63),n.push(128|63&i)):(n.push(240|i>>18),n.push(128|i>>12&63),n.push(128|i>>6&63),n.push(128|63&i))}return new Uint8Array(n)},e}(),Mu.TextDecoder||(Mu.TextDecoder=QD,Mu.TextEncoder=KD);(function(e){e[e.PullOrderAsc=0]="PullOrderAsc",e[e.PullOrderDesc=1]="PullOrderDesc",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ah||(ah={}));a1={__proto__:null,protobufPackage:"openim.sdkws",get PullOrder(){return ah}};Su=4294967296;n1=function(e){var t=String(e);return"0000000".slice(t.length)+t};wn=vS();oh=Symbol.for("@bufbuild/protobuf/text-encoding");(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Gr||(Gr={}));oe=function(){function e(n){n===void 0&&(n=u1().encodeUtf8),this.encodeUtf8=void 0,this.chunks=void 0,this.buf=void 0,this.stack=[],this.encodeUtf8=n,this.chunks=[],this.buf=[]}var t=e.prototype;return t.finish=function(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);for(var n=0,r=0;r<this.chunks.length;r++)n+=this.chunks[r].length;for(var i=new Uint8Array(n),o=0,s=0;s<this.chunks.length;s++)i.set(this.chunks[s],o),o+=this.chunks[s].length;return this.chunks=[],i},t.fork=function(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this},t.join=function(){var n=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(n.byteLength),this.raw(n)},t.tag=function(n,r){return this.uint32((n<<3|r)>>>0)},t.raw=function(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this},t.uint32=function(n){for(s1(n);n>127;)this.buf.push(127&n|128),n>>>=7;return this.buf.push(n),this},t.int32=function(n){return sh(n),r1(n,this.buf),this},t.bool=function(n){return this.buf.push(n?1:0),this},t.bytes=function(n){return this.uint32(n.byteLength),this.raw(n)},t.string=function(n){var r=this.encodeUtf8(n);return this.uint32(r.byteLength),this.raw(r)},t.float=function(n){(function(i){if(typeof i=="string"){var o=i;if(i=Number(i),isNaN(i)&&o!=="NaN")throw new Error("invalid float32: "+o)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>34028234663852886e22||i<-34028234663852886e22))throw new Error("invalid float32: "+i)})(n);var r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,n,!0),this.raw(r)},t.double=function(n){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,n,!0),this.raw(r)},t.fixed32=function(n){s1(n);var r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,n,!0),this.raw(r)},t.sfixed32=function(n){sh(n);var r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,n,!0),this.raw(r)},t.sint32=function(n){return sh(n),r1(n=(n<<1^n>>31)>>>0,this.buf),this},t.sfixed64=function(n){var r=new Uint8Array(8),i=new DataView(r.buffer),o=wn.enc(n);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(r)},t.fixed64=function(n){var r=new Uint8Array(8),i=new DataView(r.buffer),o=wn.uEnc(n);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(r)},t.int64=function(n){var r=wn.enc(n);return ih(r.lo,r.hi,this.buf),this},t.sint64=function(n){var r=wn.enc(n),i=r.hi>>31;return ih(r.lo<<1^i,(r.hi<<1|r.lo>>>31)^i,this.buf),this},t.uint64=function(n){var r=wn.uEnc(n);return ih(r.lo,r.hi,this.buf),this},e}(),A=function(){function e(n,r){r===void 0&&(r=u1().decodeUtf8),this.decodeUtf8=void 0,this.pos=void 0,this.len=void 0,this.buf=void 0,this.view=void 0,this.varint64=gS,this.uint32=mS,this.decodeUtf8=r,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength)}var t=e.prototype;return t.tag=function(){var n=this.uint32(),r=n>>>3,i=7&n;if(r<=0||i<0||i>5)throw new Error("illegal tag: field no "+r+" wire type "+i);return[r,i]},t.skip=function(n,r){var i=this.pos;switch(n){case Gr.Varint:for(;128&this.buf[this.pos++];);break;case Gr.Bit64:this.pos+=4;case Gr.Bit32:this.pos+=4;break;case Gr.LengthDelimited:var o=this.uint32();this.pos+=o;break;case Gr.StartGroup:for(;;){var s=this.tag(),a=s[0],c=s[1];if(c===Gr.EndGroup){if(r!==void 0&&a!==r)throw new Error("invalid end group tag");break}this.skip(c,a)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)},t.assertBounds=function(){if(this.pos>this.len)throw new RangeError("premature EOF")},t.int32=function(){return 0|this.uint32()},t.sint32=function(){var n=this.uint32();return n>>>1^-(1&n)},t.int64=function(){return wn.dec.apply(wn,this.varint64())},t.uint64=function(){return wn.uDec.apply(wn,this.varint64())},t.sint64=function(){var n=this.varint64(),r=n[0],i=n[1],o=-(1&r);return wn.dec(r=(r>>>1|(1&i)<<31)^o,i=i>>>1^o)},t.bool=function(){var n=this.varint64();return n[0]!==0||n[1]!==0},t.fixed32=function(){return this.view.getUint32((this.pos+=4)-4,!0)},t.sfixed32=function(){return this.view.getInt32((this.pos+=4)-4,!0)},t.fixed64=function(){return wn.uDec(this.sfixed32(),this.sfixed32())},t.sfixed64=function(){return wn.dec(this.sfixed32(),this.sfixed32())},t.float=function(){return this.view.getFloat32((this.pos+=4)-4,!0)},t.double=function(){return this.view.getFloat64((this.pos+=8)-8,!0)},t.bytes=function(){var n=this.uint32(),r=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(r,r+n)},t.string=function(){return this.decodeUtf8(this.bytes())},e}();Gt={encode:function(e,t){return t===void 0&&(t=new oe),e.title!==""&&t.uint32(10).string(e.title),e.desc!==""&&t.uint32(18).string(e.desc),e.ex!==""&&t.uint32(26).string(e.ex),e.iOSPushSound!==""&&t.uint32(34).string(e.iOSPushSound),e.iOSBadgeCount!==!1&&t.uint32(40).bool(e.iOSBadgeCount),e.signalInfo!==""&&t.uint32(50).string(e.signalInfo),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={title:"",desc:"",ex:"",iOSPushSound:"",iOSBadgeCount:!1,signalInfo:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.title=n.string();continue;case 2:if(o!==18)break;i.desc=n.string();continue;case 3:if(o!==26)break;i.ex=n.string();continue;case 4:if(o!==34)break;i.iOSPushSound=n.string();continue;case 5:if(o!==40)break;i.iOSBadgeCount=n.bool();continue;case 6:if(o!==50)break;i.signalInfo=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},ch={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==!1&&t.uint32(16).bool(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==16)break;i.value=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Hs={encode:function(e,t){t===void 0&&(t=new oe),e.sendID!==""&&t.uint32(10).string(e.sendID),e.recvID!==""&&t.uint32(18).string(e.recvID),e.groupID!==""&&t.uint32(26).string(e.groupID),e.clientMsgID!==""&&t.uint32(34).string(e.clientMsgID),e.serverMsgID!==""&&t.uint32(42).string(e.serverMsgID),e.senderPlatformID!==0&&t.uint32(48).int32(e.senderPlatformID),e.senderNickname!==""&&t.uint32(58).string(e.senderNickname),e.senderFaceURL!==""&&t.uint32(66).string(e.senderFaceURL),e.sessionType!==0&&t.uint32(72).int32(e.sessionType),e.msgFrom!==0&&t.uint32(80).int32(e.msgFrom),e.contentType!==0&&t.uint32(88).int32(e.contentType),e.content.length!==0&&t.uint32(98).bytes(e.content),e.seq!==0&&t.uint32(112).int64(e.seq),e.sendTime!==0&&t.uint32(120).int64(e.sendTime),e.createTime!==0&&t.uint32(128).int64(e.createTime),e.status!==0&&t.uint32(136).int32(e.status),e.isRead!==!1&&t.uint32(144).bool(e.isRead),Object.entries(e.options).forEach(function(c){ch.encode({key:c[0],value:c[1]},t.uint32(154).fork()).join()}),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(162).fork()).join();for(var n,r=mt(e.atUserIDList);!(n=r()).done;){var i=n.value;t.uint32(170).string(i)}e.attachedInfo!==""&&t.uint32(178).string(e.attachedInfo),e.ex!==""&&t.uint32(186).string(e.ex),e.keyVersion!==0&&t.uint32(320).int32(e.keyVersion);for(var o,s=mt(e.dstUserIDs);!(o=s()).done;){var a=o.value;t.uint32(330).string(a)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={sendID:"",recvID:"",groupID:"",clientMsgID:"",serverMsgID:"",senderPlatformID:0,senderNickname:"",senderFaceURL:"",sessionType:0,msgFrom:0,contentType:0,content:new Uint8Array(0),seq:0,sendTime:0,createTime:0,status:0,isRead:!1,options:{},offlinePushInfo:void 0,atUserIDList:[],attachedInfo:"",ex:"",keyVersion:0,dstUserIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.sendID=n.string();continue;case 2:if(o!==18)break;i.recvID=n.string();continue;case 3:if(o!==26)break;i.groupID=n.string();continue;case 4:if(o!==34)break;i.clientMsgID=n.string();continue;case 5:if(o!==42)break;i.serverMsgID=n.string();continue;case 6:if(o!==48)break;i.senderPlatformID=n.int32();continue;case 7:if(o!==58)break;i.senderNickname=n.string();continue;case 8:if(o!==66)break;i.senderFaceURL=n.string();continue;case 9:if(o!==72)break;i.sessionType=n.int32();continue;case 10:if(o!==80)break;i.msgFrom=n.int32();continue;case 11:if(o!==88)break;i.contentType=n.int32();continue;case 12:if(o!==98)break;i.content=n.bytes();continue;case 14:if(o!==112)break;i.seq=$e(n.int64());continue;case 15:if(o!==120)break;i.sendTime=$e(n.int64());continue;case 16:if(o!==128)break;i.createTime=$e(n.int64());continue;case 17:if(o!==136)break;i.status=n.int32();continue;case 18:if(o!==144)break;i.isRead=n.bool();continue;case 19:if(o!==154)break;var s=ch.decode(n,n.uint32());s.value!==void 0&&(i.options[s.key]=s.value);continue;case 20:if(o!==162)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 21:if(o!==170)break;i.atUserIDList.push(n.string());continue;case 22:if(o!==178)break;i.attachedInfo=n.string();continue;case 23:if(o!==186)break;i.ex=n.string();continue;case 40:if(o!==320)break;i.keyVersion=n.int32();continue;case 41:if(o!==330)break;i.dstUserIDs.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},uh={encode:function(e,t){return t===void 0&&(t=new oe),e.conversationID!==""&&t.uint32(10).string(e.conversationID),e.begin!==0&&t.uint32(16).int64(e.begin),e.end!==0&&t.uint32(24).int64(e.end),e.num!==0&&t.uint32(32).int64(e.num),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={conversationID:"",begin:0,end:0,num:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.conversationID=n.string();continue;case 2:if(o!==16)break;i.begin=$e(n.int64());continue;case 3:if(o!==24)break;i.end=$e(n.int64());continue;case 4:if(o!==32)break;i.num=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},yS={encode:function(e,t){t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID);for(var n,r=mt(e.seqRanges);!(n=r()).done;)uh.encode(n.value,t.uint32(18).fork()).join();return e.order!==0&&t.uint32(24).int32(e.order),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",seqRanges:[],order:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.seqRanges.push(uh.decode(n,n.uint32()));continue;case 3:if(o!==24)break;i.order=n.int32();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},lh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==0&&t.uint32(16).int64(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==16)break;i.value=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},dh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==0&&t.uint32(16).int64(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==16)break;i.value=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},DS={encode:function(e,t){return t===void 0&&(t=new oe),Object.entries(e.maxSeqs).forEach(function(n){lh.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.minSeqs).forEach(function(n){dh.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={maxSeqs:{},minSeqs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=lh.decode(n,n.uint32());s.value!==void 0&&(i.maxSeqs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=dh.decode(n,n.uint32());a.value!==void 0&&(i.minSeqs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},_S={encode:function(e,t){return t===void 0&&(t=new oe),Object.entries(e.msgs).forEach(function(n){fh.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.notificationMsgs).forEach(function(n){ph.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={msgs:{},notificationMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=fh.decode(n,n.uint32());s.value!==void 0&&(i.msgs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=ph.decode(n,n.uint32());a.value!==void 0&&(i.notificationMsgs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},fh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},ph={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},nn={encode:function(e,t){t===void 0&&(t=new oe);for(var n,r=mt(e.Msgs);!(n=r()).done;)Hs.encode(n.value,t.uint32(10).fork()).join();return e.isEnd!==!1&&t.uint32(16).bool(e.isEnd),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={Msgs:[],isEnd:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.Msgs.push(Hs.decode(n,n.uint32()));continue;case 2:if(o!==16)break;i.isEnd=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},IS={encode:function(e,t){return t===void 0&&(t=new oe),Object.entries(e.msgs).forEach(function(n){hh.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.notificationMsgs).forEach(function(n){gh.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={msgs:{},notificationMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=hh.decode(n,n.uint32());s.value!==void 0&&(i.msgs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=gh.decode(n,n.uint32());a.value!==void 0&&(i.notificationMsgs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},hh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},gh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},mh={encode:function(e,t){t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID),t.uint32(18).fork();for(var n,r=mt(e.onlinePlatformIDs);!(n=r()).done;)t.int32(n.value);return t.join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",onlinePlatformIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o===16){i.onlinePlatformIDs.push(n.int32());continue}if(o===18){for(var s=n.uint32()+n.pos;n.pos<s;)i.onlinePlatformIDs.push(n.int32());continue}}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},CS={encode:function(e,t){t===void 0&&(t=new oe);for(var n,r=mt(e.subscribers);!(n=r()).done;)mh.encode(n.value,t.uint32(10).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={subscribers:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.subscribers.push(mh.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},vh={encode:function(e,t){return t===void 0&&(t=new oe),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID),e.conversationID!==""&&t.uint32(18).string(e.conversationID),e.recvMsgOpt!==0&&t.uint32(24).int32(e.recvMsgOpt),e.conversationType!==0&&t.uint32(32).int32(e.conversationType),e.userID!==""&&t.uint32(42).string(e.userID),e.groupID!==""&&t.uint32(50).string(e.groupID),e.isPinned!==!1&&t.uint32(56).bool(e.isPinned),e.attachedInfo!==""&&t.uint32(66).string(e.attachedInfo),e.isPrivateChat!==!1&&t.uint32(72).bool(e.isPrivateChat),e.groupAtType!==0&&t.uint32(80).int32(e.groupAtType),e.ex!==""&&t.uint32(90).string(e.ex),e.burnDuration!==0&&t.uint32(96).int32(e.burnDuration),e.minSeq!==0&&t.uint32(104).int64(e.minSeq),e.maxSeq!==0&&t.uint32(112).int64(e.maxSeq),e.msgDestructTime!==0&&t.uint32(120).int64(e.msgDestructTime),e.latestMsgDestructTime!==0&&t.uint32(128).int64(e.latestMsgDestructTime),e.isMsgDestruct!==!1&&t.uint32(136).bool(e.isMsgDestruct),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",conversationID:"",recvMsgOpt:0,conversationType:0,userID:"",groupID:"",isPinned:!1,attachedInfo:"",isPrivateChat:!1,groupAtType:0,ex:"",burnDuration:0,minSeq:0,maxSeq:0,msgDestructTime:0,latestMsgDestructTime:0,isMsgDestruct:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==18)break;i.conversationID=n.string();continue;case 3:if(o!==24)break;i.recvMsgOpt=n.int32();continue;case 4:if(o!==32)break;i.conversationType=n.int32();continue;case 5:if(o!==42)break;i.userID=n.string();continue;case 6:if(o!==50)break;i.groupID=n.string();continue;case 7:if(o!==56)break;i.isPinned=n.bool();continue;case 8:if(o!==66)break;i.attachedInfo=n.string();continue;case 9:if(o!==72)break;i.isPrivateChat=n.bool();continue;case 10:if(o!==80)break;i.groupAtType=n.int32();continue;case 11:if(o!==90)break;i.ex=n.string();continue;case 12:if(o!==96)break;i.burnDuration=n.int32();continue;case 13:if(o!==104)break;i.minSeq=$e(n.int64());continue;case 14:if(o!==112)break;i.maxSeq=$e(n.int64());continue;case 15:if(o!==120)break;i.msgDestructTime=$e(n.int64());continue;case 16:if(o!==128)break;i.latestMsgDestructTime=$e(n.int64());continue;case 17:if(o!==136)break;i.isMsgDestruct=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},yh={encode:function(e,t){return t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID),e.nickname!==""&&t.uint32(18).string(e.nickname),e.faceURL!==""&&t.uint32(26).string(e.faceURL),e.ex!==""&&t.uint32(34).string(e.ex),e.createTime!==0&&t.uint32(40).int64(e.createTime),e.appMangerLevel!==0&&t.uint32(48).int32(e.appMangerLevel),e.globalRecvMsgOpt!==0&&t.uint32(56).int32(e.globalRecvMsgOpt),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",nickname:"",faceURL:"",ex:"",createTime:0,appMangerLevel:0,globalRecvMsgOpt:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.nickname=n.string();continue;case 3:if(o!==26)break;i.faceURL=n.string();continue;case 4:if(o!==34)break;i.ex=n.string();continue;case 5:if(o!==40)break;i.createTime=$e(n.int64());continue;case 6:if(o!==48)break;i.appMangerLevel=n.int32();continue;case 7:if(o!==56)break;i.globalRecvMsgOpt=n.int32();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Dh={encode:function(e,t){return t===void 0&&(t=new oe),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID),e.friendUserID!==""&&t.uint32(18).string(e.friendUserID),e.remark!==""&&t.uint32(26).string(e.remark),e.createTime!==0&&t.uint32(32).int64(e.createTime),e.addSource!==0&&t.uint32(40).int32(e.addSource),e.operatorUserID!==""&&t.uint32(50).string(e.operatorUserID),e.ex!==""&&t.uint32(58).string(e.ex),e.isPinned!==!1&&t.uint32(64).bool(e.isPinned),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",friendUserID:"",remark:"",createTime:0,addSource:0,operatorUserID:"",ex:"",isPinned:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==18)break;i.friendUserID=n.string();continue;case 3:if(o!==26)break;i.remark=n.string();continue;case 4:if(o!==32)break;i.createTime=$e(n.int64());continue;case 5:if(o!==40)break;i.addSource=n.int32();continue;case 6:if(o!==50)break;i.operatorUserID=n.string();continue;case 7:if(o!==58)break;i.ex=n.string();continue;case 8:if(o!==64)break;i.isPinned=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},$s={encode:function(e,t){return t===void 0&&(t=new oe),e.groupID!==""&&t.uint32(10).string(e.groupID),e.groupName!==""&&t.uint32(18).string(e.groupName),e.notification!==""&&t.uint32(26).string(e.notification),e.introduction!==""&&t.uint32(34).string(e.introduction),e.faceURL!==""&&t.uint32(42).string(e.faceURL),e.ownerUserID!==""&&t.uint32(50).string(e.ownerUserID),e.createTime!==0&&t.uint32(56).int64(e.createTime),e.memberCount!==0&&t.uint32(64).uint32(e.memberCount),e.ex!==""&&t.uint32(74).string(e.ex),e.status!==0&&t.uint32(80).int32(e.status),e.creatorUserID!==""&&t.uint32(90).string(e.creatorUserID),e.groupType!==0&&t.uint32(96).int32(e.groupType),e.needVerification!==0&&t.uint32(104).int32(e.needVerification),e.lookMemberInfo!==0&&t.uint32(112).int32(e.lookMemberInfo),e.applyMemberFriend!==0&&t.uint32(120).int32(e.applyMemberFriend),e.notificationUpdateTime!==0&&t.uint32(128).int64(e.notificationUpdateTime),e.notificationUserID!==""&&t.uint32(138).string(e.notificationUserID),e.displayIsRead!==!1&&t.uint32(144).bool(e.displayIsRead),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={groupID:"",groupName:"",notification:"",introduction:"",faceURL:"",ownerUserID:"",createTime:0,memberCount:0,ex:"",status:0,creatorUserID:"",groupType:0,needVerification:0,lookMemberInfo:0,applyMemberFriend:0,notificationUpdateTime:0,notificationUserID:"",displayIsRead:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.groupID=n.string();continue;case 2:if(o!==18)break;i.groupName=n.string();continue;case 3:if(o!==26)break;i.notification=n.string();continue;case 4:if(o!==34)break;i.introduction=n.string();continue;case 5:if(o!==42)break;i.faceURL=n.string();continue;case 6:if(o!==50)break;i.ownerUserID=n.string();continue;case 7:if(o!==56)break;i.createTime=$e(n.int64());continue;case 8:if(o!==64)break;i.memberCount=n.uint32();continue;case 9:if(o!==74)break;i.ex=n.string();continue;case 10:if(o!==80)break;i.status=n.int32();continue;case 11:if(o!==90)break;i.creatorUserID=n.string();continue;case 12:if(o!==96)break;i.groupType=n.int32();continue;case 13:if(o!==104)break;i.needVerification=n.int32();continue;case 14:if(o!==112)break;i.lookMemberInfo=n.int32();continue;case 15:if(o!==120)break;i.applyMemberFriend=n.int32();continue;case 16:if(o!==128)break;i.notificationUpdateTime=$e(n.int64());continue;case 17:if(o!==138)break;i.notificationUserID=n.string();continue;case 18:if(o!==144)break;i.displayIsRead=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},qs={encode:function(e,t){return t===void 0&&(t=new oe),e.conversation!==void 0&&vh.encode(e.conversation,t.uint32(10).fork()).join(),e.lastMsg!==void 0&&Hs.encode(e.lastMsg,t.uint32(18).fork()).join(),e.user!==void 0&&yh.encode(e.user,t.uint32(26).fork()).join(),e.friend!==void 0&&Dh.encode(e.friend,t.uint32(34).fork()).join(),e.group!==void 0&&$s.encode(e.group,t.uint32(42).fork()).join(),e.maxSeq!==0&&t.uint32(48).int64(e.maxSeq),e.readSeq!==0&&t.uint32(56).int64(e.readSeq),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={conversation:void 0,lastMsg:void 0,user:void 0,friend:void 0,group:void 0,maxSeq:0,readSeq:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.conversation=vh.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.lastMsg=Hs.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.user=yh.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.friend=Dh.decode(n,n.uint32());continue;case 5:if(o!==42)break;i.group=$s.decode(n,n.uint32());continue;case 6:if(o!==48)break;i.maxSeq=$e(n.int64());continue;case 7:if(o!==56)break;i.readSeq=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},bS={encode:function(e,t){t===void 0&&(t=new oe),e.unreadCount!==0&&t.uint32(8).int64(e.unreadCount);for(var n,r=mt(e.conversations);!(n=r()).done;)qs.encode(n.value,t.uint32(18).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={unreadCount:0,conversations:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.unreadCount=$e(n.int64());continue;case 2:if(o!==18)break;i.conversations.push(qs.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},wS={encode:function(e,t){t===void 0&&(t=new oe),e.unreadCount!==0&&t.uint32(8).int64(e.unreadCount);for(var n,r=mt(e.conversations);!(n=r()).done;)qs.encode(n.value,t.uint32(18).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={unreadCount:0,conversations:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.unreadCount=$e(n.int64());continue;case 2:if(o!==18)break;i.conversations.push(qs.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},_h={encode:function(e,t){t===void 0&&(t=new oe),e.conversationID!==""&&t.uint32(18).string(e.conversationID),t.uint32(26).fork();for(var n,r=mt(e.seqs);!(n=r()).done;)t.int64(n.value);return t.join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={conversationID:"",seqs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 2:if(o!==18)break;i.conversationID=n.string();continue;case 3:if(o===24){i.seqs.push($e(n.int64()));continue}if(o===26){for(var s=n.uint32()+n.pos;n.pos<s;)i.seqs.push($e(n.int64()));continue}}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},ES={encode:function(e,t){t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID);for(var n,r=mt(e.conversations);!(n=r()).done;)_h.encode(n.value,t.uint32(18).fork()).join();return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",conversations:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.conversations.push(_h.decode(n,n.uint32()));continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},MS={encode:function(e,t){return t===void 0&&(t=new oe),Object.entries(e.msgs).forEach(function(n){Ih.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),Object.entries(e.notificationMsgs).forEach(function(n){Ch.encode({key:n[0],value:n[1]},t.uint32(18).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={msgs:{},notificationMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=Ih.decode(n,n.uint32());s.value!==void 0&&(i.msgs[s.key]=s.value);continue;case 2:if(o!==18)break;var a=Ch.decode(n,n.uint32());a.value!==void 0&&(i.notificationMsgs[a.key]=a.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ih={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ch={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&nn.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=nn.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},SS={encode:function(e,t){return t===void 0&&(t=new oe),Object.entries(e.seqs).forEach(function(n){wh.encode({key:n[0],value:n[1]},t.uint32(10).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={seqs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;var s=wh.decode(n,n.uint32());s.value!==void 0&&(i.seqs[s.key]=s.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},bh={encode:function(e,t){return t===void 0&&(t=new oe),e.maxSeq!==0&&t.uint32(8).int64(e.maxSeq),e.hasReadSeq!==0&&t.uint32(16).int64(e.hasReadSeq),e.maxSeqTime!==0&&t.uint32(24).int64(e.maxSeqTime),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={maxSeq:0,hasReadSeq:0,maxSeqTime:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.maxSeq=$e(n.int64());continue;case 2:if(o!==16)break;i.hasReadSeq=$e(n.int64());continue;case 3:if(o!==24)break;i.maxSeqTime=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},wh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&bh.encode(e.value,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=bh.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},TS={encode:function(e,t){return t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID),e.conversationID!==""&&t.uint32(18).string(e.conversationID),Object.entries(e.clientMsgs).forEach(function(n){Eh.encode({key:n[0],value:n[1]},t.uint32(26).fork()).join()}),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",conversationID:"",clientMsgs:{}};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.conversationID=n.string();continue;case 3:if(o!==26)break;var s=Eh.decode(n,n.uint32());s.value!==void 0&&(i.clientMsgs[s.key]=s.value);continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Eh={encode:function(e,t){return t===void 0&&(t=new oe),e.key!==""&&t.uint32(10).string(e.key),e.value!==""&&t.uint32(18).string(e.value),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={key:"",value:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.key=n.string();continue;case 2:if(o!==18)break;i.value=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Mh={encode:function(e,t){t===void 0&&(t=new oe),e.token!==""&&t.uint32(10).string(e.token),e.roomID!==""&&t.uint32(18).string(e.roomID),e.liveURL!==""&&t.uint32(26).string(e.liveURL);for(var n,r=mt(e.busyLineUserIDList);!(n=r()).done;){var i=n.value;t.uint32(34).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",roomID:"",liveURL:"",busyLineUserIDList:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.roomID=n.string();continue;case 3:if(o!==26)break;i.liveURL=n.string();continue;case 4:if(o!==34)break;i.busyLineUserIDList.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Sh={encode:function(e,t){return t===void 0&&(t=new oe),e.invite!==void 0&&Mh.encode(e.invite,t.uint32(10).fork()).join(),e.inviteInGroup!==void 0&&Th.encode(e.inviteInGroup,t.uint32(18).fork()).join(),e.cancel!==void 0&&xh.encode(e.cancel,t.uint32(26).fork()).join(),e.accept!==void 0&&kh.encode(e.accept,t.uint32(34).fork()).join(),e.hungUp!==void 0&&Ph.encode(e.hungUp,t.uint32(42).fork()).join(),e.reject!==void 0&&Nh.encode(e.reject,t.uint32(50).fork()).join(),e.getTokenByRoomID!==void 0&&Ah.encode(e.getTokenByRoomID,t.uint32(58).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invite:void 0,inviteInGroup:void 0,cancel:void 0,accept:void 0,hungUp:void 0,reject:void 0,getTokenByRoomID:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invite=Mh.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.inviteInGroup=Th.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.cancel=xh.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.accept=kh.decode(n,n.uint32());continue;case 5:if(o!==42)break;i.hungUp=Ph.decode(n,n.uint32());continue;case 6:if(o!==50)break;i.reject=Nh.decode(n,n.uint32());continue;case 7:if(o!==58)break;i.getTokenByRoomID=Ah.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Th={encode:function(e,t){t===void 0&&(t=new oe),e.token!==""&&t.uint32(10).string(e.token),e.roomID!==""&&t.uint32(18).string(e.roomID),e.liveURL!==""&&t.uint32(26).string(e.liveURL);for(var n,r=mt(e.busyLineUserIDList);!(n=r()).done;){var i=n.value;t.uint32(34).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",roomID:"",liveURL:"",busyLineUserIDList:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.roomID=n.string();continue;case 3:if(o!==26)break;i.liveURL=n.string();continue;case 4:if(o!==34)break;i.busyLineUserIDList.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},xh={encode:function(e,t){return t===void 0&&(t=new oe),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},kh={encode:function(e,t){return t===void 0&&(t=new oe),e.token!==""&&t.uint32(10).string(e.token),e.roomID!==""&&t.uint32(18).string(e.roomID),e.liveURL!==""&&t.uint32(26).string(e.liveURL),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",roomID:"",liveURL:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.roomID=n.string();continue;case 3:if(o!==26)break;i.liveURL=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ph={encode:function(e,t){return t===void 0&&(t=new oe),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},Nh={encode:function(e,t){return t===void 0&&(t=new oe),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},Ah={encode:function(e,t){return t===void 0&&(t=new oe),e.token!==""&&t.uint32(10).string(e.token),e.liveURL!==""&&t.uint32(18).string(e.liveURL),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={token:"",liveURL:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.token=n.string();continue;case 2:if(o!==18)break;i.liveURL=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},xS={encode:function(e,t){return t===void 0&&(t=new oe),e.signalResp!==void 0&&Sh.encode(e.signalResp,t.uint32(10).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={signalResp:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.signalResp=Sh.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Rh={encode:function(e,t){return t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&$t.encode(e.participant,t.uint32(26).fork()).join(),e.userID!==""&&t.uint32(34).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=$t.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Oh={encode:function(e,t){return t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&$t.encode(e.participant,t.uint32(26).fork()).join(),e.userID!==""&&t.uint32(34).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=$t.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Fh={encode:function(e,t){return t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&$t.encode(e.participant,t.uint32(26).fork()).join(),e.userID!==""&&t.uint32(34).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=$t.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Lh={encode:function(e,t){return t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&$t.encode(e.participant,t.uint32(26).fork()).join(),e.opUserPlatformID!==0&&t.uint32(32).int32(e.opUserPlatformID),e.userID!==""&&t.uint32(42).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,opUserPlatformID:0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=$t.decode(n,n.uint32());continue;case 4:if(o!==32)break;i.opUserPlatformID=n.int32();continue;case 5:if(o!==42)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Vh={encode:function(e,t){return t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.userID!==""&&t.uint32(26).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},jh={encode:function(e,t){return t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join(),e.offlinePushInfo!==void 0&&Gt.encode(e.offlinePushInfo,t.uint32(18).fork()).join(),e.participant!==void 0&&$t.encode(e.participant,t.uint32(26).fork()).join(),e.opUserPlatformID!==0&&t.uint32(32).int32(e.opUserPlatformID),e.userID!==""&&t.uint32(42).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,offlinePushInfo:void 0,participant:void 0,opUserPlatformID:0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.offlinePushInfo=Gt.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.participant=$t.decode(n,n.uint32());continue;case 4:if(o!==32)break;i.opUserPlatformID=n.int32();continue;case 5:if(o!==42)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Uh={encode:function(e,t){return t===void 0&&(t=new oe),e.roomID!==""&&t.uint32(10).string(e.roomID),e.participant!==void 0&&$t.encode(e.participant,t.uint32(18).fork()).join(),e.userID!==""&&t.uint32(26).string(e.userID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={roomID:"",participant:void 0,userID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.roomID=n.string();continue;case 2:if(o!==18)break;i.participant=$t.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.userID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Ht={encode:function(e,t){t===void 0&&(t=new oe),e.inviterUserID!==""&&t.uint32(10).string(e.inviterUserID);for(var n,r=mt(e.inviteeUserIDList);!(n=r()).done;){var i=n.value;t.uint32(18).string(i)}e.customData!==""&&t.uint32(26).string(e.customData),e.groupID!==""&&t.uint32(34).string(e.groupID),e.roomID!==""&&t.uint32(42).string(e.roomID),e.timeout!==0&&t.uint32(48).int32(e.timeout),e.mediaType!==""&&t.uint32(58).string(e.mediaType),e.platformID!==0&&t.uint32(64).int32(e.platformID),e.sessionType!==0&&t.uint32(72).int32(e.sessionType),e.initiateTime!==0&&t.uint32(80).int64(e.initiateTime);for(var o,s=mt(e.busyLineUserIDList);!(o=s()).done;){var a=o.value;t.uint32(90).string(a)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={inviterUserID:"",inviteeUserIDList:[],customData:"",groupID:"",roomID:"",timeout:0,mediaType:"",platformID:0,sessionType:0,initiateTime:0,busyLineUserIDList:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.inviterUserID=n.string();continue;case 2:if(o!==18)break;i.inviteeUserIDList.push(n.string());continue;case 3:if(o!==26)break;i.customData=n.string();continue;case 4:if(o!==34)break;i.groupID=n.string();continue;case 5:if(o!==42)break;i.roomID=n.string();continue;case 6:if(o!==48)break;i.timeout=n.int32();continue;case 7:if(o!==58)break;i.mediaType=n.string();continue;case 8:if(o!==64)break;i.platformID=n.int32();continue;case 9:if(o!==72)break;i.sessionType=n.int32();continue;case 10:if(o!==80)break;i.initiateTime=$e(n.int64());continue;case 11:if(o!==90)break;i.busyLineUserIDList.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},$t={encode:function(e,t){return t===void 0&&(t=new oe),e.groupInfo!==void 0&&$s.encode(e.groupInfo,t.uint32(10).fork()).join(),e.groupMemberInfo!==void 0&&Bh.encode(e.groupMemberInfo,t.uint32(18).fork()).join(),e.userInfo!==void 0&&Gh.encode(e.userInfo,t.uint32(26).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={groupInfo:void 0,groupMemberInfo:void 0,userInfo:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.groupInfo=$s.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.groupMemberInfo=Bh.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.userInfo=Gh.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Bh={encode:function(e,t){return t===void 0&&(t=new oe),e.groupID!==""&&t.uint32(10).string(e.groupID),e.userID!==""&&t.uint32(18).string(e.userID),e.roleLevel!==0&&t.uint32(24).int32(e.roleLevel),e.joinTime!==0&&t.uint32(32).int64(e.joinTime),e.nickname!==""&&t.uint32(42).string(e.nickname),e.faceURL!==""&&t.uint32(50).string(e.faceURL),e.appMangerLevel!==0&&t.uint32(56).int32(e.appMangerLevel),e.joinSource!==0&&t.uint32(64).int32(e.joinSource),e.operatorUserID!==""&&t.uint32(74).string(e.operatorUserID),e.ex!==""&&t.uint32(82).string(e.ex),e.muteEndTime!==0&&t.uint32(88).int64(e.muteEndTime),e.inviterUserID!==""&&t.uint32(98).string(e.inviterUserID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={groupID:"",userID:"",roleLevel:0,joinTime:0,nickname:"",faceURL:"",appMangerLevel:0,joinSource:0,operatorUserID:"",ex:"",muteEndTime:0,inviterUserID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.groupID=n.string();continue;case 2:if(o!==18)break;i.userID=n.string();continue;case 3:if(o!==24)break;i.roleLevel=n.int32();continue;case 4:if(o!==32)break;i.joinTime=$e(n.int64());continue;case 5:if(o!==42)break;i.nickname=n.string();continue;case 6:if(o!==50)break;i.faceURL=n.string();continue;case 7:if(o!==56)break;i.appMangerLevel=n.int32();continue;case 8:if(o!==64)break;i.joinSource=n.int32();continue;case 9:if(o!==74)break;i.operatorUserID=n.string();continue;case 10:if(o!==82)break;i.ex=n.string();continue;case 11:if(o!==88)break;i.muteEndTime=$e(n.int64());continue;case 12:if(o!==98)break;i.inviterUserID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Gh={encode:function(e,t){return t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID),e.nickname!==""&&t.uint32(18).string(e.nickname),e.faceURL!==""&&t.uint32(26).string(e.faceURL),e.ex!==""&&t.uint32(34).string(e.ex),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",nickname:"",faceURL:"",ex:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.nickname=n.string();continue;case 3:if(o!==26)break;i.faceURL=n.string();continue;case 4:if(o!==34)break;i.ex=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},kS={encode:function(e,t){return t===void 0&&(t=new oe),e.invite!==void 0&&Rh.encode(e.invite,t.uint32(10).fork()).join(),e.inviteInGroup!==void 0&&Oh.encode(e.inviteInGroup,t.uint32(18).fork()).join(),e.cancel!==void 0&&Fh.encode(e.cancel,t.uint32(26).fork()).join(),e.accept!==void 0&&Lh.encode(e.accept,t.uint32(34).fork()).join(),e.hungUp!==void 0&&Vh.encode(e.hungUp,t.uint32(42).fork()).join(),e.reject!==void 0&&jh.encode(e.reject,t.uint32(50).fork()).join(),e.getTokenByRoomID!==void 0&&Uh.encode(e.getTokenByRoomID,t.uint32(58).fork()).join(),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invite:void 0,inviteInGroup:void 0,cancel:void 0,accept:void 0,hungUp:void 0,reject:void 0,getTokenByRoomID:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invite=Rh.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.inviteInGroup=Oh.decode(n,n.uint32());continue;case 3:if(o!==26)break;i.cancel=Fh.decode(n,n.uint32());continue;case 4:if(o!==34)break;i.accept=Lh.decode(n,n.uint32());continue;case 5:if(o!==42)break;i.hungUp=Vh.decode(n,n.uint32());continue;case 6:if(o!==50)break;i.reject=jh.decode(n,n.uint32());continue;case 7:if(o!==58)break;i.getTokenByRoomID=Uh.decode(n,n.uint32());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},PS={encode:function(e,t){t===void 0&&(t=new oe),e.invitation!==void 0&&Ht.encode(e.invitation,t.uint32(10).fork()).join();for(var n,r=mt(e.participant);!(n=r()).done;)$t.encode(n.value,t.uint32(18).fork()).join();return e.groupID!==""&&t.uint32(26).string(e.groupID),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={invitation:void 0,participant:[],groupID:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.invitation=Ht.decode(n,n.uint32());continue;case 2:if(o!==18)break;i.participant.push($t.decode(n,n.uint32()));continue;case 3:if(o!==26)break;i.groupID=n.string();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},st={__proto__:null,OfflinePushInfo:Gt,MsgData_OptionsEntry:ch,MsgData:Hs,SeqRange:uh,PullMessageBySeqsReq:yS,SubUserOnlineStatus:{encode:function(e,t){t===void 0&&(t=new oe);for(var n,r=mt(e.subscribeUserID);!(n=r()).done;){var i=n.value;t.uint32(10).string(i)}for(var o,s=mt(e.unsubscribeUserID);!(o=s()).done;){var a=o.value;t.uint32(18).string(a)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={subscribeUserID:[],unsubscribeUserID:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.subscribeUserID.push(n.string());continue;case 2:if(o!==18)break;i.unsubscribeUserID.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},GetMaxSeqResp_MaxSeqsEntry:lh,GetMaxSeqResp_MinSeqsEntry:dh,GetMaxSeqResp:DS,PullMessageBySeqsResp:_S,PullMessageBySeqsResp_MsgsEntry:fh,PullMessageBySeqsResp_NotificationMsgsEntry:ph,PullMsgs:nn,UserSendMsgResp:{encode:function(e,t){return t===void 0&&(t=new oe),e.serverMsgID!==""&&t.uint32(10).string(e.serverMsgID),e.clientMsgID!==""&&t.uint32(18).string(e.clientMsgID),e.sendTime!==0&&t.uint32(24).int64(e.sendTime),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={serverMsgID:"",clientMsgID:"",sendTime:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.serverMsgID=n.string();continue;case 2:if(o!==18)break;i.clientMsgID=n.string();continue;case 3:if(o!==24)break;i.sendTime=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},PushMessages:IS,PushMessages_MsgsEntry:hh,PushMessages_NotificationMsgsEntry:gh,SetAppBackgroundStatusResp:{encode:function(e,t){return t===void 0&&(t=new oe),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t;n.pos<r;){var i=n.uint32();if((7&i)==4||i===0)break;n.skip(7&i)}return{}}},SubUserOnlineStatusElem:mh,SubUserOnlineStatusTips:CS,ServerConfig:{encode:function(e,t){return t===void 0&&(t=new oe),e.isEncryption!==!1&&t.uint32(8).bool(e.isEncryption),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={isEncryption:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==8)break;i.isEncryption=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},GetActiveConversationsReq:{encode:function(e,t){return t===void 0&&(t=new oe),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID),e.count!==0&&t.uint32(16).int64(e.count),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",count:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==16)break;i.count=$e(n.int64());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},GetConversationsReq:{encode:function(e,t){t===void 0&&(t=new oe),e.ownerUserID!==""&&t.uint32(10).string(e.ownerUserID);for(var n,r=mt(e.conversationIDs);!(n=r()).done;){var i=n.value;t.uint32(18).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={ownerUserID:"",conversationIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.ownerUserID=n.string();continue;case 2:if(o!==18)break;i.conversationIDs.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},Conversation:vh,UserInfo:yh,FriendInfoOnly:Dh,GroupInfo:$s,ConversationMsg:qs,GetActiveConversationsResp:bS,GetConversationsResp:wS,GetConversationsHasReadAndMaxSeqReq:{encode:function(e,t){t===void 0&&(t=new oe),e.userID!==""&&t.uint32(10).string(e.userID);for(var n,r=mt(e.conversationIDs);!(n=r()).done;){var i=n.value;t.uint32(18).string(i)}return t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={userID:"",conversationIDs:[]};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.userID=n.string();continue;case 2:if(o!==18)break;i.conversationIDs.push(n.string());continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},ConversationSeqs:_h,GetSeqMessageReq:ES,GetSeqMessageResp:MS,GetSeqMessageResp_MsgsEntry:Ih,GetSeqMessageResp_NotificationMsgsEntry:Ch,GetConversationsHasReadAndMaxSeqResp:SS,Seqs:bh,GetConversationsHasReadAndMaxSeqResp_SeqsEntry:wh,MarkGroupMessageReadReq:TS,MarkGroupMessageReadReq_ClientMsgsEntry:Eh,SignalInviteResp:Mh,SignalResp:Sh,SignalInviteInGroupResp:Th,SignalCancelResp:xh,SignalAcceptResp:kh,SignalHungUpResp:Ph,SignalRejectResp:Nh,SignalGetTokenByRoomIDResp:Ah,SignalMessageAssembleResp:xS,SignalInviteReq:Rh,SignalInviteInGroupReq:Oh,SignalCancelReq:Fh,SignalAcceptReq:Lh,SignalHungUpReq:Vh,SignalRejectReq:jh,SignalGetTokenByRoomIDReq:Uh,InvitationInfo:Ht,ParticipantMetaData:$t,GroupMemberFullInfo:Bh,PublicUserInfo:Gh,SignalReq:kS,SignalOnStreamChangeReq:{encode:function(e,t){return t===void 0&&(t=new oe),e.roomID!==""&&t.uint32(10).string(e.roomID),e.streamType!==""&&t.uint32(18).string(e.streamType),e.mute!==!1&&t.uint32(24).bool(e.mute),t},decode:function(e,t){for(var n=e instanceof A?e:new A(e),r=t===void 0?n.len:n.pos+t,i={roomID:"",streamType:"",mute:!1};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(o!==10)break;i.roomID=n.string();continue;case 2:if(o!==18)break;i.streamType=n.string();continue;case 3:if(o!==24)break;i.mute=n.bool();continue}if((7&o)==4||o===0)break;n.skip(7&o)}return i}},SignalOnRoomParticipantDisconnectedReq:PS}});function d1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function og(e){return"__private_"+NS+++"_"+e}function $h(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(i,o){if(i){if(typeof i=="string")return d1(i,o);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d1(i,o):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(null,arguments)}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yh(e)}function S1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zs(e,t)}function T1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T1=function(){return!!e})()}function x1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function zs(e,t){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},zs(e,t)}function Qh(e){var t=typeof Map=="function"?new Map:void 0;return Qh=function(n){if(n===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(i,o,s){if(T1())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,o);var c=new(i.bind.apply(i,a));return s&&zs(c,s.prototype),c}(n,arguments,Yh(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),zs(r,n)},Qh(e)}function qS(e){if(e===void 0&&(e=jS),!Bn(this,Ir)[Ir].has(e))throw new Error("Unknown string encoding '"+e+"'");return e}function Zh(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function yt(e,t,n){if(!e.s){if(n instanceof Ai){if(!n.s)return void(n.o=yt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(yt.bind(null,e,t),yt.bind(null,e,2));e.s=t,e.v=n;let r=e.o;r&&r(e)}}function $r(e){return e instanceof Ai&&1&e.s}function on(e,t,n){if(!e.s){if(n instanceof A1){if(!n.s)return void(n.o=on.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(on.bind(null,e,t),on.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function sn(e,t,n){if(!e.s){if(n instanceof R1){if(!n.s)return void(n.o=sn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(sn.bind(null,e,t),sn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function an(e,t,n){if(!e.s){if(n instanceof O1){if(!n.s)return void(n.o=an.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(an.bind(null,e,t),an.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function cn(e,t,n){if(!e.s){if(n instanceof F1){if(!n.s)return void(n.o=cn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(cn.bind(null,e,t),cn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function un(e,t,n){if(!e.s){if(n instanceof ag){if(!n.s)return void(n.o=un.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(un.bind(null,e,t),un.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function Tu(e){return e instanceof ag&&1&e.s}function E1(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function Jh(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function ln(e,t,n){if(!e.s){if(n instanceof cg){if(!n.s)return void(n.o=ln.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(ln.bind(null,e,t),ln.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function xu(e){return e instanceof cg&&1&e.s}var ne,Pu,NS,ue,x,Re,qh,AS,U,Hr,Ve,dt,vt,me,lt,br,rr,Nu,f1,_r,RS,Au,p1,h1,g1,Kh,m1,Cr,v1,Xh,wo,ee,nt,eg,y1,D1,En,_1,I1,Un,OS,Lu,FS,tg,sg,zh,LS,Ru,wt,VS,ze,J,ng,C1,jS,bo,k1,US,BS,GS,HS,$S,Ni,Ir,Dr,Eo,zS,P1,Ou,Mo,WS,ZS,JS,YS,rg,ku,Mn,je,ig,Fu,N1,b1,Wh,QS,KS,XS,Ai,w1,eT,A1,tT,nT,rT,iT,R1,oT,sT,aT,O1,cT,uT,lT,dT,F1,ag,rn,fT,M1,pT,hT,cg,L1,Ws=L(()=>{"use strict";ne=Jg($D()),Pu=Jg(WD());YD();l1();NS=0;qh=function(e){try{if(!e.ok)throw new Error(e.statusText);return Promise.resolve(e.json()).then(function(t){if(t.errCode!==0)throw new Error(t.errMsg);return t.data})}catch(t){return Promise.reject(t)}},AS={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",csv:"text/csv",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",svg:"image/svg+xml",mp3:"audio/mpeg",mp4:"video/mp4",wav:"audio/wav",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xml:"application/xml",zip:"application/zip",tar:"application/x-tar","7z":"application/x-7z-compressed",rar:"application/vnd.rar",ogg:"audio/ogg",midi:"audio/midi",webm:"audio/webm",avi:"video/x-msvideo",mpeg:"video/mpeg",ts:"video/mp2t",mov:"video/quicktime",wmv:"video/x-ms-wmv",flv:"video/x-flv",mkv:"video/x-matroska",webp:"image/webp",heic:"image/heic",psd:"image/vnd.adobe.photoshop",ai:"application/postscript",eps:"application/postscript",ttf:"font/ttf",otf:"font/otf",woff:"font/woff",woff2:"font/woff2",jsonld:"application/ld+json",ics:"text/calendar",sh:"application/x-sh",php:"application/x-httpd-php",jar:"application/java-archive"};(function(e){e.InitSDK="InitSDK",e.Login="Login",e.Logout="Logout",e.GetLoginStatus="GetLoginStatus",e.GetLoginUserID="GetLoginUserID",e.GetSelfUserInfo="GetSelfUserInfo",e.SetSelfInfo="SetSelfInfo",e.GetUsersInfo="GetUsersInfo",e.SubscribeUsersStatus="SubscribeUsersStatus",e.UnsubscribeUsersStatus="UnsubscribeUsersStatus",e.GetSubscribeUsersStatus="GetSubscribeUsersStatus",e.SetAppBackgroundStatus="SetAppBackgroundStatus",e.NetworkStatusChanged="NetworkStatusChanged",e.SetGlobalRecvMessageOpt="SetGlobalRecvMessageOpt",e.AcceptFriendApplication="AcceptFriendApplication",e.AddBlack="AddBlack",e.AddFriend="AddFriend",e.CheckFriend="CheckFriend",e.DeleteFriend="DeleteFriend",e.GetBlackList="GetBlackList",e.GetFriendApplicationListAsApplicant="GetFriendApplicationListAsApplicant",e.GetFriendApplicationListAsRecipient="GetFriendApplicationListAsRecipient",e.GetFriendList="GetFriendList",e.GetFriendListPage="GetFriendListPage",e.GetSpecifiedFriendsInfo="GetSpecifiedFriendsInfo",e.RefuseFriendApplication="RefuseFriendApplication",e.RemoveBlack="RemoveBlack",e.SearchFriends="SearchFriends",e.UpdateFriends="UpdateFriends",e.CreateGroup="CreateGroup",e.JoinGroup="JoinGroup",e.InviteUserToGroup="InviteUserToGroup",e.GetJoinedGroupList="GetJoinedGroupList",e.GetJoinedGroupListPage="GetJoinedGroupListPage",e.SearchGroups="SearchGroups",e.GetSpecifiedGroupsInfo="GetSpecifiedGroupsInfo",e.SetGroupInfo="SetGroupInfo",e.GetGroupApplicationListAsRecipient="GetGroupApplicationListAsRecipient",e.GetGroupApplicationListAsApplicant="GetGroupApplicationListAsApplicant",e.AcceptGroupApplication="AcceptGroupApplication",e.RefuseGroupApplication="RefuseGroupApplication",e.GetGroupMemberList="GetGroupMemberList",e.GetSpecifiedGroupMembersInfo="GetSpecifiedGroupMembersInfo",e.SearchGroupMembers="SearchGroupMembers",e.SetGroupMemberInfo="SetGroupMemberInfo",e.GetGroupMemberOwnerAndAdmin="GetGroupMemberOwnerAndAdmin",e.GetGroupMemberListByJoinTimeFilter="GetGroupMemberListByJoinTimeFilter",e.KickGroupMember="KickGroupMember",e.ChangeGroupMemberMute="ChangeGroupMemberMute",e.ChangeGroupMute="ChangeGroupMute",e.TransferGroupOwner="TransferGroupOwner",e.DismissGroup="DismissGroup",e.QuitGroup="QuitGroup",e.GetUsersInGroup="GetUsersInGroup",e.IsJoinGroup="IsJoinGroup",e.GetAllConversationList="GetAllConversationList",e.GetConversationListSplit="GetConversationListSplit",e.GetOneConversation="GetOneConversation",e.GetMultipleConversation="GetMultipleConversation",e.GetConversationIDBySessionType="GetConversationIDBySessionType",e.GetTotalUnreadMsgCount="GetTotalUnreadMsgCount",e.MarkConversationMessageAsRead="MarkConversationMessageAsRead",e.SetConversationDraft="SetConversationDraft",e.PinConversation="PinConversation",e.SetConversationRecvMessageOpt="SetConversationRecvMessageOpt",e.SetConversationPrivateChat="SetConversationPrivateChat",e.SetConversationBurnDuration="SetConversationBurnDuration",e.ResetConversationGroupAtType="ResetConversationGroupAtType",e.HideConversation="HideConversation",e.HideAllConversation="HideAllConversation",e.ClearConversationAndDeleteAllMsg="ClearConversationAndDeleteAllMsg",e.DeleteConversationAndDeleteAllMsg="DeleteConversationAndDeleteAllMsg",e.ChangeInputStates="ChangeInputStates",e.GetInputStates="GetInputStates",e.CreateTextMessage="CreateTextMessage",e.CreateTextAtMessage="CreateTextAtMessage",e.CreateImageMessageByFile="CreateImageMessageByFile",e.CreateImageMessageByURL="CreateImageMessageByURL",e.CreateSoundMessageByFile="CreateSoundMessageByFile",e.CreateSoundMessageByURL="CreateSoundMessageByURL",e.CreateVideoMessageByFile="CreateVideoMessageByFile",e.CreateVideoMessageByURL="CreateVideoMessageByURL",e.CreateFileMessageByFile="CreateFileMessageByFile",e.CreateFileMessageByURL="CreateFileMessageByURL",e.CreateMergerMessage="CreateMergerMessage",e.CreateForwardMessage="CreateForwardMessage",e.CreateLocationMessage="CreateLocationMessage",e.CreateQuoteMessage="CreateQuoteMessage",e.CreateCardMessage="CreateCardMessage",e.CreateCustomMessage="CreateCustomMessage",e.CreateFaceMessage="CreateFaceMessage",e.SendMessage="SendMessage",e.SendMessageNotOss="SendMessageNotOss",e.UploadFile="UploadFile",e.TypingStatusUpdate="TypingStatusUpdate",e.RevokeMessage="RevokeMessage",e.DeleteMessage="DeleteMessage",e.DeleteMessageFromLocalStorage="DeleteMessageFromLocalStorage",e.DeleteAllMsgFromLocal="DeleteAllMsgFromLocal",e.DeleteAllMsgFromLocalAndSvr="DeleteAllMsgFromLocalAndSvr",e.SearchLocalMessages="SearchLocalMessages",e.GetAdvancedHistoryMessageList="GetAdvancedHistoryMessageList",e.GetAdvancedHistoryMessageListReverse="GetAdvancedHistoryMessageListReverse",e.FindMessageList="FindMessageList",e.InsertGroupMessageToLocalStorage="InsertGroupMessageToLocalStorage",e.InsertSingleMessageToLocalStorage="InsertSingleMessageToLocalStorage",e.SetMessageLocalEx="SetMessageLocalEx",e.SetConversation="SetConversation"})(x||(x={})),function(e){e.GetFriendVersion="GetFriendVersion",e.GetGroupVersion="GetGroupVersion",e.GetJoinedGroupIDList="GetJoinedGroupIDList",e.GetGroupMemberVersion="GetGroupMemberVersion",e.GetConversationVersion="GetConversationVersion",e.GetConversationsHasReadAndMaxSeq="GetConversationsHasReadAndMaxSeq",e.GetDesignatedFriendsApplication="GetDesignatedFriendsApplication",e.GetDesignatedGroupApplication="GetDesignatedGroupApplication",e.GetDesignatedBlackUser="GetDesignatedBlackUser",e.GetActiveConversations="GetActiveConversations",e.GetDesignatedConversation="GetDesignatedConversation",e.GetNotNotifyConversationIDs="GetNotNotifyConversationIDs",e.GetFullFriendUserIDs="GetFullFriendUserIDs",e.GetFullGroupMemberUserIDs="GetFullGroupMemberUserIDs"}(Re||(Re={}));RS=((ue={})[x.AddFriend]="/friend/add_friend",ue[x.CheckFriend]="/friend/is_friend",ue[x.DeleteFriend]="/friend/delete_friend",ue[x.AcceptFriendApplication]="/friend/add_friend_response",ue[x.RefuseFriendApplication]="/friend/add_friend_response",ue[x.GetFriendListPage]="/friend/get_friend_list",ue[x.GetSpecifiedFriendsInfo]="/friend/get_designated_friends",ue[x.GetFriendApplicationListAsApplicant]="/friend/get_self_friend_apply_list",ue[x.GetFriendApplicationListAsRecipient]="/friend/get_friend_apply_list",ue[x.UpdateFriends]="/friend/update_friends",ue[x.AddBlack]="/friend/add_black",ue[x.RemoveBlack]="/friend/remove_black",ue[x.GetBlackList]="/friend/get_black_list",ue[x.CreateGroup]="/group/create_group",ue[x.JoinGroup]="/group/join_group",ue[x.InviteUserToGroup]="/group/invite_user_to_group",ue[x.GetJoinedGroupListPage]="/group/get_joined_group_list",ue[x.GetSpecifiedGroupsInfo]="/group/get_groups_info",ue[x.SetGroupInfo]="/group/set_group_info_ex",ue[x.GetGroupApplicationListAsApplicant]="/group/get_user_req_group_applicationList",ue[x.GetGroupApplicationListAsRecipient]="/group/get_recv_group_applicationList",ue[x.AcceptGroupApplication]="/group/group_application_response",ue[x.RefuseGroupApplication]="/group/group_application_response",ue[x.GetGroupMemberList]="/group/get_group_member_list",ue[x.GetSpecifiedGroupMembersInfo]="/group/get_group_members_info",ue[x.SetGroupMemberInfo]="/group/set_group_member_info",ue[x.KickGroupMember]="/group/kick_group",ue[x.TransferGroupOwner]="/group/transfer_group",ue[x.DismissGroup]="/group/dismiss_group",ue[x.QuitGroup]="/group/quit_group",ue[x.GetSelfUserInfo]="/user/get_users_info",ue[x.SetSelfInfo]="/user/update_user_info_ex",ue[x.GetUsersInfo]="/user/get_users_info",ue[x.SubscribeUsersStatus]="/user/subscribe_users_status",ue[x.UnsubscribeUsersStatus]="/user/subscribe_users_status",ue[x.GetSubscribeUsersStatus]="/user/get_subscribe_users_status",ue[x.SetGlobalRecvMessageOpt]="/user/set_global_msg_recv_opt",ue[x.RevokeMessage]="/msg/revoke_msg",ue[x.DeleteMessage]="/msg/delete_msgs",ue[x.DeleteConversationAndDeleteAllMsg]="/msg/clear_conversation_msg",ue[x.DeleteAllMsgFromLocalAndSvr]="/msg/user_clear_all_msg",ue[x.MarkConversationMessageAsRead]="/msg/mark_conversation_as_read",ue[x.SetConversation]="/conversation/set_conversations",ue[Re.GetFriendVersion]="/friend/get_incremental_friends",ue[Re.GetGroupVersion]="/group/get_incremental_join_groups",ue[Re.GetJoinedGroupIDList]="/group/get_full_join_group_ids",ue[Re.GetGroupMemberVersion]="/group/get_incremental_group_members_batch",ue[Re.GetConversationVersion]="/conversation/get_incremental_conversations",ue[Re.GetConversationsHasReadAndMaxSeq]="/conversation/get_conversations_has_read_and_max_seq",ue[Re.GetDesignatedFriendsApplication]="/friend/get_designated_friend_apply",ue[Re.GetDesignatedGroupApplication]="/group/get_specified_user_group_request_info",ue[Re.GetDesignatedBlackUser]="/friend/get_specified_blacks",ue[Re.GetActiveConversations]="/jssdk/get_active_conversations",ue[Re.GetDesignatedConversation]="/jssdk/get_conversations",ue[Re.GetNotNotifyConversationIDs]="/conversation/get_not_notify_conversation_ids",ue[Re.GetFullFriendUserIDs]="/friend/get_full_friend_user_ids",ue[Re.GetFullGroupMemberUserIDs]="/group/get_full_group_member_user_ids",ue);(function(e){e.OnConnectFailed="OnConnectFailed",e.OnConnectSuccess="OnConnectSuccess",e.OnConnecting="OnConnecting",e.OnKickedOffline="OnKickedOffline",e.OnSelfInfoUpdated="OnSelfInfoUpdated",e.OnUserTokenExpired="OnUserTokenExpired",e.OnUserTokenInvalid="OnUserTokenInvalid",e.OnProgress="OnProgress",e.OnRecvNewMessage="OnRecvNewMessage",e.OnRecvNewMessages="OnRecvNewMessages",e.OnRecvOfflineNewMessage="onRecvOfflineNewMessage",e.OnRecvOfflineNewMessages="onRecvOfflineNewMessages",e.OnNewRecvMessageRevoked="OnNewRecvMessageRevoked",e.OnRecvC2CReadReceipt="OnRecvC2CReadReceipt",e.OnRecvGroupReadReceipt="OnRecvGroupReadReceipt",e.OnConversationChanged="OnConversationChanged",e.OnNewConversation="OnNewConversation",e.OnConversationUserInputStatusChanged="OnConversationUserInputStatusChanged",e.OnSyncServerFailed="OnSyncServerFailed",e.OnSyncServerFinish="OnSyncServerFinish",e.OnSyncServerProgress="OnSyncServerProgress",e.OnSyncServerStart="OnSyncServerStart",e.OnTotalUnreadMessageCountChanged="OnTotalUnreadMessageCountChanged",e.OnBlackAdded="OnBlackAdded",e.OnBlackDeleted="OnBlackDeleted",e.OnFriendApplicationAccepted="OnFriendApplicationAccepted",e.OnFriendApplicationAdded="OnFriendApplicationAdded",e.OnFriendApplicationDeleted="OnFriendApplicationDeleted",e.OnFriendApplicationRejected="OnFriendApplicationRejected",e.OnFriendInfoChanged="OnFriendInfoChanged",e.OnFriendAdded="OnFriendAdded",e.OnFriendDeleted="OnFriendDeleted",e.OnJoinedGroupAdded="OnJoinedGroupAdded",e.OnJoinedGroupDeleted="OnJoinedGroupDeleted",e.OnGroupDismissed="OnGroupDismissed",e.OnGroupMemberAdded="OnGroupMemberAdded",e.OnGroupMemberDeleted="OnGroupMemberDeleted",e.OnGroupApplicationAdded="OnGroupApplicationAdded",e.OnGroupApplicationDeleted="OnGroupApplicationDeleted",e.OnGroupInfoChanged="OnGroupInfoChanged",e.OnGroupMemberInfoChanged="OnGroupMemberInfoChanged",e.OnGroupApplicationAccepted="OnGroupApplicationAccepted",e.OnGroupApplicationRejected="OnGroupApplicationRejected",e.UploadComplete="UploadComplete",e.OnRecvCustomBusinessMessage="OnRecvCustomBusinessMessage",e.OnUserStatusChanged="OnUserStatusChanged",e.OnUploadLogsProgress="OnUploadLogsProgress",e.OnReceiveNewInvitation="OnReceiveNewInvitation",e.OnInviteeAccepted="OnInviteeAccepted",e.OnInviteeRejected="OnInviteeRejected",e.OnInvitationCancelled="OnInvitationCancelled",e.OnHangUp="OnHangUp",e.OnInvitationTimeout="OnInvitationTimeout",e.OnInviteeAcceptedByOtherDevice="OnInviteeAcceptedByOtherDevice",e.OnInviteeRejectedByOtherDevice="OnInviteeRejectedByOtherDevice",e.OnStreamChange="OnStreamChange",e.OnRoomParticipantConnected="OnRoomParticipantConnected",e.OnRoomParticipantDisconnected="OnRoomParticipantDisconnected",e.OnReceiveCustomSignal="OnReceiveCustomSignal",e.UnUsedEvent="UnUsedEvent"})(U||(U={})),function(e){e[e.NetworkError=1e4]="NetworkError",e[e.NetworkTimeoutError=10001]="NetworkTimeoutError",e[e.ArgsError=10002]="ArgsError",e[e.CtxDeadlineExceededError=10003]="CtxDeadlineExceededError",e[e.ResourceLoadNotCompleteError=10004]="ResourceLoadNotCompleteError",e[e.UnknownCode=10005]="UnknownCode",e[e.SdkInternalError=10006]="SdkInternalError",e[e.NoUpdateError=10007]="NoUpdateError",e[e.UserIDNotFoundError=10100]="UserIDNotFoundError",e[e.LoginOutError=10101]="LoginOutError",e[e.LoginRepeatError=10102]="LoginRepeatError",e[e.FileNotFoundError=10200]="FileNotFoundError",e[e.MsgDeCompressionError=10201]="MsgDeCompressionError",e[e.MsgDecodeBinaryWsError=10202]="MsgDecodeBinaryWsError",e[e.MsgBinaryTypeNotSupportError=10203]="MsgBinaryTypeNotSupportError",e[e.MsgRepeatError=10204]="MsgRepeatError",e[e.MsgContentTypeNotSupportError=10205]="MsgContentTypeNotSupportError",e[e.MsgHasNoSeqError=10206]="MsgHasNoSeqError",e[e.NotSupportOptError=10301]="NotSupportOptError",e[e.NotSupportTypeError=10302]="NotSupportTypeError",e[e.UnreadCountError=10303]="UnreadCountError",e[e.GroupIDNotFoundError=10400]="GroupIDNotFoundError",e[e.GroupTypeErr=10401]="GroupTypeErr"}(Ve||(Ve={})),function(e){e[e.GetNewestSeq=1001]="GetNewestSeq",e[e.PullMsgByRange=1002]="PullMsgByRange",e[e.SendMsg=1003]="SendMsg",e[e.SendSignalMsg=1004]="SendSignalMsg",e[e.PullMsgBySeqList=1005]="PullMsgBySeqList",e[e.GetConvMaxReadSeq=1006]="GetConvMaxReadSeq",e[e.PushMsg=2001]="PushMsg",e[e.KickOnlineMsg=2002]="KickOnlineMsg",e[e.LogoutMsg=2003]="LogoutMsg",e[e.SetBackgroundStatus=2004]="SetBackgroundStatus",e[e.WsSubUserOnlineStatus=2005]="WsSubUserOnlineStatus",e[e.WSServerConfigMsg=2100]="WSServerConfigMsg",e[e.WSDataError=3001]="WSDataError"}(dt||(dt={})),function(e){e[e.Text=101]="Text",e[e.Picture=102]="Picture",e[e.Sound=103]="Sound",e[e.Video=104]="Video",e[e.File=105]="File",e[e.AtText=106]="AtText",e[e.Merger=107]="Merger",e[e.Card=108]="Card",e[e.Location=109]="Location",e[e.Custom=110]="Custom",e[e.Typing=113]="Typing",e[e.Quote=114]="Quote",e[e.Face=115]="Face",e[e.AdvancedText=117]="AdvancedText",e[e.CustomMsgNotTriggerConversation=119]="CustomMsgNotTriggerConversation",e[e.CustomMsgOnlineOnly=120]="CustomMsgOnlineOnly",e[e.ReactionMessageModifier=121]="ReactionMessageModifier",e[e.ReactionMessageDeleter=122]="ReactionMessageDeleter"}(vt||(vt={})),function(e){e[e.NotificationBegin=1e3]="NotificationBegin",e[e.FriendNotificationBegin=1200]="FriendNotificationBegin",e[e.FriendApplicationApprovedNotification=1201]="FriendApplicationApprovedNotification",e[e.FriendApplicationRejectedNotification=1202]="FriendApplicationRejectedNotification",e[e.FriendApplicationNotification=1203]="FriendApplicationNotification",e[e.FriendAddedNotification=1204]="FriendAddedNotification",e[e.FriendDeletedNotification=1205]="FriendDeletedNotification",e[e.FriendRemarkSetNotification=1206]="FriendRemarkSetNotification",e[e.BlackAddedNotification=1207]="BlackAddedNotification",e[e.BlackDeletedNotification=1208]="BlackDeletedNotification",e[e.FriendInfoUpdatedNotification=1209]="FriendInfoUpdatedNotification",e[e.FriendsInfoUpdateNotification=1210]="FriendsInfoUpdateNotification",e[e.FriendNotificationEnd=1299]="FriendNotificationEnd",e[e.ConversationChangeNotification=1300]="ConversationChangeNotification",e[e.UserNotificationBegin=1301]="UserNotificationBegin",e[e.UserInfoUpdatedNotification=1303]="UserInfoUpdatedNotification",e[e.UserStatusChangeNotification=1304]="UserStatusChangeNotification",e[e.UserCommandAddNotification=1305]="UserCommandAddNotification",e[e.UserCommandDeleteNotification=1306]="UserCommandDeleteNotification",e[e.UserCommandUpdateNotification=1307]="UserCommandUpdateNotification",e[e.UserNotificationEnd=1399]="UserNotificationEnd",e[e.OANotification=1400]="OANotification",e[e.GroupNotificationBegin=1500]="GroupNotificationBegin",e[e.GroupCreatedNotification=1501]="GroupCreatedNotification",e[e.GroupInfoSetNotification=1502]="GroupInfoSetNotification",e[e.JoinGroupApplicationNotification=1503]="JoinGroupApplicationNotification",e[e.MemberQuitNotification=1504]="MemberQuitNotification",e[e.GroupApplicationAcceptedNotification=1505]="GroupApplicationAcceptedNotification",e[e.GroupApplicationRejectedNotification=1506]="GroupApplicationRejectedNotification",e[e.GroupOwnerTransferredNotification=1507]="GroupOwnerTransferredNotification",e[e.MemberKickedNotification=1508]="MemberKickedNotification",e[e.MemberInvitedNotification=1509]="MemberInvitedNotification",e[e.MemberEnterNotification=1510]="MemberEnterNotification",e[e.GroupDismissedNotification=1511]="GroupDismissedNotification",e[e.GroupMemberMutedNotification=1512]="GroupMemberMutedNotification",e[e.GroupMemberCancelMutedNotification=1513]="GroupMemberCancelMutedNotification",e[e.GroupMutedNotification=1514]="GroupMutedNotification",e[e.GroupCancelMutedNotification=1515]="GroupCancelMutedNotification",e[e.GroupMemberInfoSetNotification=1516]="GroupMemberInfoSetNotification",e[e.GroupMemberSetToAdminNotification=1517]="GroupMemberSetToAdminNotification",e[e.GroupMemberSetToOrdinaryUserNotification=1518]="GroupMemberSetToOrdinaryUserNotification",e[e.GroupInfoSetAnnouncementNotification=1519]="GroupInfoSetAnnouncementNotification",e[e.GroupInfoSetNameNotification=1520]="GroupInfoSetNameNotification",e[e.GroupNotificationEnd=1599]="GroupNotificationEnd",e[e.SignalingNotificationBegin=1600]="SignalingNotificationBegin",e[e.SignalingNotification=1601]="SignalingNotification",e[e.RoomParticipantsConnectedNotification=1602]="RoomParticipantsConnectedNotification",e[e.RoomParticipantsDisconnectedNotification=1603]="RoomParticipantsDisconnectedNotification",e[e.StreamChangedNotification=1604]="StreamChangedNotification",e[e.CustomSignalNotification=1605]="CustomSignalNotification",e[e.SignalingNotificationEnd=1649]="SignalingNotificationEnd",e[e.SuperGroupNotificationBegin=1650]="SuperGroupNotificationBegin",e[e.SuperGroupUpdateNotification=1651]="SuperGroupUpdateNotification",e[e.MsgDeleteNotification=1652]="MsgDeleteNotification",e[e.ReactionMessageModifierNotification=1653]="ReactionMessageModifierNotification",e[e.ReactionMessageDeleteNotification=1654]="ReactionMessageDeleteNotification",e[e.SuperGroupNotificationEnd=1699]="SuperGroupNotificationEnd",e[e.ConversationPrivateChatNotification=1701]="ConversationPrivateChatNotification",e[e.ConversationUnreadNotification=1702]="ConversationUnreadNotification",e[e.ClearConversationNotification=1703]="ClearConversationNotification",e[e.WorkMomentNotificationBegin=1900]="WorkMomentNotificationBegin",e[e.WorkMomentNotification=1901]="WorkMomentNotification",e[e.BusinessNotificationBegin=2e3]="BusinessNotificationBegin",e[e.BusinessNotification=2001]="BusinessNotification",e[e.BusinessNotificationEnd=2099]="BusinessNotificationEnd",e[e.RevokeNotification=2101]="RevokeNotification",e[e.HasReadReceiptNotification=2150]="HasReadReceiptNotification",e[e.GroupHasReadReceiptNotification=2155]="GroupHasReadReceiptNotification",e[e.DeleteMsgsNotification=2102]="DeleteMsgsNotification",e[e.HasReadReceipt=2200]="HasReadReceipt",e[e.HasGroupReadReceipt=2300]="HasGroupReadReceipt",e[e.NotificationEnd=5e3]="NotificationEnd"}(me||(me={})),function(e){e[e.UserMsgType=100]="UserMsgType",e[e.SysMsgType=200]="SysMsgType"}(lt||(lt={})),function(e){e[e.MsgStatusDefault=0]="MsgStatusDefault",e[e.MsgStatusSending=1]="MsgStatusSending",e[e.MsgStatusSendSuccess=2]="MsgStatusSendSuccess",e[e.MsgStatusSendFailed=3]="MsgStatusSendFailed",e[e.MsgStatusHasDeleted=4]="MsgStatusHasDeleted",e[e.MsgStatusFiltered=5]="MsgStatusFiltered"}(br||(br={})),function(e){e.IsHistory="history",e.IsPersistent="persistent",e.IsUnreadCount="unreadCount",e.IsConversationUpdate="conversationUpdate",e.IsOfflinePush="offlinePush",e.IsSenderSync="senderSync",e.IsNotPrivate="notPrivate",e.IsSenderConversationUpdate="senderConversationUpdate"}(rr||(rr={})),function(e){e[e.GroupOk=0]="GroupOk",e[e.GroupBanChat=1]="GroupBanChat",e[e.GroupStatusDismissed=2]="GroupStatusDismissed",e[e.GroupStatusMuted=3]="GroupStatusMuted"}(Nu||(Nu={})),function(e){e[e.WorkMomentCommentNotification=0]="WorkMomentCommentNotification",e[e.WorkMomentLikeNotification=1]="WorkMomentLikeNotification",e[e.WorkMomentAtUserNotification=2]="WorkMomentAtUserNotification"}(f1||(f1={})),function(e){e[e.TokenExpiredError=1501]="TokenExpiredError",e[e.TokenInvalidError=1502]="TokenInvalidError",e[e.TokenMalformedError=1503]="TokenMalformedError",e[e.TokenNotValidYetError=1504]="TokenNotValidYetError",e[e.TokenUnknownError=1505]="TokenUnknownError",e[e.TokenKickedError=1506]="TokenKickedError",e[e.TokenNotExistError=1507]="TokenNotExistError"}(_r||(_r={}));OS=((Hr={})[_r.TokenExpiredError]=U.OnUserTokenExpired,Hr[_r.TokenInvalidError]=U.OnUserTokenInvalid,Hr[_r.TokenMalformedError]=U.OnUserTokenInvalid,Hr[_r.TokenNotValidYetError]=U.OnUserTokenInvalid,Hr[_r.TokenUnknownError]=U.OnUserTokenInvalid,Hr[_r.TokenKickedError]=U.OnKickedOffline,Hr[_r.TokenNotExistError]=U.OnUserTokenInvalid,Hr);(function(e){e[e.Nomal=0]="Nomal",e[e.NotReceive=1]="NotReceive",e[e.NotNotify=2]="NotNotify"})(Au||(Au={})),function(e){e[e.Allowed=0]="Allowed",e[e.NotAllowed=1]="NotAllowed"}(p1||(p1={})),function(e){e[e.Group=2]="Group",e[e.WorkingGroup=2]="WorkingGroup"}(h1||(h1={})),function(e){e[e.Invitation=2]="Invitation",e[e.Search=3]="Search",e[e.QrCode=4]="QrCode"}(g1||(g1={})),function(e){e[e.Nomal=20]="Nomal",e[e.Admin=60]="Admin",e[e.Owner=100]="Owner"}(Kh||(Kh={})),function(e){e[e.ApplyNeedInviteNot=0]="ApplyNeedInviteNot",e[e.AllNeed=1]="AllNeed",e[e.AllNot=2]="AllNot"}(m1||(m1={})),function(e){e[e.Sending=1]="Sending",e[e.Succeed=2]="Succeed",e[e.Failed=3]="Failed"}(Cr||(Cr={})),function(e){e[e.iOS=1]="iOS",e[e.Android=2]="Android",e[e.Windows=3]="Windows",e[e.MacOSX=4]="MacOSX",e[e.Web=5]="Web",e[e.Linux=7]="Linux",e[e.AndroidPad=8]="AndroidPad",e[e.iPad=9]="iPad"}(v1||(v1={})),function(e){e[e.Silent=5]="Silent",e[e.Error=4]="Error",e[e.Warn=3]="Warn",e[e.Info=2]="Info",e[e.Debug=1]="Debug",e[e.Trace=0]="Trace"}(Xh||(Xh={})),function(e){e[e.Unprocessed=0]="Unprocessed",e[e.Agree=1]="Agree",e[e.Reject=-1]="Reject"}(wo||(wo={})),function(e){e[e.TextMessage=101]="TextMessage",e[e.PictureMessage=102]="PictureMessage",e[e.VoiceMessage=103]="VoiceMessage",e[e.VideoMessage=104]="VideoMessage",e[e.FileMessage=105]="FileMessage",e[e.AtTextMessage=106]="AtTextMessage",e[e.MergeMessage=107]="MergeMessage",e[e.CardMessage=108]="CardMessage",e[e.LocationMessage=109]="LocationMessage",e[e.CustomMessage=110]="CustomMessage",e[e.TypingMessage=113]="TypingMessage",e[e.QuoteMessage=114]="QuoteMessage",e[e.FaceMessage=115]="FaceMessage",e[e.FriendAdded=1201]="FriendAdded",e[e.OANotification=1400]="OANotification",e[e.GroupCreated=1501]="GroupCreated",e[e.MemberQuit=1504]="MemberQuit",e[e.GroupOwnerTransferred=1507]="GroupOwnerTransferred",e[e.MemberKicked=1508]="MemberKicked",e[e.MemberInvited=1509]="MemberInvited",e[e.MemberEnter=1510]="MemberEnter",e[e.GroupDismissed=1511]="GroupDismissed",e[e.GroupMemberMuted=1512]="GroupMemberMuted",e[e.GroupMemberCancelMuted=1513]="GroupMemberCancelMuted",e[e.GroupMuted=1514]="GroupMuted",e[e.GroupCancelMuted=1515]="GroupCancelMuted",e[e.GroupAnnouncementUpdated=1519]="GroupAnnouncementUpdated",e[e.GroupNameUpdated=1520]="GroupNameUpdated",e[e.BurnMessageChange=1701]="BurnMessageChange",e[e.RevokeMessage=2101]="RevokeMessage"}(ee||(ee={})),function(e){e[e.Single=1]="Single",e[e.Group=3]="Group",e[e.Notification=4]="Notification"}(nt||(nt={})),function(e){e[e.Nomal=0]="Nomal",e[e.Baned=1]="Baned",e[e.Dismissed=2]="Dismissed",e[e.Muted=3]="Muted"}(Nu||(Nu={})),function(e){e[e.AtNormal=0]="AtNormal",e[e.AtMe=1]="AtMe",e[e.AtAll=2]="AtAll",e[e.AtAllAtMe=3]="AtAllAtMe",e[e.AtGroupNotice=4]="AtGroupNotice"}(eg||(eg={})),function(e){e[e.All=0]="All",e[e.Owner=1]="Owner",e[e.Admin=2]="Admin",e[e.Nomal=3]="Nomal",e[e.AdminAndNomal=4]="AdminAndNomal",e[e.AdminAndOwner=5]="AdminAndOwner"}(y1||(y1={})),function(e){e[e.isBlack=0]="isBlack",e[e.isFriend=1]="isFriend"}(D1||(D1={})),function(e){e[e.Logout=1]="Logout",e[e.Logging=2]="Logging",e[e.Logged=3]="Logged"}(En||(En={})),function(e){e[e.Online=1]="Online",e[e.Offline=0]="Offline"}(_1||(_1={})),function(e){e[e.ViewHistory=0]="ViewHistory",e[e.ViewSearch=1]="ViewSearch"}(I1||(I1={}));Lu=function(){return(36*Math.random()).toString(36).slice(2)+new Date().getTime().toString()},FS=function(e){var t=new Date().getTime().toString(),n=Math.floor(Math.random()*new Date().getTime());return Pu.default.hash(t+e+n)},tg=function(e){if(e.sessionType===nt.Single){var t=[e.sendID,e.recvID].sort();return"si_"+t[0]+"_"+t[1]}return e.sessionType===nt.Group?"sg_"+e.groupID:e.sessionType===nt.Notification?"sn_"+e.sendID+"_"+e.recvID:""},sg=function(e){if(e.sessionType===nt.Single){var t=[e.sourceID,e.userID].sort();return"si_"+t[0]+"_"+t[1]}return e.sessionType===nt.Group?"sg_"+e.sourceID:e.sessionType===nt.Notification?"sn_"+e.sourceID+"_"+e.userID:""},zh=function(e,t){return!(t in e&&!e[t])},LS=((Un={})[dt.GetNewestSeq]=st.GetMaxSeqResp.decode,Un[dt.PullMsgByRange]=st.PullMessageBySeqsResp.decode,Un[dt.SendMsg]=st.UserSendMsgResp.decode,Un[dt.PullMsgBySeqList]=st.GetSeqMessageResp.decode,Un[dt.PushMsg]=st.PushMessages.decode,Un[dt.SetBackgroundStatus]=st.SetAppBackgroundStatusResp.decode,Un[dt.WsSubUserOnlineStatus]=st.SubUserOnlineStatusTips.decode,Un[dt.GetConvMaxReadSeq]=st.GetConversationsHasReadAndMaxSeqResp.decode,Un[Re.GetActiveConversations]=st.GetActiveConversationsResp.decode,Un[Re.GetDesignatedConversation]=st.GetConversationsResp.decode,Un),Ru=function(e,t){if(!e)return null;var n=JD(e),r=LS[t];return r?r(new Uint8Array(n)):null},wt=function(e,t,n){var r=new Date().getTime(),i=e.userTrigger.cache.getSelfUserInfo();return{clientMsgID:FS(e.userID),createTime:r,sendTime:r,sessionType:0,sendID:e.userID,msgFrom:t,contentType:n,senderPlatformID:e.platform,senderNickname:i?.nickname,senderFaceUrl:i?.faceURL,seq:0,isRead:!1,status:Cr.Sending}},VS=function(e){return e.sort(function(t,n){return t.isPinned===n.isPinned?t.latestMsgSendTime>n.latestMsgSendTime?-1:t.latestMsgSendTime<n.latestMsgSendTime?1:0:t.isPinned&&!n.isPinned?-1:1})},ze=function(e){function t(n,r){var i;return(i=e.call(this,r)||this).errCode=void 0,i.name=i.constructor.name,i.errCode=n,Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return S1(t,e),t}(Qh(Error)),J=function(e,t,n,r){var i={event:t,operationID:n,data:null,errMsg:"",errCode:0};return e===En.Logout?Promise.reject(le({},i,{errCode:Ve.ResourceLoadNotCompleteError,errMsg:"Resource load not complete"})):r().then(function(o){return o===void 0&&(o=null),le({},i,{data:o})}).catch(function(o){return le({},i,{errCode:o.errCode||Ve.SdkInternalError,errMsg:o.message||"Internal Error"})})},ng="UTF-8",C1="ASCII",jS=ng,bo=65533,k1=function(e,t){if(e<128)t.push(e);else for(var n=[127,2047,65535,2097151],r=0;;){if(++r===n.length)return console.error("UTF-8 Write - attempted to encode illegally high code point - "+e),void k1(bo,t);if(e<=n[r]){r+=1;var i=0,o=void 0;for(o=0;o<r;o++)i<<=1,i|=1;for(i<<=8-r,t.push(i|=e>>6*(r-1)),o=1;o<r;o++)i=128,t.push(i|=e>>6*(r-(o+1))&191);return}}},US=function(e,t,n,r){var i=t.getUint8(n);if(e.bytesRead=1,e.charVal=0,128&i){for(var o=0,s=i;128&s;)o++,s<<=1;if(o===1)return console.error("UTF-8 read - found continuation byte at beginning of character"),void(e.charVal=bo);if(o>r)return console.error("UTF-8 read - attempted to read "+o+" byte character, "+(r-o)+" bytes past end of buffer"),void(e.charVal=bo);e.charVal=i&255>>o+1;for(var a=1;a<o;a++){if((192&(s=t.getUint8(n+a)))!=128)return console.error("UTF-8 read - attempted to read "+o+" byte character, found non-continuation at byte "+a),e.charVal=bo,void(e.bytesRead=1);if(e.charVal<<=6,e.charVal|=63&s,!(a!==1||e.charVal>>8-(o+1)-1))return console.error("UTF-8 read - found overlong encoding"),e.charVal=bo,void(e.bytesRead=1);e.bytesRead++}if(e.charVal>1114111)return console.error("UTF-8 read - found illegally high code point "+e.charVal),e.charVal=bo,void(e.bytesRead=1)}else e.charVal=i},BS=function(e){for(var t=[],n=0;n<e.length;n++)k1(e.charCodeAt(n),t);return t},GS=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r>255&&(r=63),t.push(r)}return t},HS=function(e,t,n,r){var i=n===void 0,o=t||0;if(!i&&o+n>e.byteLength)throw new Error("Attempted to read "+(o+n-e.byteLength)+" bytes past end of buffer");for(var s=[],a={};o<e.byteLength&&(i||n>o-t)&&(US(a,e,o,i?e.byteLength-(o+t):n-(o-t)),o+=a.bytesRead,!i||a.charVal!==r);)s.push(String.fromCharCode(a.charVal));return{str:s.join(""),byteLength:o-t}},$S=function(e,t,n,r){var i=[],o=0;t=t||0;var s=!1;n===void 0&&(s=!0,n=e.byteLength-e.byteOffset);for(var a=0;a<n;a++){var c=e.getUint8(a+t);if(o++,s&&c===r)break;i.push(String.fromCharCode(c))}return{str:i.join(""),byteLength:o}},Ni=og("readString"),Ir=og("writeString"),Dr=og("checkEncoding");zS=new(function(){function e(){Object.defineProperty(this,Dr,{value:qS}),Object.defineProperty(this,Ni,{writable:!0,value:new Map([[C1,$S],[ng,HS]])}),Object.defineProperty(this,Ir,{writable:!0,value:new Map([[C1,GS],[ng,BS]])})}var t=e.prototype;return t.addStringCodec=function(n,r,i){Bn(this,Ni)[Ni].put(n,r),Bn(this,Ir)[Ir].put(n,i)},t.stringByteLength=function(n,r){return r=Bn(this,Dr)[Dr](r),Bn(this,Ir)[Ir].get(r)(n).length},t.getString=function(n,r,i,o){return this.getStringData(n,r,i,o).str},t.getStringData=function(n,r,i,o){return o=Bn(this,Dr)[Dr](o),i||(i=n.byteLength-r),Bn(this,Ni)[Ni].get(o)(n,r,i)},t.getStringNT=function(n,r,i,o){return o===void 0&&(o=0),this.getStringDataNT(n,r,i,o).str},t.getStringDataNT=function(n,r,i,o){return o===void 0&&(o=0),i=Bn(this,Dr)[Dr](i),Bn(this,Ni)[Ni].get(i)(n,r,void 0,o)},t.setString=function(n,r,i,o){o=Bn(this,Dr)[Dr](o);var s,a=Bn(this,Ir)[Ir].get(o)(i);for(s=0;s<a.length&&r+s<n.byteLength;s++)n.setUint8(r+s,a[s]);return s},t.setStringNT=function(n,r,i,o){var s=this.setString(n,r,i,o);return r+s>=n.byteLength&&(s-=1),n.setUint8(r+s,0),s+1},e}()),P1=function(e){return new TextDecoder().decode(e)},Ou=function(e){return new TextEncoder().encode(e)};(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Eo||(Eo={}));WS=function(){function e(t,n,r,i,o,s,a,c){var u=this,l=this;a===void 0&&(a=5e3),c===void 0&&(c=1/0),this.url=void 0,this.onMessage=void 0,this.onReconnecting=void 0,this.onReconnectFailed=void 0,this.onReconnectSuccess=void 0,this.reconnectInterval=void 0,this.maxReconnectAttempts=void 0,this.ws=void 0,this.connectParams=void 0,this.reconnectAttempts=void 0,this.shouldReconnect=void 0,this.isProcessingMessage=!1,this.hasPong=!1,this.platformNamespace=void 0,this.heartbeatInterval=1e4,this.heartbeatWorker=null,this.legacyTimer=null,this.workerUrl=null,this.checkPlatform=function(){return typeof WebSocket<"u"?"web":typeof my<"u"?"my":typeof uni<"u"?"uni":typeof wx<"u"?"wx":"unknow"},this.urlFormat=function(){for(var d="?",p=0,f=Object.entries(l.connectParams);p<f.length;p++){var h=f[p];d+=h[0]+"="+h[1]+"&"}return l.url+d.slice(0,-1)},this.startHeartbeat=function(){if(l.heartbeatWorker&&l.stopHeartbeat(),l.hasPong=!0,typeof Worker<"u"){var d=new Blob([`
        let timerId = null;
        let heartbeatInterval;

        self.onmessage = (e) => {
          if (e.data.type === 'start') {
            heartbeatInterval = e.data.interval;
            if (timerId) return;
            
            timerId = self.setInterval(() => {
              self.postMessage({ type: 'ping' });
            }, heartbeatInterval);
          } else if (e.data.type === 'stop') {
            if (timerId) {
              self.clearInterval(timerId);
              timerId = null;
            }
          }
        };
      `],{type:"application/javascript"});l.workerUrl=URL.createObjectURL(d),l.heartbeatWorker=new Worker(l.workerUrl),l.heartbeatWorker.onmessage=function(p){p.data.type==="ping"&&l.sendPing()},l.heartbeatWorker.postMessage({type:"start",interval:l.heartbeatInterval})}else l.legacyTimer=setInterval(function(){l.sendPing()},l.heartbeatInterval)},this.connect=function(){return l.platformNamespace==="unknow"?Promise.reject(new Error("WebSocket is not supported")):new Promise(function(d,p){if(l.ws&&l.ws.readyState!==Eo.CLOSED)l.ws.readyState===l.ws.OPEN?d():p(new Error("WebSocket is in an unknown state"));else{var f=function(){l.reconnectAttempts&&l.onReconnectSuccess(),l.reconnectAttempts=0,l.startHeartbeat(),d()},h=function(C){return p(C)};if(l.platformNamespace==="web")l.ws=new WebSocket(l.urlFormat()),l.ws.onopen=f,l.ws.onerror=h;else{var I={url:l.urlFormat(),complete:function(){}};l.platformNamespace==="my"&&(I.multiple=!0),l.platformNamespace==="uni"&&(l.ws=uni.connectSocket(I)),l.platformNamespace==="wx"&&(l.ws=wx.connectSocket(I)),l.platformNamespace==="my"&&(l.ws=my.connectSocket(I)),l.ws.onOpen(f),l.ws.onError(h)}l.setupEventListeners()}})},this.setupEventListeners=function(){if(l.ws){var d=function(f){return l.onBinaryMessage(f.data)},p=function(f){if(l.shouldReconnect&&l.reconnectAttempts<l.maxReconnectAttempts){if(l.isProcessingMessage)return void setTimeout(function(){return p()},100);setTimeout(function(){l.onReconnecting(),l.connectParams.operationID=Lu(),l.connect().catch(function(){l.onReconnectFailed()})},l.reconnectInterval),l.reconnectAttempts++}l.stopHeartbeat()};l.platformNamespace==="web"?(l.ws.onmessage=d,l.ws.onclose=p):(l.ws.onMessage(d),l.ws.onClose(p))}},this.onBinaryMessage=function(d){try{return typeof d!="string"&&u.platformNamespace==="my"&&(d=d.data),typeof d=="string"&&JSON.parse(d).type==="pong"?(u.hasPong=!0,Promise.resolve()):(u.isProcessingMessage=!0,Promise.resolve(u.onMessage(d,u.connectParams.operationID)).then(function(){u.isProcessingMessage=!1}))}catch(p){return Promise.reject(p)}},this.sendPing=function(){var d;if(((d=l.ws)==null?void 0:d.readyState)===Eo.OPEN){if(!l.hasPong)return l.ws.close(),void l.stopHeartbeat();var p=JSON.stringify({type:"ping"});l.ws.send(l.platformNamespace==="web"?p:{data:p}),l.hasPong=!1}},this.sendMessage=function(d){var p,f=Ou(JSON.stringify(d));((p=l.ws)==null?void 0:p.readyState)===Eo.OPEN?l.ws.send(l.platformNamespace==="web"?f:{data:Uint8Array.from(f).buffer}):console.error("WebSocket is not open. Message not sent.")},this.close=function(){var d;l.shouldReconnect=!1,((d=l.ws)==null?void 0:d.readyState)===Eo.OPEN&&l.ws.close()},this.url=t,this.onMessage=r,this.onReconnecting=i,this.onReconnectFailed=o,this.onReconnectSuccess=s,this.reconnectInterval=a,this.maxReconnectAttempts=c,this.connectParams=n,this.reconnectInterval=a,this.maxReconnectAttempts=c,this.reconnectAttempts=0,this.shouldReconnect=!0,this.platformNamespace=this.checkPlatform()}return e.prototype.stopHeartbeat=function(){this.heartbeatWorker&&(this.heartbeatWorker.postMessage({type:"stop"}),this.heartbeatWorker.terminate(),this.workerUrl&&(URL.revokeObjectURL(this.workerUrl),this.workerUrl=null),this.heartbeatWorker=null),this.legacyTimer&&(clearInterval(this.legacyTimer),this.legacyTimer=null)},e}(),ZS=function(){function e(){this.events=void 0,this.events={}}var t=e.prototype;return t.emit=function(n,r){return this.events[n]&&this.events[n].forEach(function(i){return i(r)}),this},t.on=function(n,r){return this.events[n]?this.events[n].push(r):this.events[n]=[r],this},t.off=function(n,r){if(n&&typeof r=="function"&&this.events[n]){var i=this.events[n];if(!i||i.length===0)return;var o=i.findIndex(function(s){return s===r});o!==-1&&i.splice(o,1)}return this},e}(),JS=["friendUser"],YS=["blackUserInfo"],rg=function(e){var t,n,r,i,o,s,a,c,u,l,d,p,f,h;return{createTime:(t=e.groupInfo)==null?void 0:t.createTime,creatorUserID:(n=e.groupInfo)==null?void 0:n.creatorUserID,ex:e.ex,groupFaceURL:(r=e.groupInfo)==null?void 0:r.faceURL,groupID:(i=e.groupInfo)==null?void 0:i.groupID,groupName:(o=e.groupInfo)==null?void 0:o.groupName,groupType:(s=e.groupInfo)==null?void 0:s.groupType,handleResult:e.handleResult,handleUserID:e.handleUserID,handledMsg:e.handleMsg,handledTime:e.handleTime,introduction:(a=e.groupInfo)==null?void 0:a.introduction,memberCount:(c=e.groupInfo)==null?void 0:c.memberCount,nickname:(u=e.userInfo)==null?void 0:u.nickname,notification:(l=e.groupInfo)==null?void 0:l.notification,ownerUserID:(d=e.groupInfo)==null?void 0:d.ownerUserID,reqMsg:e.reqMsg,reqTime:e.reqTime,joinSource:e.joinSource,status:(p=e.groupInfo)==null?void 0:p.status,userFaceURL:(f=e.userInfo)==null?void 0:f.faceURL,userID:(h=e.userInfo)==null?void 0:h.userID}},ku=function(e){return{clientMsgID:e.clientMsgID,serverMsgID:e.serverMsgID,createTime:e.createTime,sendTime:e.sendTime,sessionType:e.sessionType,sendID:e.sendID,recvID:e.recvID,msgFrom:e.msgFrom,contentType:e.contentType,senderPlatformID:e.senderPlatformID,senderNickname:e.senderNickname,senderFaceUrl:e.senderFaceURL,groupID:e.groupID,content:e.content.length?P1(e.content):"",seq:e.seq,isRead:e.isRead,status:br.MsgStatusSendSuccess,isExternalExtensions:!1,offlinePush:e.offlinePushInfo,attachedInfo:e.attachedInfo,ex:e.ex,localEx:""}},Mn=function(e){var t=le({},e);try{switch(e.contentType){case vt.Text:t.textElem=JSON.parse(t.content);break;case vt.Picture:t.pictureElem=JSON.parse(t.content);break;case vt.Sound:t.soundElem=JSON.parse(t.content);break;case vt.Video:t.videoElem=JSON.parse(t.content);break;case vt.File:t.fileElem=JSON.parse(t.content);break;case vt.AtText:t.atTextElem=JSON.parse(t.content);break;case vt.Location:t.locationElem=JSON.parse(t.content);break;case vt.Custom:case vt.CustomMsgNotTriggerConversation:case vt.CustomMsgOnlineOnly:t.customElem=JSON.parse(t.content);break;case vt.Typing:t.typingElem=JSON.parse(t.content);break;case vt.Merger:t.mergeElem=JSON.parse(t.content);break;case vt.Face:t.faceElem=JSON.parse(t.content);break;case vt.Quote:t.quoteElem=JSON.parse(t.content);break;case vt.Card:t.cardElem=JSON.parse(t.content);break;default:t.notificationElem=JSON.parse(t.content)}}catch{ne.default.warn("messageElemFormater messageElem parse failed",t)}if(e.attachedInfo)try{t.attachedInfoElem=JSON.parse(t.attachedInfo),t.attachedInfo=""}catch{ne.default.warn("messageElemFormater attachedInfoElem failed",t.attachedInfo)}return t.content="",t},je=function(e){var t=P1(e),n=JSON.parse(t);return JSON.parse(n.detail)},ig=function(e,t,n){var r=e.conversation,i=e.group,o=e.friend,s=e.user,a=e.lastMsg,c=e.maxSeq,u=e.readSeq;try{var l,d,p,f,h=function(){var y,g;return{conversationID:r.conversationID,conversationType:r.conversationType,userID:r.userID,groupID:r.groupID,showName:l,faceURL:I,recvMsgOpt:r.recvMsgOpt,unreadCount:c-u,groupAtType:r.groupAtType,latestMsg:C,latestMsgSendTime:(y=(g=a?.sendTime)!=null?g:n)!=null?y:0,draftText:"",draftTextTime:0,burnDuration:r.burnDuration,msgDestructTime:r.msgDestructTime,isPinned:r.isPinned,isPrivateChat:r.isPrivateChat,isMsgDestruct:r.isMsgDestruct,attachedInfo:r.attachedInfo,ex:r.ex}},I="",C=a?JSON.stringify(Mn(ku(a))):"";r?.conversationType===nt.Group?(l=(d=i?.groupName)!=null?d:"",I=(p=i?.faceURL)!=null?p:""):(l=o?.remark||s?.nickname||"",I=(f=s?.faceURL)!=null?f:"");var _=function(){if(a?.status===br.MsgStatusHasDeleted)return Promise.resolve(t({conversationID:r?.conversationID,seq:a.seq,operationID:Lu()})).then(function(y){y&&(C=JSON.stringify(Mn(y)))})}();return Promise.resolve(_&&_.then?_.then(h):h())}catch(y){return Promise.reject(y)}},Fu=function(e){var t=e.friendUser;return le({},x1(e,JS),{userID:t.userID,nickname:t.nickname,faceURL:t.faceURL,attachedInfo:""})},N1=function(e){var t=e.blackUserInfo;return le({},x1(e,YS),{userID:t.userID,nickname:t.nickname,faceURL:t.faceURL})},b1=function(){function e(n){var r=this;this.store=void 0,this.options=void 0,this.expiryListeners=[],this.cleanupTimer=void 0,this.options=n,this.store=new Map,this.options.cleanupInterval>0&&(this.cleanupTimer=setInterval(function(){r.deleteExpired()},this.options.cleanupInterval))}var t=e.prototype;return t.onExpiry=function(n){this.expiryListeners.push(n)},t.triggerExpiry=function(n,r){this.expiryListeners.forEach(function(i){return i(n,r)}),this.delete(n)},t.set=function(n,r){var i=this;this.delete(n);var o=Date.now(),s=null;this.options.ttl>0&&(s=setTimeout(function(){clearTimeout(s),i.triggerExpiry(n,r)},this.options.ttl)),this.store.set(n,{value:r,timer:s,created:o})},t.get=function(n){var r=this.store.get(n);if(r&&Date.now()-r.created<this.options.ttl)return r.value},t.delete=function(n){var r=this.store.get(n);return!!r&&(r.timer&&clearTimeout(r.timer),this.store.delete(n),!0)},t.clear=function(){this.store.forEach(function(n,r){n.timer&&clearTimeout(n.timer)}),this.store.clear()},t.deleteExpired=function(){var n=this,r=Date.now();this.store.forEach(function(i,o){i.created+n.options.ttl<=r&&n.triggerExpiry(o,i.value)})},t.dispose=function(){this.cleanupTimer&&clearInterval(this.cleanupTimer),this.clear()},e}(),Wh=15e3;(function(e){e.Success="stateCodeSuccess",e.End="stateCodeEnd"})(Mo||(Mo={}));QS=function(e){var t=this,n=this,r=this;this.ctx=void 0,this.send=void 0,this.state=void 0,this.platformIDs=[],this.platformIDSet=new Map,this.reset=function(){r.send.clear(),r.state.clear()},this.changeInputStates=function(i){var o=i.conversationID,s=i.focus,a=i.operationID;try{return Promise.resolve(t.ctx.messageTrigger.getOneConversationAndTryChange(o,a)).then(function(c){if(!c)throw new Error("conversation not exist");if(s){if(t.send.get(o)===Mo.Success)return;t.send.set(o,Mo.Success)}else{if(!t.send.get(o)||t.send.get(o)===Mo.End)return;t.send.set(o,Mo.End)}var u=wt(t.ctx,lt.UserMsgType,ee.TypingMessage);u.recvID=c.userID,u.groupID=c.groupID,u.sessionType=c.conversationType,u.content=JSON.stringify({msgTips:s?"yes":"no"});var l={};Object.values(rr).forEach(function(p){return l[p]=!1});var d=st.MsgData.encode(le({},u,{content:Ou(u.content),senderFaceURL:u.senderFaceUrl,options:l,offlinePushInfo:void 0,atUserIDList:[],keyVersion:0,dstUserIDs:[]})).finish();return Promise.resolve(t.ctx.sendReqWaitResp({data:d,operationID:a,reqIdentifier:dt.SendMsg})).then(function(){})})}catch(c){return Promise.reject(c)}},this.onNewMessage=function(i){try{var o=i.typingElem;if(i.sendID===n.ctx.userID||!n.platformIDSet.has(i.senderPlatformID))return Promise.resolve();var s=Date.now()+10,a=sg({sourceID:i.groupID||i.sendID,sessionType:i.sessionType,userID:n.ctx.userID}),c=JSON.stringify({conversationID:a,platformID:i.senderPlatformID,userID:i.sendID});return o?.msgTips==="yes"?(n.state.get(c)||setTimeout(function(){return n.triggerChange(a,i.sendID)}),n.state.set(c,s)):n.triggerChange(a,i.sendID),Promise.resolve()}catch(u){return Promise.reject(u)}},this.triggerChange=function(i,o){r.ctx.triggerEvent({event:U.OnConversationUserInputStatusChanged,data:{conversationID:i,userID:o,platformIDs:r.getInputStates(i,o)}})},this.getInputStates=function(i,o){var s=[];return r.platformIDs.forEach(function(a){var c=JSON.stringify({conversationID:i,platformID:a,userID:o});r.state.get(c)&&s.push(a)}),s},this.ctx=e,this.send=new b1({ttl:1e4,cleanupInterval:Wh}),this.state=new b1({ttl:Wh,cleanupInterval:Wh}),[1,2,3,4,5,7,8,9].forEach(function(i){r.platformIDSet.set(i),r.platformIDs.push(i)}),this.platformIDs.sort(function(i,o){return i-o}),this.state.onExpiry(function(i){var o=JSON.parse(i);r.triggerChange(o.conversationID,o.userID)})},KS=function(e){var t=this,n=this,r=this,i=this;this.instance=void 0,this.totalUnreadCount=0,this.cachedNotNotifyConversationIDs=new Set,this.cachedConversations=new Map,this.cachedMessages=new Map,this.cachedFilterMessageSeqs=new Map,this.cachedHasReadAndMaxSeqs={},this.clear=function(){i.totalUnreadCount=0,i.cachedHasReadAndMaxSeqs={},i.cachedNotNotifyConversationIDs.clear(),i.cachedMessages.clear(),i.cachedConversations.clear(),i.cachedFilterMessageSeqs.clear()},this.getActiveConversationsFromServer=function(o){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:Re.GetActiveConversations,data:st.GetActiveConversationsReq.encode({ownerUserID:t.instance.userID,count:20}).finish(),operationID:o})).then(function(s){var a=Ru(s,Re.GetActiveConversations);if(a){console.warn(a);var c=a.conversations;t.totalUnreadCount=a.unreadCount;var u=t.instance.messageTrigger.cache,l=u.setCachedConversations;return Promise.resolve(Promise.all(c.map(function(d){var p,f;return ig(d,t.instance.messageTrigger.getPreviousSeqMessage,(p=t.instance.messageTrigger.cache.getCachedMaxReadSeq((f=d.conversation)==null?void 0:f.conversationID))==null?void 0:p.maxSeqTime)}))).then(function(d){l.call(u,d)})}})}catch(s){return Promise.reject(s)}},this.getTotalUnreadCount=function(){return i.totalUnreadCount},this.setTotalUnreadCount=function(o,s){o!==i.totalUnreadCount&&(o<0&&(o=0),i.totalUnreadCount=o,i.instance.triggerEvent({event:U.OnTotalUnreadMessageCountChanged,data:o,operationID:s}))},this.decreaseTotalUnreadCount=function(o,s){i.setTotalUnreadCount(i.totalUnreadCount-o,s)},this.getMaxReadSeqs=function(o,s){s===void 0&&(s=[]);try{var a=st.GetConversationsHasReadAndMaxSeqReq.encode({userID:n.instance.userID,conversationIDs:s}).finish();return Promise.resolve(n.instance.sendReqWaitResp({operationID:o,data:a,reqIdentifier:dt.GetConvMaxReadSeq})).then(function(c){function u(){n.cachedHasReadAndMaxSeqs=c.seqs}if(c){var l=function(){if(n.instance.isReconnected)return Promise.resolve(n.instance.messageTrigger.syncer.compareSeqsAndBatchSync(c.seqs,o)).then(function(){})}();return l&&l.then?l.then(u):u()}})}catch(c){return Promise.reject(c)}},this.getSortedConversationIDs=function(o,s){return Object.keys(i.cachedHasReadAndMaxSeqs).sort(function(a,c){return i.cachedHasReadAndMaxSeqs[c].maxSeqTime-i.cachedHasReadAndMaxSeqs[a].maxSeqTime}).slice(o,o+s)},this.getCachedMaxReadSeq=function(o){return i.cachedHasReadAndMaxSeqs[o]},this.addCachedMaxReadSeq=function(o,s){i.cachedHasReadAndMaxSeqs[o]=s},this.updateCachedMaxReadSeq=function(o,s){i.cachedHasReadAndMaxSeqs[o]?i.cachedHasReadAndMaxSeqs[o]=le({},i.cachedHasReadAndMaxSeqs[o],s):ne.default.warn("updateCachedMaxReadSeq: conversationID not found",o,"seqs",s)},this.removeCachedMaxReadSeq=function(o){delete i.cachedHasReadAndMaxSeqs[o]},this.getNotNotifyConversationIDs=function(o){try{return Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Re.GetNotNotifyConversationIDs,data:{userID:r.instance.userID},operationID:o})).then(function(s){var a=s.conversationIDs;r.cachedNotNotifyConversationIDs=new Set(a??[])})}catch(s){return Promise.reject(s)}},this.isNotNotifyConversation=function(o){return i.cachedNotNotifyConversationIDs.has(o)},this.addNotNotifyConversationID=function(o){i.cachedNotNotifyConversationIDs.has(o)||i.cachedNotNotifyConversationIDs.add(o)},this.deleteNotNotifyConversationID=function(o){i.cachedNotNotifyConversationIDs.has(o)&&i.cachedNotNotifyConversationIDs.delete(o)},this.getCachedConversation=function(o){return i.cachedConversations.get(o)},this.getAllCachedConversations=function(){return Array.from(i.cachedConversations.values())},this.setCachedConversations=function(o){o.map(function(s){i.cachedConversations.set(s.conversationID,s)})},this.getCachedMessagesBySeqs=function(o,s){var a=i.cachedMessages.get(o)||[],c=[],u=[];return s.forEach(function(l){var d=a.find(function(p){return p.seq===l});d?u.push(d):c.push(l)}),{cachedMessages:u,unCachedSeqs:c}},this.getCachedMessageByClientMsgIDs=function(o,s){return(i.cachedMessages.get(o)||[]).filter(function(a){return s.includes(a.clientMsgID)})},this.addMessagesToCache=function(o,s){var a=i.cachedMessages.get(o)||[];i.cachedMessages.set(o,[].concat(a,s))},this.deleteMessageFromCache=function(o,s){var a=i.cachedMessages.get(o)||[];i.cachedMessages.set(o,a.filter(function(c){return c.seq!==s})),i.addFilterSeqsToCache(o,[s])},this.clearCachedConversationMessages=function(o){i.cachedMessages.delete(o)},this.markCachedMessagesAsRead=function(o,s){(i.cachedMessages.get(o)||[]).forEach(function(a){(!s&&a.sendID!==i.instance.userID||s!=null&&s.includes(a.seq))&&(a.isRead=!0)})},this.tryUpdateCachedMessages=function(o,s){var a=i.cachedMessages.get(o)||[],c=a.findIndex(function(u){return u.clientMsgID===s.clientMsgID});if(c!==-1)return Object.assign(a[c],s),a[c]},this.tryUpdateQuotedMessage=function(o,s){var a=i.cachedMessages.get(o)||[],c=a.findIndex(function(l){var d;if(l.contentType===vt.Quote)return((d=Mn(l).quoteElem)==null?void 0:d.quoteMessage.clientMsgID)===s});if(c!==-1){var u=JSON.parse(a[c].content);u.quoteMessage.contentType=me.RevokeNotification,Object.assign(a[c],{content:JSON.stringify(u)})}},this.addFilterSeqsToCache=function(o,s){var a=i.cachedFilterMessageSeqs.get(o)||[];i.cachedFilterMessageSeqs.set(o,[].concat(a,s))},this.checkIsFilterSeq=function(o,s){var a;return(a=i.cachedFilterMessageSeqs.get(o))==null?void 0:a.includes(s)},this.instance=e};XS=function(e){var t=this,n=this,r=this,i=this,o=this;this.instance=void 0,this.defaultPullNums=10,this.SplitPullMsgNum=100,this.syncedConversationVersion=0,this.syncedConversationVersionID="",this.reset=function(){o.syncedConversationVersion=0,o.syncedConversationVersionID=""},this.syncConversationVersion=function(s){try{return Promise.resolve(t.instance.sendHttpRequest({operationID:s,reqFuncName:Re.GetConversationVersion,data:{userID:t.instance.userID,version:t.syncedConversationVersion,versionID:t.syncedConversationVersionID}})).then(function(a){t.syncedConversationVersionID&&t.compareVersionAndTrigger(a),t.syncedConversationVersion=a.version,t.syncedConversationVersionID=a.versionID})}catch(a){return Promise.reject(a)}},this.compareVersionAndTrigger=function(s){var a=s.insert,c=s.update;(a??[]).map(function(u){return Promise.resolve()}),(c??[]).map(function(u){try{return Promise.resolve(o.instance.messageTrigger.getOneConversationAndTryChange(u.conversationID,"",le({},u))).then(function(){})}catch(l){return Promise.reject(l)}})},this.compareSeqsAndBatchSync=function(s,a){try{for(var c=new Map,u=0,l=Object.entries(s);u<l.length;u++){var d,p=l[u],f=p[0],h=p[1],I=(d=n.instance.messageTrigger.cache.getCachedMaxReadSeq(f))==null?void 0:d.maxSeq;I?h.maxSeq>I&&c.set(f,[I+1,h.maxSeq,h.maxSeqTime]):c.set(f,[0,h.maxSeq,h.maxSeqTime])}return n.syncAndTriggerMsgs(c,a),Promise.resolve()}catch(C){return Promise.reject(C)}},this.isNotification=function(s){return s.startsWith("n_")},this.syncAndTriggerMsgs=function(s,a){try{return ne.default.debug("Current sync seqMap",s,s.size),Promise.resolve(function(){if(s.size>0){var c=function(p){return Zh(function(){return Promise.resolve(r.pullMsgBySeqRange(u,a)).then(function(f){return Promise.resolve(r.instance.messageTrigger.triggerConversation(f.msgs,a)).then(function(){return Promise.resolve(r.instance.messageTrigger.triggerNotification(f.notificationMsgs,a)).then(function(){for(var h,I=$h(s);!(h=I()).done;){var C=h.value,_=C[1];r.instance.messageTrigger.cache.updateCachedMaxReadSeq(C[0],{maxSeq:_[1],maxSeqTime:_[2]})}})})})},function(f){throw ne.default.error("Sync message from server error",f,s),f})},u=new Map,l=0,d=function(p,f){if(typeof p[w1]=="function"){var h,I,C,_=function(v){try{for(;!(h=y.next()).done;)if((v=f(h.value))&&v.then){if(!$r(v))return void v.then(_,C||(C=yt.bind(null,I=new Ai,2)));v=v.v}I?yt(I,1,v):I=v}catch(S){yt(I||(I=new Ai),2,S)}},y=p[w1]();if(_(),y.return){var g=function(v){try{h.done||y.return()}catch{}return v};if(I&&I.then)return I.then(g,function(v){throw g(v)});g()}return I}if(!("length"in p))throw new TypeError("Object is not iterable");for(var m=[],D=0;D<p.length;D++)m.push(p[D]);return function(v,S){var M,O,N=-1;return function V(j){try{for(;++N<v.length;)if((j=S(N))&&j.then){if(!$r(j))return void j.then(V,O||(O=yt.bind(null,M=new Ai,2)));j=j.v}M?yt(M,1,j):M=j}catch(z){yt(M||(M=new Ai),2,z)}}(),M}(m,function(v){return f(m[v])})}(s.entries(),function(p){var f=p[0],h=p[1];function I(D){return u.set(f,h),l+=g,function(){if(l>=r.SplitPullMsgNum)return Zh(function(){return Promise.resolve(r.pullMsgBySeqRange(u,a)).then(function(v){return Promise.resolve(r.instance.messageTrigger.triggerConversation(v.msgs,a)).then(function(){return Promise.resolve(r.instance.messageTrigger.triggerNotification(v.notificationMsgs,a)).then(function(){for(var S,M=$h(u);!(S=M()).done;){var O=S.value,N=O[1];r.instance.messageTrigger.cache.updateCachedMaxReadSeq(O[0],{maxSeq:N[1],maxSeqTime:N[2]})}u=new Map,l=0})})})},function(v){throw ne.default.error("Sync message from server error",v,u),v})}()}var C=h[0],_=h[1],y=h[2],g=_-C+1,m=function(){if(g/r.SplitPullMsgNum>1&&r.isNotification(f)){var D=new Map,v=Math.floor(g/r.SplitPullMsgNum),S=C,M=0,O=0;return function(N,V,j){for(var z;;){var ge=N();if($r(ge)&&(ge=ge.v),!ge)return te;if(ge.then){z=0;break}var te=j();if(te&&te.then){if(!$r(te)){z=1;break}te=te.s}if(V){var W=V();if(W&&W.then&&!$r(W)){z=2;break}}}var Z=new Ai,E=yt.bind(null,Z,2);return(z===0?ge.then(X):z===1?te.then(T):W.then(se)).then(void 0,E),Z;function T(Le){te=Le;do{if(V&&(W=V())&&W.then&&!$r(W))return void W.then(se).then(void 0,E);if(!(ge=N())||$r(ge)&&!ge.v)return void yt(Z,1,te);if(ge.then)return void ge.then(X).then(void 0,E);$r(te=j())&&(te=te.v)}while(!te||!te.then);te.then(T).then(void 0,E)}function X(Le){Le?(te=j())&&te.then?te.then(T).then(void 0,E):T(te):yt(Z,1,te)}function se(){(ge=N())?ge.then?ge.then(X).then(void 0,E):X(ge):yt(Z,1,te)}}(function(){return O<=v},function(){return O++},function(){return O===v?D.set(f,[S,_,y]):((M=S+r.SplitPullMsgNum)>_&&(M=_,O=v),D.set(f,[S,M,y])),Zh(function(){return Promise.resolve(r.pullMsgBySeqRange(D,a)).then(function(N){return Promise.resolve(r.instance.messageTrigger.triggerConversation(N.msgs,a)).then(function(){return Promise.resolve(r.instance.messageTrigger.triggerNotification(N.notificationMsgs,a)).then(function(){for(var V,j=$h(D);!(V=j()).done;){var z=V.value,ge=z[1];r.instance.messageTrigger.cache.updateCachedMaxReadSeq(z[0],{maxSeq:ge[1],maxSeqTime:ge[2]})}S=M+1})})})},function(N){throw ne.default.error("Sync message from server error",N,D),N})})}}();return m&&m.then?m.then(I):I()});return d&&d.then?d.then(c):c()}ne.default.debug("Nothing to sync")}())}catch(c){return Promise.reject(c)}},this.pullMsgBySeqRange=function(s,a){try{var c=[].concat(s.entries()).map(function(l){var d=l[1];return{conversationID:l[0],begin:d[0],end:d[1],num:i.defaultPullNums}});ne.default.debug("PullMsgBySeqRange with opid: ",a,"seqRanges: ",c);var u=st.PullMessageBySeqsReq.encode({userID:i.instance.userID,seqRanges:c,order:a1.PullOrder.PullOrderAsc}).finish();return Promise.resolve(i.instance.sendReqWaitResp({operationID:a,data:u,reqIdentifier:dt.PullMsgByRange}))}catch(l){return Promise.reject(l)}},this.instance=e};Ai=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{yt(r,1,o(this.v))}catch(s){yt(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?yt(r,1,t?t(a):a):n?yt(r,1,n(a)):yt(r,2,a)}catch(c){yt(r,2,c)}},r},e}();w1=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";eT=[br.MsgStatusHasDeleted,br.MsgStatusFiltered],A1=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{on(r,1,o(this.v))}catch(s){on(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?on(r,1,t?t(a):a):n?on(r,1,n(a)):on(r,2,a)}catch(c){on(r,2,c)}},r},e}(),tT=function(e){var t=this,n=this,r=this,i=this,o=this,s=this,a=this,c=this,u=this,l=this,d=this,p=this;this.instance=void 0,this.cache=void 0,this.syncer=void 0,this.triggeredConversationEvent=new Map,this.typingManager=void 0,this.sync=function(f){try{return Promise.resolve(n.cache.getMaxReadSeqs(f)).then(function(){var h=[n.syncer.syncConversationVersion(f),n.cache.getActiveConversationsFromServer(f),n.cache.getNotNotifyConversationIDs(f)];return Promise.resolve(Promise.all(h)).then(function(){})})}catch(h){return Promise.reject(h)}},this.reset=function(){t.cache.clear(),t.syncer.reset(),t.typingManager.reset(),t.triggeredConversationEvent.clear()},this.setTriggeredConversationEvent=function(f){t.triggeredConversationEvent.set(f,!0)},this.getMessageWithCacheBySeqs=function(f,h,I){try{var C=function(){return m.sort(function(S,M){return S.seq-M.seq}),{messages:m,filterCount:D}},_=r.cache.getCachedMessagesBySeqs(f,h),y=_.cachedMessages,g=_.unCachedSeqs,m=[].concat(y),D=0;ne.default.debug("after getCachedMessagesBySeqs with opid: ",I,"seqs: ",h,"cachedMessages: ",y,"unCachedSeqs: ",g);var v=function(){if(g.length)return Promise.resolve(r.getMessageFromServerBySeqs([{conversationID:f,seqs:g}],I)).then(function(S){var M=[],O=[];S.msgs[f].Msgs.forEach(function(N){eT.includes(N.status)?(M.push(N.seq),D++):O.push(ku(N))}),S.msgs[f].Msgs.length||M.push.apply(M,g),r.cache.addMessagesToCache(f,O),r.cache.addFilterSeqsToCache(f,M),m.push.apply(m,O)})}();return Promise.resolve(v&&v.then?v.then(C):C())}catch(S){return Promise.reject(S)}},this.getPreviousSeqMessage=function(f){var h=f.conversationID,I=f.seq,C=f.operationID;try{if(I<1)return Promise.resolve(null);for(var _=[],y=I;_.length<10&&!(y<1);y--)i.cache.checkIsFilterSeq(h,y)||_.push(y);return Promise.resolve(i.getMessageWithCacheBySeqs(h,_,C)).then(function(g){var m,D=g.messages;function v(M){return m?M:D[D.length-1]}var S=function(){if(!D.length)return Promise.resolve(i.getPreviousSeqMessage({seq:_[_.length-1],operationID:C,conversationID:h})).then(function(M){return m=1,M})}();return S&&S.then?S.then(v):v(S)})}catch(g){return Promise.reject(g)}},this.initConversation=function(f){try{var h=function(_){return o.cache.setCachedConversations([I]),I},I={conversationID:sg(le({},f,{userID:o.instance.userID})),userID:"",groupID:"",recvMsgOpt:Au.Nomal,unreadCount:0,groupAtType:eg.AtNormal,latestMsg:"",latestMsgSendTime:0,draftText:"",draftTextTime:0,burnDuration:0,msgDestructTime:0,isPinned:!1,isPrivateChat:!1,isMsgDestruct:!1,attachedInfo:"",ex:""},C=f.sessionType===nt.Group?Promise.resolve(o.instance.groupTrigger.cache.getGroupInfosWithCache([f.sourceID],f.operationID)).then(function(_){if(!_[0])throw new Error("target group not exist");I.showName=_[0].groupName,I.faceURL=_[0].faceURL,I.conversationType=nt.Group,I.groupID=f.sourceID}):(I.userID=f.sourceID,I.conversationType=nt.Single,Promise.resolve(o.instance.getSpecifiedFriendsInfo([f.sourceID],f.operationID)).then(function(_){var y=_.data,g=function(){if(!y.length)return Promise.resolve(o.instance.getUsersInfo([f.sourceID],f.operationID)).then(function(m){var D=m.data;I.showName=D[0].nickname,I.faceURL=D[0].faceURL});I.showName=y[0].remark||y[0].nickname,I.faceURL=y[0].faceURL}();if(g&&g.then)return g.then(function(){})}));return Promise.resolve(C&&C.then?C.then(h):h())}catch(_){return Promise.reject(_)}},this.getConversationsWithCacheByIDs=function(f,h){try{var I=function(){return[].concat(C,_)},C=[],_=[],y=[];f.forEach(function(m){var D=s.cache.getCachedConversation(m);D?C.push(D):y.push(m)});var g=function(){if(y.length)return Promise.resolve(s.instance.sendHttpRequest({reqFuncName:Re.GetDesignatedConversation,data:st.GetConversationsReq.encode({ownerUserID:s.instance.userID,conversationIDs:y}).finish(),operationID:h})).then(function(m){var D=Ru(m,Re.GetDesignatedConversation),v=_.push;return Promise.resolve(Promise.all(D.conversations.map(function(S){var M,O;return ig(S,s.getPreviousSeqMessage,(M=s.cache.getCachedMaxReadSeq((O=S.conversation)==null?void 0:O.conversationID))==null?void 0:M.maxSeqTime)}))).then(function(S){v.call.apply(v,[_].concat(S)),s.cache.setCachedConversations(_)})})}();return Promise.resolve(g&&g.then?g.then(I):I())}catch(m){return Promise.reject(m)}},this.getOneConversationAndTryChange=function(f,h,I,C,_){try{var y,g=function(v){return y?v:(m&&I&&a.instance.triggerEvent({event:_?U.OnNewConversation:U.OnConversationChanged,data:[le({},m)],operationID:h}),m)},m=void 0;m=a.cache.getCachedConversation(f);var D=function(){if(!m)return function(){if(a.cache.getCachedMaxReadSeq(f))return Promise.resolve(a.instance.sendHttpRequest({reqFuncName:Re.GetDesignatedConversation,data:st.GetConversationsReq.encode({ownerUserID:a.instance.userID,conversationIDs:[f]}).finish(),operationID:h})).then(function(v){var S,M=Ru(v,Re.GetDesignatedConversation).conversations;if(M)return Promise.resolve(ig(M[0],a.getPreviousSeqMessage,(S=a.cache.getCachedMaxReadSeq(f))==null?void 0:S.maxSeqTime)).then(function(O){a.cache.setCachedConversations([m=O])});y=1})}();I?.recvMsgOpt!==void 0&&(I.recvMsgOpt===Au.Nomal?a.cache.deleteNotNotifyConversationID(f):a.cache.addNotNotifyConversationID(f)),I&&Object.assign(m,I),C&&(m.unreadCount+=1)}();return Promise.resolve(D&&D.then?D.then(g):g(D))}catch(v){return Promise.reject(v)}},this.getMessageFromServerBySeqs=function(f,h){try{var I=st.GetSeqMessageReq.encode({userID:c.instance.userID,conversations:f}).finish();return Promise.resolve(c.instance.sendReqWaitResp({operationID:h,data:I,reqIdentifier:dt.PullMsgBySeqList}))}catch(C){return Promise.reject(C)}},this.revokeMessage=function(f,h){try{return Promise.resolve(u.getMessageWithCacheBySeqs(f.conversationID,[f.seq],h)).then(function(I){function C(){function D(){var O,N;u.instance.triggerEvent({event:U.OnNewRecvMessageRevoked,data:v,operationID:h});var V=(O=(N=u.cache.getCachedMaxReadSeq(f.conversationID))==null?void 0:N.maxSeq)!=null?O:0,j=function(){if(V<=f.seq)return u.cache.updateCachedMaxReadSeq(f.conversationID,{maxSeqTime:f.revokeTime}),Promise.resolve(u.getOneConversationAndTryChange(f.conversationID,h,{latestMsg:JSON.stringify(Mn(S)),latestMsgSendTime:f.revokeTime})).then(function(){})}();if(j&&j.then)return j.then(function(){})}var v={revokerID:f.revokerUserID,revokerRole:y,clientMsgID:_.clientMsgID,revokerNickname:g,revokeTime:f.revokeTime,sourceMessageSendTime:_.sendTime,sourceMessageSendID:_.sendID,sourceMessageSenderNickname:_.senderNickname,sessionType:f.sesstionType,seq:f.seq,ex:"",isAdminRevoke:f.isAdminRevoke},S=u.cache.tryUpdateCachedMessages(f.conversationID,{clientMsgID:f.clientMsgID,seq:f.seq,content:JSON.stringify({detail:JSON.stringify(v)}),contentType:me.RevokeNotification});u.cache.tryUpdateQuotedMessage(f.conversationID,f.clientMsgID);var M=function(){if(!S)return Promise.resolve(u.getMessageFromServerBySeqs([{conversationID:f.conversationID,seqs:[f.seq]}],h)).then(function(O){S=ku(O.msgs[f.conversationID].Msgs[0])})}();return M&&M.then?M.then(D):D()}var _=I.messages[0],y=0,g="",m=function(){if(f.isAdminRevoke||f.sesstionType===nt.Single)return Promise.resolve(u.instance.getUsersInfo([f.revokerUserID],h)).then(function(v){var S;g=(S=v.data[0])==null?void 0:S.nickname});var D=function(){if(f.sesstionType===nt.Group)return Promise.resolve(u.getOneConversationAndTryChange(f.conversationID,h)).then(function(v){return Promise.resolve(u.instance.groupTrigger.cache.getGroupMembersWithCache({groupID:v.groupID,userIDList:[f.revokerUserID],operationID:h})).then(function(S){var M,O;g=(M=S[0])==null?void 0:M.nickname,y=(O=S[0])==null?void 0:O.roleLevel})})}();return D&&D.then?D.then(function(){}):void 0}();return m&&m.then?m.then(C):C()})}catch(I){return Promise.reject(I)}},this.triggerTyping=function(f){f.sendID!==t.instance.userID&&t.typingManager.onNewMessage(f)},this.triggerNotification=function(f,h){try{for(var I=0,C=Object.entries(f);I<C.length;I++)C[I][1].Msgs.map(function(_){_.contentType>me.FriendNotificationBegin&&_.contentType<me.FriendNotificationEnd?(ne.default.debug("Trigger friend notification",_),l.instance.relationTrigger.parseMessageAndTrigger(_,h)):_.contentType>me.UserNotificationBegin&&_.contentType<me.UserNotificationEnd?(ne.default.debug("Trigger user notification",_),l.instance.userTrigger.parseMessageAndTrigger(_,h)):_.contentType>me.GroupNotificationBegin&&_.contentType<me.GroupNotificationEnd?(ne.default.debug("Trigger group notification",_),l.instance.groupTrigger.parseMessageAndTrigger(_,h)):_.contentType===me.BusinessNotification?(ne.default.debug("Trigger business notification",_),l.instance.businessTrigger.parseMessageAndTrigger(_,h)):_.contentType>me.SignalingNotificationBegin&&_.contentType<me.SignalingNotificationEnd?ne.default.debug("Trigger signaling notification",_):l.triggerConversationNotification(_,h)});return Promise.resolve()}catch(_){return Promise.reject(_)}},this.triggerConversationNotification=function(f,h){try{return ne.default.debug("Trigger conversation notification with opid: ",h,"messageType: ",f.contentType),Promise.resolve(function(I,C){var _,y=-1;e:{for(var g=0;g<C.length;g++){var m=C[g][0];if(m){var D=m();if(D&&D.then)break e;if(D===I){y=g;break}}else y=g}if(y!==-1){do{for(var v=C[y][1];!v;)y++,v=C[y][1];var S=v();if(S&&S.then){_=!0;break e}var M=C[y][2];y++}while(M&&!M());return S}}var O=new A1,N=on.bind(null,O,2);return(_?S.then(V):D.then(function j(z){for(;;){if(z===I){y=g;break}if(++g===C.length){if(y!==-1)break;return void on(O,1,te)}if(m=C[g][0]){if((z=m())&&z.then)return void z.then(j).then(void 0,N)}else y=g}do{for(var ge=C[y][1];!ge;)y++,ge=C[y][1];var te=ge();if(te&&te.then)return void te.then(V).then(void 0,N);var W=C[y][2];y++}while(W&&!W());on(O,1,te)})).then(void 0,N),O;function V(j){for(;;){var z=C[y][2];if(!z||z())break;y++;for(var ge=C[y][1];!ge;)y++,ge=C[y][1];if((j=ge())&&j.then)return void j.then(V).then(void 0,N)}on(O,1,j)}}(f.contentType,[[function(){return me.ConversationChangeNotification},function(){return Promise.resolve(d.syncer.syncConversationVersion(h)).then(function(){})}],[function(){return me.ConversationPrivateChatNotification},function(){return Promise.resolve(d.syncer.syncConversationVersion(h)).then(function(){})}],[function(){return me.RevokeNotification},function(){var I=je(f.content);return d.triggeredConversationEvent.has(h)?void d.triggeredConversationEvent.delete(h):void d.revokeMessage(I,h)}],[function(){return me.ClearConversationNotification},function(){}],[function(){return me.DeleteMsgsNotification},function(){var I=je(f.content),C=I.seqs.find(function(y){var g;return y===((g=d.cache.getCachedMaxReadSeq(I.conversationID))==null?void 0:g.hasReadSeq)}),_=function(){if(C)return Promise.resolve(d.getMessageWithCacheBySeqs(I.conversationID,[C-1],h)).then(function(y){var g=y.messages[0],m=function(){if(g)return d.cache.updateCachedMaxReadSeq(I.conversationID,{maxSeqTime:f.sendTime}),Promise.resolve(d.getOneConversationAndTryChange(I.conversationID,h,{latestMsg:JSON.stringify(Mn(g)),latestMsgSendTime:g.sendTime})).then(function(){})}();if(m&&m.then)return m.then(function(){})})}();return _&&_.then?_.then(function(){}):void 0}],[function(){return me.HasReadReceipt},function(){var I=je(f.content);if(I.markAsReadUserID!==d.instance.userID&&I.seqs.length)return Promise.resolve(d.getMessageWithCacheBySeqs(I.conversationID,I.seqs,h)).then(function(C){var _=C.messages;function y(){d.cache.decreaseTotalUnreadCount(I.seqs.length,h),d.cache.updateCachedMaxReadSeq(I.conversationID,{hasReadSeq:I.hasReadSeq})}var g={userID:I.markAsReadUserID,groupID:"",msgIDList:_.map(function(v){return v.clientMsgID}),readTime:f.sendTime,msgFrom:0,contentType:0,sessionType:_[0].sessionType};ne.default.debug("receipt",g),d.instance.triggerEvent({event:U.OnRecvC2CReadReceipt,data:[g],operationID:h});var m=_.find(function(v){return v.seq===I.hasReadSeq}),D=function(){if(m){m.isRead=!0;var v=JSON.stringify(Mn(m));return Promise.resolve(d.getOneConversationAndTryChange(I.conversationID,h,{unreadCount:0,latestMsg:v})).then(function(){})}}();return D&&D.then?D.then(y):y()})}],[function(){return me.HasGroupReadReceipt},function(){}],[]]))}catch(I){return Promise.reject(I)}},this.triggerConversation=function(f,h){try{if(Object.keys(f).length===0)return Promise.resolve();ne.default.debug("Trigger conversation",f);var I=!0;p.triggeredConversationEvent.has(h)&&(p.triggeredConversationEvent.delete(h),I=!1);for(var C=!1,_=p.cache.getTotalUnreadCount(),y=[],g=function(){var v=D[m],S=v[0];v[1].Msgs.map(function(M){var O,N,V,j,z=zh(M.options,rr.IsUnreadCount),ge=zh(M.options,rr.IsConversationUpdate),te=zh(M.options,rr.IsNotPrivate),W=!p.cache.getCachedMaxReadSeq(S),Z=M.sendID===p.instance.userID;if(M.clientMsgID&&S){var E=ku(M),T=Mn(E);if(T.attachedInfoElem=M.attachedInfo?JSON.parse(M.attachedInfo):{groupHasReadInfo:{hasReadCount:0,unreadCount:0},isPrivateChat:!1,burnDuration:0,hasReadTime:0,messageEntityList:[],isEncryption:!1,inEncryptStatus:!1},M.status!==br.MsgStatusHasDeleted){M.contentType===vt.Typing&&p.triggerTyping(T),T.status=br.MsgStatusSendSuccess,E.status=br.MsgStatusSendSuccess,W&&p.cache.addCachedMaxReadSeq(S,{hasReadSeq:Z?M.seq:M.seq-1,maxSeq:M.seq,maxSeqTime:M.sendTime}),te||(T.attachedInfoElem.isPrivateChat=!0),ge&&(_+=z?1:0,p.cache.updateCachedMaxReadSeq(S,{maxSeqTime:T.sendTime}),I&&p.getOneConversationAndTryChange(S,h,{latestMsg:JSON.stringify(T),latestMsgSendTime:T.sendTime},z,W),y.push(E),p.cache.addMessagesToCache(S,[E]));var X=(O=(N=p.cache.getCachedMaxReadSeq(S))==null?void 0:N.maxSeq)!=null?O:0,se=(V=(j=p.cache.getCachedMaxReadSeq(S))==null?void 0:j.hasReadSeq)!=null?V:0;ne.default.debug("currentMaxSeq",X,"currentHasReadSeq",se),T.seq>X&&(C=W||!p.cache.isNotNotifyConversation(S),p.cache.updateCachedMaxReadSeq(S,{maxSeq:X+1,maxSeqTime:T.sendTime}),Z&&(p.cache.updateCachedMaxReadSeq(S,{hasReadSeq:se+1}),p.cache.tryUpdateCachedMessages(S,{clientMsgID:T.clientMsgID,seq:T.seq})))}}})},m=0,D=Object.entries(f);m<D.length;m++)g();if(I&&C&&p.cache.setTotalUnreadCount(_,h),y.length>0){if(!I)return y.map(function(v){p.cache.tryUpdateCachedMessages(tg(v),v)}),Promise.resolve();p.instance.triggerEvent({event:U.OnRecvNewMessages,data:y.map(Mn),operationID:h})}return Promise.resolve()}catch(v){return Promise.reject(v)}},this.instance=e,this.cache=new KS(e),this.syncer=new XS(e),this.typingManager=new QS(e)},nT=function(){function e(t){var n=this,r=this,i=this,o=this;this.instance=void 0,this.cachedGroups=new Map,this.cachedGroupMembers=new Map,this.cachedGroupMembersID=new Map,this.getGroupMembersID=function(s,a){try{return Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Re.GetFullGroupMemberUserIDs,data:{groupID:s,idHash:0},operationID:a})).then(function(c){r.cachedGroupMembersID.set(s,c.userIDs)})}catch(c){return Promise.reject(c)}},this.getGroupInfosWithCache=function(s,a){try{var c=[],u=[];return s.forEach(function(l){var d=i.cachedGroups.get(l);d?c.push(d):u.push(l)}),u.length?Promise.resolve(i.instance.sendHttpRequest({reqFuncName:x.GetSpecifiedGroupsInfo,data:{groupIDs:u},operationID:a})).then(function(l){var d=l.groupInfos;return d&&d.forEach(function(p){return i.cachedGroups.set(p.groupID,p)}),[].concat(c,d??[])}):Promise.resolve(c)}catch(l){return Promise.reject(l)}},this.getGroupMembersWithCache=function(s){var a=s.groupID,c=s.userIDList,u=s.operationID;try{var l,d,p=(l=o.cachedGroupMembers.get(a))!=null?l:[],f=function(){if(c!=null&&c.length){var h=[],I=[];return c.forEach(function(C){var _=p.find(function(y){return y.userID===C});_?I.push(_):h.push(C)}),h.length?Promise.resolve(o.instance.sendHttpRequest({reqFuncName:x.GetSpecifiedGroupMembersInfo,data:{groupID:a,userIDs:h},operationID:u})).then(function(C){var _=C.members;_&&o.cachedGroupMembers.set(a,[].concat(p,_));var y=[].concat(I,_??[]);return d=1,y}):(d=1,I)}}();return Promise.resolve(f&&f.then?f.then(function(h){return d?h:p}):d?f:p)}catch(h){return Promise.reject(h)}},this.updateCachedGroups=function(s){s.map(function(a){n.cachedGroups.set(a.groupID,a)})},this.updateCachedGroupMembers=function(s){var a,c=s[0].groupID,u=(a=n.cachedGroupMembers.get(c))!=null?a:[];n.cachedGroupMembers.set(c,[].concat(u.filter(function(f){return!s.find(function(h){return h.userID===f.userID})}),s));var l=n.instance.messageTrigger.cache.getAllCachedConversations().find(function(f){return f.groupID===s[0].groupID}),d=JSON.parse(l?.latestMsg||"{}"),p=s.find(function(f){return f.userID===d.sendID&&f.nickname!==d.senderNickname});l&&p&&n.instance.messageTrigger.getOneConversationAndTryChange(l.conversationID,"",{latestMsg:JSON.stringify(le({},d,{senderNickname:p.nickname}))})},this.clearCachedGroupMembers=function(s){n.cachedGroupMembers.delete(s)},this.hasCachedGroupMembersID=function(s){return n.cachedGroupMembersID.has(s)},this.getCachedGroupMembersID=function(s){var a;return(a=n.cachedGroupMembersID.get(s))!=null?a:[]},this.tryAddCachedGroupMembersID=function(s,a){if(n.cachedGroupMembersID.has(s)){var c,u=(c=n.cachedGroupMembersID.get(s))!=null?c:[];n.cachedGroupMembersID.set(s,[].concat(u,a))}},this.tryDeleteCachedGroupMembersID=function(s,a){if(n.cachedGroupMembersID.has(s)){var c,u=(c=n.cachedGroupMembersID.get(s))!=null?c:[];n.cachedGroupMembersID.set(s,u.filter(function(l){return!a.includes(l)}))}},this.instance=t}return e.prototype.clear=function(){this.cachedGroups.clear(),this.cachedGroupMembers.clear(),this.cachedGroupMembersID.clear()},e}(),rT=function(){function e(t){var n=this,r=this,i=this,o=this;this.instance=void 0,this.syncedGroupsVersion=0,this.syncedGroupsVersionID="",this.syncedGroupMemberVersion={},this.syncGroupVersion=function(s){try{return Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Re.GetGroupVersion,data:{userID:r.instance.userID,version:r.syncedGroupsVersion,versionID:r.syncedGroupsVersionID},operationID:s})).then(function(a){r.syncedGroupsVersionID&&r.compareGroupVersionAndTrigger(a,s),r.syncedGroupsVersion=a.version,r.syncedGroupsVersionID=a.versionID})}catch(a){return Promise.reject(a)}},this.syncGroupInfoAndMemberVersion=function(s){try{var a=function(){if(c.length)return Promise.resolve(i.instance.sendHttpRequest({reqFuncName:Re.GetGroupMemberVersion,data:{userID:i.instance.userID,reqList:c},operationID:s})).then(function(d){var p=d.respList;Object.keys(i.syncedGroupMemberVersion).length>0&&i.compareGroupMemberVersionAndTrigger(p,s),i.syncedGroupMemberVersion=p;for(var f=0,h=Object.entries(p);f<h.length;f++){var I=h[f][1];I.group&&i.instance.groupTrigger.cache.updateCachedGroups([I.group]),(I.insert||I.update)&&i.instance.groupTrigger.cache.updateCachedGroupMembers(I.insert||I.update)}})},c=[],u=Object.keys(i.syncedGroupMemberVersion),l=function(){if(!u.length)return Promise.resolve(i.getJoinedGroupIDs(s)).then(function(d){c=d.map(function(p){return{groupID:p,version:0,versionID:""}})});c=u.map(function(d){var p,f,h=i.syncedGroupMemberVersion[d];return{groupID:d,version:(p=h?.version)!=null?p:0,versionID:(f=h?.versionID)!=null?f:""}})}();return Promise.resolve(l&&l.then?l.then(a):a())}catch(d){return Promise.reject(d)}},this.compareGroupVersionAndTrigger=function(s,a){var c=s.insert,u=s.delete;(c??[]).map(function(l){n.instance.triggerEvent({event:U.OnJoinedGroupAdded,data:l,operationID:a})}),(u??[]).map(function(l){n.instance.triggerEvent({event:U.OnJoinedGroupDeleted,data:{groupID:l},operationID:a}),n.instance.groupTrigger.cache.clearCachedGroupMembers(l)})},this.compareGroupMemberVersionAndTrigger=function(s,a){for(var c=function(){var d=l[u],p=d[0],f=d[1],h=f.group,I=f.insert,C=f.update,_=f.delete;h&&(n.instance.groupTrigger.updateCachedGroupInfoAndTrigger(h,a),n.instance.groupTrigger.checkConversationUpdate(h)),(I??[]).map(function(y){n.instance.triggerEvent({event:U.OnGroupMemberAdded,data:y,operationID:a})}),(C??[]).map(function(y){return n.instance.groupTrigger.updateCachedGroupMemberInfoAndTrigger(y,a)}),(_??[]).map(function(y){n.instance.triggerEvent({event:U.OnGroupMemberDeleted,data:{groupID:p,userID:y},operationID:a})})},u=0,l=Object.entries(s);u<l.length;u++)c()},this.getJoinedGroupIDs=function(s){try{return Promise.resolve(o.instance.sendHttpRequest({reqFuncName:Re.GetJoinedGroupIDList,data:{idHash:0,userID:o.instance.userID},operationID:s})).then(function(a){var c=a.groupIDs;return c??[]})}catch(a){return Promise.reject(a)}},this.addGroupMemberVersion=function(s,a){n.syncedGroupMemberVersion[s]=le({},a)},this.updateGroupMemberVersion=function(s,a){n.syncedGroupMemberVersion[s]?n.syncedGroupMemberVersion[s]=le({},a):ne.default.warn("updateGroupMemberVersion: group member version not found",s,"new version",a)},this.checkIsJoinGroup=function(s){return!!n.syncedGroupMemberVersion[s]},this.instance=t}return e.prototype.reset=function(){this.syncedGroupsVersion=0,this.syncedGroupsVersionID="",this.syncedGroupMemberVersion={}},e}();iT=function(){function e(t){var n,r=this,i=this,o=this;this.instance=void 0,this.cache=void 0,this.syncer=void 0,this.triggeredEventMap=((n={})[U.OnGroupApplicationAdded]=new Map,n[U.OnGroupApplicationAccepted]=new Map,n[U.OnGroupApplicationRejected]=new Map,n),this.sync=function(s){var a=[o.syncer.syncGroupVersion(s),o.syncer.syncGroupInfoAndMemberVersion(s)];return Promise.all(a)},this.setTriggeredEventMap=function(s,a){o.triggeredEventMap[s].set(a,!0)},this.checkConversationUpdate=function(s){var a="sg_"+s.groupID,c=o.instance.messageTrigger.cache.getCachedConversation(a);!c||c.showName===s.groupName&&c.faceURL===s.faceURL||o.instance.messageTrigger.getOneConversationAndTryChange(a,"",{showName:s.groupName,faceURL:s.faceURL})},this.getDesignatedGroupApplicationAndTrigger=function(s){var a=s.event,c=s.userID,u=s.groupID,l=s.operationID,d=s.activeTrigger,p=d!==void 0&&d;try{return!p&&r.triggeredEventMap[a].has(l)?(r.triggeredEventMap[a].delete(l),Promise.resolve()):Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Re.GetDesignatedGroupApplication,data:{groupID:u,userID:c??r.instance.userID},operationID:l})).then(function(f){var h=f.groupRequests;h&&r.instance.triggerEvent({event:a,operationID:l,data:h.map(rg)[0]})})}catch(f){return Promise.reject(f)}},this.updateCachedGroupInfoAndTrigger=function(s,a){o.cache.updateCachedGroups([s]),o.instance.triggerEvent({event:U.OnGroupInfoChanged,data:s,operationID:a})},this.updateCachedGroupMemberInfoAndTrigger=function(s,a){o.cache.updateCachedGroupMembers([s]),o.instance.triggerEvent({event:U.OnGroupMemberInfoChanged,data:s,operationID:a})},this.parseMessageAndTrigger=function(s,a){try{var c=function(u,l){var d,p=-1;e:{for(var f=0;f<l.length;f++){var h=l[f][0];if(h){var I=h();if(I&&I.then)break e;if(I===u){p=f;break}}else p=f}if(p!==-1){do{for(var C=l[p][1];!C;)p++,C=l[p][1];var _=C();if(_&&_.then){d=!0;break e}var y=l[p][2];p++}while(y&&!y());return _}}var g=new R1,m=sn.bind(null,g,2);return(d?_.then(D):I.then(function v(S){for(;;){if(S===u){p=f;break}if(++f===l.length){if(p!==-1)break;return void sn(g,1,O)}if(h=l[f][0]){if((S=h())&&S.then)return void S.then(v).then(void 0,m)}else p=f}do{for(var M=l[p][1];!M;)p++,M=l[p][1];var O=M();if(O&&O.then)return void O.then(D).then(void 0,m);var N=l[p][2];p++}while(N&&!N());sn(g,1,O)})).then(void 0,m),g;function D(v){for(;;){var S=l[p][2];if(!S||S())break;p++;for(var M=l[p][1];!M;)p++,M=l[p][1];if((v=M())&&v.then)return void v.then(D).then(void 0,m)}sn(g,1,v)}}(s.contentType,[[function(){return me.JoinGroupApplicationNotification},function(){var u,l,d=je(s.content);return ne.default.debug("Recv JoinGroupApplicationNotification with opid: ",a,"tips: ",d),Promise.resolve(i.getDesignatedGroupApplicationAndTrigger({event:U.OnGroupApplicationAdded,userID:(u=d.applicant)==null?void 0:u.userID,groupID:(l=d.group)==null?void 0:l.groupID,operationID:a})).then(function(){})}],[function(){return me.GroupApplicationAcceptedNotification},function(){var u,l,d=je(s.content);return ne.default.debug("Recv GroupApplicationAcceptedNotification with opid: ",a,"tips: ",d),Promise.resolve(i.getDesignatedGroupApplicationAndTrigger({event:U.OnGroupApplicationAccepted,userID:d.receiverAs?(u=d.opUser)==null?void 0:u.userID:void 0,groupID:(l=d.group)==null?void 0:l.groupID,operationID:a})).then(function(){})}],[function(){return me.GroupApplicationRejectedNotification},function(){var u,l,d=je(s.content);return ne.default.debug("Recv GroupApplicationRejectedNotification with opid: ",a,"tips: ",d),Promise.resolve(i.getDesignatedGroupApplicationAndTrigger({event:U.OnGroupApplicationRejected,userID:d.receiverAs?(u=d.opUser)==null?void 0:u.userID:void 0,groupID:(l=d.group)==null?void 0:l.groupID,operationID:a})).then(function(){})}],[function(){return me.GroupCreatedNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupCreatedNotification with opid: ",a,"tips: ",u),i.cache.updateCachedGroups([u.group]),Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.syncer.addGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID})})}],[function(){return me.GroupInfoSetNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupInfoSetNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),i.checkConversationUpdate(u.group),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return me.MemberQuitNotification},function(){var u,l,d,p=function(){h||i.instance.triggerEvent({event:U.OnGroupMemberDeleted,data:f.quitUser,operationID:a})},f=je(s.content);ne.default.debug("Recv MemberQuitNotification with opid: ",a,"tips: ",f),i.syncer.updateGroupMemberVersion(f.group.groupID,{version:f.groupMemberVersion,versionID:f.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(f.group,a),i.cache.tryDeleteCachedGroupMembersID((u=f.group)==null?void 0:u.groupID,[(l=f.quitUser)==null?void 0:l.userID]);var h=((d=f.quitUser)==null?void 0:d.userID)===i.instance.userID,I=function(){if(h)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){})}();return I&&I.then?I.then(p):p()}],[function(){return me.GroupOwnerTransferredNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupOwnerTransferredNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(u.group,a),i.updateCachedGroupMemberInfoAndTrigger(u.oldGroupOwnerInfo,a),void i.updateCachedGroupMemberInfoAndTrigger(u.newGroupOwner,a)}],[function(){return me.MemberKickedNotification},function(){var u,l=function(){p||d.kickedUserList.map(function(h){return i.instance.triggerEvent({event:U.OnGroupMemberDeleted,data:h,operationID:a})})},d=je(s.content);ne.default.debug("Recv MemberKickedNotification with opid: ",a,"tips: ",d),i.syncer.updateGroupMemberVersion(d.group.groupID,{version:d.groupMemberVersion,versionID:d.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(d.group,a),i.cache.tryDeleteCachedGroupMembersID((u=d.group)==null?void 0:u.groupID,d.kickedUserList.map(function(h){return h.userID}));var p=d.kickedUserList.find(function(h){return h.userID===i.instance.userID}),f=function(){if(p)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){})}();return f&&f.then?f.then(l):l()}],[function(){return me.MemberInvitedNotification},function(){var u=function(){var f;i.syncer.updateGroupMemberVersion(l.group.groupID,{version:l.groupMemberVersion,versionID:l.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(l.group,a),i.checkConversationUpdate(l.group),i.cache.tryAddCachedGroupMembersID((f=l.group)==null?void 0:f.groupID,l.invitedUserList.map(function(h){return h.userID})),d||l.invitedUserList.map(function(h){return i.instance.triggerEvent({event:U.OnGroupMemberAdded,data:h,operationID:a})})},l=je(s.content);ne.default.debug("Recv MemberInvitedNotification with opid: ",a,"tips: ",l);var d=l.invitedUserList.find(function(f){return f.userID===i.instance.userID}),p=function(){if(d)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.syncer.addGroupMemberVersion(l.group.groupID,{})})}();return p&&p.then?p.then(u):u()}],[function(){return me.MemberEnterNotification},function(){var u,l=function(){var h,I;i.syncer.updateGroupMemberVersion(d.group.groupID,{version:d.groupMemberVersion,versionID:d.groupMemberVersionID}),i.updateCachedGroupInfoAndTrigger(d.group,a),i.checkConversationUpdate(d.group),i.cache.tryAddCachedGroupMembersID((h=d.group)==null?void 0:h.groupID,[(I=d.entrantUser)==null?void 0:I.userID]),p||i.instance.triggerEvent({event:U.OnGroupMemberAdded,data:d.entrantUser,operationID:a})},d=je(s.content);ne.default.debug("Recv MemberEnterNotification with opid: ",a,"tips: ",d);var p=((u=d.entrantUser)==null?void 0:u.userID)===i.instance.userID,f=function(){if(p)return Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.syncer.addGroupMemberVersion(d.group.groupID,{})})}();return f&&f.then?f.then(l):l()}],[function(){return me.GroupDismissedNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupDismissedNotification with opid: ",a,"tips: ",u),Promise.resolve(i.syncer.syncGroupVersion(a)).then(function(){i.updateCachedGroupInfoAndTrigger(u.group,a),i.instance.triggerEvent({event:U.OnGroupDismissed,data:u.group,operationID:a})})}],[function(){return me.GroupMemberMutedNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupMemberMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.mutedUser,a)}],[function(){return me.GroupMemberCancelMutedNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupMemberCancelMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.mutedUser,a)}],[function(){return me.GroupMutedNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return me.GroupCancelMutedNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupCancelMutedNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return me.GroupMemberInfoSetNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupMemberInfoSetNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.changedUser,a)}],[function(){return me.GroupMemberSetToAdminNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupMemberSetToAdminNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.changedUser,a)}],[function(){return me.GroupMemberSetToOrdinaryUserNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupMemberSetToOrdinaryUserNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupMemberInfoAndTrigger(u.changedUser,a)}],[function(){return me.GroupInfoSetAnnouncementNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupInfoSetAnnouncementNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[function(){return me.GroupInfoSetNameNotification},function(){var u=je(s.content);return ne.default.debug("Recv GroupInfoSetNameNotification with opid: ",a,"tips: ",u),i.syncer.updateGroupMemberVersion(u.group.groupID,{version:u.groupMemberVersion,versionID:u.groupMemberVersionID}),i.checkConversationUpdate(u.group),void i.updateCachedGroupInfoAndTrigger(u.group,a)}],[]]);return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(u){return Promise.reject(u)}},this.instance=t,this.cache=new nT(t),this.syncer=new rT(t)}return e.prototype.reset=function(){var t=this;this.cache.clear(),this.syncer.reset(),Object.keys(this.triggeredEventMap).forEach(function(n){t.triggeredEventMap[n].clear()})},e}(),R1=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{sn(r,1,o(this.v))}catch(s){sn(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?sn(r,1,t?t(s):s):n?sn(r,1,n(s)):sn(r,2,s)}catch(s){sn(r,2,s)}},r},e}(),oT=function(e){var t=this,n=this;this.instance=void 0,this.cachedFriendIDs=[],this.clear=function(){n.cachedFriendIDs=[]},this.getFullFriendsIDs=function(r){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:Re.GetFullFriendUserIDs,data:{idHash:0,userID:t.instance.userID},operationID:r})).then(function(i){var o=i.userIDs;return t.cachedFriendIDs=o??[],o??[]})}catch(i){return Promise.reject(i)}},this.isFriend=function(r){return n.cachedFriendIDs.includes(r)},this.addNewFriend=function(r){n.cachedFriendIDs.push(r)},this.deleteFriend=function(r){n.cachedFriendIDs=n.cachedFriendIDs.filter(function(i){return i!==r})},this.instance=e},sT=function(e){var t=this,n=this;this.instance=void 0,this.syncedFriendsVersion=0,this.syncedFriendsVersionID="",this.reset=function(){n.syncedFriendsVersion=0,n.syncedFriendsVersionID=""},this.syncFriendVersion=function(r){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:Re.GetFriendVersion,data:{userID:t.instance.userID,version:t.syncedFriendsVersion,versionID:t.syncedFriendsVersionID},operationID:r})).then(function(i){t.syncedFriendsVersionID&&t.compareVersionAndTrigger(i,r),t.syncedFriendsVersion=i.version,t.syncedFriendsVersionID=i.versionID})}catch(i){return Promise.reject(i)}},this.compareVersionAndTrigger=function(r,i){var o=r.insert,s=r.update,a=r.delete;(o??[]).map(function(c){n.instance.triggerEvent({operationID:i,event:U.OnFriendAdded,data:Fu(c)})}),(s??[]).map(function(c){var u=Fu(c);n.instance.triggerEvent({operationID:i,event:U.OnFriendInfoChanged,data:u});var l=[n.instance.userID,u?.userID].sort(),d="si_"+l[0]+"_"+l[1],p=n.instance.messageTrigger.cache.getCachedConversation(d);!p||p.showName===(u.remark||u.nickname)&&p.faceURL===u.faceURL||n.instance.messageTrigger.getOneConversationAndTryChange(d,i,{showName:u.remark||u.nickname,faceURL:u.faceURL})}),(a??[]).map(function(c){n.instance.triggerEvent({operationID:i,event:U.OnFriendDeleted,data:{userID:c}})})},this.instance=e};aT=function(e){var t,n=this,r=this,i=this,o=this;this.instance=void 0,this.cache=void 0,this.syncer=void 0,this.triggeredEventMap=((t={})[U.OnFriendApplicationAdded]=new Map,t[U.OnFriendApplicationAccepted]=new Map,t[U.OnFriendApplicationRejected]=new Map,t[U.OnFriendAdded]=new Map,t[U.OnFriendDeleted]=new Map,t[U.OnFriendInfoChanged]=new Map,t[U.OnBlackAdded]=new Map,t[U.OnBlackDeleted]=new Map,t),this.sync=function(s){var a=[o.syncer.syncFriendVersion(s),o.cache.getFullFriendsIDs(s)];return Promise.all(a)},this.reset=function(){o.cache.clear(),o.syncer.reset(),Object.keys(o.triggeredEventMap).forEach(function(s){o.triggeredEventMap[s].clear()})},this.setTriggeredEventMap=function(s,a){o.triggeredEventMap[s].set(a,!0)},this.checkShouldTrigger=function(s,a){return!s||!o.triggeredEventMap[s].has(a)||(o.triggeredEventMap[s].delete(a),!1)},this.getDesignatedFriendApplicationAndTrigger=function(s,a,c,u){u===void 0&&(u=!1);try{return!u&&n.triggeredEventMap[s].has(c)?(n.triggeredEventMap[s].delete(c),Promise.resolve()):Promise.resolve(n.instance.sendHttpRequest({reqFuncName:Re.GetDesignatedFriendsApplication,data:{fromUserID:a.fromUserID,toUserID:a.toUserID},operationID:c})).then(function(l){var d=l.friendRequests;d&&n.instance.triggerEvent({event:s,operationID:c,data:d[0]})})}catch(l){return Promise.reject(l)}},this.getDesignatedBlackUserAndTrigger=function(s,a,c,u){u===void 0&&(u=!1);try{return!u&&r.triggeredEventMap[s].has(c)?(r.triggeredEventMap[s].delete(c),Promise.resolve()):Promise.resolve(r.instance.sendHttpRequest({reqFuncName:Re.GetDesignatedBlackUser,data:{ownerUserID:r.instance.userID,userIDList:[a]},operationID:c})).then(function(l){var d=l.blacks;d&&r.instance.triggerEvent({event:s,data:d.map(N1)[0],operationID:c})})}catch(l){return Promise.reject(l)}},this.parseMessageAndTrigger=function(s,a){try{return Promise.resolve(function(c,u){var l,d=-1;e:{for(var p=0;p<u.length;p++){var f=u[p][0];if(f){var h=f();if(h&&h.then)break e;if(h===c){d=p;break}}else d=p}if(d!==-1){do{for(var I=u[d][1];!I;)d++,I=u[d][1];var C=I();if(C&&C.then){l=!0;break e}var _=u[d][2];d++}while(_&&!_());return C}}var y=new O1,g=an.bind(null,y,2);return(l?C.then(m):h.then(function D(v){for(;;){if(v===c){d=p;break}if(++p===u.length){if(d!==-1)break;return void an(y,1,M)}if(f=u[p][0]){if((v=f())&&v.then)return void v.then(D).then(void 0,g)}else d=p}do{for(var S=u[d][1];!S;)d++,S=u[d][1];var M=S();if(M&&M.then)return void M.then(m).then(void 0,g);var O=u[d][2];d++}while(O&&!O());an(y,1,M)})).then(void 0,g),y;function m(D){for(;;){var v=u[d][2];if(!v||v())break;d++;for(var S=u[d][1];!S;)d++,S=u[d][1];if((D=S())&&D.then)return void D.then(m).then(void 0,g)}an(y,1,D)}}(s.contentType,[[function(){return me.FriendApplicationNotification},function(){var c=je(s.content);return ne.default.debug("Recv FriendApplicationNotification with opid: ",a,"tips: ",c),Promise.resolve(i.getDesignatedFriendApplicationAndTrigger(U.OnFriendApplicationAdded,c.fromToUserID,a)).then(function(){})}],[function(){return me.FriendApplicationApprovedNotification},function(){var c=je(s.content);return ne.default.debug("Recv FriendApplicationApprovedNotification with opid: ",a,"tips: ",c),Promise.resolve(i.getDesignatedFriendApplicationAndTrigger(U.OnFriendApplicationAccepted,c.fromToUserID,a)).then(function(u){return Promise.resolve(Promise.all([u,function(){try{return i.checkShouldTrigger(U.OnFriendAdded,a)?Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){}):Promise.resolve()}catch(l){return Promise.reject(l)}}])).then(function(){})})}],[function(){return me.FriendApplicationRejectedNotification},function(){var c=je(s.content);return ne.default.debug("Recv FriendApplicationRejectedNotification with opid: ",a,"tips: ",c),Promise.resolve(i.getDesignatedFriendApplicationAndTrigger(U.OnFriendApplicationRejected,c.fromToUserID,a)).then(function(){})}],[function(){return me.FriendAddedNotification},function(){var c=je(s.content);if(ne.default.debug("Recv FriendAddedNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(U.OnFriendAdded,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){var u;i.cache.addNewFriend((u=c.friend)==null||(u=u.friendUser)==null?void 0:u.userID)})}],[function(){return me.FriendDeletedNotification},function(){var c=je(s.content);if(ne.default.debug("Recv FriendDeletedNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(U.OnFriendDeleted,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){var u;i.cache.deleteFriend((u=c.fromToUserID)==null?void 0:u.toUserID)})}],[function(){return me.FriendRemarkSetNotification},function(){var c=je(s.content);if(ne.default.debug("Recv FriendRemarkSetNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(U.OnFriendInfoChanged,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){})}],[function(){return me.FriendInfoUpdatedNotification},function(){var c=je(s.content);if(ne.default.debug("Recv FriendInfoUpdatedNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(U.OnFriendInfoChanged,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){})}],[function(){return me.BlackAddedNotification},function(){var c,u=je(s.content);return ne.default.debug("Recv BlackAddedNotification with opid: ",a,"tips: ",u),void i.getDesignatedBlackUserAndTrigger(U.OnBlackAdded,(c=u.fromToUserID)==null?void 0:c.toUserID,a)}],[function(){return me.BlackDeletedNotification},function(){var c,u=je(s.content);return ne.default.debug("Recv BlackDeletedNotification with opid: ",a,"tips: ",u),void i.instance.triggerEvent({event:U.OnBlackDeleted,data:{userID:(c=u.fromToUserID)==null?void 0:c.toUserID},operationID:a})}],[function(){return me.FriendsInfoUpdateNotification},function(){var c=je(s.content);if(ne.default.debug("Recv FriendsInfoUpdateNotification with opid: ",a,"tips: ",c),i.checkShouldTrigger(U.OnFriendInfoChanged,a))return Promise.resolve(i.syncer.syncFriendVersion(a)).then(function(){})}],[]]))}catch(c){return Promise.reject(c)}},this.instance=e,this.cache=new oT(e),this.syncer=new sT(e)},O1=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{an(r,1,o(this.v))}catch(s){an(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?an(r,1,t?t(s):s):n?an(r,1,n(s)):an(r,2,s)}catch(s){an(r,2,s)}},r},e}(),cT=function(e){var t=this;this.instance=void 0,this.parseMessageAndTrigger=function(n,r){try{var i=je(n.content);return ne.default.debug("Recv BussinessMessage with opid: ",r,"tips: ",i),t.instance.triggerEvent({event:U.OnRecvCustomBusinessMessage,data:i,operationID:r}),Promise.resolve()}catch(o){return Promise.reject(o)}},this.instance=e},uT=function(e){var t=this,n=this,r=this;this.instance=void 0,this.cachedLoginUserInfo=null,this.clear=function(){r.cachedLoginUserInfo=null},this.getSelfUserInfo=function(){return r.cachedLoginUserInfo},this.syncLoginUserInfoAndTrigger=function(i){try{return Promise.resolve(t.instance.sendHttpRequest({reqFuncName:x.GetSelfUserInfo,data:{userIDs:[t.instance.userID]},operationID:i})).then(function(o){var s=o.usersInfo;t.cachedLoginUserInfo&&JSON.stringify(t.cachedLoginUserInfo)!==JSON.stringify(s[0])&&t.instance.triggerEvent({event:U.OnSelfInfoUpdated,data:s[0]}),t.cachedLoginUserInfo=s[0]})}catch(o){return Promise.reject(o)}},this.udpateCachedLoginUserInfoAndTrigger=function(i,o){try{return n.cachedLoginUserInfo&&(n.cachedLoginUserInfo=le({},n.cachedLoginUserInfo,i),n.instance.triggerEvent({event:U.OnSelfInfoUpdated,data:n.cachedLoginUserInfo,operationID:o})),Promise.resolve()}catch(s){return Promise.reject(s)}},this.instance=e},lT=function(e){var t=this,n=this,r=this;this.ctx=void 0,this.state=new Map,this.updateSubs=function(i){var o=i.sub,s=i.unSub,a=i.operationID;try{return n.state.size!==0||o?Promise.resolve(n.ctx.sendReqWaitResp({reqIdentifier:dt.WsSubUserOnlineStatus,operationID:a,data:st.SubUserOnlineStatus.encode({subscribeUserID:o??Array.from(n.state.keys()),unsubscribeUserID:s??[]}).finish()})).then(function(c){c.subscribers.forEach(function(u){return n.state.set(u.userID,u.onlinePlatformIDs)}),s!=null&&s.length&&s.forEach(function(u){return n.state.delete(u)})}):Promise.resolve()}catch(c){return Promise.reject(c)}},this.getUserOnlineState=function(i,o){try{var s=function(){return i.map(function(u){var l,d;return{userID:u,status:(l=r.state.get(u))!=null&&l.length?1:0,platformIDs:(d=r.state.get(u))!=null?d:[]}})},a=i.filter(function(u){return!r.state.has(u)}),c=function(){if(a.length)return Promise.resolve(r.updateSubs({operationID:o,sub:a})).then(function(){})}();return Promise.resolve(c&&c.then?c.then(s):s())}catch(u){return Promise.reject(u)}},this.getAllSubUsersOnlineState=function(){return Array.from(t.state.keys()).map(function(i){var o,s;return{userID:i,status:(o=t.state.get(i))!=null&&o.length?1:0,platformIDs:(s=t.state.get(i))!=null?s:[]}})},this.userOnlineStateChange=function(i){i.subscribers.forEach(function(o){var s;o.onlinePlatformIDs.length?t.state.set(o.userID,o.onlinePlatformIDs):t.state.delete(o.userID),t.ctx.triggerEvent({event:U.OnUserStatusChanged,data:{userID:o.userID,status:o.onlinePlatformIDs.length?1:0,platformIDs:(s=o.onlinePlatformIDs)!=null?s:[]}})})},this.ctx=e};dT=function(e){var t=this,n=this;this.instance=void 0,this.cache=void 0,this.onlineSub=void 0,this.triggeredEventMap=new Map,this.sync=function(r){return Promise.all([n.cache.syncLoginUserInfoAndTrigger(r),n.onlineSub.updateSubs({operationID:r})])},this.reset=function(){n.cache.clear(),n.triggeredEventMap.clear()},this.setTriggeredEventMap=function(r){n.triggeredEventMap.set(r,!0)},this.checkConversationUpdate=function(r){var i=[n.instance.userID,r.userID].sort(),o="si_"+i[0]+"_"+i[1],s=n.instance.messageTrigger.cache.getCachedConversation(o);!s||s.showName===r.nickname&&s.faceURL===r.faceURL||n.instance.messageTrigger.getOneConversationAndTryChange(o,"",{showName:r.nickname,faceURL:r.faceURL})},this.parseMessageAndTrigger=function(r,i){try{return Promise.resolve(function(o,s){var a,c=-1;e:{for(var u=0;u<s.length;u++){var l=s[u][0];if(l){var d=l();if(d&&d.then)break e;if(d===o){c=u;break}}else c=u}if(c!==-1){do{for(var p=s[c][1];!p;)c++,p=s[c][1];var f=p();if(f&&f.then){a=!0;break e}var h=s[c][2];c++}while(h&&!h());return f}}var I=new F1,C=cn.bind(null,I,2);return(a?f.then(_):d.then(function y(g){for(;;){if(g===o){c=u;break}if(++u===s.length){if(c!==-1)break;return void cn(I,1,D)}if(l=s[u][0]){if((g=l())&&g.then)return void g.then(y).then(void 0,C)}else c=u}do{for(var m=s[c][1];!m;)c++,m=s[c][1];var D=m();if(D&&D.then)return void D.then(_).then(void 0,C);var v=s[c][2];c++}while(v&&!v());cn(I,1,D)})).then(void 0,C),I;function _(y){for(;;){var g=s[c][2];if(!g||g())break;c++;for(var m=s[c][1];!m;)c++,m=s[c][1];if((y=m())&&y.then)return void y.then(_).then(void 0,C)}cn(I,1,y)}}(r.contentType,[[function(){return me.UserInfoUpdatedNotification},function(){var o=je(r.content);if(ne.default.debug("Recv UserInfoUpdatedNotification with opid: ",i,"tips: ",o),!t.triggeredEventMap.get(i)){var s=function(){if(o.userID===t.instance.userID)return Promise.resolve(t.cache.syncLoginUserInfoAndTrigger(i)).then(function(){})}();return s&&s.then?s.then(function(){}):void 0}t.triggeredEventMap.delete(i)}]]))}catch(o){return Promise.reject(o)}},this.instance=e,this.cache=new uT(e),this.onlineSub=new lT(e)},F1=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{cn(r,1,o(this.v))}catch(s){cn(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?cn(r,1,t?t(s):s):n?cn(r,1,n(s)):cn(r,2,s)}catch(s){cn(r,2,s)}},r},e}();ag=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{un(r,1,o(this.v))}catch(s){un(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?un(r,1,t?t(a):a):n?un(r,1,n(a)):un(r,2,a)}catch(c){un(r,2,c)}},r},e}();fT=function(){function e(){this.queue=[],this.pending=!1}var t=e.prototype;return t.enqueue=function(n){try{var r=this;return Promise.resolve(new Promise(function(i,o){r.queue.push(function(){return n().then(i).catch(o)}),r.pending||(r.pending=!0,r.dequeue())}))}catch(i){return Promise.reject(i)}},t.dequeue=function(){try{var n=function(){r.pending=!1},r=this,i=function(o,s,a){for(var c;;){var u=o();if(Tu(u)&&(u=u.v),!u)return l;if(u.then){c=0;break}var l=a();if(l&&l.then){if(!Tu(l)){c=1;break}l=l.s}}var d=new ag,p=un.bind(null,d,2);return(c===0?u.then(h):c===1?l.then(f):(void 0).then(function(){(u=o())?u.then?u.then(h).then(void 0,p):h(u):un(d,1,l)})).then(void 0,p),d;function f(I){l=I;do{if(!(u=o())||Tu(u)&&!u.v)return void un(d,1,l);if(u.then)return void u.then(h).then(void 0,p);Tu(l=a())&&(l=l.v)}while(!l||!l.then);l.then(f).then(void 0,p)}function h(I){I?(l=a())&&l.then?l.then(f).then(void 0,p):f(l):un(d,1,l)}}(function(){return r.queue.length>0},0,function(){var o=r.queue.shift(),s=function(a,c){try{var u=Promise.resolve(o()).then(function(){})}catch(l){return c(l)}return u&&u.then?u.then(void 0,c):u}(0,function(a){ne.default.error("Error executing task:",a)});if(s&&s.then)return s.then(function(){})});return Promise.resolve(i&&i.then?i.then(n):n())}catch(o){return Promise.reject(o)}},e}();M1=((rn={})[ee.TextMessage]="textElem",rn[ee.AtTextMessage]="atTextElem",rn[ee.LocationMessage]="locationElem",rn[ee.CustomMessage]="customElem",rn[ee.MergeMessage]="mergeElem",rn[ee.QuoteMessage]="quoteElem",rn[ee.CardMessage]="cardElem",rn[ee.FaceMessage]="faceElem",rn[ee.PictureMessage]="pictureElem",rn[ee.VoiceMessage]="soundElem",rn[ee.VideoMessage]="videoElem",rn[ee.FileMessage]="fileElem",rn);pT=[Re.GetActiveConversations,Re.GetDesignatedConversation];hT=function(e){function t(){var n,r;return(n=e.call(this)||this).userID=void 0,n.platform=void 0,n.token=void 0,n.apiAddr=void 0,n.loginStatus=En.Logout,n.isReconnected=!1,n.connectState="disconnected",n.wsManager=void 0,n.messageTrigger=void 0,n.userTrigger=void 0,n.groupTrigger=void 0,n.relationTrigger=void 0,n.businessTrigger=void 0,n.requestMap=new Map,n.generateHttpHeader=function(i,o){var s={"Content-Type":"application/json",token:n.token,operationID:o,reqFuncName:i};return pT.includes(i)&&(s["Content-Type"]="application/x-protobuf"),s},n.sendHttpRequest=function(i){try{var o;return Promise.resolve(function(s){var a=s.url,c=s.data,u=s.headers,l=s.platform,d=s.method,p=d===void 0?"POST":d;return l==="web"?function(f){var h=f.url,I=f.data,C=f.headers,_=f.method,y=_===void 0?"POST":_;try{return Promise.resolve(fetch(h,{method:y,headers:le({},C),body:I instanceof Uint8Array?I:JSON.stringify(I)}).then(function(g){if(g.ok)return g.json();throw new Error(g.statusText)}).then(function(g){if(g.errCode!==0)throw new Error(g.errMsg);return g.data}))}catch(g){return Promise.reject(g)}}(s):new Promise(function(f,h){var I=function(C){return C==="uni"?uni.request.bind(uni):C==="wx"?wx.request.bind(wx):C==="my"?(my.request||my.httpRequest).bind(my):null}(l);I?I({url:a,data:c instanceof Uint8Array?Uint8Array.from(c).buffer:c,method:p,header:le({"Content-Type":"application/json"},u),success:function(C){C.statusCode===200&&C.data.errCode===0?f(C.data.data):h(C.data||"Request failed")},fail:function(C){h(C)}}):h(new Error("Request is not supported"))})}({url:""+n.apiAddr+(i.replaceURL||RS[i.reqFuncName]),data:i.data,headers:n.generateHttpHeader(i.reqFuncName,i.operationID),platform:((o=n.wsManager)==null?void 0:o.platformNamespace)||"web"}))}catch(s){return Promise.reject(s)}},n.handleWsConnected=function(i,o){try{var s=function(){if(i.errCode===0){n.connectState="connected",n.loginStatus=En.Logged,n.triggerEvent({event:U.OnConnectSuccess}),n.triggerEvent({event:U.OnSyncServerStart});var a=[n.messageTrigger.sync(o),n.relationTrigger.sync(o),n.groupTrigger.sync(o),n.userTrigger.sync(o)],c=Jh(function(){return Promise.resolve(Promise.all(a)).then(function(){n.triggerEvent({event:U.OnSyncServerFinish})})},function(l){ne.default.error(l),n.triggerEvent({event:U.OnSyncServerFailed,errCode:l.errCode||Ve.SdkInternalError,errMsg:l.message||"Internal Error"})});if(c&&c.then)return c.then(function(){})}else{n.triggerEvent({event:U.OnConnectFailed,errCode:i.errCode,errMsg:i.errMsg,operationID:o});var u=OS[i.errCode];u&&n.triggerEvent({event:u,errCode:i.errCode,errMsg:i.errMsg,operationID:o}),n.connectState="disconnected",n.loginStatus=En.Logout}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(a){return Promise.reject(a)}},n.handleMessage=function(i,o){try{var s=function(){if(typeof i!="string"){var a=function(){var l,d,p=(l=i,d=new DataView(l),zS.getString(d,0,l.byteLength,"UTF-8")),f=JSON.parse(p);n.handleGeneralWsResp(f)},c=function(){if(!(i instanceof ArrayBuffer))return Promise.resolve(i.arrayBuffer()).then(function(l){i=l})}();return c&&c.then?c.then(a):a()}var u=JSON.parse(i);n.handleWsConnected(u,o)}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(a){return Promise.reject(a)}},n.handleGeneralWsResp=function(i){var o=Ru(i.data,i.reqIdentifier);if(i.reqIdentifier===dt.PushMsg&&o)return n.messageTrigger.triggerConversation(o.msgs,i.operationID),void n.messageTrigger.triggerNotification(o.notificationMsgs,i.operationID);if(i.reqIdentifier!==dt.WsSubUserOnlineStatus||i.msgIncr||n.userTrigger.onlineSub.userOnlineStateChange(o),i.reqIdentifier===dt.KickOnlineMsg)return n.triggerEvent({event:U.OnKickedOffline,operationID:i.operationID}),void n.reset();var s=n.requestMap.get(i.msgIncr);s&&(i.errCode===0?s.resolve(o):s.reject(new ze(i.errCode,i.errMsg)),n.requestMap.delete(i.msgIncr))},n.handleReconnecting=function(){n.connectState="reconnecting",n.triggerEvent({event:U.OnConnecting})},n.handleReconnectFailed=function(){n.connectState="disconnected",n.triggerEvent({event:U.OnConnectFailed,errCode:Ve.NetworkError,errMsg:"network error"})},n.handleReconnectSuccess=function(){n.isReconnected=!0},n.sendReqWaitResp=function(i){var o=i.data,s=i.reqIdentifier,a=i.operationID;if(n.connectState!=="connected")throw new ze(Ve.NetworkError,"network error, ws not connected");var c=Lu();return new Promise(function(u,l){var d;n.requestMap.set(c,{resolve:u,reject:l}),(d=n.wsManager)==null||d.sendMessage({reqIdentifier:s,msgIncr:c,sendID:n.userID,operationID:a,data:ZD(o.buffer)})})},n.triggerEvent=function(i){var o=i.event,s=i.data,a=s===void 0?null:s,c=i.errCode,u=c===void 0?0:c,l=i.errMsg,d=l===void 0?"":l,p=i.operationID,f=p===void 0?"":p;n.loginStatus!==En.Logout&&(ne.default.debug("%cSDK =>%c [OperationID:"+f+"] (event) trigger "+o+" with data "+JSON.stringify(a)+" errCode "+u+" errMsg "+d,"font-size:14px; background:#6F42C1; border-radius:4px; padding-inline:4px;",""),n.emit(o,{event:o,data:a,errCode:u,errMsg:d,operationID:f}))},n.login=function(i,o){try{return Promise.resolve(J(En.Logged,x.Login,o,function(){try{var s,a=i.userID,c=i.token,u=i.wsAddr,l=i.apiAddr,d=i.platformID;if(n.wsManager)throw new ze(Ve.LoginRepeatError,"login repeat");return ne.default.setLevel((s=i.logLevel)!=null?s:Xh.Debug),n.userID=a,n.token=c,n.apiAddr=l,n.platform=d,n.wsManager=new WS(u,{sendID:a,token:c,platformID:d,operationID:o,isBackground:!1,isMsgResp:!0,sdkType:"js"},n.handleMessage,n.handleReconnecting,n.handleReconnectFailed,n.handleReconnectSuccess),n.connectState="connecting",n.loginStatus=En.Logging,n.triggerEvent({event:U.OnConnecting,operationID:o}),Promise.resolve(Jh(function(){return Promise.resolve(n.wsManager.connect()).then(function(){})},function(p){throw n.triggerEvent({event:U.OnConnectFailed,errCode:Ve.NetworkError,errMsg:p.message||"network error",operationID:o}),n.connectState="disconnected",n.loginStatus=En.Logout,n.wsManager.close(),new ze(Ve.NetworkError,p.message||"network error")}))}catch(p){return Promise.reject(p)}}))}catch(s){return Promise.reject(s)}},n.getLoginStatus=function(i){return J(En.Logged,x.GetLoginStatus,i,function(){try{var o;return(o=n.wsManager)==null||o.sendPing(),Promise.resolve(n.loginStatus)}catch(s){return Promise.reject(s)}})},n.logout=function(i){return J(n.loginStatus,x.Logout,i,function(){try{return n.reset(),Promise.resolve()}catch(o){return Promise.reject(o)}})},n.internalUploadFile=function(i,o){return Promise.resolve(Jh(function(){var s=n.userID+"/"+i.name,a=function(u){var l,d,p=(l=(d=u.split(".").pop())==null?void 0:d.toLowerCase())!=null?l:"";return AS[p]||"application/octet-stream"}(i.name),c={operationID:o,token:n.token};return Promise.resolve(function(u,l,d){return fetch(u+"/object/part_size",{method:"POST",headers:le({},d),body:JSON.stringify({size:l})}).then(qh)}(n.apiAddr,i.size,c)).then(function(u){var l=u.size;function d(){var y=h.join(",");I.destroy();var g=new Pu.default;return g.append(y),Promise.resolve(function(m,D,v){return fetch(m+"/object/initiate_multipart_upload",{method:"POST",headers:le({},v),body:JSON.stringify(D)}).then(qh)}(n.apiAddr,{hash:g.end(),size:i.size,partSize:l,maxParts:-1,cause:"",name:s,contentType:a},c)).then(function(m){var D=m.url,v=m.upload;if(g.destroy(),D)return{url:D};var S=v.sign.query,M=v.sign.header;return Promise.resolve(Promise.all(v.sign.parts.map(function(O,N){try{var V=new URL(O.url||v.sign.url);if(S){var j=new URLSearchParams(V.search);S.forEach(function(W){j.set(W.key,W.values[0])}),V.search=j.toString()}if(O.query){var z=new URLSearchParams(V.search);O.query.forEach(function(W){z.set(W.key,W.values[0])}),V.search=z.toString()}var ge=V.toString(),te=new Headers;return M&&M.forEach(function(W){te.set(W.key,W.values[0])}),O.header&&O.header.forEach(function(W){te.set(W.key,W.values[0])}),te.set("Content-Length",(f[N].end-f[N].start).toString()),te.set("Content-Type",a),Promise.resolve(fetch(ge,{method:"PUT",headers:te,body:i.slice(f[N].start,f[N].end)})).then(function(W){if(!W.ok)throw new Error("Failed to upload chunk "+(N+1))})}catch(W){return Promise.reject(W)}}))).then(function(){return Promise.resolve(function(O,N,V){return fetch(O+"/object/complete_multipart_upload",{method:"POST",headers:le({},V),body:JSON.stringify(N)}).then(qh)}(n.apiAddr,{uploadID:v.uploadID,parts:h,cause:"",name:s,contentType:a},c)).then(function(O){return{url:O.url}})})})}var p=Math.ceil(i.size/l),f=[],h=[],I=new Pu.default.ArrayBuffer,C=0,_=function(y,g,m){for(var D;;){var v=y();if(xu(v)&&(v=v.v),!v)return S;if(v.then){D=0;break}var S=m();if(S&&S.then){if(!xu(S)){D=1;break}S=S.s}}var M=new cg,O=ln.bind(null,M,2);return(D===0?v.then(V):D===1?S.then(N):(void 0).then(function(){(v=y())?v.then?v.then(V).then(void 0,O):V(v):ln(M,1,S)})).then(void 0,O),M;function N(j){S=j;do{if(!(v=y())||xu(v)&&!v.v)return void ln(M,1,S);if(v.then)return void v.then(V).then(void 0,O);xu(S=m())&&(S=S.v)}while(!S||!S.then);S.then(N).then(void 0,O)}function V(j){j?(S=m())&&S.then?S.then(N).then(void 0,O):N(S):ln(M,1,S)}}(function(){return C<p},0,function(){var y=C*l,g=Math.min(y+l,i.size),m=i.slice(y,g);return f.push({start:y,end:g}),Promise.resolve(new Promise(function(D,v){var S=new FileReader;S.readAsArrayBuffer(m),S.onload=function(M){M.target&&(I.append(M.target.result),D(I.end()))},S.onerror=function(M){return v(M)}})).then(function(D){h.push(D),C++})});return _&&_.then?_.then(d):d()})},function(s){return{error:s}}))},n.uploadFile=function(i,o){try{return Promise.resolve(J(n.loginStatus,x.UploadFile,o,function(){try{return Promise.resolve(n.internalUploadFile(i.file,o)).then(function(s){var a=s.url,c=a===void 0?"":a,u=s.error;if(u)throw new ze(Ve.SdkInternalError,u.message);return{url:c}})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},n.reset=function(){var i;(i=n.wsManager)==null||i.close(),n.wsManager=void 0,n.userID=void 0,n.token=void 0,n.apiAddr=void 0,n.isReconnected=!1,n.loginStatus=En.Logout,n.connectState="disconnected",n.messageTrigger.reset(),n.userTrigger.reset(),n.groupTrigger.reset(),n.relationTrigger.reset()},n.getSelfUserInfo=void 0,n.setSelfInfo=void 0,n.getUsersInfo=void 0,n.subscribeUsersStatus=void 0,n.unsubscribeUsersStatus=void 0,n.getSubscribeUsersStatus=void 0,n.acceptFriendApplication=void 0,n.addBlack=void 0,n.addFriend=void 0,n.updateFriends=void 0,n.checkFriend=void 0,n.deleteFriend=void 0,n.getBlackList=void 0,n.getFriendApplicationListAsApplicant=void 0,n.getFriendApplicationListAsRecipient=void 0,n.getFriendListPage=void 0,n.getSpecifiedFriendsInfo=void 0,n.refuseFriendApplication=void 0,n.removeBlack=void 0,n.createGroup=void 0,n.joinGroup=void 0,n.inviteUserToGroup=void 0,n.getJoinedGroupListPage=void 0,n.getSpecifiedGroupsInfo=void 0,n.setGroupInfo=void 0,n.getGroupApplicationListAsRecipient=void 0,n.getGroupApplicationListAsApplicant=void 0,n.acceptGroupApplication=void 0,n.refuseGroupApplication=void 0,n.getGroupMemberList=void 0,n.getSpecifiedGroupMembersInfo=void 0,n.setGroupMemberInfo=void 0,n.kickGroupMember=void 0,n.changeGroupMemberMute=void 0,n.changeGroupMute=void 0,n.transferGroupOwner=void 0,n.dismissGroup=void 0,n.quitGroup=void 0,n.getUsersInGroup=void 0,n.isJoinGroup=void 0,n.createTextMessage=void 0,n.createTextAtMessage=void 0,n.createLocationMessage=void 0,n.createCustomMessage=void 0,n.createQuoteMessage=void 0,n.createCardMessage=void 0,n.createImageMessageByURL=void 0,n.createImageMessageByFile=void 0,n.createSoundMessageByURL=void 0,n.createSoundMessageByFile=void 0,n.createVideoMessageByURL=void 0,n.createVideoMessageByFile=void 0,n.createFileMessageByURL=void 0,n.createFileMessageByFile=void 0,n.createMergerMessage=void 0,n.createFaceMessage=void 0,n.createForwardMessage=void 0,n.sendMessage=void 0,n.sendMessageNotOss=void 0,n.revokeMessage=void 0,n.getAdvancedHistoryMessageList=void 0,n.deleteMessage=void 0,n.deleteAllMsgFromLocalAndSvr=void 0,n.getConversationListSplit=void 0,n.getOneConversation=void 0,n.setConversation=void 0,n.getTotalUnreadMsgCount=void 0,n.markConversationMessageAsRead=void 0,n.changeInputStates=void 0,n.getInputStates=void 0,n.userTrigger=new dT(n),n.groupTrigger=new iT(n),n.relationTrigger=new aT(n),n.businessTrigger=new cT(n),n.messageTrigger=new tT(n),Object.assign(n,(r=n,{addFriend:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.AddFriend,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.AddFriend,data:{fromUserID:r.userID,toUserID:i.toUserID,reqMsg:i.reqMsg,ex:i.ex||""},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnFriendApplicationAdded,o),r.relationTrigger.getDesignatedFriendApplicationAndTrigger(U.OnFriendApplicationAdded,{fromUserID:r.userID,toUserID:i.toUserID},o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},checkFriend:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.CheckFriend,o,function(){try{var s=i.map(function(a){return r.sendHttpRequest({reqFuncName:x.CheckFriend,data:{userID1:r.userID,userID2:a},operationID:o})});return Promise.resolve(Promise.all(s)).then(function(a){return a.map(function(c,u){return{result:Number(c.inUser1Friends),userID:i[u]}})})}catch(a){return Promise.reject(a)}}))}catch(s){return Promise.reject(s)}},deleteFriend:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.DeleteFriend,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.DeleteFriend,data:{ownerUserID:r.userID,friendUserID:i},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnFriendDeleted,o),r.relationTrigger.syncer.syncFriendVersion(o)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},acceptFriendApplication:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.AcceptFriendApplication,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.AcceptFriendApplication,data:{fromUserID:i.toUserID,toUserID:r.userID,handleResult:wo.Agree,handleMsg:i.handleMsg},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnFriendApplicationAccepted,o),r.relationTrigger.setTriggeredEventMap(U.OnFriendAdded,o),r.relationTrigger.getDesignatedFriendApplicationAndTrigger(U.OnFriendApplicationAccepted,{fromUserID:r.userID,toUserID:i.toUserID},o,!0),r.relationTrigger.syncer.syncFriendVersion(o)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},refuseFriendApplication:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.RefuseFriendApplication,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.RefuseFriendApplication,data:{fromUserID:i.toUserID,toUserID:r.userID,handleResult:wo.Reject,handleMsg:i.handleMsg},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnFriendApplicationRejected,o),r.relationTrigger.getDesignatedFriendApplicationAndTrigger(U.OnFriendApplicationRejected,{fromUserID:r.userID,toUserID:i.toUserID},o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},getFriendListPage:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.GetFriendListPage,o,function(){try{var s={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/i.count)+1,showNumber:i.count}};return Promise.resolve(r.sendHttpRequest({reqFuncName:x.GetFriendListPage,data:s,operationID:o})).then(function(a){var c=a.friendsInfo;return(c??[]).map(Fu)})}catch(a){return Promise.reject(a)}}))}catch(s){return Promise.reject(s)}},getSpecifiedFriendsInfo:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.GetSpecifiedFriendsInfo,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.GetSpecifiedFriendsInfo,data:{ownerUserID:r.userID,friendUserIDs:i},operationID:o})).then(function(s){var a=s.friendsInfo;return(a??[]).map(Fu)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},getFriendApplicationListAsApplicant:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.GetFriendApplicationListAsApplicant,o,function(){try{var s=i.count,a={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/s)+1,showNumber:s}};return Promise.resolve(r.sendHttpRequest({reqFuncName:x.GetFriendApplicationListAsApplicant,data:a,operationID:o})).then(function(c){var u=c.friendRequests;return u??[]})}catch(c){return Promise.reject(c)}}))}catch(s){return Promise.reject(s)}},getFriendApplicationListAsRecipient:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.GetFriendApplicationListAsRecipient,o,function(){try{var s=i.count,a={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/s)+1,showNumber:s}};return Promise.resolve(r.sendHttpRequest({reqFuncName:x.GetFriendApplicationListAsRecipient,data:a,operationID:o})).then(function(c){var u=c.FriendRequests;return u??[]})}catch(c){return Promise.reject(c)}}))}catch(s){return Promise.reject(s)}},updateFriends:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.UpdateFriends,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.UpdateFriends,data:{ownerUserID:r.userID,friendUserIDs:i.friendUserIDs,remark:i.remark,isPinned:i.isPinned,ex:i.ex},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnFriendInfoChanged,o),r.relationTrigger.syncer.syncFriendVersion(o)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},addBlack:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.AddBlack,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.AddBlack,data:{ownerUserID:r.userID,blackUserID:i.toUserID,ex:i.ex},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnBlackAdded,o),r.relationTrigger.getDesignatedBlackUserAndTrigger(U.OnBlackAdded,i.toUserID,o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},removeBlack:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.RemoveBlack,o,function(){try{return Promise.resolve(r.sendHttpRequest({reqFuncName:x.RemoveBlack,data:{ownerUserID:r.userID,blackUserID:i},operationID:o})).then(function(){r.relationTrigger.setTriggeredEventMap(U.OnBlackDeleted,o),r.relationTrigger.getDesignatedBlackUserAndTrigger(U.OnBlackDeleted,i,o,!0)})}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}},getBlackList:function(i,o){try{return Promise.resolve(J(r.loginStatus,x.GetBlackList,o,function(){try{var s=i.count,a={userID:r.userID,pagination:{pageNumber:Math.round(i.offset/s)+1,showNumber:s}};return Promise.resolve(r.sendHttpRequest({reqFuncName:x.GetBlackList,data:a,operationID:o})).then(function(c){var u=c.blacks;return(u??[]).map(N1)})}catch(c){return Promise.reject(c)}}))}catch(s){return Promise.reject(s)}}})),Object.assign(n,function(i){return{createGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.CreateGroup,s,function(){try{var a,c={ownerUserID:i.userID,memberUserIDs:o.memberUserIDs,adminUserIDs:(a=o.adminUserIDs)!=null?a:[],groupInfo:le({},o.groupInfo,{groupType:2,creatorUserID:i.userID})};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.CreateGroup,data:c,operationID:s})).then(function(u){return u.groupInfo})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},joinGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.JoinGroup,s,function(){try{var a,c={groupID:o.groupID,reqMessage:o.reqMsg,joinSource:o.joinSource,inviterUserID:i.userID,ex:(a=o.ex)!=null?a:""};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.JoinGroup,data:c,operationID:s})).then(function(){return i.groupTrigger.setTriggeredEventMap(U.OnGroupApplicationAdded,s),i.groupTrigger.getDesignatedGroupApplicationAndTrigger({event:U.OnGroupApplicationAdded,groupID:o.groupID,operationID:s,activeTrigger:!0}),null})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},inviteUserToGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.InviteUserToGroup,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.InviteUserToGroup,data:{groupID:o.groupID,reason:o.reason,invitedUserIDs:o.userIDList},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getJoinedGroupListPage:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetJoinedGroupListPage,s,function(){try{var a={fromUserID:i.userID,pagination:{pageNumber:Math.round(o.offset/o.count)+1,showNumber:o.count}};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.GetJoinedGroupListPage,data:a,operationID:s})).then(function(c){var u=c.groups;return u&&i.groupTrigger.cache.updateCachedGroups(u),u??[]})}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getSpecifiedGroupsInfo:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetSpecifiedGroupsInfo,s,function(){return i.groupTrigger.cache.getGroupInfosWithCache(o,s)}))}catch(a){return Promise.reject(a)}},setGroupInfo:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.SetGroupInfo,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.SetGroupInfo,data:o,operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},acceptGroupApplication:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.AcceptGroupApplication,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.AcceptGroupApplication,data:{groupID:o.groupID,fromUserID:o.fromUserID,handledMsg:o.handleMsg,handleResult:wo.Agree},operationID:s})).then(function(){return i.groupTrigger.setTriggeredEventMap(U.OnGroupApplicationAccepted,s),i.groupTrigger.getDesignatedGroupApplicationAndTrigger({event:U.OnGroupApplicationAccepted,groupID:o.groupID,operationID:s,activeTrigger:!0}),null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},refuseGroupApplication:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.RefuseGroupApplication,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.RefuseGroupApplication,data:{groupID:o.groupID,fromUserID:o.fromUserID,handledMsg:o.handleMsg,handleResult:wo.Reject},operationID:s})).then(function(){return i.groupTrigger.setTriggeredEventMap(U.OnGroupApplicationRejected,s),i.groupTrigger.getDesignatedGroupApplicationAndTrigger({event:U.OnGroupApplicationRejected,groupID:o.groupID,operationID:s,activeTrigger:!0}),null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getGroupMemberList:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetGroupMemberList,s,function(){try{var a={filter:0,keyword:"",groupID:o.groupID,pagination:{pageNumber:Math.round(o.offset/o.count)+1,showNumber:o.count}};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.GetGroupMemberList,data:a,operationID:s})).then(function(c){var u=c.members;return u&&i.groupTrigger.cache.updateCachedGroupMembers(u),u??[]})}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getSpecifiedGroupMembersInfo:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetSpecifiedGroupMembersInfo,s,function(){return i.groupTrigger.cache.getGroupMembersWithCache(le({},o,{operationID:s}))}))}catch(a){return Promise.reject(a)}},setGroupMemberInfo:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.SetGroupMemberInfo,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.SetGroupMemberInfo,data:{members:[le({},o)]},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},kickGroupMember:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.KickGroupMember,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.KickGroupMember,data:{reason:o.reason,groupID:o.groupID,kickedUserIDs:o.userIDList},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},changeGroupMemberMute:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.ChangeGroupMemberMute,s,function(){try{return Promise.resolve(i.sendHttpRequest({replaceURL:o.mutedSeconds?"/group/mute_group_member":"/group/cancel_mute_group_member",reqFuncName:x.ChangeGroupMemberMute,data:{groupID:o.groupID,userID:o.userID,mutedSeconds:o.mutedSeconds},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},changeGroupMute:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.ChangeGroupMute,s,function(){try{return Promise.resolve(i.sendHttpRequest({replaceURL:o.isMute?"/group/mute_group":"/group/cancel_mute_group",reqFuncName:x.ChangeGroupMute,data:{groupID:o.groupID},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},transferGroupOwner:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.TransferGroupOwner,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.TransferGroupOwner,data:{groupID:o.groupID,oldOwnerUserID:i.userID,newOwnerUserID:o.newOwnerUserID},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},dismissGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.DismissGroup,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.DismissGroup,data:{groupID:o,deleteMember:!1},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},quitGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.QuitGroup,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.QuitGroup,data:{groupID:o,userID:i.userID},operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getGroupApplicationListAsRecipient:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetGroupApplicationListAsRecipient,s,function(){try{var a=o.count,c={fromUserID:i.userID,pagination:{pageNumber:Math.round(o.offset/a)+1,showNumber:a}};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.GetGroupApplicationListAsRecipient,data:c,operationID:s})).then(function(u){var l=u.groupRequests;return(l??[]).map(rg)})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},getGroupApplicationListAsApplicant:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetGroupApplicationListAsApplicant,s,function(){try{var a=o.count,c={userID:i.userID,pagination:{pageNumber:Math.round(o.offset/a)+1,showNumber:a}};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.GetGroupApplicationListAsApplicant,data:c,operationID:s})).then(function(u){var l=u.groupRequests;return(l??[]).map(rg)})}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},getUsersInGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetUsersInGroup,s,function(){try{var a=function(){var u,l=i.groupTrigger.cache.getCachedGroupMembersID(o.groupID);return(u=o.userIDList)==null?void 0:u.filter(function(d){return l.includes(d)})},c=function(){if(!i.groupTrigger.cache.hasCachedGroupMembersID(o.groupID))return Promise.resolve(i.groupTrigger.cache.getGroupMembersID(o.groupID,s)).then(function(){})}();return Promise.resolve(c&&c.then?c.then(a):a())}catch(u){return Promise.reject(u)}}))}catch(a){return Promise.reject(a)}},isJoinGroup:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.IsJoinGroup,s,function(){try{return Promise.resolve(i.groupTrigger.syncer.checkIsJoinGroup(o))}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}}}}(n)),Object.assign(n,function(i){return{getSelfUserInfo:function(o){try{return Promise.resolve(J(i.loginStatus,x.GetSelfUserInfo,o,function(){try{var s=i.userTrigger.cache.getSelfUserInfo();return s?Promise.resolve(s):Promise.resolve(i.sendHttpRequest({reqFuncName:x.GetSelfUserInfo,data:{userIDs:[i.userID]},operationID:o})).then(function(a){var c=a.usersInfo;return(c??[])[0]})}catch(a){return Promise.reject(a)}}))}catch(s){return Promise.reject(s)}},setSelfInfo:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.SetSelfInfo,s,function(){try{var a={userInfo:le({userID:i.userID},o)};return Promise.resolve(i.sendHttpRequest({reqFuncName:x.SetSelfInfo,data:a,operationID:s})).then(function(){return i.userTrigger.setTriggeredEventMap(s),i.userTrigger.cache.udpateCachedLoginUserInfoAndTrigger(le({},o),s),null})}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getUsersInfo:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetUsersInfo,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.GetUsersInfo,data:{userIDs:o},operationID:s})).then(function(a){var c=a.usersInfo,u=c??[];return u.filter(function(l){return!i.relationTrigger.cache.isFriend(l.userID)}).map(i.userTrigger.checkConversationUpdate),u})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},subscribeUsersStatus:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.SubscribeUsersStatus,s,function(){if(!o.length)throw new ze(Ve.ArgsError,"sub users is empty");return i.userTrigger.onlineSub.getUserOnlineState(o,s)}))}catch(a){return Promise.reject(a)}},unsubscribeUsersStatus:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.UnsubscribeUsersStatus,s,function(){try{if(!o.length)throw new ze(Ve.ArgsError,"unSub users is empty");return Promise.resolve(i.userTrigger.onlineSub.updateSubs({sub:[],unSub:o,operationID:s})).then(function(){return null})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getSubscribeUsersStatus:function(o){try{return Promise.resolve(J(i.loginStatus,x.GetSubscribeUsersStatus,o,function(){try{return Promise.resolve(i.userTrigger.onlineSub.getAllSubUsersOnlineState())}catch(s){return Promise.reject(s)}}))}catch(s){return Promise.reject(s)}}}}(n)),Object.assign(n,function(i){var o=new Map,s=new fT,a=null,c="",u=function(d){var p=d.maxSeq,f=d.count,h=d.conversationID,I=d.operationID,C=d.fetchedMessages,_=C===void 0?[]:C;try{for(var y=[],g=p;y.length<f&&!(g<1);g--)i.messageTrigger.cache.checkIsFilterSeq(h,g)||y.push(g);return y.length?Promise.resolve(i.messageTrigger.getMessageWithCacheBySeqs(h,y,I)).then(function(m){var D=m.messages,v=m.filterCount,S=[].concat(D,_);if(!v&&D.length<f)return S;if(D.length<f){var M=y[y.length-1],O=p-f;return u({maxSeq:M<O?M:O,count:f-D.length,conversationID:h,operationID:I,fetchedMessages:S})}return S}):Promise.resolve(_)}catch(m){return Promise.reject(m)}},l=function(d){var p=d.minSeq,f=d.count,h=d.conversationID,I=d.operationID,C=d.fetchedMessages,_=C===void 0?[]:C;try{for(var y=[],g=p;y.length<f;g++)i.messageTrigger.cache.checkIsFilterSeq(h,g)||y.push(g);return y.length?Promise.resolve(i.messageTrigger.getMessageWithCacheBySeqs(h,y,I)).then(function(m){var D=m.messages,v=m.filterCount,S=[].concat(_,D);if(!v&&D.length<f)return S;if(D.length<f){var M=y[y.length-1],O=p+f;return l({minSeq:M>O?M:O,count:f-D.length,conversationID:h,operationID:I,fetchedMessages:S})}return S}):Promise.resolve(_)}catch(m){return Promise.reject(m)}};return{createTextMessage:function(d,p){return J(i.loginStatus,x.CreateTextMessage,p,function(){try{var f=wt(i,lt.UserMsgType,ee.TextMessage);return f.textElem={content:d},Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createTextAtMessage:function(d,p){return J(i.loginStatus,x.CreateTextAtMessage,p,function(){try{var f;if(!d.text)throw new ze(Ve.ArgsError,"text cannot be empty");if(d.atUserIDList.length>10)throw new ze(Ve.ArgsError,"atUserIDList length must be less than 10");var h,I=wt(i,lt.UserMsgType,ee.AtTextMessage);return((f=d.message)==null?void 0:f.contentType)===ee.QuoteMessage&&(d.message.contentType=ee.TextMessage,d.message.textElem={content:(h=d.message.quoteElem)==null?void 0:h.text}),I.atTextElem={text:d.text,atUserList:d.atUserIDList,atUsersInfo:d.atUsersInfo,quoteMessage:d.message},Promise.resolve(I)}catch(C){return Promise.reject(C)}})},createLocationMessage:function(d,p){return J(i.loginStatus,x.CreateLocationMessage,p,function(){try{var f=wt(i,lt.UserMsgType,ee.LocationMessage);return f.locationElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createCustomMessage:function(d,p){return J(i.loginStatus,x.CreateCustomMessage,p,function(){try{var f=wt(i,lt.UserMsgType,ee.CustomMessage);return f.customElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createQuoteMessage:function(d,p){return J(i.loginStatus,x.CreateQuoteMessage,p,function(){try{var f,h=wt(i,lt.UserMsgType,ee.QuoteMessage),I=JSON.parse(d.message);return I.contentType===ee.QuoteMessage&&(I.contentType=ee.TextMessage,I.textElem={content:(f=I.quoteElem)==null?void 0:f.text}),h.quoteElem={text:d.text,quoteMessage:I},Promise.resolve(h)}catch(C){return Promise.reject(C)}})},createCardMessage:function(d,p){return J(i.loginStatus,x.CreateCardMessage,p,function(){try{var f=wt(i,lt.UserMsgType,ee.CardMessage);return f.cardElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createImageMessageByURL:function(d,p){return J(i.loginStatus,x.CreateImageMessageByURL,p,function(){try{var f=wt(i,lt.UserMsgType,ee.PictureMessage);return f.pictureElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createImageMessageByFile:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.CreateImageMessageByFile,p,function(){try{var f=wt(i,lt.UserMsgType,ee.PictureMessage);return o.set(d.sourcePicture.uuid,d.file),delete d.file,f.pictureElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}}))}catch(f){return Promise.reject(f)}},createSoundMessageByURL:function(d,p){return J(i.loginStatus,x.CreateSoundMessageByURL,p,function(){try{var f=wt(i,lt.UserMsgType,ee.VoiceMessage);return f.soundElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createSoundMessageByFile:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.CreateSoundMessageByFile,p,function(){try{var f=wt(i,lt.UserMsgType,ee.VoiceMessage);return o.set(d.uuid,d.file),delete d.file,f.soundElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}}))}catch(f){return Promise.reject(f)}},createVideoMessageByURL:function(d,p){return J(i.loginStatus,x.CreateVideoMessageByURL,p,function(){try{var f=wt(i,lt.UserMsgType,ee.VideoMessage);return f.videoElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createVideoMessageByFile:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.CreateVideoMessageByFile,p,function(){try{var f=wt(i,lt.UserMsgType,ee.VideoMessage);return o.set(d.videoUUID,d.videoFile),o.set(d.snapshotUUID,d.snapshotFile),delete d.videoFile,delete d.snapshotFile,f.videoElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}}))}catch(f){return Promise.reject(f)}},createFileMessageByURL:function(d,p){return J(i.loginStatus,x.CreateFileMessageByURL,p,function(){try{var f=wt(i,lt.UserMsgType,ee.FileMessage);return f.fileElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createFileMessageByFile:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.CreateFileMessageByFile,p,function(){try{var f=wt(i,lt.UserMsgType,ee.FileMessage);return o.set(d.uuid,d.file),delete d.file,f.fileElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}}))}catch(f){return Promise.reject(f)}},createMergerMessage:function(d,p){return J(i.loginStatus,x.CreateMergerMessage,p,function(){try{var f=wt(i,lt.UserMsgType,ee.MergeMessage);return f.mergeElem={title:d.title,abstractList:d.summaryList,multiMessage:d.messageList,messageEntityList:[]},Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createFaceMessage:function(d,p){return J(i.loginStatus,x.CreateFaceMessage,p,function(){try{var f=wt(i,lt.UserMsgType,ee.FaceMessage);return f.faceElem=le({},d),Promise.resolve(f)}catch(h){return Promise.reject(h)}})},createForwardMessage:function(d,p){return J(i.loginStatus,x.CreateForwardMessage,p,function(){try{if(d.status!==Cr.Succeed)throw new ze(Ve.ArgsError,"Only successfully sent messages can be forwarded");var f=wt(i,lt.UserMsgType,d.contentType);return Promise.resolve(le({},d,f,{seq:0,status:Cr.Sending}))}catch(h){return Promise.reject(h)}})},sendMessage:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.SendMessage,p,function(){return s.enqueue(function(){try{var f=le({},d,{message:le({},d.message)}),h=f.message,I=f.recvID,C=f.groupID,_=f.isOnlineOnly,y=f.offlinePushInfo,g=y===void 0?{title:"you hava a new message.",desc:"you hava a new message.",ex:"",iOSPushSound:"",iOSBadgeCount:!0,signalInfo:""}:y;g.signalInfo===void 0&&(g.signalInfo="");var m=M1[h.contentType];if(!m)throw new ze(Ve.MsgContentTypeNotSupportError,"Unknown message content type");h.recvID=I,h.groupID=C,h.sessionType=C?nt.Group:nt.Single;var D={};_&&Object.values(rr).forEach(function(M){return D[M]=!1});var v=tg(h),S=!1;return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(v,p)).then(function(M){function O(){function V(z){function ge(W){function Z(T){function X(Le){function Ce(_t){var at,ct,H=JSON.stringify(h[m]),G=st.MsgData.encode({sendID:i.userID,recvID:I||"",groupID:C||"",clientMsgID:h.clientMsgID,serverMsgID:h.serverMsgID||"",senderPlatformID:i.platform,senderNickname:h.senderNickname,senderFaceURL:h.senderFaceUrl,sessionType:h.sessionType,msgFrom:h.msgFrom,contentType:h.contentType,content:Ou(H),seq:h.seq,sendTime:0,createTime:h.createTime,status:h.status,isRead:!1,options:D,offlinePushInfo:g,atUserIDList:(at=(ct=h.atTextElem)==null?void 0:ct.atUserList)!=null?at:[],attachedInfo:h.attachedInfoElem?JSON.stringify(h.attachedInfoElem):"",ex:h.ex||"",keyVersion:0,dstUserIDs:[]}).finish();return E1(function(){return Promise.resolve(i.sendReqWaitResp({data:G,operationID:p,reqIdentifier:dt.SendMsg})).then(function(P){var $=P.serverMsgID,fe=P.sendTime;return h.sendTime=fe,h.serverMsgID=$,h.status=Cr.Succeed,i.messageTrigger.setTriggeredConversationEvent(p),i.messageTrigger.cache.updateCachedMaxReadSeq(M.conversationID,{maxSeqTime:fe}),i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(h),latestMsgSendTime:fe}),h})},function(P){throw h.status=Cr.Failed,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(h)}),P})}var Et=function(){if(h.contentType===ee.FileMessage){var _t,at=o.get((_t=h.fileElem)==null?void 0:_t.uuid);if(!at)throw new ze(Ve.ArgsError,"Can not find target file");return Promise.resolve(i.internalUploadFile(at,p)).then(function(ct){var H,G=ct.url,P=G===void 0?"":G,$=ct.error;if(o.delete((H=h.fileElem)==null?void 0:H.uuid),$)throw new ze(Ve.NetworkError,"Upload file failed");h.fileElem.sourceUrl=P})}}();return Et&&Et.then?Et.then(Ce):Ce()}var se=function(){if(h.contentType===ee.VideoMessage){var Le,Ce,Et=o.get((Le=h.videoElem)==null?void 0:Le.videoUUID),_t=o.get((Ce=h.videoElem)==null?void 0:Ce.snapshotUUID);if(!Et||!_t)throw new ze(Ve.ArgsError,"Can not find target file");return Promise.resolve(Promise.all([i.internalUploadFile(Et,p),i.internalUploadFile(_t,p)])).then(function(at){var ct,H;if(o.delete((ct=h.videoElem)==null?void 0:ct.videoUUID),o.delete((H=h.videoElem)==null?void 0:H.snapshotUUID),at[0].error||at[1].error)throw new ze(Ve.NetworkError,"Upload file failed");h.videoElem.videoUrl=at[0].url,h.videoElem.snapshotUrl=at[1].url})}}();return se&&se.then?se.then(X):X()}var E=function(){if(h.contentType===ee.VoiceMessage){var T,X=o.get((T=h.soundElem)==null?void 0:T.uuid);if(!X)throw new ze(Ve.ArgsError,"Can not find target file");return Promise.resolve(i.internalUploadFile(X,p)).then(function(se){var Le,Ce=se.url,Et=Ce===void 0?"":Ce,_t=se.error;if(o.delete((Le=h.soundElem)==null?void 0:Le.uuid),_t)throw new ze(Ve.NetworkError,"Upload file failed");h.soundElem.sourceUrl=Et})}}();return E&&E.then?E.then(Z):Z()}M.latestMsgSendTime=h.createTime,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(h)},void 0,S);var te=function(){if(h.contentType===ee.PictureMessage){var W,Z=o.get((W=h.pictureElem)==null?void 0:W.sourcePicture.uuid);if(!Z)throw new ze(Ve.ArgsError,"Can not find target file");return Promise.resolve(i.internalUploadFile(Z,p)).then(function(E){var T,X=E.url,se=X===void 0?"":X,Le=E.error;if(o.delete((T=h.pictureElem)==null?void 0:T.sourcePicture.uuid),Le)throw new ze(Ve.NetworkError,"Upload file failed");h.pictureElem.sourcePicture.url=se,h.pictureElem.bigPicture.url=se,h.pictureElem.snapshotPicture.width=640,h.pictureElem.snapshotPicture.height=640,h.pictureElem.snapshotPicture.url=se+"?type=image&width=640&height=640"})}}();return te&&te.then?te.then(ge):ge()}var j=function(){if(C)return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:C,userIDList:[i.userID],operationID:p})).then(function(z){if(z==null||!z.length)throw new ze(Ve.ArgsError,"user not join target group");z[0].nickname&&(h.senderNickname=z[0].nickname)})}();return j&&j.then?j.then(V):V()}var N=function(){if(!M)return S=!0,Promise.resolve(i.messageTrigger.initConversation({sourceID:C||I,sessionType:h.sessionType,operationID:p})).then(function(V){M=V});M.isPrivateChat&&(D[rr.IsNotPrivate]=!1,h.attachedInfoElem=le({},{groupHasReadInfo:{hasReadCount:0,unreadCount:0},isPrivateChat:!1,burnDuration:0,hasReadTime:0,messageEntityList:[],isEncryption:!1,inEncryptStatus:!1},{isPrivateChat:!0,burnDuration:M.burnDuration}))}();return N&&N.then?N.then(O):O()})}catch(M){return Promise.reject(M)}})}))}catch(f){return Promise.reject(f)}},sendMessageNotOss:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.SendMessage,p,function(){return s.enqueue(function(){try{var f=le({},d,{message:le({},d.message)}),h=f.message,I=f.recvID,C=f.groupID,_=f.isOnlineOnly,y=f.offlinePushInfo,g=y===void 0?{title:"you hava a new message.",desc:"you hava a new message.",ex:"",iOSPushSound:"",iOSBadgeCount:!0,signalInfo:""}:y;g.signalInfo===void 0&&(g.signalInfo="");var m=M1[h.contentType];if(!m)throw new ze(Ve.MsgContentTypeNotSupportError,"Unknown message content type");h.recvID=I,h.groupID=C,h.sessionType=C?nt.Group:nt.Single;var D={};_&&Object.values(rr).forEach(function(S){return D[S]=!1});var v=tg(h);return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(v,p)).then(function(S){function M(N){var V,j;S.latestMsgSendTime=h.createTime,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(h)});var z=JSON.stringify(h[m]),ge=st.MsgData.encode({sendID:i.userID,recvID:I||"",groupID:C||"",clientMsgID:h.clientMsgID,serverMsgID:h.serverMsgID||"",senderPlatformID:i.platform,senderNickname:h.senderNickname,senderFaceURL:h.senderFaceUrl,sessionType:h.sessionType,msgFrom:h.msgFrom,contentType:h.contentType,content:Ou(z),seq:h.seq,sendTime:0,createTime:h.createTime,status:h.status,isRead:!1,options:D,offlinePushInfo:g,atUserIDList:(V=(j=h.atTextElem)==null?void 0:j.atUserList)!=null?V:[],attachedInfo:h.attachedInfoElem?JSON.stringify(h.attachedInfoElem):"",ex:h.ex||"",keyVersion:0,dstUserIDs:[]}).finish();return E1(function(){return Promise.resolve(i.sendReqWaitResp({data:ge,operationID:p,reqIdentifier:dt.SendMsg})).then(function(te){var W=te.serverMsgID,Z=te.sendTime;return h.sendTime=Z,h.serverMsgID=W,h.status=Cr.Succeed,i.messageTrigger.setTriggeredConversationEvent(p),i.messageTrigger.cache.updateCachedMaxReadSeq(S.conversationID,{maxSeqTime:Z}),i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(h),latestMsgSendTime:Z}),h})},function(te){throw h.status=Cr.Failed,i.messageTrigger.getOneConversationAndTryChange(v,p,{latestMsg:JSON.stringify(h)}),te})}var O=function(){if(!S)return Promise.resolve(i.messageTrigger.initConversation({sourceID:C||I,sessionType:h.sessionType,operationID:p})).then(function(N){return S=N,function(){if(C)return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:C,userIDList:[i.userID],operationID:p})).then(function(V){if(V==null||!V.length)throw new ze(Ve.ArgsError,"user not join target group");V[0].nickname&&(h.senderNickname=V[0].nickname)})}()});S.isPrivateChat&&(D[rr.IsNotPrivate]=!1,h.attachedInfoElem=le({},{groupHasReadInfo:{hasReadCount:0,unreadCount:0},isPrivateChat:!1,burnDuration:0,hasReadTime:0,messageEntityList:[],isEncryption:!1,inEncryptStatus:!1},{isPrivateChat:!0,burnDuration:S.burnDuration}))}();return O&&O.then?O.then(M):M()})}catch(S){return Promise.reject(S)}})}))}catch(f){return Promise.reject(f)}},revokeMessage:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.RevokeMessage,p,function(){try{var f=function(C){return Promise.resolve(i.sendHttpRequest({reqFuncName:x.RevokeMessage,data:{conversationID:d.conversationID,seq:h.seq,userID:i.userID},operationID:p})).then(function(){i.messageTrigger.setTriggeredConversationEvent(p),i.messageTrigger.revokeMessage({revokerUserID:i.userID,clientMsgID:h.clientMsgID,revokeTime:Date.now(),sesstionType:h.sessionType,seq:h.seq,conversationID:d.conversationID,isAdminRevoke:!1},p)})},h=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.clientMsgID])[0];if(!h)throw new ze(Ve.ArgsError,"message not exist");var I=function(){if(h.sendID!==i.userID){if(!h.groupID)throw new ze(Ve.ArgsError,"message can not be revoked");return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:h.groupID,userIDList:[i.userID],operationID:p})).then(function(C){var _=C[0];if(!_||_.roleLevel===Kh.Nomal)throw new ze(Ve.ArgsError,"message can not be revoked")})}}();return Promise.resolve(I&&I.then?I.then(f):f())}catch(C){return Promise.reject(C)}}))}catch(f){return Promise.reject(f)}},getAdvancedHistoryMessageList:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.GetAdvancedHistoryMessageList,p,function(){try{var f={isEnd:!1,errCode:0,errMsg:"",messageList:[]};if(c!==d.conversationID&&(a=null,c=d.conversationID),d.startClientMsgID){if(a===null){var h=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.startClientMsgID])[0];if(!h)return Promise.resolve(le({},f,{isEnd:!0}));a=h.seq}}else a=0;var I=i.messageTrigger.cache.getCachedMaxReadSeq(d.conversationID);return ne.default.log("syncedSeqs",I),I?Promise.resolve(u({maxSeq:a?a-1:I.maxSeq,count:d.count,conversationID:d.conversationID,operationID:p})).then(function(C){function _(){function g(){var D,v;return f.messageList=C.map(Mn),ne.default.debug("getAdvancedHistoryMessageList with opid: ",p,"messageList: ",f.messageList),a=(D=(v=C[0])==null?void 0:v.seq)!=null?D:0,le({},f,{isEnd:C.length<d.count})}var m=function(D){if(((D=C[0])==null?void 0:D.sessionType)===nt.Group){var v=new Set(C.map(function(S){return S.sendID}));return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:C[0].groupID,userIDList:Array.from(v),operationID:p})).then(function(S){C.forEach(function(M){var O=S.find(function(N){return N.userID===M.sendID});O&&(M.senderNickname=O?.nickname,M.senderFaceUrl=O?.faceURL)})})}}();return m&&m.then?m.then(g):g()}var y=function(g){if(((g=C[0])==null?void 0:g.sessionType)===nt.Single)return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(d.conversationID,p)).then(function(m){var D=i.userTrigger.cache.getSelfUserInfo();C.forEach(function(v){var S=v.sendID===i.userID;v.senderNickname=S?D?.nickname:m?.showName,v.senderFaceUrl=S?D?.faceURL:m?.faceURL})})}();return y&&y.then?y.then(_):_()}):Promise.resolve(le({},f,{isEnd:!0}))}catch(C){return Promise.reject(C)}}))}catch(f){return Promise.reject(f)}},getAdvancedHistoryMessageListReverse:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.GetAdvancedHistoryMessageListReverse,p,function(){try{var f={isEnd:!1,errCode:0,errMsg:"",messageList:[]};if(!d.startClientMsgID)return Promise.resolve(le({},f,{isEnd:!0}));var h=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.startClientMsgID])[0];if(!h)return Promise.resolve(le({},f,{isEnd:!0}));var I=h.seq,C=i.messageTrigger.cache.getCachedMaxReadSeq(d.conversationID);return ne.default.log("syncedSeqs",C),C&&C.maxSeq!==I?Promise.resolve(l({minSeq:I,count:d.count,conversationID:d.conversationID,operationID:p})).then(function(_){function y(){function m(){return f.messageList=_.map(Mn),ne.default.debug("getAdvancedHistoryMessageListReverse with opid: ",p,"messageList: ",f.messageList),le({},f,{isEnd:_.length<d.count})}var D=function(v){if(((v=_[0])==null?void 0:v.sessionType)===nt.Group){var S=new Set(_.map(function(M){return M.sendID}));return Promise.resolve(i.groupTrigger.cache.getGroupMembersWithCache({groupID:_[0].groupID,userIDList:Array.from(S),operationID:p})).then(function(M){_.forEach(function(O){var N=M.find(function(V){return V.userID===O.sendID});N&&(O.senderNickname=N?.nickname,O.senderFaceUrl=N?.faceURL)})})}}();return D&&D.then?D.then(m):m()}var g=function(m){if(((m=_[0])==null?void 0:m.sessionType)===nt.Single)return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(d.conversationID,p)).then(function(D){var v=i.userTrigger.cache.getSelfUserInfo();_.forEach(function(S){var M=S.sendID===i.userID;S.senderNickname=M?v?.nickname:D?.showName,S.senderFaceUrl=M?v?.faceURL:D?.faceURL})})}();return g&&g.then?g.then(y):y()}):Promise.resolve(le({},f,{isEnd:!0}))}catch(_){return Promise.reject(_)}}))}catch(f){return Promise.reject(f)}},deleteMessage:function(d,p){try{return Promise.resolve(J(i.loginStatus,x.DeleteMessage,p,function(){try{var f=i.messageTrigger.cache.getCachedMessageByClientMsgIDs(d.conversationID,[d.clientMsgID])[0];if(!f)throw new ze(Ve.ArgsError,"message not exist");return Promise.resolve(i.sendHttpRequest({reqFuncName:x.DeleteMessage,data:{conversationID:d.conversationID,seqs:[f.seq],userID:i.userID,deleteSyncOpt:void 0},operationID:p})).then(function(){var h,I=(h=i.messageTrigger.cache.getCachedMaxReadSeq(d.conversationID))==null?void 0:h.maxSeq;ne.default.debug("delete message with opid: ",p,"conversationMaxSeq: ",I,"deleteMessage seq: ",f.seq),i.messageTrigger.cache.deleteMessageFromCache(d.conversationID,f.seq);var C=function(){if(f.seq===I)return Promise.resolve(i.messageTrigger.getPreviousSeqMessage({conversationID:d.conversationID,seq:f.seq,operationID:p})).then(function(_){i.messageTrigger.getOneConversationAndTryChange(d.conversationID,p,{latestMsg:_?JSON.stringify(Mn(_)):""})})}();if(C&&C.then)return C.then(function(){})})}catch(h){return Promise.reject(h)}}))}catch(f){return Promise.reject(f)}},deleteAllMsgFromLocalAndSvr:function(d){try{return Promise.resolve(J(i.loginStatus,x.DeleteAllMsgFromLocalAndSvr,d,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.DeleteAllMsgFromLocalAndSvr,data:{userID:i.userID,deleteSyncOpt:void 0},operationID:d})).then(function(){i.messageTrigger.cache.getAllCachedConversations().forEach(function(p){i.messageTrigger.getOneConversationAndTryChange(p.conversationID,d,{latestMsg:""})})})}catch(p){return Promise.reject(p)}}))}catch(p){return Promise.reject(p)}}}}(n)),Object.assign(n,function(i){return{getConversationListSplit:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetConversationListSplit,s,function(){try{var a=i.messageTrigger.cache.getSortedConversationIDs(o.offset,o.count);return Promise.resolve(i.messageTrigger.getConversationsWithCacheByIDs(a,s)).then(VS)}catch(c){return Promise.reject(c)}}))}catch(a){return Promise.reject(a)}},getOneConversation:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.GetOneConversation,s,function(){try{return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(sg(le({},o,{userID:i.userID})),s)).then(function(a){function c(){return le({},a)}var u=function(){if(!a)return Promise.resolve(i.messageTrigger.initConversation(le({},o,{operationID:s}))).then(function(l){a=l})}();return u&&u.then?u.then(c):c()})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getTotalUnreadMsgCount:function(o){try{return Promise.resolve(J(i.loginStatus,x.GetTotalUnreadMsgCount,o,function(){return Promise.resolve(i.messageTrigger.cache.getTotalUnreadCount())}))}catch(s){return Promise.reject(s)}},markConversationMessageAsRead:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.MarkConversationMessageAsRead,s,function(){try{var a=i.messageTrigger.cache.getCachedMaxReadSeq(o);if(!a)throw new ze(Ve.ArgsError,"conversation not exist");if(a.hasReadSeq===a.maxSeq)throw new ze(Ve.ArgsError,"hasReadSeq equal max");for(var c=[],u=a.hasReadSeq;u<=a.maxSeq;u++)c.push(u);return Promise.resolve(i.messageTrigger.getMessageWithCacheBySeqs(o,c,s)).then(function(l){var d=l.messages,p=d.filter(function(f){return f.sendID!==i.userID&&!f.isRead}).map(function(f){return f.seq});return p.length||ne.default.warn("seqs is empty ",o),Promise.resolve(i.sendHttpRequest({reqFuncName:x.MarkConversationMessageAsRead,data:{conversationID:o,seqs:p,hasReadSeq:a.maxSeq,userID:i.userID},operationID:s})).then(function(){if(i.messageTrigger.cache.updateCachedMaxReadSeq(o,{hasReadSeq:a.maxSeq}),i.messageTrigger.cache.markCachedMessagesAsRead(o),ne.default.debug("markConversationMessageAsRead with opid: ",s,"conversationID: ",o,"asReadSeqs: ",p,"syncedMaxSeq",a.maxSeq),p.sort()[p.length-1]===a.maxSeq){var f=d.find(function(h){return h.seq===a.maxSeq});f.isRead=!0,i.messageTrigger.getOneConversationAndTryChange(o,s,{latestMsg:JSON.stringify(Mn(f))})}i.messageTrigger.getOneConversationAndTryChange(o,s).then(function(h){i.messageTrigger.cache.decreaseTotalUnreadCount(h.unreadCount,s),i.messageTrigger.getOneConversationAndTryChange(o,s,{unreadCount:0})})})})}catch(l){return Promise.reject(l)}}))}catch(a){return Promise.reject(a)}},deleteConversationAndDeleteAllMsg:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.DeleteConversationAndDeleteAllMsg,s,function(){try{return Promise.resolve(i.sendHttpRequest({reqFuncName:x.DeleteConversationAndDeleteAllMsg,data:{conversationIDs:[o],userID:i.userID,deleteSyncOpt:void 0},operationID:s})).then(function(){i.messageTrigger.cache.clearCachedConversationMessages(o)})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},setConversation:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.SetConversation,s,function(){try{return Promise.resolve(i.messageTrigger.getOneConversationAndTryChange(o.conversationID,s)).then(function(a){if(!a)throw new ze(Ve.ArgsError,"conversation not exist");return Promise.resolve(i.sendHttpRequest({reqFuncName:x.SetConversation,data:{conversation:le({},o,{conversationID:a.conversationID,conversationType:a.conversationType,userID:a.userID,groupID:a.groupID,attachedInfo:void 0,minSeq:void 0}),userIDs:[i.userID]},operationID:s})).then(function(){})})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},changeInputStates:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.ChangeInputStates,s,function(){try{return Promise.resolve(i.messageTrigger.typingManager.changeInputStates(le({},o,{operationID:s}))).then(function(){})}catch(a){return Promise.reject(a)}}))}catch(a){return Promise.reject(a)}},getInputStates:function(o,s){try{return Promise.resolve(J(i.loginStatus,x.ChangeInputStates,s,function(){return Promise.resolve(i.messageTrigger.typingManager.getInputStates(o.conversationID,o.userID))}))}catch(a){return Promise.reject(a)}}}}(n)),n}return S1(t,e),t}(ZS),cg=function(){function e(){}return e.prototype.then=function(t,n){let r=new e,i=this.s;if(i){let o=1&i?t:n;if(o){try{ln(r,1,o(this.v))}catch(s){ln(r,2,s)}return r}return this}return this.o=function(o){try{let s=o.v;1&o.s?ln(r,1,t?t(s):s):n?ln(r,1,n(s)):ln(r,2,s)}catch(s){ln(r,2,s)}},r},e}();L1=function(){return console.info("%cOpenIMSDK v0.0.13","background: #004085; color: #ffffff; padding: 2px 5px; border-radius: 4px;"),new Proxy(new hT,{get:function(e,t,n){if(t==="on"||t==="off")return Reflect.get(e,t,n);var r=e[t];return typeof r=="function"?function(){try{var i=[].slice.call(arguments);return i.push(Lu()),function(o,s){ne.default.debug("%cSDK =>%c [OperationID:"+s[s.length-1]+"] (invoked) run "+o+" with args "+JSON.stringify(s),"font-size:14px; background:#007BFF; border-radius:4px; padding-inline:4px;","")}(t,i),Promise.resolve(r.apply(e,i)).then(function(o){var s,a;return s=t,(a=o).errCode?ne.default.debug("%cSDK =>%c [OperationID:"+a.operationID+"] (response) run "+s+" with error "+JSON.stringify(a),"font-size:14px; background:#28A745; border-radius:4px; padding-inline:4px;",""):ne.default.debug("%cSDK =>%c [OperationID:"+a.operationID+"] (response) run "+s+" with response before processor "+JSON.stringify(a.data),"font-size:14px; background:#FFDC19; border-radius:4px; padding-inline:4px;",""),o.errCode?Promise.reject(o):o})}catch(o){return Promise.reject(o)}}:Reflect.get(e,t,n)}})}});var Sn,So=L(()=>{"use strict";vn();ya();Sr();Ws();qe();Us();Sn=class e{constructor(t){this.service=t}im;_rooms=new It([]);rooms$=this._rooms.asObservable();_selectedRoom=new It(null);selectedRoom$=this._selectedRoom.asObservable();adminToken="";currentUserID="";listConversations;typingHandler$=new It(null);layoutState$=new It(null);positionState$=new It(null);newGroupHandler$=new It(null);connectionStatus$=new It("Not Connected");newMessageHandler$=new It(null);init(){return ce(this,null,function*(){this.im=L1(),this.setupEventListeners()})}login(t){return ce(this,null,function*(){this.currentUserID=t;let n=yield this.service.getUserToken(t);return yield this.im.login({token:n,userID:t,wsAddr:Mt.wsAddr,apiAddr:Mt.apiAddr,platformID:Mt.platformId},Ge.createUniqueId())})}addRoom(t){let n=this._rooms.getValue(),r=[t,...n];this._rooms.next(r)}setRooms(t){this._rooms.next(t)}setRoomTypingStatus(t){let r=this._rooms.getValue().map(i=>Oe(ye({},i),{typing:i.conversationID===t}));this._rooms.next(r)}updateRoomById(t,n){let r=this._rooms.getValue(),i=r.findIndex(o=>o.groupID===t);if(i>-1){let o=[...r];o[i]=ye(ye({},o[i]),n),this._rooms.next(o)}}get currentRoom(){return this._selectedRoom.getValue()}setSelectedRoom(t){this._selectedRoom.next(t)}openGroup(t){return ce(this,null,function*(){let n=yield this.im.setGroupInfo({groupID:t,introduction:"open"},Ge.createUniqueId());return this.updateCurrentRoom({introduction:"open"}),n})}closeGroup(t){return ce(this,null,function*(){let n=yield this.im.setGroupInfo({groupID:t,introduction:"close"},Ge.createUniqueId());return this.updateCurrentRoom({introduction:"close"}),n})}updateCurrentRoom(t){let n=this.currentRoom;if(n){let r=ye(ye({},n),t);this._selectedRoom.next(r),this.updateRoomById(n.groupID,t)}}revokeMessage(t){return ce(this,null,function*(){yield this.im.revokeMessage({clientMsgID:t.clientMsgID,conversationID:t.conversationID})})}sendTextMessage(t){return ce(this,null,function*(){if(!t.text)return null;let n=yield this.im.createTextMessage(t.text),r=t.offlinePushInfo||this.createPushInfo("You have new message",t.text);return t.requestId&&(n.data.ex=JSON.stringify({requestId:t.requestId})),(yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r})).data})}sendFileMessage(t){return ce(this,null,function*(){if(!t.file)return null;let n=yield this.im.createFileMessageByFile({file:t.file,name:t.file.name,fileSize:t.file.size,fileType:t.file.type,uuid:Ge.createUniqueId()},Mt.platformId),r=t.offlinePushInfo||this.createPushInfo("You have new file",t.file.name);t.requestId&&(n.data.ex=JSON.stringify({requestId:t.requestId}));let i=yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r}),o=i.data;if(o&&o.contentType==ee.FileMessage&&o.fileElem){let s=o.fileElem;o.fileName=s.name}return i.data})}sendImageMessage(t){return ce(this,null,function*(){if(!t.file)return null;let n=yield this.createImageMessageParams(t.file),r=yield this.im.createImageMessageByFile(n),i=t.offlinePushInfo||this.createPushInfo("You have new image",t.file.name);return t.requestId&&(r.data.ex=JSON.stringify({requestId:t.requestId})),(yield this.im.sendMessage({message:r.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:i})).data})}sendVideoMessage(t){return ce(this,null,function*(){if(!t.file)return null;let n=yield this.im.createVideoMessageByFile({videoFile:t.file,name:t.file.name,videoSize:t.file.size,videoType:t.file.type,duration:t.duration||0,snapshotFile:t.thumbnail,snapShotType:t.thumbnail.type,snapShotSize:t.thumbnail.size,snapShotName:t.thumbnail.name,videoUUID:Ge.createUniqueId()}),r=t.offlinePushInfo||this.createPushInfo("You have new file",t.file.name);return t.requestId&&(n.data.ex=JSON.stringify({requestId:t.requestId})),(yield this.im.sendMessage({message:n.data,recvID:t.recvID||"",groupID:t.groupID||"",offlinePushInfo:r})).data})}sendTypingStatus(t){return ce(this,null,function*(){this.listConversations&&this.listConversations.length>0&&this.listConversations.forEach(r=>ce(this,null,function*(){r.typing&&r.conversationID!=t&&(yield this.im.changeInputStates({focus:!1,conversationID:t}))}));let n=yield this.im.changeInputStates({focus:!0,conversationID:t});return this.listConversations&&this.listConversations.length>0&&this.listConversations.forEach(r=>{r.conversationID==t&&(r.typing=!0)}),this.typingHandler$.next(t),n.data})}conversations(){return ce(this,null,function*(){return(yield this.im.getConversationListSplit({offset:0,count:1e3},Mt.platformId)).data})}markConversationMessageAsRead(t){return ce(this,null,function*(){return yield this.im.markConversationMessageAsRead(t,Ge.createUniqueId())})}getGroupMembers(t){return ce(this,null,function*(){let r=(yield this.im.getGroupMemberList({filter:0,offset:0,count:1e3,groupID:t},Mt.platformId)).data;return r&&r.length>0&&(r=r.filter(i=>i.userID!="imAdmin")),r})}getHistoryMessages(t,n="",r=40){return ce(this,null,function*(){let o=(yield this.im.getAdvancedHistoryMessageList({count:r,conversationID:t,startClientMsgID:n})).data.messageList;return o&&o.length>0&&(o=o.filter(s=>s.contentType!=ee.CustomMessage).filter(s=>s.contentType!=ee.GroupCreated),o.forEach(s=>{if(s.contentType==ee.FileMessage&&s.fileElem){let a=s.fileElem;s.fileName=a.fileName||a.name}if(s.contentType==ee.VideoMessage&&s.videoElem){let a=s.videoElem;s.fileName=a.fileName||a.name}if(s.contentType==ee.PictureMessage&&s.pictureElem){let a=s.pictureElem;s.fileName=a.fileName||a.name}})),o})}setupEventListeners(){this.im.on(U.OnConnecting,()=>{console.log("OPENIM: OnConnecting"),this.connectionStatus$.next("Connecting...")}),this.im.on(U.OnConnectSuccess,()=>{console.log("OPENIM: Connected"),this.connectionStatus$.next("Connected")}),this.im.on(U.OnConnectFailed,()=>{console.log("OPENIM: Connection Failed"),this.connectionStatus$.next("Connection Failed")}),this.im.on(U.OnKickedOffline,()=>{console.log("OPENIM: Kicked Offline"),this.connectionStatus$.next("Kicked Offline")}),this.im.on(U.OnProgress,t=>{console.log(t)}),this.im.on(U.OnJoinedGroupAdded,t=>{this.newGroupHandler$.next(t.data)}),this.im.on(U.OnRecvNewMessages,t=>{let n=t.data;n&&n.length>0&&n.forEach(r=>{if(r.contentType==ee.FileMessage&&r.fileElem){let i=r.fileElem;r.fileName=i.name}}),this.newMessageHandler$.next(n)})}createPushInfo(t,n,r=""){return{ex:r,desc:n,title:t,iOSPushSound:"+1",iOSBadgeCount:!0}}createPicBaseInfo(t,n,r){return ce(this,null,function*(){let i=Ge.createUniqueId(),o=t.size;if(r!=="source"){let s=yield Ge.getImageDimensions(t),a=this.estimateCompressionRatio(t.type,r),c=n.width*n.height/(s.width*s.height);o=Math.round(t.size*c*a)}return{uuid:i,type:t.type,size:o,width:n.width,height:n.height,url:""}})}estimateCompressionRatio(t,n){let r=n==="thumbnail"?.3:.7;switch(t.toLowerCase()){case"image/jpeg":case"image/jpg":return r;case"image/png":return r*1.2;case"image/webp":return r*.8;default:return r}}createImageMessageParams(i){return ce(this,arguments,function*(t,n="",r={}){if(!Ge.isImageFile(t))throw new Error("File is not a valid image");let s=ye(ye({},{quality:.8,maxBigWidth:1920,maxBigHeight:1080,maxThumbnailWidth:200,maxThumbnailHeight:200,maintainAspectRatio:!0}),r);try{let a=yield Ge.getImageDimensions(t),c=yield this.createPicBaseInfo(t,a,"source"),u=this.calculateResizedDimensions(a,s.maxBigWidth,s.maxBigHeight,s.maintainAspectRatio),l=yield this.createPicBaseInfo(t,u,"big"),d=this.calculateResizedDimensions(a,s.maxThumbnailWidth,s.maxThumbnailHeight,s.maintainAspectRatio),p=yield this.createPicBaseInfo(t,d,"thumbnail");return{file:t,sourcePath:n,bigPicture:l,sourcePicture:c,snapshotPicture:p,operationID:Ge.createUniqueId()}}catch(a){throw console.error("Failed to create image message params:",a),new Error(`Image processing failed: ${a instanceof Error?a.message:"Unknown error"}`)}})}calculateResizedDimensions(t,n,r,i=!0){if(!i)return{width:n,height:r};if(t.width<=n&&t.height<=r)return t;let o=t.width/t.height,s=n,a=n/o;return a>r&&(a=r,s=r*o),{width:Math.round(s),height:Math.round(a)}}static \u0275fac=function(n){return new(n||e)(Se(nr))};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}});var ir,Zs=L(()=>{"use strict";vn();qe();ir=class e{viewerDataSource=new It(null);viewerData$=this.viewerDataSource.asObservable();open(t,n=0){if(!t||t.length===0){console.error("Video viewer: No URLs provided.");return}this.viewerDataSource.next({urls:t,currentIndex:n})}close(){this.viewerDataSource.next(null)}next(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex+1)%t.urls.length;this.viewerDataSource.next(Oe(ye({},t),{currentIndex:n}))}}previous(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex-1+t.urls.length)%t.urls.length;this.viewerDataSource.next(Oe(ye({},t),{currentIndex:n}))}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}});var or,Js=L(()=>{"use strict";vn();qe();or=class e{viewerDataSource=new It(null);viewerData$=this.viewerDataSource.asObservable();open(t,n=0){if(!t||t.length===0){console.error("Image viewer: No images provided.");return}this.viewerDataSource.next({images:t,currentIndex:n})}close(){this.viewerDataSource.next(null)}next(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex+1)%t.images.length;this.viewerDataSource.next(Oe(ye({},t),{currentIndex:n}))}}previous(){let t=this.viewerDataSource.getValue();if(t){let n=(t.currentIndex-1+t.images.length)%t.images.length;this.viewerDataSource.next(Oe(ye({},t),{currentIndex:n}))}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}});var V1,j1=L(()=>{"use strict";Us();So();nh();Zs();Js();qe();V1={providers:[eh(),nr,Sn,or,ir,jp({eventCoalescing:!0})]}});function vT(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function yT(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function DT(e,t){if(!dg){let n=Element.prototype;dg=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE?dg.call(e,t):!1}function _T(e){let t={};return e.forEach(({propName:n,templateName:r,transform:i})=>{t[vT(r)]=[n,i]}),t}function IT(e,t){return t.get(Ci).resolveComponentFactory(e).inputs}function CT(e,t){let n=e.childNodes,r=t.map(()=>[]),i=-1;t.some((o,s)=>o==="*"?(i=s,!0):!1);for(let o=0,s=n.length;o<s;++o){let a=n[o],c=bT(a,t,i);c!==-1&&r[c].push(a)}return r}function bT(e,t,n){let r=n;return yT(e)&&t.some((i,o)=>i!=="*"&&DT(e,i)?(r=o,!0):!1),r}function U1(e,t){let n=IT(e,t.injector),r=t.strategyFactory||new fg(e,t.injector),i=_T(n);class o extends hg{injector;static observedAttributes=Object.keys(i);get ngElementStrategy(){if(!this._ngElementStrategy){let a=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(({propName:c,transform:u})=>{if(!this.hasOwnProperty(c))return;let l=this[c];delete this[c],a.setInputValue(c,l,u)})}return this._ngElementStrategy}_ngElementStrategy;constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,u,l){let[d,p]=i[a];this.ngElementStrategy.setInputValue(d,u,p)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{let c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return n.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}var mT,dg,wT,fg,pg,hg,B1=L(()=>{"use strict";qe();vn();ys();mT={schedule(e,t){let n=setTimeout(e,t);return()=>clearTimeout(n)}};wT=10,fg=class{componentFactory;inputMap=new Map;constructor(t,n){this.componentFactory=n.get(Ci).resolveComponentFactory(t);for(let r of this.componentFactory.inputs)this.inputMap.set(r.propName,r.templateName)}create(t){return new pg(this.componentFactory,t,this.inputMap)}},pg=class{componentFactory;injector;inputMap;eventEmitters=new Jo(1);events=this.eventEmitters.pipe(Ko(t=>fd(...t)));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(t,n,r){this.componentFactory=t,this.injector=n,this.inputMap=r,this.ngZone=this.injector.get(it),this.appRef=this.injector.get(Si),this.cdScheduler=n.get(Zn),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=mT.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null)},wT))})}getInputValue(t){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,n){if(this.componentRef===null){this.initialInputValues.set(t,n);return}this.runInZone(()=>{this.componentRef.setInput(this.inputMap.get(t)??t,n),Ep(this.componentRef.hostView)&&(Mp(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))})}initializeComponent(t){let n=zn.create({providers:[],parent:this.injector}),r=CT(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,t),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(let[t,n]of this.initialInputValues)this.setInputValue(t,n);this.initialInputValues.clear()}initializeOutputs(t){let n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>{let o=t.instance[r];return new Ze(s=>{let a=o.subscribe(c=>s.next({name:i,value:c}));return()=>a.unsubscribe()})});this.eventEmitters.next(n)}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}},hg=class extends HTMLElement{ngElementEventsSubscription=null}});function qr(){return G1}function gg(e){G1??=e}var G1,Ys,H1=L(()=>{"use strict";G1=null;Ys=class{}});function J1(e){return tn(e)[ot.LocaleId]}function Y1(e,t,n){let r=tn(e),i=[r[ot.DayPeriodsFormat],r[ot.DayPeriodsStandalone]],o=Tn(i,t);return Tn(o,n)}function Q1(e,t,n){let r=tn(e),i=[r[ot.DaysFormat],r[ot.DaysStandalone]],o=Tn(i,t);return Tn(o,n)}function K1(e,t,n){let r=tn(e),i=[r[ot.MonthsFormat],r[ot.MonthsStandalone]],o=Tn(i,t);return Tn(o,n)}function X1(e,t){let r=tn(e)[ot.Eras];return Tn(r,t)}function Qs(e,t){let n=tn(e);return Tn(n[ot.DateFormat],t)}function Ks(e,t){let n=tn(e);return Tn(n[ot.TimeFormat],t)}function Xs(e,t){let r=tn(e)[ot.DateTimeFormat];return Tn(r,t)}function ea(e,t){let n=tn(e),r=n[ot.NumberSymbols][t];if(typeof r>"u"){if(t===Er.CurrencyDecimal)return n[ot.NumberSymbols][Er.Decimal];if(t===Er.CurrencyGroup)return n[ot.NumberSymbols][Er.Group]}return r}function e_(e){if(!e[ot.ExtraData])throw new de(2303,!1)}function t_(e){let t=tn(e);return e_(t),(t[ot.ExtraData][2]||[]).map(r=>typeof r=="string"?mg(r):[mg(r[0]),mg(r[1])])}function n_(e,t,n){let r=tn(e);e_(r);let i=[r[ot.ExtraData][0],r[ot.ExtraData][1]],o=Tn(i,t)||[];return Tn(o,n)||[]}function Tn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new de(2304,!1)}function mg(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function r_(e,t,n,r){let i=OT(e);t=wr(n,t)||t;let s=[],a;for(;t;)if(a=MT.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=o_(r,c),i=RT(i,r));let u="";return s.forEach(l=>{let d=NT(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function $u(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function wr(e,t){let n=J1(e);if(ju[n]??={},ju[n][t])return ju[n][t];let r="";switch(t){case"shortDate":r=Qs(e,Jt.Short);break;case"mediumDate":r=Qs(e,Jt.Medium);break;case"longDate":r=Qs(e,Jt.Long);break;case"fullDate":r=Qs(e,Jt.Full);break;case"shortTime":r=Ks(e,Jt.Short);break;case"mediumTime":r=Ks(e,Jt.Medium);break;case"longTime":r=Ks(e,Jt.Long);break;case"fullTime":r=Ks(e,Jt.Full);break;case"short":let i=wr(e,"shortTime"),o=wr(e,"shortDate");r=Uu(Xs(e,Jt.Short),[i,o]);break;case"medium":let s=wr(e,"mediumTime"),a=wr(e,"mediumDate");r=Uu(Xs(e,Jt.Medium),[s,a]);break;case"long":let c=wr(e,"longTime"),u=wr(e,"longDate");r=Uu(Xs(e,Jt.Long),[c,u]);break;case"full":let l=wr(e,"fullTime"),d=wr(e,"fullDate");r=Uu(Xs(e,Jt.Full),[l,d]);break}return r&&(ju[n][t]=r),r}function Uu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Gn(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function ST(e,t){return Gn(e,3).substring(0,t)}function ft(e,t,n=0,r=!1,i=!1){return function(o,s){let a=TT(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return ST(a,t);let c=ea(s,Er.MinusSign);return Gn(a,t,c,r,i)}}function TT(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new de(2301,!1)}}function Xe(e,t,n=Rt.Format,r=!1){return function(i,o){return xT(i,o,e,t,n,r)}}function xT(e,t,n,r,i,o){switch(n){case 2:return K1(t,i,r)[e.getMonth()];case 1:return Q1(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let u=t_(t),l=n_(t,i,r),d=u.findIndex(p=>{if(Array.isArray(p)){let[f,h]=p,I=s>=f.hours&&a>=f.minutes,C=s<h.hours||s===h.hours&&a<h.minutes;if(f.hours<h.hours){if(I&&C)return!0}else if(I||C)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return Y1(t,i,r)[s<12?0:1];case 3:return X1(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new de(2302,!1)}}function Bu(e){return function(t,n,r){let i=-1*r,o=ea(n,Er.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Gn(s,2,o)+Gn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Gn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(i%60),2,o);default:throw new de(2302,!1)}}}function PT(e){let t=$u(e,kT,1).getDay();return $u(e,0,1+(t<=Hu?Hu:Hu+7)-t)}function i_(e){let t=e.getDay(),n=t===0?-3:Hu-t;return $u(e.getFullYear(),e.getMonth(),e.getDate()+n)}function vg(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=i_(n),s=PT(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Gn(i,e,ea(r,Er.MinusSign))}}function Gu(e,t=!1){return function(n,r){let o=i_(n).getFullYear();return Gn(o,e,ea(r,Er.MinusSign),t)}}function NT(e){if(yg[e])return yg[e];let t;switch(e){case"G":case"GG":case"GGG":t=Xe(3,We.Abbreviated);break;case"GGGG":t=Xe(3,We.Wide);break;case"GGGGG":t=Xe(3,We.Narrow);break;case"y":t=ft(0,1,0,!1,!0);break;case"yy":t=ft(0,2,0,!0,!0);break;case"yyy":t=ft(0,3,0,!1,!0);break;case"yyyy":t=ft(0,4,0,!1,!0);break;case"Y":t=Gu(1);break;case"YY":t=Gu(2,!0);break;case"YYY":t=Gu(3);break;case"YYYY":t=Gu(4);break;case"M":case"L":t=ft(1,1,1);break;case"MM":case"LL":t=ft(1,2,1);break;case"MMM":t=Xe(2,We.Abbreviated);break;case"MMMM":t=Xe(2,We.Wide);break;case"MMMMM":t=Xe(2,We.Narrow);break;case"LLL":t=Xe(2,We.Abbreviated,Rt.Standalone);break;case"LLLL":t=Xe(2,We.Wide,Rt.Standalone);break;case"LLLLL":t=Xe(2,We.Narrow,Rt.Standalone);break;case"w":t=vg(1);break;case"ww":t=vg(2);break;case"W":t=vg(1,!0);break;case"d":t=ft(2,1);break;case"dd":t=ft(2,2);break;case"c":case"cc":t=ft(7,1);break;case"ccc":t=Xe(1,We.Abbreviated,Rt.Standalone);break;case"cccc":t=Xe(1,We.Wide,Rt.Standalone);break;case"ccccc":t=Xe(1,We.Narrow,Rt.Standalone);break;case"cccccc":t=Xe(1,We.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":t=Xe(1,We.Abbreviated);break;case"EEEE":t=Xe(1,We.Wide);break;case"EEEEE":t=Xe(1,We.Narrow);break;case"EEEEEE":t=Xe(1,We.Short);break;case"a":case"aa":case"aaa":t=Xe(0,We.Abbreviated);break;case"aaaa":t=Xe(0,We.Wide);break;case"aaaaa":t=Xe(0,We.Narrow);break;case"b":case"bb":case"bbb":t=Xe(0,We.Abbreviated,Rt.Standalone,!0);break;case"bbbb":t=Xe(0,We.Wide,Rt.Standalone,!0);break;case"bbbbb":t=Xe(0,We.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Xe(0,We.Abbreviated,Rt.Format,!0);break;case"BBBB":t=Xe(0,We.Wide,Rt.Format,!0);break;case"BBBBB":t=Xe(0,We.Narrow,Rt.Format,!0);break;case"h":t=ft(3,1,-12);break;case"hh":t=ft(3,2,-12);break;case"H":t=ft(3,1);break;case"HH":t=ft(3,2);break;case"m":t=ft(4,1);break;case"mm":t=ft(4,2);break;case"s":t=ft(5,1);break;case"ss":t=ft(5,2);break;case"S":t=ft(6,1);break;case"SS":t=ft(6,2);break;case"SSS":t=ft(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Bu(0);break;case"ZZZZZ":t=Bu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Bu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Bu(2);break;default:return null}return yg[e]=t,t}function o_(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function AT(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function RT(e,t,n){let i=e.getTimezoneOffset(),o=o_(t,i);return AT(e,-1*(o-i))}function OT(e){if($1(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return $u(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(ET))return FT(r)}let t=new Date(e);if(!$1(t))throw new de(2302,!1);return t}function FT(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,c,u),t}function $1(e){return e instanceof Date&&!isNaN(e.valueOf())}function z1(e,t){e.context.$implicit=t.item}function W1(e,t){if(e&&!e.createEmbeddedView)throw new de(2020,!1)}function bg(e,t){return new de(2100,!1)}function UT(e,t){return{key:e,value:t}}function Z1(e,t){let n=e.key,r=t.key;if(n===r)return 0;if(n==null)return 1;if(r==null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var Rt,We,Jt,Er,ET,ju,MT,kT,Hu,yg,Dg,q1,ta,qu,zr,qt,zu,Cg,_g,Ig,LT,VT,dn,Ri,jT,s_,a_,na,wg,Ot,c_=L(()=>{"use strict";qe();qe();Rt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Rt||{}),We=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(We||{}),Jt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Jt||{}),Er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};ET=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ju={},MT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;kT=0,Hu=4;yg={};Dg=/\s+/,q1=[],ta=(()=>{class e{_ngEl;_renderer;initialClasses=q1;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Dg):q1}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Dg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Dg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(he(Vn),he(bi))};static \u0275dir=bn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})(),qu=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zr=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),z1(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);z1(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(he(wi),he(jr),he(Yp))};static \u0275dir=bn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();qt=(()=>{class e{_viewContainer;_context=new zu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){W1(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){W1(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(he(wi),he(jr))};static \u0275dir=bn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),zu=class{$implicit=null;ngIf=null};Cg=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Ln.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(he(Vn),he(yu),he(bi))};static \u0275dir=bn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();_g=class{createSubscription(t,n,r){return jn(()=>t.subscribe({next:n,error:r}))}dispose(t){jn(()=>t.unsubscribe())}},Ig=class{createSubscription(t,n,r){return t.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},LT=new Ig,VT=new _g,dn=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=De(On);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Mi(n))return LT;if(hu(n))return VT;throw bg(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(he(vu,16))};static \u0275pipe=Zt({name:"async",type:e,pure:!1})}return e})(),Ri=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw bg(e,n);return n.toUpperCase()}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Zt({name:"uppercase",type:e,pure:!0})}return e})(),jT="mediumDate",s_=new ve(""),a_=new ve(""),na=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??jT,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return r_(n,s,o||this.locale,a)}catch(s){throw bg(e,s.message)}}static \u0275fac=function(r){return new(r||e)(he(Ns,16),he(s_,24),he(a_,24))};static \u0275pipe=Zt({name:"date",type:e,pure:!0})}return e})();wg=(()=>{class e{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=Z1;transform(n,r=Z1){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(UT(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||e)(he(yu,16))};static \u0275pipe=Zt({name:"keyvalue",type:e,pure:!1})}return e})();Ot=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ur({type:e});static \u0275inj=gr({})}return e})()});function l_(e){return e===BT}var u_,BT,Dt=L(()=>{"use strict";c_();qe();Qp();H1();u_="browser",BT="server"});function d_(e){for(let t of e)t.remove()}function f_(e,t){let n=t.createElement("style");return n.textContent=e,n}function GT(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Wu}="${t}"],link[${Wu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Wu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Mg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}function WT(e){return $T.replace(kg,e)}function ZT(e){return HT.replace(kg,e)}function g_(e,t){return t.map(n=>n.replace(kg,e))}function p_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ju,Tg,ra,Wu,xg,Eg,kg,h_,HT,$T,qT,zT,Pg,ia,Sg,oa,Zu,m_=L(()=>{"use strict";Dt();qe();qe();Ju=new ve(""),Tg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new de(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(Se(Ju),Se(it))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),ra=class{_doc;constructor(t){this._doc=t}manager},Wu="ng-app-id";xg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=l_(o),GT(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,f_);r?.forEach(i=>this.addUsage(i,this.external,Mg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(d_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])d_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,f_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Mg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Wu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(Se(Xt),Se(iu),Se(su,8),Se(uo))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),Eg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kg=/%COMP%/g,h_="%COMP%",HT=`_nghost-${h_}`,$T=`_ngcontent-${h_}`,qT=!0,zT=new ve("",{providedIn:"root",factory:()=>qT});Pg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new ia(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Zu?i.applyToHost(n):i instanceof oa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case mr.Emulated:o=new Zu(c,u,r,this.appId,l,s,a,d,p);break;case mr.ShadowDom:return new Sg(c,u,n,r,s,a,this.nonce,d,p);default:o=new oa(c,u,r,l,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(Se(Tg),Se(xg),Se(iu),Se(zT),Se(Xt),Se(uo),Se(it),Se(su),Se(xs,8))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Eg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(p_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(p_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new de(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Eg[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Eg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ln.DashCase|Ln.Important)?t.style.setProperty(n,r,i&Ln.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ln.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=qr().getGlobalEventTarget(this.doc,t),!t))throw new de(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};Sg=class extends ia{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,u){super(t,o,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=g_(i.id,l);for(let p of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Mg(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oa=class extends ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,u){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?g_(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zu=class extends oa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,u){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,u,l),this.contentAttr=WT(l),this.hostAttr=ZT(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}});function JT(){return sa=sa||document.head.querySelector("base"),sa?sa.getAttribute("href"):null}function YT(e){return new URL(e,document.baseURI).pathname}function Ng(e){return SD(ex(e))}function ex(e){return{appProviders:[...ox,...e?.providers??[]],platformProviders:ix}}function tx(){Yu.makeCurrent()}function nx(){return new Wn}function rx(){return ap(document),document}var Yu,sa,QT,y_,v_,KT,XT,D_,ix,ox,__=L(()=>{"use strict";Dt();qe();qe();m_();Yu=class e extends Ys{supportsDOMEvents=!0;static makeCurrent(){gg(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=JT();return n==null?null:YT(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Os(document.cookie,t)}},sa=null;QT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),y_=(()=>{class e extends ra{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(Se(Xt))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),v_=["alt","control","meta","shift"],KT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},D_=(()=>{class e extends ra{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),v_.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=KT[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),v_.forEach(s=>{if(s!==i){let a=XT[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(Se(Xt))};static \u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();ix=[{provide:uo,useValue:u_},{provide:ou,useValue:tx,multi:!0},{provide:Xt,useFactory:rx}],ox=[{provide:is,useValue:"root"},{provide:Wn,useFactory:nx},{provide:Ju,useClass:y_,multi:!0,deps:[Xt]},{provide:Ju,useClass:D_,multi:!0,deps:[Xt]},Pg,xg,Tg,{provide:Di,useExisting:Pg},{provide:ki,useClass:QT},[]]});var I_=L(()=>{"use strict";__();});function cx(){let e=qr()?qr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}function P_(e){return e!=null}function N_(e){return Mi(e)?Kr(e):e}function A_(e){let t={};return e.forEach(n=>{t=n!=null?ye(ye({},t),n):t}),Object.keys(t).length===0?null:t}function R_(e,t){return t.map(n=>n(e))}function fx(e){return!e.validate}function O_(e){return e.map(t=>fx(t)?t:n=>t.validate(n))}function px(e){if(!e)return null;let t=e.filter(P_);return t.length==0?null:function(n){return A_(R_(n,t))}}function F_(e){return e!=null?px(O_(e)):null}function hx(e){if(!e)return null;let t=e.filter(P_);return t.length==0?null:function(n){let r=R_(n,t).map(N_);return dd(r).pipe(gt(A_))}}function L_(e){return e!=null?hx(O_(e)):null}function C_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function gx(e){return e._rawValidators}function mx(e){return e._rawAsyncValidators}function Ag(e){return e?Array.isArray(e)?e:[e]:[]}function Ku(e,t){return Array.isArray(e)?e.includes(t):e===t}function b_(e,t){let n=Ag(t);return Ag(e).forEach(i=>{Ku(n,i)||n.push(i)}),n}function w_(e,t){return Ag(t).filter(n=>!Ku(e,n))}function yx(e){return(nl(e)?e.validators:e)||null}function Dx(e){return Array.isArray(e)?F_(e):e||null}function _x(e,t){return(nl(t)?t.asyncValidators:e)||null}function Ix(e){return Array.isArray(e)?L_(e):e||null}function nl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Cx(e,t){return[...t.path,e]}function bx(e,t,n=Lg){Mx(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Sx(e,t),xx(e,t),Tx(e,t),Ex(e,t)}function E_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Ex(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Mx(e,t){let n=gx(e);t.validator!==null?e.setValidators(C_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=mx(e);t.asyncValidator!==null?e.setAsyncValidators(C_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();E_(t._rawValidators,i),E_(t._rawAsyncValidators,i)}function Sx(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&j_(e,t)})}function Tx(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&j_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function j_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function xx(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function kx(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Px(e){return Object.getPrototypeOf(e.constructor)===sx}function Nx(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Po?n=o:Px(o)?r=o:i=o}),i||r||n||null}function M_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function S_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var x_,sx,k_,ax,ux,Po,lx,dx,Xu,Rg,da,Og,vx,SU,tl,aa,Qu,To,ca,ko,el,ua,la,xo,Fg,V_,Lg,Ax,Rx,T_,fa,Ox,No,Ao=L(()=>{"use strict";qe();qe();Dt();vn();ys();x_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(he(bi),he(Vn))};static \u0275dir=bn({type:e})}return e})(),sx=(()=>{class e extends x_{static \u0275fac=(()=>{let n;return function(i){return(n||(n=op(e)))(i||e)}})();static \u0275dir=bn({type:e,features:[Ei]})}return e})(),k_=new ve(""),ax={provide:k_,useExisting:ii(()=>Po),multi:!0};ux=new ve(""),Po=(()=>{class e extends x_{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!cx())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(he(bi),he(Vn),he(ux,8))};static \u0275dir=bn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&q("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yo([ax]),Ei]})}return e})(),lx=new ve(""),dx=new ve("");Xu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=F_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=L_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Rg=class extends Xu{name;get formDirective(){return null}get path(){return null}},da=class extends Xu{_parent=null;name=null;valueAccessor=null},Og=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SU=Oe(ye({},vx),{"[class.ng-submitted]":"isSubmitted"}),tl=(()=>{class e extends Og{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(he(da,2))};static \u0275dir=bn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ke("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ei]})}return e})(),aa="VALID",Qu="INVALID",To="PENDING",ca="DISABLED",ko=class{},el=class extends ko{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ua=class extends ko{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},la=class extends ko{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},xo=class extends ko{status;source;constructor(t,n){super(),this.status=t,this.source=n}};Fg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return jn(this.statusReactive)}set status(t){jn(()=>this.statusReactive.set(t))}_status=As(()=>this.statusReactive());statusReactive=to(void 0);get valid(){return this.status===aa}get invalid(){return this.status===Qu}get pending(){return this.status==To}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}errors;get pristine(){return jn(this.pristineReactive)}set pristine(t){jn(()=>this.pristineReactive.set(t))}_pristine=As(()=>this.pristineReactive());pristineReactive=to(!0);get dirty(){return!this.pristine}get touched(){return jn(this.touchedReactive)}set touched(t){jn(()=>this.touchedReactive.set(t))}_touched=As(()=>this.touchedReactive());touchedReactive=to(!1);get untouched(){return!this.touched}_events=new gn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(b_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(b_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(w_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(w_(t,this._rawAsyncValidators))}hasValidator(t){return Ku(this._rawValidators,t)}hasAsyncValidator(t){return Ku(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Oe(ye({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new la(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new la(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Oe(ye({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ua(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ua(!0,r))}markAsPending(t={}){this.status=To;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new xo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Oe(ye({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ca,this.errors=null,this._forEachChild(i=>{i.disable(Oe(ye({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new el(this.value,r)),this._events.next(new xo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Oe(ye({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=aa,this._forEachChild(r=>{r.enable(Oe(ye({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Oe(ye({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===aa||this.status===To)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new el(this.value,n)),this._events.next(new xo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Oe(ye({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:aa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=To,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=N_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new xo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new en,this.statusChanges=new en}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?Qu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(To)?To:this._anyControlsHaveStatus(Qu)?Qu:aa}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new ua(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new la(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Dx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ix(this._rawAsyncValidators)}},V_=new ve("",{providedIn:"root",factory:()=>Lg}),Lg="always";Ax=class extends Fg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(yx(n),_x(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(S_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){M_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){M_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){S_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Rx={provide:da,useExisting:ii(()=>fa)},T_=Promise.resolve(),fa=(()=>{class e extends da{_changeDetectorRef;callSetDisabledState;control=new Ax;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new en;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Nx(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),kx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){T_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&TD(r);T_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Cx(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(he(Rg,9),he(lx,10),he(dx,10),he(k_,10),he(vu,8),he(V_,8))};static \u0275dir=bn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yo([Rx]),Ei,ru]})}return e})(),Ox=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ur({type:e});static \u0275inj=gr({})}return e})(),No=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:V_,useValue:n.callSetDisabledState??Lg}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ur({type:e});static \u0275inj=gr({imports:[Ox]})}return e})()});var rl,B_=L(()=>{"use strict";qe();rl=class e{transform(t){if(!t)return"";let n=new Date(t),r=new Date,i=new Date;if(i.setHours(0,0,0,0),n.getTime()>=i.getTime()){let a=n.getHours().toString().padStart(2,"0"),c=n.getMinutes().toString().padStart(2,"0");return`${a}:${c}`}let o=Math.floor((i.getTime()-new Date(n).setHours(0,0,0,0))/(1e3*60*60*24));return o<7?`${o} day`:`${Math.floor(o/7)} week`}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Zt({name:"relativeTime",type:e,pure:!0})}});function Fx(e,t){e&1&&(b(0,"div",11),B(1),w()),e&2&&(k(),Ae("Typing..."))}function Lx(e,t){if(e&1&&(b(0,"div",11),B(1),w()),e&2){let n=R(2);k(),Ae(n.room.lastMessage.textElem==null?null:n.room.lastMessage.textElem.content)}}function Vx(e,t){if(e&1&&(b(0,"div",12),B(1),w()),e&2){let n=R(2);k(),Ae(n.room.conversation&&n.room.conversation.unreadCount)}}function jx(e,t){if(e&1&&(b(0,"div",1)(1,"div",2),B(2),re(3,"uppercase"),w(),b(4,"div",3)(5,"div",4),B(6),w(),b(7,"div",5),B(8),w(),K(9,Fx,2,1,"div",6)(10,Lx,2,1,"div",6),w(),b(11,"div",7)(12,"div",8),B(13),re(14,"relativeTime"),w(),b(15,"div",9),B(16),w(),K(17,Vx,2,1,"div",10),w()()),e&2){let n=R();k(),tr("background-color",n.room.bgColor),k(),tt(" ",ie(3,11,n.room.symbol)," "),k(4),Ae(n.room.groupName),k(2),Ae(n.room.emails),k(),F("ngIf",n.room.typing),k(),F("ngIf",!n.room.typing&&n.room.lastMessage&&n.room.lastMessage.textElem),k(3),Ae(ie(14,13,n.room.createTime)),k(2),F("ngClass",n.room.introduction=="open"?"open":"closed"),k(),Ae(n.room.introduction),k(),F("ngIf",n.room.conversation&&n.room.conversation.unreadCount)}}var il,G_=L(()=>{"use strict";Dt();B_();qe();Dt();il=class e{room;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Bt({type:e,selectors:[["app-room-item"]],inputs:{room:"room"},decls:1,vars:1,consts:[["class","room-item",4,"ngIf"],[1,"room-item"],[1,"room-avatar"],[1,"room-info"],[1,"room-name"],[1,"room-email"],["class","room-preview",4,"ngIf"],[1,"room-meta"],[1,"room-time"],[1,"room-status",3,"ngClass"],["class","room-badge",4,"ngIf"],[1,"room-preview"],[1,"room-badge"]],template:function(n,r){n&1&&K(0,jx,18,15,"div",0),n&2&&F("ngIf",r.room)},dependencies:[Ot,ta,qt,Ri,rl],styles:['@charset "UTF-8";.room-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;flex-shrink:0}.room-info[_ngcontent-%COMP%]{gap:2px;flex-grow:1;width:230px;display:flex;overflow:hidden;flex-direction:column}.room-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#000}.room-email[_ngcontent-%COMP%], .room-preview[_ngcontent-%COMP%]{font-size:14px;color:#8e8e93;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.room-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:6px;font-size:14px;color:#8e8e93;text-align:right;flex-shrink:0;min-width:55px}.room-status[_ngcontent-%COMP%]{color:#fff;border-radius:4px;padding:0 10px 3px}.room-status.open[_ngcontent-%COMP%]{background:#2c71f6}.room-status.closed[_ngcontent-%COMP%]{background:#17b530}.room-badge[_ngcontent-%COMP%]{background-color:#d0021b;color:#fff;min-width:22px;height:22px;padding:0 4px;border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700}.room-item[_ngcontent-%COMP%]{padding:12px 16px;display:flex;align-items:flex-start;gap:12px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s ease}.room-item.active[_ngcontent-%COMP%]{background:#ffeff2}.room-item[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}']})}});function Ux(e,t){e&1&&(b(0,"div",14)(1,"h2"),B(2,"Notifications"),w()())}function Bx(e,t){e&1&&(b(0,"div",14)(1,"h2"),B(2,"Chats"),w(),b(3,"button",15),B(4,"+"),w()())}function Gx(e,t){if(e&1){let n=Ee();b(0,"li",18),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.setSort(i.key))}),B(1),w()}if(e&2){let n=t.$implicit;k(),tt(" ",n.value.label," ")}}function Hx(e,t){if(e&1&&(b(0,"ul",16),K(1,Gx,2,1,"li",17),re(2,"keyvalue"),w()),e&2){let n=R();k(),F("ngForOf",ie(2,1,n.sortOptions))}}function $x(e,t){if(e&1){let n=Ee();b(0,"div",24),re(1,"async"),q("click",function(){let i=Y(n).$implicit,o=R(3);return Q(o.selectRoomTop(i))}),ae(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(3);Ke("active",((n=ie(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),k(2),F("room",r)}}function qx(e,t){if(e&1&&(b(0,"div",22),K(1,$x,3,5,"div",23),re(2,"async"),w()),e&2){let n=R(2);k(),F("ngForOf",ie(2,1,n.displayRooms$))}}function zx(e,t){if(e&1){let n=Ee();b(0,"div",24),re(1,"async"),q("click",function(){let i=Y(n).$implicit,o=R(3);return Q(o.selectRoomTop(i))}),ae(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(3);Ke("active",((n=ie(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),k(2),F("room",r)}}function Wx(e,t){if(e&1&&(b(0,"div",22),K(1,zx,3,5,"div",23),re(2,"async"),w()),e&2){let n=R(2);k(),F("ngForOf",ie(2,1,n.openRooms$))}}function Zx(e,t){if(e&1){let n=Ee();b(0,"div",24),re(1,"async"),q("click",function(){let i=Y(n).$implicit,o=R(3);return Q(o.selectRoomTop(i))}),ae(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(3);Ke("active",((n=ie(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),k(2),F("room",r)}}function Jx(e,t){if(e&1&&(b(0,"div",22),K(1,Zx,3,5,"div",23),re(2,"async"),w()),e&2){let n=R(2);k(),F("ngForOf",ie(2,1,n.closedRooms$))}}function Yx(e,t){if(e&1){let n=Ee();lo(0),b(1,"div",19)(2,"button",20),q("click",function(){Y(n);let i=R();return Q(i.setCategory("all"))}),B(3,"All"),w(),b(4,"button",20),q("click",function(){Y(n);let i=R();return Q(i.setCategory("open"))}),B(5,"Open"),w(),b(6,"button",20),q("click",function(){Y(n);let i=R();return Q(i.setCategory("close"))}),B(7,"Closed"),w()(),K(8,qx,3,3,"div",21)(9,Wx,3,3,"div",21)(10,Jx,3,3,"div",21),fo()}if(e&2){let n=R();k(2),Ke("active",n.currentCategory==="all"),k(2),Ke("active",n.currentCategory==="open"),k(2),Ke("active",n.currentCategory==="close"),k(2),F("ngIf",n.currentCategory==="all"),k(),F("ngIf",n.currentCategory==="open"),k(),F("ngIf",n.currentCategory==="close")}}function Qx(e,t){if(e&1){let n=Ee();b(0,"div",24),re(1,"async"),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.selectRoom(i))}),ae(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(2);Ke("active",((n=ie(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),k(2),F("room",r)}}function Kx(e,t){if(e&1){let n=Ee();b(0,"div",24),re(1,"async"),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.selectRoom(i))}),ae(2,"app-room-item",25),w()}if(e&2){let n,r=t.$implicit,i=R(2);Ke("active",((n=ie(1,3,i.selectedRoom$))==null?null:n.groupID)==r.groupID),k(2),F("room",r)}}function Xx(e,t){if(e&1){let n=Ee();lo(0),b(1,"div",26)(2,"div",27),q("click",function(){Y(n);let i=R();return Q(i.toggleOpenedSection())}),b(3,"span",28),B(4,"\u2665"),w(),b(5,"span",29),B(6,"Opened"),w(),b(7,"button",30),B(8,"+"),w()(),b(9,"div",31),K(10,Qx,3,5,"div",23),re(11,"async"),w()(),b(12,"div",26)(13,"div",27),q("click",function(){Y(n);let i=R();return Q(i.toggleClosedSection())}),b(14,"span",28),B(15,"\u2665"),w(),b(16,"span",29),B(17,"Closed"),w(),b(18,"button",30),B(19,"+"),w()(),b(20,"div",31),K(21,Kx,3,5,"div",23),re(22,"async"),w()(),fo()}if(e&2){let n=R();k(9),Ke("collapsed",!n.openedExpanded),k(),F("ngForOf",ie(11,6,n.openRooms$)),k(10),Ke("collapsed",!n.closedExpanded),k(),F("ngForOf",ie(22,8,n.closedRooms$))}}var ol,H_=L(()=>{"use strict";Ao();Dt();vn();Da();Sr();Go();G_();qe();Us();So();Dt();Ao();ol=class e{constructor(t,n){this.service=t;this.chatService=n;this.rooms$=this.chatService.rooms$,this.selectedRoom$=this.chatService.selectedRoom$}searchTerm="";sortBy="newest";openedExpanded=!0;closedExpanded=!0;PositionState=ji;rooms$;currentCategory="all";selectedRoom$;groupSubscription;typingSubscription;isSortDropdownOpen=!1;currentSort="newest";sortOptions={newest:{label:"Newest"},alphaAZ:{label:"Alphabet A-Z"},alphaZA:{label:"Alphabet Z-A"}};onDocumentClick(t){t.target.closest(".sort-dropdown")||(this.isSortDropdownOpen=!1)}ngOnInit(){this.groupSubscription=this.chatService.newGroupHandler$.subscribe(t=>{setTimeout(()=>ce(this,null,function*(){if(t){if(this.chatService.listConversations=yield this.chatService.conversations(),t.symbol=t.ex?JSON.parse(t.ex).symbol:t.groupName.substring(0,2),t.bgColor=t.ex?JSON.parse(t.ex).bgColor:Ge.getRandomDarkColor(),this.chatService.listConversations&&this.chatService.listConversations.length>0){let n=this.chatService.listConversations.find(i=>i.groupID==t.groupID);n&&(t.conversation=n,t.conversationID=n.conversationID,t.lastMessage=n.latestMsg?JSON.parse(n.latestMsg):null);let r=yield this.chatService.getGroupMembers(t.groupID);if(r&&r.length>0){let i=r.map(s=>s.userID),o=yield this.service.getUserInfos(i);t.members=r,r.forEach(s=>{let a=o.find(c=>c.userID==s.userID);a&&(s.email=a.email,s.phone=a.phone,s.type=a.type||"customer")}),t.emails=r.map(s=>s.email).join(", ")}}this.chatService.addRoom(t)}}),1e3)}),this.typingSubscription=this.chatService.typingHandler$.subscribe(t=>{this.chatService.setRoomTypingStatus(t)})}ngOnDestroy(){this.groupSubscription&&(this.groupSubscription.unsubscribe(),this.groupSubscription=null),this.typingSubscription&&(this.typingSubscription.unsubscribe(),this.typingSubscription=null)}get openRooms$(){return this.rooms$.pipe(gt(t=>this.filterAndSort(t,"open")))}get closedRooms$(){return this.rooms$.pipe(gt(t=>this.filterAndSort(t,"close")))}get displayRooms$(){return this.rooms$.pipe(gt(t=>this.filterAndSort(t,"all")))}parseTime(t){if(t.includes(":")){let[n,r]=t.split(":").map(Number);return n*60+r}else{if(t.includes("d"))return parseInt(t)*24*60;if(t.includes("w"))return parseInt(t)*7*24*60}return 0}toggleOpenedSection(){this.openedExpanded=!this.openedExpanded}toggleClosedSection(){this.closedExpanded=!this.closedExpanded}selectRoom(t){return ce(this,null,function*(){if(this.chatService.setSelectedRoom(t),t.conversation&&t.conversation.unreadCount>0){yield this.chatService.markConversationMessageAsRead(t.conversationID);let n=Oe(ye({},t.conversation),{unreadCount:0});this.chatService.updateRoomById(t.groupID,{conversation:n})}})}selectRoomTop(t){return ce(this,null,function*(){this.selectRoom(t),this.chatService.layoutState$.next(3)})}sortRooms(t){let n=[...t];switch(this.currentSort){case"newest":n.sort((r,i)=>i.createTime-r.createTime);break;case"alphaAZ":n.sort((r,i)=>r.groupName.localeCompare(i.groupName));break;case"alphaZA":n.sort((r,i)=>i.groupName.localeCompare(r.groupName));break}return n}toggleSortDropdown(){this.isSortDropdownOpen=!this.isSortDropdownOpen}setSort(t){this.currentSort=t,this.isSortDropdownOpen=!1}setCategory(t){this.currentCategory=t}filterAndSort(t,n){if(n=="open"||n=="close"){let r=n==="open"?t.filter(o=>o.introduction==="open"):t.filter(o=>o.introduction==="close"),i=r;return this.searchTerm&&(i=r.filter(o=>o.groupName.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.sortRooms(i)}else{let r=t,i=r;return this.searchTerm&&(i=r.filter(o=>o.groupName.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.sortRooms(i)}}static \u0275fac=function(n){return new(n||e)(he(nr),he(Sn))};static \u0275cmp=Bt({type:e,selectors:[["app-left-panel"]],hostBindings:function(n,r){n&1&&q("click",function(o){return r.onDocumentClick(o)},Ts)},decls:26,vars:15,consts:[[1,"left-panel"],["class","header",4,"ngIf"],[1,"search-box"],[1,"search-icon"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.58366 17.5C13.9559 17.5 17.5003 13.9556 17.5003 9.58332C17.5003 5.21107 13.9559 1.66666 9.58366 1.66666C5.2114 1.66666 1.66699 5.21107 1.66699 9.58332C1.66699 13.9556 5.2114 17.5 9.58366 17.5Z","stroke","#89898A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18.3337 18.3333L16.667 16.6667","stroke","#89898A","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["type","text","placeholder","Search products...",3,"ngModelChange","ngModel"],[1,"sort-section"],[1,"sort-dropdown"],[1,"sort-toggle",3,"click"],["d","M16.5999 7.45834L11.1666 12.8917C10.5249 13.5333 9.4749 13.5333 8.83324 12.8917L3.3999 7.45834","stroke","#89898A","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["class","sort-options",4,"ngIf"],[4,"ngIf"],[1,"header"],[1,"add-btn"],[1,"sort-options"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"room-tabs"],[1,"tab-btn",3,"click"],["class","rooms-list top-view",4,"ngIf"],[1,"rooms-list","top-view"],["class","room-item",3,"active","click",4,"ngFor","ngForOf"],[1,"room-item",3,"click"],[3,"room"],[1,"rooms-section"],[1,"section-header",3,"click"],[1,"section-icon"],[1,"section-title"],[1,"add-section-btn"],[1,"rooms-list"]],template:function(n,r){n&1&&(b(0,"div",0),K(1,Ux,3,0,"div",1),re(2,"async"),K(3,Bx,5,0,"div",1),re(4,"async"),b(5,"div",2)(6,"span",3),we(),b(7,"svg",4),ae(8,"path",5)(9,"path",6),w()(),Be(),b(10,"input",7),vo("ngModelChange",function(o){return Ps(r.searchTerm,o)||(r.searchTerm=o),o}),w()(),b(11,"div",8)(12,"span"),B(13,"Sort by"),w(),b(14,"div",9)(15,"button",10),q("click",function(){return r.toggleSortDropdown()}),b(16,"span"),B(17),w(),we(),b(18,"svg",4),ae(19,"path",11),w()(),K(20,Hx,3,3,"ul",12),w()(),Be(),lo(21),K(22,Yx,11,9,"ng-container",13),re(23,"async"),K(24,Xx,23,10,"ng-container",13),re(25,"async"),fo(),w()),n&2&&(k(),F("ngIf",ie(2,7,r.chatService.positionState$)==r.PositionState.Top),k(2),F("ngIf",ie(4,9,r.chatService.positionState$)==r.PositionState.Widget),k(7),mo("ngModel",r.searchTerm),k(7),Ae(r.sortOptions[r.currentSort].label),k(3),F("ngIf",r.isSortDropdownOpen),k(2),F("ngIf",ie(23,11,r.chatService.positionState$)==r.PositionState.Top),k(2),F("ngIf",ie(25,13,r.chatService.positionState$)==r.PositionState.Widget))},dependencies:[Ot,zr,qt,dn,wg,No,Po,tl,fa,il],styles:['@charset "UTF-8";.left-panel[_ngcontent-%COMP%]{margin:0 auto;padding:16px 0;max-width:450px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:0 16px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0}.add-btn[_ngcontent-%COMP%]{font-size:30px;font-weight:200;color:#007aff;background:none;border:none;cursor:pointer}.search-box[_ngcontent-%COMP%]{padding:0;margin:0 16px 20px;position:relative;border-radius:10px;border:1px solid #D8D8DA}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;top:45%;left:15px;transform:translateY(-45%);color:#8e8e93}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 40px;border:none;background-color:#f0f0f0;border-radius:10px;font-size:16px;box-sizing:border-box;outline:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#8e8e93}.sort-section[_ngcontent-%COMP%]{padding:0 16px;display:flex;justify-content:flex-end;align-items:center;gap:8px;margin-bottom:16px;font-size:14px;color:#8e8e93}.sort-section[_ngcontent-%COMP%]   .sort-dropdown[_ngcontent-%COMP%]{padding-top:4px}.sort-select[_ngcontent-%COMP%]{color:#000;font-weight:500;display:flex;align-items:center;gap:4px;cursor:pointer}.arrow-down[_ngcontent-%COMP%]{border:solid black;border-width:0 2px 2px 0;display:inline-block;padding:2.5px;transform:rotate(45deg)}.rooms-section[_ngcontent-%COMP%]{margin-bottom:10px}.section-header[_ngcontent-%COMP%]{padding:0 16px;display:flex;align-items:center;gap:8px;margin-bottom:8px;cursor:pointer}.section-icon[_ngcontent-%COMP%]{color:#8e8e93;font-size:12px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0;flex-grow:1}.add-section-btn[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:#8e8e93;background:none;border:none;cursor:pointer}.room-item[_ngcontent-%COMP%]{transition:background-color .2s ease}.room-item.active[_ngcontent-%COMP%]{background:#ffeff2}.rooms-list.collapsed[_ngcontent-%COMP%]{display:none}.sort-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:8px;margin-bottom:16px;font-size:14px;color:#8e8e93}.sort-dropdown[_ngcontent-%COMP%]{position:relative}.sort-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:none;border:none;cursor:pointer;font-size:14px;font-weight:500;color:#000}.arrow-down[_ngcontent-%COMP%]{border:solid black;border-width:0 2px 2px 0;display:inline-block;padding:2.5px;transform:rotate(45deg);transition:transform .2s ease}.sort-toggle.open[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{transform:rotate(-135deg)}.sort-options[_ngcontent-%COMP%]{position:absolute;top:120%;right:0;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;list-style:none;padding:8px;margin:0;width:200px;z-index:100;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sort-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 12px;border-radius:6px;cursor:pointer}.sort-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}.room-tabs[_ngcontent-%COMP%]{gap:16px;display:flex;margin:0 20px 16px;border-bottom:none}.tab-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px 4px;font-size:15px;cursor:pointer;color:#89898a;font-weight:600;position:relative;border-bottom:2px solid transparent}.tab-btn.active[_ngcontent-%COMP%]{color:#ef4123;font-weight:600;border-bottom-color:#ef4123}.rooms-list.top-view[_ngcontent-%COMP%]{padding-top:8px;min-width:400px;max-height:300px;overflow-y:scroll}']})}});var Ro,Vg=L(()=>{"use strict";Sr();qe();Ro=class e{transform(t){return t?Ge.formatFileSize(t):""}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Zt({name:"fileSize",type:e,pure:!0})}});var Oo,jg=L(()=>{"use strict";qe();Dt();Oo=class e{constructor(t){this.datePipe=t}transform(t,n="dd/MM/yyyy HH:mm:ss"){if(!t)return"";let r=t.toString().length===10?t*1e3:t;return this.datePipe.transform(r,n)}static \u0275fac=function(n){return new(n||e)(he(na,16))};static \u0275pipe=Zt({name:"timestamp",type:e,pure:!0})}});function e2(e,t){if(e&1){let n=Ee();b(0,"div",37),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.viewUser(i))}),b(1,"div",38),ae(2,"img",39),w(),b(3,"div",40)(4,"div",41),B(5),w(),b(6,"div",42),B(7),w()(),b(8,"button",43),B(9,"\u22EF"),w()()}if(e&2){let n=t.$implicit,r=R(2);k(2),F("src",n.faceURL||r.avatarDefault,Tt)("alt",n.nickname),k(3),Ae(n.nickname),k(2),Ae(n.email)}}function t2(e,t){if(e&1&&(b(0,"div",35),K(1,e2,10,4,"div",36),re(2,"async"),w()),e&2){let n,r=R();k(),F("ngForOf",(n=ie(2,1,r.selectedRoom$))==null?null:n.members)}}function n2(e,t){if(e&1){let n=Ee();b(0,"li",44),q("click",function(){Y(n);let i=R();return Q(i.changeStatus("open"))}),we(),b(1,"svg",45),ae(2,"path",46)(3,"path",47)(4,"path",48),w(),Be(),b(5,"span"),B(6,"Open"),w()()}}function r2(e,t){if(e&1){let n=Ee();b(0,"li",49),q("click",function(){Y(n);let i=R();return Q(i.changeStatus("close"))}),we(),b(1,"svg",45),ae(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),w(),Be(),b(6,"span"),B(7,"Solved and Close"),w()()}}function i2(e,t){if(e&1&&ae(0,"img",39),e&2){let n=R().$implicit;F("src",n.videoElem.snapshotUrl,Tt)("alt",n.fileName)}}function o2(e,t){e&1&&(b(0,"div",65),we(),b(1,"svg",66),ae(2,"polygon",67),w()())}function s2(e,t){if(e&1){let n=Ee();b(0,"div",58),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.viewMedia(i))}),b(1,"div",59),K(2,i2,1,2,"img",60)(3,o2,3,0,"div",61),w(),b(4,"div",62)(5,"div",63),B(6),w(),b(7,"div",64),B(8),re(9,"fileSize"),w()()()}if(e&2){let n=t.$implicit,r=R(2);k(2),F("ngIf",n.contentType===r.MessageType.VideoMessage),k(),F("ngIf",n.contentType===r.MessageType.VideoMessage),k(3),Ae(n.fileName),k(2),Ae(ie(9,4,n.videoElem.videoSize))}}function a2(e,t){e&1&&(b(0,"div",68)(1,"p"),B(2,"No media files shared yet"),w()())}function c2(e,t){if(e&1&&(b(0,"div",54)(1,"div",55),K(2,s2,10,6,"div",56),w(),K(3,a2,3,0,"div",57),w()),e&2){let n=R();k(2),F("ngForOf",n.mediaFiles),k(),F("ngIf",n.mediaFiles.length===0)}}function u2(e,t){if(e&1){let n=Ee();b(0,"div",71),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.viewImage(i))}),ae(1,"img",39),b(2,"div",72)(3,"div",73),B(4),w()()()}if(e&2){let n=t.$implicit;k(),F("src",n.pictureElem.sourcePicture.url,Tt)("alt",n.fileName),k(3),Ae(n.fileName)}}function l2(e,t){e&1&&(b(0,"div",68)(1,"p"),B(2,"No images shared yet"),w()())}function d2(e,t){if(e&1&&(b(0,"div",54)(1,"div",69),K(2,u2,5,3,"div",70),w(),K(3,l2,3,0,"div",57),w()),e&2){let n=R();k(2),F("ngForOf",n.imageFiles),k(),F("ngIf",n.imageFiles.length===0)}}function f2(e,t){if(e&1){let n=Ee();b(0,"div",76),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.viewDocument(i))}),b(1,"div",77),we(),b(2,"svg",66),ae(3,"path",78)(4,"polyline",79),w()(),Be(),b(5,"div",80)(6,"div",81),B(7),w(),b(8,"div",82)(9,"span",83),B(10),re(11,"fileSize"),w(),b(12,"span",84),B(13),re(14,"timestamp"),w()()(),b(15,"button",85),q("click",function(i){let o=Y(n).$implicit;return R(2).downloadFile(o),Q(i.stopPropagation())}),we(),b(16,"svg",86),ae(17,"path",87)(18,"polyline",88)(19,"line",89),w()()()}if(e&2){let n=t.$implicit;k(7),Ae(n.fileName),k(3),Ae(ie(11,3,n.fileElem.fileSize)),k(3),Ae(ie(14,5,n.createTime))}}function p2(e,t){e&1&&(b(0,"div",68)(1,"p"),B(2,"No documents shared yet"),w()())}function h2(e,t){if(e&1&&(b(0,"div",54)(1,"div",74),K(2,f2,20,7,"div",75),w(),K(3,p2,3,0,"div",57),w()),e&2){let n=R();k(2),F("ngForOf",n.documentFiles),k(),F("ngIf",n.documentFiles.length===0)}}function g2(e,t){if(e&1&&(b(0,"div",96)(1,"div",97),we(),b(2,"svg",101),ae(3,"path",102)(4,"path",103)(5,"path",104),w()(),Be(),b(6,"span",105),B(7),w()()),e&2){let n=R(2);k(7),Ae(n.selectedUser.phone)}}function m2(e,t){if(e&1){let n=Ee();b(0,"div",90)(1,"button",91),q("click",function(){Y(n);let i=R();return Q(i.closeUserPopup())}),B(2,"\xD7"),w(),ae(3,"img",92),b(4,"h3",93),B(5),w(),b(6,"div",94),K(7,g2,8,1,"div",95),b(8,"div",96)(9,"div",97),we(),b(10,"svg",98),ae(11,"path",99),w()(),Be(),b(12,"span",100),B(13),w()()()()}if(e&2){let n=R();k(3),F("src",n.selectedUser.faceURL||n.avatarDefault,Tt)("alt",n.selectedUser.nickname),k(2),Ae(n.selectedUser.userID),k(2),F("ngIf",n.selectedUser.phone),k(6),Ae(n.selectedUser.email)}}var $_,sl,q_=L(()=>{"use strict";Ao();Dt();Ws();Vg();Sr();jg();qe();So();Js();Zs();Dt();$_=e=>({show:e});sl=class e{constructor(t,n,r){this.chatService=t;this.imageService=n;this.videoService=r;this.selectedRoom$=this.chatService.selectedRoom$,this.selectedRoom$.subscribe(()=>ce(this,null,function*(){this.resetStates(),yield this.loadAllMessages()}))}MessageType=ee;activeStatus=!1;activeUserPopup=!1;selectedRoom$;selectedUser=null;avatarDefault=Ge.avatarDefault;ticketStatus="open";ticketPriority="normal";ticketType="shipment-tracking";ticketSubject="Overseas shipment tracking";expandedCategories={media:!1,images:!0,documents:!1};mediaFiles=[];imageFiles=[];documentFiles=[];resetStates(){this.imageFiles=[],this.mediaFiles=[],this.documentFiles=[]}hideStatus(){this.activeStatus=!1}toggleStatus(){this.activeStatus=!this.activeStatus}changeStatus(t){return ce(this,null,function*(){switch(this.activeStatus=!1,t){case"open":yield this.chatService.openGroup(this.chatService.currentRoom.groupID);break;case"close":yield this.chatService.closeGroup(this.chatService.currentRoom.groupID);break}})}closeUserPopup(){this.selectedUser=null,this.activeUserPopup=!1}viewUser(t){this.selectedUser=t,this.activeUserPopup=!0}toggleCategory(t){console.log("Toggling category:",t),this.expandedCategories.hasOwnProperty(t)&&(this.expandedCategories[t]=!this.expandedCategories[t],console.log("New state:",this.expandedCategories[t]))}viewMedia(t){if(t.videoElem){let n=t.videoElem.videoUrl,r=this.mediaFiles.map(i=>i.videoElem.videoUrl);this.videoService.open(r,r.indexOf(n))}}viewImage(t){if(t.pictureElem){let n=t.pictureElem.sourcePicture.url,r=this.imageFiles.map(i=>i.pictureElem.sourcePicture.url);this.imageService.open(r,r.indexOf(n))}}viewDocument(t){console.log("View document:",t)}downloadFile(t){console.log("Download file:",t)}addMember(){console.log("Add member clicked"),alert("Add member functionality would be implemented here")}loadAllMessages(){return ce(this,null,function*(){let t=!1,n="",r=!0;if(!t&&this.chatService.currentRoom){t=!0;try{for(;r;){let i=yield this.chatService.getHistoryMessages(this.chatService.currentRoom.conversationID,n,100);if(i&&i.length>0){n=i[0].clientMsgID;let o=i.filter(c=>c.contentType===ee.FileMessage);this.documentFiles.push(...o);let s=i.filter(c=>c.contentType===ee.VideoMessage);this.mediaFiles.push(...s);let a=i.filter(c=>c.contentType===ee.PictureMessage);this.imageFiles.push(...a),i.length<100&&(r=!1)}else r=!1}}catch(i){console.error("Failed to load all messages:",i)}finally{t=!1}}})}static \u0275fac=function(n){return new(n||e)(he(Sn),he(or),he(ir))};static \u0275cmp=Bt({type:e,selectors:[["app-right-panel"]],decls:70,vars:34,consts:[[1,"right-panel"],[1,"ticket-header"],[1,"header-content"],[1,"star-icon"],[1,"more-options"],["class","users-section",4,"ngIf"],[1,"status-section",3,"clickOutside"],[1,"status-label"],[1,"status-dropdown"],["id","status-toggle-btn",1,"status-toggle-btn",3,"click","ngClass"],["id","current-status-text"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"arrow"],["fill-rule","evenodd","d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"],["id","status-options",1,"status-options",3,"ngClass"],["data-value","Open",3,"click",4,"ngIf"],["data-value","Solved and Close",3,"click",4,"ngIf"],[1,"attachments-section"],[1,"attachment-category"],[1,"category-header",3,"click"],[1,"attachment-item"],[1,"attachment-icon"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z","fill","#89898A"],["d","M13.9501 23.2502C13.6101 23.2502 13.31 23.0202 13.22 22.6802L8.2701 2.68018C8.1701 2.28018 8.42009 1.87019 8.82009 1.77019C9.22009 1.67019 9.63006 1.91019 9.73006 2.32019L14.6801 22.3202C14.7801 22.7202 14.5301 23.1302 14.1301 23.2302C14.0701 23.2402 14.0101 23.2502 13.9501 23.2502Z","fill","#89898A"],["d","M1.99985 16.2501C1.66985 16.2501 1.37988 16.0401 1.27988 15.7101C1.15988 15.3101 1.38983 14.9001 1.78983 14.7801L11.3199 12.0001C11.7199 11.8801 12.1299 12.1101 12.2499 12.5101C12.3699 12.9101 12.1398 13.3201 11.7398 13.4401L2.20987 16.2201C2.13987 16.2401 2.06985 16.2501 1.99985 16.2501Z","fill","#89898A"],[1,"expand-icon"],["class","category-content",4,"ngIf"],["d","M18.3599 23.2499H5.58987C4.06987 23.2499 2.67987 22.4799 1.87987 21.1799C1.07987 19.8799 1.00987 18.2999 1.68987 16.9299L3.40987 13.4799C3.96987 12.3599 4.86987 11.6599 5.87987 11.5499C6.88987 11.4399 7.91987 11.9399 8.69987 12.9099L8.91987 13.1899C9.35987 13.7299 9.86987 14.0199 10.3699 13.9699C10.8699 13.9299 11.3299 13.5699 11.6699 12.9599L13.5599 9.54993C14.3399 8.13993 15.3799 7.40993 16.5099 7.45993C17.6299 7.51993 18.5899 8.35993 19.2299 9.83993L22.3599 17.1499C22.9399 18.4999 22.7999 20.0399 21.9899 21.2699C21.1899 22.5199 19.8299 23.2499 18.3599 23.2499ZM6.15987 13.0499C6.11987 13.0499 6.07987 13.0499 6.03987 13.0599C5.53987 13.1099 5.07987 13.5099 4.74987 14.1599L3.02987 17.6099C2.57987 18.4999 2.62987 19.5499 3.14987 20.3999C3.66987 21.2499 4.58987 21.7599 5.58987 21.7599H18.3499C19.3299 21.7599 20.1999 21.2899 20.7399 20.4699C21.2799 19.6499 21.3699 18.6699 20.9799 17.7699L17.8499 10.4599C17.4699 9.55993 16.9399 9.00993 16.4299 8.98993C15.9599 8.95993 15.3499 9.45993 14.8699 10.3099L12.9799 13.7199C12.3999 14.7599 11.4899 15.4099 10.4999 15.4999C9.50987 15.5799 8.49987 15.0999 7.74987 14.1599L7.52987 13.8799C7.10987 13.3299 6.62987 13.0499 6.15987 13.0499Z","fill","#89898A"],["d","M6.97021 9.25C4.91021 9.25 3.22021 7.57 3.22021 5.5C3.22021 3.43 4.90021 1.75 6.97021 1.75C9.04021 1.75 10.7202 3.43 10.7202 5.5C10.7202 7.57 9.04021 9.25 6.97021 9.25ZM6.97021 3.25C5.73021 3.25 4.72021 4.26 4.72021 5.5C4.72021 6.74 5.73021 7.75 6.97021 7.75C8.21021 7.75 9.22021 6.74 9.22021 5.5C9.22021 4.26 8.21021 3.25 6.97021 3.25Z","fill","#89898A"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H14C14.41 1.75 14.75 2.09 14.75 2.5C14.75 2.91 14.41 3.25 14 3.25H9C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V10.5C21.25 10.09 21.59 9.75 22 9.75C22.41 9.75 22.75 10.09 22.75 10.5V15.5C22.75 20.93 20.43 23.25 15 23.25Z","fill","#89898A"],["d","M22 11.25H18C14.58 11.25 13.25 9.91999 13.25 6.49999V2.49999C13.25 2.19999 13.43 1.91999 13.71 1.80999C13.99 1.68999 14.31 1.75999 14.53 1.96999L22.53 9.96999C22.74 10.18 22.81 10.51 22.69 10.79C22.57 11.07 22.3 11.25 22 11.25ZM14.75 4.30999V6.49999C14.75 9.07999 15.42 9.74999 18 9.74999H20.19L14.75 4.30999Z","fill","#89898A"],["d","M13 14.25H7C6.59 14.25 6.25 13.91 6.25 13.5C6.25 13.09 6.59 12.75 7 12.75H13C13.41 12.75 13.75 13.09 13.75 13.5C13.75 13.91 13.41 14.25 13 14.25Z","fill","#89898A"],["d","M11 18.25H7C6.59 18.25 6.25 17.91 6.25 17.5C6.25 17.09 6.59 16.75 7 16.75H11C11.41 16.75 11.75 17.09 11.75 17.5C11.75 17.91 11.41 18.25 11 18.25Z","fill","#89898A"],["id","user-popup",1,"popup-overlay",3,"ngClass"],["class","popup-content",4,"ngIf"],[1,"users-section"],["class","user-item",3,"click",4,"ngFor","ngForOf"],[1,"user-item",3,"click"],[1,"user-avatar"],[3,"src","alt"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-menu"],["data-value","Open",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.29 22.75H5.70995C2.30995 22.75 2.12995 20.88 1.97995 19.37L1.57995 14.36C1.48995 13.39 1.76995 12.42 2.38995 11.64C3.12995 10.74 4.17995 10.25 5.30995 10.25H18.69C19.8 10.25 20.85 10.74 21.5599 11.59L21.7299 11.82C22.27 12.56 22.51 13.46 22.42 14.37L22.02 19.36C21.87 20.88 21.69 22.75 18.29 22.75ZM5.30995 11.75C4.63995 11.75 3.99995 12.05 3.57995 12.57L3.50995 12.64C3.18995 13.05 3.01995 13.63 3.07995 14.23L3.47995 19.24C3.61995 20.7 3.67995 21.25 5.70995 21.25H18.29C20.33 21.25 20.38 20.7 20.52 19.23L20.92 14.22C20.9799 13.63 20.8099 13.04 20.42 12.58L20.32 12.46C19.8699 11.99 19.3 11.75 18.68 11.75H5.30995Z","fill","#EF4123"],["d","M20.5 12.2198C20.09 12.2198 19.75 11.8798 19.75 11.4698V9.67979C19.75 6.69979 19.23 6.17978 16.25 6.17978H13.7C12.57 6.17978 12.18 5.77979 11.75 5.20979L10.46 3.49979C10.02 2.91979 9.92 2.77979 9.02 2.77979H7.75C4.77 2.77979 4.25 3.29979 4.25 6.27979V11.4298C4.25 11.8398 3.91 12.1798 3.5 12.1798C3.09 12.1798 2.75 11.8398 2.75 11.4298V6.27979C2.75 2.44979 3.92 1.27979 7.75 1.27979H9.03C10.57 1.27979 11.05 1.77979 11.67 2.59979L12.95 4.29979C13.22 4.65979 13.24 4.67979 13.71 4.67979H16.26C20.09 4.67979 21.26 5.84979 21.26 9.67979V11.4698C21.25 11.8798 20.91 12.2198 20.5 12.2198Z","fill","#EF4123"],["d","M14.5702 17.75H9.43018C9.02018 17.75 8.68018 17.41 8.68018 17C8.68018 16.59 9.02018 16.25 9.43018 16.25H14.5702C14.9802 16.25 15.3202 16.59 15.3202 17C15.3202 17.41 14.9902 17.75 14.5702 17.75Z","fill","#EF4123"],["data-value","Solved and Close",3,"click"],["d","M14 16.9101C13.81 16.9101 13.62 16.8401 13.47 16.6901L9.50998 12.7301C9.21998 12.4401 9.21998 11.9601 9.50998 11.6701C9.79998 11.3801 10.28 11.3801 10.57 11.6701L14.53 15.6301C14.82 15.9201 14.82 16.4001 14.53 16.6901C14.38 16.8301 14.19 16.9101 14 16.9101Z","fill","#89898A"],["d","M9.99994 16.9502C9.80994 16.9502 9.61994 16.8802 9.46994 16.7302C9.17994 16.4402 9.17994 15.9602 9.46994 15.6702L13.4299 11.7102C13.7199 11.4202 14.1999 11.4202 14.4899 11.7102C14.7799 12.0002 14.7799 12.4802 14.4899 12.7702L10.5299 16.7302C10.3799 16.8802 10.1899 16.9502 9.99994 16.9502Z","fill","#89898A"],["d","M14 6.75H10C9.04 6.75 7.25 6.75 7.25 4C7.25 1.25 9.04 1.25 10 1.25H14C14.96 1.25 16.75 1.25 16.75 4C16.75 4.96 16.75 6.75 14 6.75ZM10 2.75C9.01 2.75 8.75 2.75 8.75 4C8.75 5.25 9.01 5.25 10 5.25H14C15.25 5.25 15.25 4.99 15.25 4C15.25 2.75 14.99 2.75 14 2.75H10Z","fill","#89898A"],["d","M15 22.7499H9C3.38 22.7499 2.25 20.1699 2.25 15.9999V9.99993C2.25 5.43993 3.9 3.48993 7.96 3.27993C8.38 3.25993 8.73 3.56993 8.75 3.98993C8.77 4.40993 8.45 4.74993 8.04 4.76993C5.2 4.92993 3.75 5.77993 3.75 9.99993V15.9999C3.75 19.6999 4.48 21.2499 9 21.2499H15C19.52 21.2499 20.25 19.6999 20.25 15.9999V9.99993C20.25 5.77993 18.8 4.92993 15.96 4.76993C15.55 4.74993 15.23 4.38993 15.25 3.97993C15.27 3.56993 15.63 3.24993 16.04 3.26993C20.1 3.48993 21.75 5.43993 21.75 9.98993V15.9899C21.75 20.1699 20.62 22.7499 15 22.7499Z","fill","#89898A"],[1,"category-content"],[1,"media-grid"],["class","media-item",3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"media-item",3,"click"],[1,"media-thumbnail"],[3,"src","alt",4,"ngIf"],["class","video-thumbnail",4,"ngIf"],[1,"media-info"],[1,"media-name"],[1,"media-size"],[1,"video-thumbnail"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","5,3 19,12 5,21 5,3"],[1,"empty-state"],[1,"image-grid"],["class","image-item",3,"click",4,"ngFor","ngForOf"],[1,"image-item",3,"click"],[1,"image-overlay"],[1,"image-name"],[1,"document-list"],["class","document-item",3,"click",4,"ngFor","ngForOf"],[1,"document-item",3,"click"],[1,"document-icon"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14,2 14,8 20,8"],[1,"document-info"],[1,"document-name"],[1,"document-details"],[1,"document-size"],[1,"document-date"],[1,"download-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","y1","15","x2","12","y2","3"],[1,"popup-content"],["id","close-popup-btn",1,"close-popup-btn",3,"click"],["id","popup-avatar",1,"popup-avatar",3,"src","alt"],["id","popup-name",1,"popup-name"],[1,"popup-contact-info"],["class","popup-contact-item",4,"ngIf"],[1,"popup-contact-item"],[1,"popup-contact-icon"],["width","18","height","16","viewBox","0 0 18 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.167 15.7082H4.83366C1.79199 15.7082 0.0419922 13.9582 0.0419922 10.9165V5.08317C0.0419922 2.0415 1.79199 0.291504 4.83366 0.291504H13.167C16.2087 0.291504 17.9587 2.0415 17.9587 5.08317V10.9165C17.9587 13.9582 16.2087 15.7082 13.167 15.7082ZM4.83366 1.5415C2.45033 1.5415 1.29199 2.69984 1.29199 5.08317V10.9165C1.29199 13.2998 2.45033 14.4582 4.83366 14.4582H13.167C15.5503 14.4582 16.7087 13.2998 16.7087 10.9165V5.08317C16.7087 2.69984 15.5503 1.5415 13.167 1.5415H4.83366Z","fill","#202020"],["id","popup-email"],["width","18","height","22","viewBox","0 0 18 22","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 6V16C17 20 16 21 12 21H6C2 21 1 20 1 16V6C1 2 2 1 6 1H12C16 1 17 2 17 6Z","stroke","#202020","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M11 4.5H7","stroke","#202020","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M9.0002 18.1C9.85624 18.1 10.5502 17.406 10.5502 16.55C10.5502 15.694 9.85624 15 9.0002 15C8.14415 15 7.4502 15.694 7.4502 16.55C7.4502 17.406 8.14415 18.1 9.0002 18.1Z","stroke","#202020","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","popup-phone"]],template:function(n,r){if(n&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),B(4,"\u2B50"),w(),b(5,"h3"),B(6,"Chat Details"),w()(),b(7,"button",4),B(8,"\u22EF"),w()(),K(9,t2,3,3,"div",5),re(10,"async"),b(11,"section",6),q("clickOutside",function(){return r.hideStatus()}),b(12,"span",7),B(13,"Status"),w(),b(14,"div",8)(15,"button",9),re(16,"async"),q("click",function(){return r.toggleStatus()}),b(17,"span",10),B(18),re(19,"async"),w(),we(),b(20,"svg",11),ae(21,"path",12),w()(),Be(),b(22,"div",13)(23,"ul"),K(24,n2,7,0,"li",14),re(25,"async"),K(26,r2,8,0,"li",15),re(27,"async"),w()()()(),b(28,"div",16)(29,"div",17)(30,"div",18),q("click",function(){return r.toggleCategory("media")}),b(31,"div",19)(32,"div",20),we(),b(33,"svg",21),ae(34,"path",22)(35,"path",23)(36,"path",24),w()(),Be(),b(37,"span"),B(38),w()(),b(39,"span",25),B(40,"\u25BC"),w()(),K(41,c2,4,2,"div",26),w(),b(42,"div",17)(43,"div",18),q("click",function(){return r.toggleCategory("images")}),b(44,"div",19)(45,"div",20),we(),b(46,"svg",21),ae(47,"path",27)(48,"path",28),w()(),Be(),b(49,"span"),B(50),w()(),b(51,"span",25),B(52,"\u25BC"),w()(),K(53,d2,4,2,"div",26),w(),b(54,"div",17)(55,"div",18),q("click",function(){return r.toggleCategory("documents")}),b(56,"div",19)(57,"div",20),we(),b(58,"svg",21),ae(59,"path",29)(60,"path",30)(61,"path",31)(62,"path",32),w()(),Be(),b(63,"span"),B(64),w()(),b(65,"span",25),B(66,"\u25BC"),w()(),K(67,h2,4,2,"div",26),w()()(),b(68,"div",33),K(69,m2,14,5,"div",34),w()),n&2){let i,o,s,a,c;k(9),F("ngIf",(i=ie(10,20,r.selectedRoom$))==null||i.members==null?null:i.members.length),k(6),F("ngClass",((o=ie(16,22,r.selectedRoom$))==null?null:o.introduction)=="open"?"open":"closed"),k(3),Ae(((s=ie(19,24,r.selectedRoom$))==null?null:s.introduction)=="open"?"Open":"Close"),k(4),F("ngClass",Ti(30,$_,r.activeStatus)),k(2),F("ngIf",((a=ie(25,26,r.selectedRoom$))==null?null:a.introduction)=="close"),k(2),F("ngIf",((c=ie(27,28,r.selectedRoom$))==null?null:c.introduction)=="open"),k(12),tt("Media file (",r.mediaFiles.length,")"),k(),Ke("expanded",r.expandedCategories.media),k(2),F("ngIf",r.expandedCategories.media),k(9),tt("Image (",r.imageFiles.length,")"),k(),Ke("expanded",r.expandedCategories.images),k(2),F("ngIf",r.expandedCategories.images),k(11),tt("File (",r.documentFiles.length,")"),k(),Ke("expanded",r.expandedCategories.documents),k(2),F("ngIf",r.expandedCategories.documents),k(),F("ngClass",Ti(32,$_,r.activeUserPopup)),k(),F("ngIf",r.selectedUser)}},dependencies:[Ot,ta,zr,qt,dn,No,Ro,Oo],styles:[".right-panel[_ngcontent-%COMP%]{width:300px;height:100%;background:#fff;border-left:1px solid #e5e7eb;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.ticket-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e5e7eb}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.star-icon[_ngcontent-%COMP%]{font-size:16px;color:#fbbf24}.ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#111827}.more-options[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center}.more-options[_ngcontent-%COMP%]:hover{background:#f3f4f6}.users-section[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e5e7eb}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-info[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827;margin-bottom:2px}.user-email[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.user-menu[_ngcontent-%COMP%]{width:20px;height:20px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:12px}.user-menu[_ngcontent-%COMP%]:hover{background:#f3f4f6}.add-member-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;margin-top:12px;border:1px dashed #d1d5db;background:#f9fafb;color:#6b7280;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.add-member-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.add-icon[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.ticket-details[_ngcontent-%COMP%]{padding:20px;flex:1}.detail-row[_ngcontent-%COMP%]{margin-bottom:20px}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:8px}.status-dropdown[_ngcontent-%COMP%], .type-dropdown[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]{position:relative}.status-select[_ngcontent-%COMP%], .type-select[_ngcontent-%COMP%], .priority-select[_ngcontent-%COMP%]{width:100%;padding:8px 32px 8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;color:#111827;background:#fff;cursor:pointer;appearance:none;outline:none}.status-select[_ngcontent-%COMP%]:focus, .type-select[_ngcontent-%COMP%]:focus, .priority-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#6b7280;font-size:10px;pointer-events:none}.subject-text[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;color:#111827;background:#f9fafb;min-height:20px}.attachments-section[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e5e7eb;overflow-y:auto}.attachment-category[_ngcontent-%COMP%]{margin-bottom:16px}.category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding:8px 0;border-bottom:1px solid #f3f4f6;-webkit-user-select:none;user-select:none;transition:background-color .2s}.category-header[_ngcontent-%COMP%]:hover{background:#f9fafb;margin:0 -8px;padding:8px;border-radius:6px}.category-header[_ngcontent-%COMP%]:active{background:#f3f4f6}.attachment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.attachment-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#f3f4f6;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#6b7280}.attachment-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#374151;font-weight:500}.expand-icon[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;transition:transform .2s}.expand-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.category-content[_ngcontent-%COMP%]{padding:12px 0;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.media-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:12px}.media-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:8px;overflow:hidden;border:1px solid #e5e7eb;transition:all .2s}.media-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.media-thumbnail[_ngcontent-%COMP%]{width:100%;height:80px;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden}.media-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.video-thumbnail[_ngcontent-%COMP%]{color:#6b7280;position:absolute}.media-info[_ngcontent-%COMP%]{padding:8px}.media-name[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#374151;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.media-size[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}.image-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-bottom:12px}.image-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;border-radius:6px;overflow:hidden;aspect-ratio:1;transition:transform .2s}.image-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,#000000b3);color:#fff;padding:8px 6px 4px;opacity:0;transition:opacity .2s}.image-item[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.image-name[_ngcontent-%COMP%]{font-size:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.document-list[_ngcontent-%COMP%]{margin-bottom:12px}.document-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 8px;border-radius:8px;cursor:pointer;transition:background-color .2s;border:1px solid transparent}.document-item[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#e5e7eb}.document-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#f3f4f6;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#6b7280;flex-shrink:0}.document-info[_ngcontent-%COMP%]{flex:1;min-width:0}.document-name[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#374151;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.document-details[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:11px;color:#6b7280}.download-btn[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background:#f3f4f6;border-radius:4px;color:#6b7280;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.download-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#9ca3af}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-style:italic}.status-select[value=open][_ngcontent-%COMP%]{color:#1d4ed8}.status-select[value=pending][_ngcontent-%COMP%]{color:#f59e0b}.status-select[value=closed][_ngcontent-%COMP%], .priority-select[value=low][_ngcontent-%COMP%]{color:#059669}.priority-select[value=normal][_ngcontent-%COMP%]{color:#6b7280}.priority-select[value=high][_ngcontent-%COMP%]{color:#f59e0b}.priority-select[value=urgent][_ngcontent-%COMP%]{color:#dc2626}@media (max-width: 768px){.right-panel[_ngcontent-%COMP%]{width:100%;height:auto}.media-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.image-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.status-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #f0f0f0}.status-section[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-size:15px;color:#8e8e93}.status-dropdown[_ngcontent-%COMP%]{position:relative}.status-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:#007aff;color:#fff;border:none;padding:6px 12px;border-radius:16px;font-size:14px;font-weight:500;cursor:pointer}.status-toggle-btn.closed[_ngcontent-%COMP%]{background-color:#34c759}.status-options[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:calc(100% + 8px);background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px;width:200px;z-index:10}.status-options.show[_ngcontent-%COMP%]{display:block}.status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.status-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px;border-radius:6px;cursor:pointer;font-size:15px}.status-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}.status-options[_ngcontent-%COMP%]   .option-open[_ngcontent-%COMP%]{color:#ff3b30}.status-options[_ngcontent-%COMP%]   .option-close[_ngcontent-%COMP%]{color:#8e8e93}.popup-overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center;z-index:100}.popup-overlay.show[_ngcontent-%COMP%]{display:flex}.popup-content[_ngcontent-%COMP%]{background-color:#fff;padding:32px;border-radius:16px;text-align:center;position:relative;width:90%;max-width:320px}.close-popup-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:none;border:none;font-size:24px;color:#8e8e93;cursor:pointer}.popup-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;margin-bottom:16px}.popup-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0 0 24px}.popup-contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;text-align:left}.popup-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.popup-contact-icon[_ngcontent-%COMP%]{background-color:#f0f2f5;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#555}"]})}});var Ug,z_=L(()=>{"use strict";Ug=(n=>(n[n.Single=1]="Single",n[n.Group=2]="Group",n))(Ug||{})});var al,W_=L(()=>{"use strict";qe();al=class e{transform(t){let n=Math.floor(t/60),r=Math.floor(t%60);return`${n}:${r.toString().padStart(2,"0")}`}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=Zt({name:"duration",type:e,pure:!0})}});var Fo,Z_=L(()=>{"use strict";Fo=class e{static Exception(t,n="Error",r=8e3,i=null){let o="System error, please contact the Administrator";t&&t.error&&(typeof t.error=="string"?o=t.error:t.error&&t.error.error&&(o=t.error.error)),toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},o&&toastr.error(o,n)}static Error(t,n="Error",r=8e3,i=null){if(toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},t&&t.indexOf("object")>=0){e.Error("System error, please contact the Administrator.",n);return}t&&toastr.error(t,n)}static Success(t,n="Success",r=8e3,i=null){t=t||"Data saved successfully.",toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},toastr.success(t,n)}static Warning(t,n="Warning",r=8e3,i=null){toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},toastr.warning(t,n)}static ErrorResult(t,n="Error",r=8e3,i=null){let o=t?.Description?.toString();o&&o.indexOf("TypeError: You provided")>=0||(toastr.options={timeOut:r,onclick:i,positionClass:"toast-top-center"},toastr.error(o||"System error, please contact the Administrator",n))}}});function I2(e,t){if(e&1){let n=Ee();b(0,"div",48)(1,"button",49),q("click",function(){Y(n);let i=R();return Q(i.toggleChat(i.LayoutState.Minibar))}),we(),b(2,"svg",50),ae(3,"path",51),w()(),Be(),b(4,"button",49),q("click",function(){Y(n);let i=R();return Q(i.toggleChat(i.LayoutState.Maximize))}),we(),b(5,"svg",52)(6,"g")(7,"g"),ae(8,"path",53),w()(),b(9,"g")(10,"g"),ae(11,"polygon",54),w()(),b(12,"g")(13,"g"),ae(14,"polygon",55),w()(),b(15,"g")(16,"g"),ae(17,"polygon",56),w()(),b(18,"g")(19,"g"),ae(20,"polygon",57),w()()()()()}}function C2(e,t){e&1&&(b(0,"div",58)(1,"span"),B(2,"Loading older messages..."),w()())}function b2(e,t){e&1&&(b(0,"div",58)(1,"span"),B(2,"Loading conversation..."),w()())}function w2(e,t){if(e&1&&ae(0,"img",72),e&2){let n=R(2).$implicit;F("src",n.senderFaceUrl,Tt)}}function E2(e,t){if(e&1&&(b(0,"div",73),B(1),w()),e&2){let n=R(2).$implicit,r=R(2);tr("background-color",r.getAvatarColor(n.senderNickname)),k(),tt(" ",n.senderNickname.charAt(0).toUpperCase()," ")}}function M2(e,t){if(e&1&&(b(0,"div",69),K(1,w2,1,1,"img",70)(2,E2,2,3,"div",71),w()),e&2){let n=R().$implicit;k(),F("ngIf",n.senderFaceUrl),k(),F("ngIf",!n.senderFaceUrl)}}function S2(e,t){e&1&&(b(0,"span"),B(1,"You have revoked this message"),w())}function T2(e,t){if(e&1&&(b(0,"span"),B(1),w()),e&2){let n=R(2).$implicit;k(),tt("",n.senderNickname," have revoked this message")}}function x2(e,t){if(e&1&&(b(0,"div",74)(1,"i"),K(2,S2,2,0,"span",75)(3,T2,2,1,"span",75),w()()),e&2){let n=R().$implicit,r=R(2);k(2),F("ngIf",n.sendID===r.currentUserID),k(),F("ngIf",n.sendID!==r.currentUserID)}}function k2(e,t){if(e&1&&(b(0,"div",76),B(1),w()),e&2){let n=R().$implicit;k(),tt(" ",n.textElem.content," ")}}function P2(e,t){if(e&1&&(b(0,"div",94),B(1),re(2,"fileSize"),w()),e&2){let n=R(3).$implicit;k(),Ae(ie(2,1,n.fileElem.fileSize))}}function N2(e,t){if(e&1){let n=Ee();b(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80),we(),b(4,"svg",41),ae(5,"path",81)(6,"polyline",82),w(),Be(),b(7,"div",83)(8,"div",84),B(9),w(),K(10,P2,3,3,"div",85),w()(),b(11,"div",18)(12,"button",86),q("click",function(){Y(n);let i=R(2).$implicit,o=R(2);return Q(o.viewAttachment(i))}),we(),b(13,"svg",87),ae(14,"path",88)(15,"circle",89),w()(),Be(),b(16,"button",90),q("click",function(){Y(n);let i=R(2).$implicit,o=R(2);return Q(o.downloadAttachment(i))}),we(),b(17,"svg",87),ae(18,"path",91)(19,"polyline",92)(20,"line",93),w()()()()()()}if(e&2){let n=R(2).$implicit;k(9),Ae(n.fileName),k(),F("ngIf",n.fileElem.fileSize)}}function A2(e,t){if(e&1&&(b(0,"div",77),K(1,N2,21,2,"div",68),w()),e&2){let n=R().$implicit;k(),F("ngIf",n.fileElem)}}function R2(e,t){if(e&1&&(b(0,"div",103),B(1),re(2,"duration"),w()),e&2){let n=R(2).$implicit;k(),tt(" ",ie(2,1,n.videoElem.duration)," ")}}function O2(e,t){if(e&1){let n=Ee();b(0,"div",77)(1,"div",95)(2,"img",96),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.viewAttachment(i))}),w(),b(3,"div",97),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.viewAttachment(i))}),we(),b(4,"svg",98),ae(5,"path",99),w()(),K(6,R2,3,3,"div",100),Be(),b(7,"div",18)(8,"button",101),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.viewAttachment(i))}),we(),b(9,"svg",102),ae(10,"path",88)(11,"circle",89),w()(),Be(),b(12,"button",90),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.downloadAttachment(i))}),we(),b(13,"svg",102),ae(14,"path",91)(15,"polyline",92)(16,"line",93),w()()()()()}if(e&2){let n=R().$implicit;k(2),F("src",n.videoElem.snapshotUrl,Tt),k(4),F("ngIf",n.videoElem.duration)}}function F2(e,t){if(e&1){let n=Ee();b(0,"div",77)(1,"div",104)(2,"img",105),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.viewAttachment(i))}),w(),b(3,"div",18)(4,"button",106),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.viewAttachment(i))}),we(),b(5,"svg",102),ae(6,"path",88)(7,"circle",89),w()(),Be(),b(8,"button",90),q("click",function(){Y(n);let i=R().$implicit,o=R(2);return Q(o.downloadAttachment(i))}),we(),b(9,"svg",102),ae(10,"path",91)(11,"polyline",92)(12,"line",93),w()()()()()}if(e&2){let n=R().$implicit;k(2),F("src",n.pictureElem.sourcePicture.url,Tt)}}function L2(e,t){if(e&1&&(b(0,"div",63),K(1,M2,3,2,"div",64),b(2,"div",65),K(3,x2,4,2,"div",66)(4,k2,2,1,"div",67)(5,A2,2,1,"div",68)(6,O2,17,2,"div",68)(7,F2,13,1,"div",68),w()()),e&2){let n=t.$implicit,r=R().$implicit,i=R();Ke("group",r.items.length>1)("incoming",n.sendID!==i.currentUserID)("outgoing",n.sendID===i.currentUserID),k(),F("ngIf",r.sendID!==i.currentUserID),k(2),F("ngIf",n.contentType===i.MessageType.RevokeMessage),k(),F("ngIf",n.contentType==i.MessageType.TextMessage&&n.textElem),k(),F("ngIf",n.contentType==i.MessageType.FileMessage&&n.fileElem),k(),F("ngIf",n.contentType==i.MessageType.VideoMessage&&n.videoElem),k(),F("ngIf",n.contentType==i.MessageType.PictureMessage&&n.pictureElem)}}function V2(e,t){if(e&1&&(b(0,"div",107),we(),b(1,"svg",108),ae(2,"path",109)(3,"path",110),w()()),e&2){let n=R().$implicit;Ke("seen",n.isRead)}}function j2(e,t){if(e&1){let n=Ee();b(0,"div",59),q("contextmenu",function(i){let o=Y(n).$implicit,s=R();return Q(s.onMessageRightClick(i,o))}),K(1,L2,8,12,"div",60),b(2,"div",61)(3,"span"),B(4),re(5,"timestamp"),w(),K(6,V2,4,2,"div",62),w()()}if(e&2){let n=t.$implicit,r=R();k(),F("ngForOf",n.items),k(),Ke("incoming",n.sendID!==r.currentUserID)("outgoing",n.sendID===r.currentUserID),k(2),Ae(Lp(5,7,n.sendTime,"HH:mm")),k(2),F("ngIf",n.sendID===r.currentUserID)}}function U2(e,t){if(e&1&&ae(0,"img",125),e&2){let n=R().$implicit;F("src",n.preview,Tt)}}function B2(e,t){if(e&1&&ae(0,"img",125),e&2){let n=R().$implicit;F("src",n.preview,Tt)}}function G2(e,t){e&1&&(b(0,"div",126),we(),b(1,"svg",87),ae(2,"path",81)(3,"polyline",82),w()())}function H2(e,t){e&1&&(b(0,"div",127),ae(1,"div",128),w())}function $2(e,t){if(e&1){let n=Ee();b(0,"div",116)(1,"div",117),K(2,U2,1,1,"img",118)(3,B2,1,1,"img",118)(4,G2,4,0,"div",119),b(5,"div",120)(6,"div",121),B(7),w(),b(8,"div",122),B(9),re(10,"fileSize"),w()()(),b(11,"button",123),q("click",function(){let i=Y(n).index,o=R(2);return Q(o.removeSelectedFile(i))}),B(12,"\xD7"),w(),K(13,H2,2,0,"div",124),w()}if(e&2){let n=t.$implicit;k(2),F("ngIf",n.type==="image"&&n.preview),k(),F("ngIf",n.type==="video"&&n.preview),k(),F("ngIf",n.type==="document"),k(3),Ae(n.name),k(2),Ae(ie(10,6,n.size)),k(4),F("ngIf",n.isUploading)}}function q2(e,t){if(e&1){let n=Ee();b(0,"div",111)(1,"div",112)(2,"span"),B(3),w(),b(4,"button",113),q("click",function(){Y(n);let i=R();return Q(i.clearSelectedFiles())}),B(5,"Clear all"),w()(),b(6,"div",114),K(7,$2,14,8,"div",115),w()()}if(e&2){let n=R();k(3),tt("",n.selectedFiles.length," file(s) selected"),k(4),F("ngForOf",n.selectedFiles)}}function z2(e,t){if(e&1){let n=Ee();b(0,"div",131),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.selectUser(i))}),b(1,"div",132),B(2),w(),b(3,"div",133)(4,"div",134),B(5),w(),b(6,"div",135),B(7),w()()()}if(e&2){let n=t.$implicit;k(2),Ae(n.userID.charAt(0)),k(3),Ae(n.userID),k(2),Ae(n.email)}}function W2(e,t){if(e&1&&(b(0,"div",129),K(1,z2,8,3,"div",130),w()),e&2){let n=R();k(),F("ngForOf",n.filteredUsers)}}function Z2(e,t){if(e&1){let n=Ee();b(0,"div",139),q("click",function(){let i=Y(n).$implicit,o=R(2);return Q(o.selectEmoji(i))}),B(1),w()}if(e&2){let n=t.$implicit;k(),tt(" ",n," ")}}function J2(e,t){if(e&1&&(b(0,"div",136)(1,"div",137),K(2,Z2,2,1,"div",138),w()()),e&2){let n=R();k(2),F("ngForOf",n.emojiList)}}function Y2(e,t){if(e&1){let n=Ee();b(0,"li",143),q("click",function(){Y(n);let i=R(2);return Q(i.recallMessage())}),we(),b(1,"svg",144),ae(2,"path",145)(3,"path",146),w(),Be(),b(4,"span"),B(5,"Recall message"),w()()}}function Q2(e,t){if(e&1){let n=Ee();b(0,"div",140),q("click",function(i){return Y(n),Q(i.stopPropagation())}),b(1,"ul",141),K(2,Y2,6,0,"li",142),w()()}if(e&2){let n=R();tr("left",n.contextMenuX,"px")("top",n.contextMenuY,"px"),k(2),F("ngIf",(n.contextMenuMessage==null?null:n.contextMenuMessage.sendID)===n.currentUserID)}}var v2,y2,D2,_2,cl,J_=L(()=>{"use strict";Dt();Ao();Ws();vn();z_();W_();Vg();jg();Z_();Sr();Go();qe();So();Js();Zs();Dt();Ao();v2=["imageInput"],y2=["videoInput"],D2=["documentInput"],_2=["messagesContainer"];cl=class e{constructor(t,n,r){this.chatService=t;this.imageService=n;this.videoService=r;this.selectedRoom$=this.chatService.selectedRoom$}imageInput;videoInput;documentInput;messagesContainer;messageText="";showEmojiPicker=!1;LayoutState=Vi;showUserSuggestions=!1;selectedFiles=[];selectedRoom$;MAX_SIZE=2*1024*1024;emojiList=Ge.emojiList;isLoadingMore=!1;isLoadingHistory=!1;MessageType=ee;messages=[];shouldScrollToBottom=!1;availableUsers;errorMessage=null;GroupMessageType=Ug;filteredUsers=[];groupedMessages=[];typingTimer;noMoreOldMessages=!1;messageSubscription;oldestMessageID=null;contextMenuX=0;contextMenuY=0;isContextMenuVisible=!1;contextMenuMessage=null;get currentUserID(){return this.chatService.currentUserID}onDocumentClick(){this.isContextMenuVisible&&(this.isContextMenuVisible=!1)}ngOnInit(){this.messageSubscription=this.chatService.newMessageHandler$.pipe(xr(t=>t!==null)).subscribe(t=>{this.chatService.currentRoom&&(!t||t.length===0||t.forEach(n=>{let r=!1;this.chatService.currentRoom.groupID&&n.groupID===this.chatService.currentRoom.groupID&&(r=!0),r&&(this.messages.some(o=>o.clientMsgID===n.clientMsgID)||(this.messages.push(n),this.recalculateMessageGroups(),this.shouldScrollToBottom=!0))}))}),this.selectedRoom$.subscribe(()=>{this.resetInputs(),this.resetChatState(),this.chatService.currentRoom&&(this.availableUsers=this.chatService.currentRoom.members,this.loadInitialMessages(this.chatService.currentRoom.conversationID))})}ngOnDestroy(){this.messageSubscription&&(this.messageSubscription.unsubscribe(),this.messageSubscription=null)}ngAfterViewChecked(){if(this.shouldScrollToBottom){this.scrollToBottom(),this.shouldScrollToBottom=!1;let t=setInterval(()=>{this.scrollToBottom()},100);setTimeout(()=>{clearInterval(t)},1e3)}}toggleChat(t){this.chatService.layoutState$.next(t),t==4&&this.chatService.positionState$.next(2)}recallMessage(){return ce(this,null,function*(){this.contextMenuMessage&&(this.contextMenuMessage.items.forEach(t=>ce(this,null,function*(){yield this.chatService.revokeMessage({clientMsgID:t.clientMsgID,conversationID:this.chatService.currentRoom.conversationID}),t.contentType=ee.RevokeMessage})),this.isContextMenuVisible=!1)})}onMessageInput(t){let n=t.target.value;this.messageText=n;let r=n.lastIndexOf("@");if(r!==-1){let i=n.substring(r+1).toLowerCase();i.length>0?(this.filteredUsers=this.availableUsers.filter(o=>o.userID.toLowerCase().includes(i)),this.showUserSuggestions=this.filteredUsers.length>0):(this.filteredUsers=this.availableUsers,this.showUserSuggestions=!0)}else this.showUserSuggestions=!1;this.typingTimer&&clearTimeout(this.typingTimer),this.chatService.sendTypingStatus(this.chatService.currentRoom.conversationID)}sendMessage(){return ce(this,null,function*(){let t=Ge.createUniqueId();if(!this.canSendMessage()||!this.chatService.currentRoom)return;let n=[];this.messageText.trim()&&n.push(this.chatService.sendTextMessage({requestId:t,text:this.messageText,groupID:this.chatService.currentRoom.groupID}));for(let r of this.selectedFiles){let i={file:r.file,requestId:t,groupID:this.chatService.currentRoom.groupID};r.type==="image"&&(r.isUploading=!0,n.push(this.chatService.sendImageMessage(i))),r.type==="video"?(r.isUploading=!0,n.push(this.chatService.sendVideoMessage({file:r.file,requestId:t,duration:r.duration,thumbnail:r.thumbnailFile,groupID:this.chatService.currentRoom.groupID}))):(r.isUploading=!0,n.push(this.chatService.sendFileMessage(i)))}try{yield Promise.all(n).then(r=>{this.resetInputs(),this.messages.push(...r),this.recalculateMessageGroups(),this.shouldScrollToBottom=!0})}catch{this.resetInputs(),this.shouldScrollToBottom=!0,this.errorMessage="One or more messages failed to send."}})}getAvatarColor(t){if(!t)return"#CCCCCC";let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return`hsl(${n%360}, 70%, 40%)`}onScroll(t){return ce(this,null,function*(){t.target.scrollTop===0&&(yield this.loadMoreMessages())})}viewAttachment(t){let n="",r="download";switch(t.contentType){case ee.PictureMessage:if(t.pictureElem){n=t.pictureElem.sourcePicture.url;let i=this.messages.filter(o=>o.contentType==ee.PictureMessage).map(o=>o.pictureElem.sourcePicture.url);this.imageService.open(i,i.indexOf(n));return}break;case ee.VideoMessage:if(t.videoElem){n=t.videoElem.videoUrl;let i=this.messages.filter(o=>o.contentType==ee.VideoMessage).map(o=>o.videoElem.videoUrl);this.videoService.open(i,i.indexOf(n));return}break;case ee.FileMessage:t.fileElem&&(n=t.fileElem.sourceUrl,r=t.fileElem.fileName);break}if(!n){alert("Attachment data is missing.");return}n&&window.open(n,"_blank")}downloadAttachment(t){let n="",r="download";switch(t.contentType){case ee.PictureMessage:t.pictureElem&&(n=t.pictureElem.sourcePicture.url,r=t.pictureElem.sourcePicture.uuid+".jpg");break;case ee.VideoMessage:t.videoElem&&(n=t.videoElem.videoUrl,r=t.videoElem.videoUUID+".mp4");break;case ee.FileMessage:t.fileElem&&(n=t.fileElem.sourceUrl,r=t.fileElem.fileName);break}if(!n){alert("Attachment data is missing.");return}let i=document.createElement("a");i.href=n,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}onMessageRightClick(t,n){t.preventDefault(),t.stopPropagation(),this.contextMenuMessage=n,this.contextMenuX=t.clientX,this.contextMenuY=t.clientY,this.isContextMenuVisible=!0}selectUser(t){let n=this.messageText.lastIndexOf("@");if(n!==-1){let r=this.messageText.substring(0,n);this.messageText=r+"@"+t.userID+" "}this.showUserSuggestions=!1}canSendMessage(){return this.messageText.trim().length>0||this.selectedFiles.length>0}onImageSelect(){this.imageInput&&this.imageInput.nativeElement&&this.imageInput.nativeElement.click()}onVideoSelect(){this.videoInput&&this.videoInput.nativeElement&&this.videoInput.nativeElement.click()}onDocumentSelect(){this.documentInput&&this.documentInput.nativeElement&&this.documentInput.nativeElement.click()}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker,this.showEmojiPicker&&(this.showUserSuggestions=!1)}selectEmoji(t){this.messageText+=t,this.showEmojiPicker=!1}onPaste(t){let n=t.clipboardData?.items;if(n)for(let r=0;r<n.length;r++){let i=n[r];if(i.type.indexOf("image")!==-1){let o=i.getAsFile();if(o){if(o.size>this.MAX_SIZE){Fo.Error("Pasted image is too large. Maximum size is 5MB.","Error");continue}let s={file:o,name:`pasted-image-${Date.now()}.png`,type:"image",size:o.size,isUploading:!1},a=new FileReader;a.onload=c=>{s.preview=c.target?.result},a.readAsDataURL(o),this.selectedFiles.push(s),t.preventDefault()}}}}onFileSelected(t,n){return ce(this,null,function*(){let r=Array.from(t.target.files);if(!r.length)return;let i="2MB",o=2*1024*1024;for(let s of r){if(s.size>o){Fo.Error(`File "${s.name}" is too large. Maximum size is ${i}.`,"Error");continue}if(n==="image"&&!s.type.startsWith("image/")){Fo.Error(`File "${s.name}" is not a valid image.`,"Error");continue}let a={file:s,type:n,name:s.name,size:s.size,isUploading:!1};if(n==="image")a.preview=yield this.createImagePreview(s);else if(n==="video"){let c=yield this.getVideoMetadata(s);a.preview=c.thumbnailDataUrl,a.thumbnailFile=c.thumbnailFile,a.duration=c.duration}this.selectedFiles.push(a)}t.target.value=""})}clearSelectedFiles(){this.selectedFiles=[]}removeSelectedFile(t){this.selectedFiles.splice(t,1)}processMessageText(t){return t.replace(/@(\w+)/g,'<span class="mention">@$1</span>')}resetInputs(){this.messageText="",this.selectedFiles=[]}resetChatState(){this.messages=[],this.errorMessage=null,this.isLoadingMore=!1,this.oldestMessageID=null,this.noMoreOldMessages=!1,this.isLoadingHistory=!1}scrollToBottom(){try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(t){console.error("Could not scroll to bottom:",t)}}recalculateMessageGroups(){if(!this.messages||this.messages.length===0){this.groupedMessages=[];return}let t=[];if(this.messages.length>0){let n={items:[this.messages[0]],sendID:this.messages[0].sendID,isRead:this.messages[0].isRead,sendTime:this.messages[0].sendTime};t.push(n);for(let r=1;r<this.messages.length;r++){let i=this.messages[r],o=this.messages[r-1];i.contentType==ee.RevokeMessage&&o.contentType==ee.RevokeMessage||(this.canGroupMessages(o,i)?(n.items.push(i),n.isRead=i.isRead,n.sendTime=i.sendTime):(n={items:[i],sendID:i.sendID,isRead:i.isRead,sendTime:i.sendTime},t.push(n)))}}this.groupedMessages=t,console.log(this.groupedMessages)}loadMoreMessages(){return ce(this,null,function*(){if(!(this.isLoadingMore||this.noMoreOldMessages||!this.chatService.currentRoom?.conversationID||!this.oldestMessageID)){this.isLoadingMore=!0;try{let t=yield this.chatService.getHistoryMessages(this.chatService.currentRoom.conversationID,this.oldestMessageID);this.handleNewHistory(t,!0),this.messagesContainer.nativeElement.scrollTop=100}catch{this.errorMessage="Failed to load more messages."}finally{this.isLoadingMore=!1}}})}createImagePreview(t){return new Promise((n,r)=>{let i=new FileReader;i.onload=o=>n(o.target?.result),i.onerror=o=>r(o),i.readAsDataURL(t)})}loadInitialMessages(t){return ce(this,null,function*(){this.messages=[],this.errorMessage=null,this.groupedMessages=[],this.isLoadingHistory=!0;try{let n=yield this.chatService.getHistoryMessages(t);this.handleNewHistory(n),this.shouldScrollToBottom=!0}catch{this.errorMessage="Failed to load message history."}finally{this.isLoadingHistory=!1}})}canGroupMessages(t,n){let r=t.ex?JSON.parse(t.ex)?.requestId:"",i=t.ex?JSON.parse(n.ex)?.requestId:"";return r&&i&&r===i?t.sendID===n.sendID:!1}handleNewHistory(t,n=!1){t.length>0?(this.oldestMessageID=t[0].clientMsgID,this.messages=n?[...t,...this.messages]:t,this.recalculateMessageGroups()):this.noMoreOldMessages=!0}getVideoMetadata(t){return new Promise((n,r)=>{let i=document.createElement("video"),o=document.createElement("canvas"),s=o.getContext("2d");if(!s)return r(new Error("Canvas 2D context is not available."));let a=0;i.addEventListener("loadedmetadata",()=>{a=i.duration,i.currentTime=1}),i.addEventListener("seeked",()=>{o.width=i.videoWidth,o.height=i.videoHeight,s.drawImage(i,0,0,o.width,o.height);let c=o.toDataURL("image/jpeg");o.toBlob(u=>{if(!u)return r(new Error("Canvas to Blob conversion failed."));let l=new File([u],`thumbnail_${t.name}.jpg`,{type:"image/jpeg"});URL.revokeObjectURL(i.src),n({duration:a,thumbnailFile:l,thumbnailDataUrl:c})},"image/jpeg")}),i.addEventListener("error",c=>{r(new Error(`Error loading video: ${c.type}`)),URL.revokeObjectURL(i.src)}),i.src=URL.createObjectURL(t),i.load()})}static \u0275fac=function(n){return new(n||e)(he(Sn),he(or),he(ir))};static \u0275cmp=Bt({type:e,selectors:[["app-center-panel"]],viewQuery:function(n,r){if(n&1&&(po(v2,5),po(y2,5),po(D2,5),po(_2,5)),n&2){let i;ho(i=go())&&(r.imageInput=i.first),ho(i=go())&&(r.videoInput=i.first),ho(i=go())&&(r.documentInput=i.first),ho(i=go())&&(r.messagesContainer=i.first)}},hostBindings:function(n,r){n&1&&q("click",function(){return r.onDocumentClick()},Ts)},decls:64,vars:27,consts:[["messagesContainer",""],["imageInput",""],["documentInput",""],["videoInput",""],[1,"center-panel"],[1,"chat-header"],[1,"room-info"],[1,"room-avatar"],[1,"room-details"],["class","chat-actions",4,"ngIf"],[1,"chat-messages",3,"scroll"],[1,"date-separator"],["class","loading-indicator",4,"ngIf"],[3,"contextmenu",4,"ngFor","ngForOf"],["class","selected-files",4,"ngIf"],[1,"chat-input"],["class","user-suggestions",4,"ngIf"],["class","emoji-picker",4,"ngIf"],[1,"attachment-actions"],["title","Choose video (MP4, MOV < 50MB)",1,"attachment-btn",3,"click"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z","fill","#89898A"],["d","M13.9501 23.2502C13.6101 23.2502 13.31 23.0202 13.22 22.6802L8.2701 2.68018C8.1701 2.28018 8.42009 1.87019 8.82009 1.77019C9.22009 1.67019 9.63006 1.91019 9.73006 2.32019L14.6801 22.3202C14.7801 22.7202 14.5301 23.1302 14.1301 23.2302C14.0701 23.2402 14.0101 23.2502 13.9501 23.2502Z","fill","#89898A"],["d","M1.99985 16.2501C1.66985 16.2501 1.37988 16.0401 1.27988 15.7101C1.15988 15.3101 1.38983 14.9001 1.78983 14.7801L11.3199 12.0001C11.7199 11.8801 12.1299 12.1101 12.2499 12.5101C12.3699 12.9101 12.1398 13.3201 11.7398 13.4401L2.20987 16.2201C2.13987 16.2401 2.06985 16.2501 1.99985 16.2501Z","fill","#89898A"],["title","Choice picture (JPG, PNG < 5MB)",1,"attachment-btn",3,"click"],["d","M18.3599 23.2499H5.58987C4.06987 23.2499 2.67987 22.4799 1.87987 21.1799C1.07987 19.8799 1.00987 18.2999 1.68987 16.9299L3.40987 13.4799C3.96987 12.3599 4.86987 11.6599 5.87987 11.5499C6.88987 11.4399 7.91987 11.9399 8.69987 12.9099L8.91987 13.1899C9.35987 13.7299 9.86987 14.0199 10.3699 13.9699C10.8699 13.9299 11.3299 13.5699 11.6699 12.9599L13.5599 9.54993C14.3399 8.13993 15.3799 7.40993 16.5099 7.45993C17.6299 7.51993 18.5899 8.35993 19.2299 9.83993L22.3599 17.1499C22.9399 18.4999 22.7999 20.0399 21.9899 21.2699C21.1899 22.5199 19.8299 23.2499 18.3599 23.2499ZM6.15987 13.0499C6.11987 13.0499 6.07987 13.0499 6.03987 13.0599C5.53987 13.1099 5.07987 13.5099 4.74987 14.1599L3.02987 17.6099C2.57987 18.4999 2.62987 19.5499 3.14987 20.3999C3.66987 21.2499 4.58987 21.7599 5.58987 21.7599H18.3499C19.3299 21.7599 20.1999 21.2899 20.7399 20.4699C21.2799 19.6499 21.3699 18.6699 20.9799 17.7699L17.8499 10.4599C17.4699 9.55993 16.9399 9.00993 16.4299 8.98993C15.9599 8.95993 15.3499 9.45993 14.8699 10.3099L12.9799 13.7199C12.3999 14.7599 11.4899 15.4099 10.4999 15.4999C9.50987 15.5799 8.49987 15.0999 7.74987 14.1599L7.52987 13.8799C7.10987 13.3299 6.62987 13.0499 6.15987 13.0499Z","fill","#89898A"],["d","M6.97021 9.25C4.91021 9.25 3.22021 7.57 3.22021 5.5C3.22021 3.43 4.90021 1.75 6.97021 1.75C9.04021 1.75 10.7202 3.43 10.7202 5.5C10.7202 7.57 9.04021 9.25 6.97021 9.25ZM6.97021 3.25C5.73021 3.25 4.72021 4.26 4.72021 5.5C4.72021 6.74 5.73021 7.75 6.97021 7.75C8.21021 7.75 9.22021 6.74 9.22021 5.5C9.22021 4.26 8.21021 3.25 6.97021 3.25Z","fill","#89898A"],["title","Choice documents (PDF, DOC, XLS < 10MB)",1,"attachment-btn",3,"click"],["d","M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H14C14.41 1.75 14.75 2.09 14.75 2.5C14.75 2.91 14.41 3.25 14 3.25H9C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V10.5C21.25 10.09 21.59 9.75 22 9.75C22.41 9.75 22.75 10.09 22.75 10.5V15.5C22.75 20.93 20.43 23.25 15 23.25Z","fill","#89898A"],["d","M22 11.25H18C14.58 11.25 13.25 9.91999 13.25 6.49999V2.49999C13.25 2.19999 13.43 1.91999 13.71 1.80999C13.99 1.68999 14.31 1.75999 14.53 1.96999L22.53 9.96999C22.74 10.18 22.81 10.51 22.69 10.79C22.57 11.07 22.3 11.25 22 11.25ZM14.75 4.30999V6.49999C14.75 9.07999 15.42 9.74999 18 9.74999H20.19L14.75 4.30999Z","fill","#89898A"],["d","M13 14.25H7C6.59 14.25 6.25 13.91 6.25 13.5C6.25 13.09 6.59 12.75 7 12.75H13C13.41 12.75 13.75 13.09 13.75 13.5C13.75 13.91 13.41 14.25 13 14.25Z","fill","#89898A"],["d","M11 18.25H7C6.59 18.25 6.25 17.91 6.25 17.5C6.25 17.09 6.59 16.75 7 16.75H11C11.41 16.75 11.75 17.09 11.75 17.5C11.75 17.91 11.41 18.25 11 18.25Z","fill","#89898A"],["title","Choice emoji",1,"attachment-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],[1,"input-container"],["type","text","placeholder","Type a message...",1,"message-input",3,"ngModelChange","input","keyup.enter","paste","ngModel"],[1,"send-btn",3,"click","disabled"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","22","y1","2","x2","11","y2","13"],["points","22,2 15,22 11,13 2,9 22,2"],["type","file","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp","multiple","",2,"display","none",3,"change"],["type","file","accept",".pdf,.doc,.docx,.txt,.xls,.xlsx,.ppt,.pptx","multiple","",2,"display","none",3,"change"],["type","file","accept","video/*","multiple","",2,"display","none",3,"change"],["class","context-menu-container",3,"left","top","click",4,"ngIf"],[1,"chat-actions"],[1,"action-btn",3,"click"],["width","32","height","32","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 16L24 16","stroke","#292D32","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["fill","#000000","height","20px","width","20px","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512 512",0,"xml","space","preserve"],["d","M0,0v512h512V0H0z M477.867,477.867H34.133V34.133h443.733V477.867z"],["points",`126.533,102.4 199.111,102.4 199.111,68.267 68.267,68.267 68.267,199.111 102.4,199.111 102.4,126.538 
			198.422,222.558 222.556,198.423 		`],["points",`222.557,313.581 198.422,289.445 102.4,385.467 102.4,312.889 68.267,312.889 68.267,443.733 199.111,443.733 
			199.111,409.6 126.538,409.6 		`],["points",`409.6,312.889 409.6,385.467 313.578,289.444 289.444,313.578 385.462,409.6 312.889,409.6 312.889,443.733 
			443.733,443.733 443.733,312.889 		`],["points",`312.889,68.267 312.889,102.4 385.467,102.4 289.444,198.423 313.578,222.558 409.6,126.538 409.6,199.111 
			443.733,199.111 443.733,68.267 		`],[1,"loading-indicator"],[3,"contextmenu"],["class","message",3,"group","incoming","outgoing",4,"ngFor","ngForOf"],[1,"message-meta"],["class","read-receipt-icon",3,"seen",4,"ngIf"],[1,"message"],["class","message-avatar",4,"ngIf"],[1,"message-content"],["class","revoked-message",4,"ngIf"],["class","message-text",4,"ngIf"],["class","message-attachments",4,"ngIf"],[1,"message-avatar"],["alt","Avatar",3,"src",4,"ngIf"],["class","avatar-initials",3,"background-color",4,"ngIf"],["alt","Avatar",3,"src"],[1,"avatar-initials"],[1,"revoked-message"],[4,"ngIf"],[1,"message-text"],[1,"message-attachments"],[1,"attachment"],[1,"attachment-document"],[1,"document-info"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2Z"],["points","14,2 14,8 20,8"],[1,"document-details"],[1,"document-name"],["class","attachment-size",4,"ngIf"],["title","Xem t\xE0i li\u1EC7u",1,"attachment-action-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["title","Download",1,"attachment-action-btn",3,"click"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","y1","15","x2","12","y2","3"],[1,"attachment-size"],[1,"attachment-video-container"],["alt","Attachment",1,"attachment-video",3,"click","src"],[1,"video-play-overlay",3,"click"],["viewBox","0 0 24 24",1,"play-icon"],["fill","currentColor","d","M8,5.14V19.14L19,12.14L8,5.14Z"],["class","video-duration",4,"ngIf"],["title","View video",1,"attachment-action-btn",3,"click"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"video-duration"],[1,"attachment-image-container"],["alt","Attachment",1,"attachment-image",3,"click","src"],["title","View picture",1,"attachment-action-btn",3,"click"],[1,"read-receipt-icon"],["fill","currentColor","viewBox","0 0 20 20"],["d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd","fill-rule","evenodd"],["d","M11.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-1.293-1.293a1 1 0 111.414-1.414L3 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd","fill-rule","evenodd"],[1,"selected-files"],[1,"selected-files-header"],[1,"clear-files-btn",3,"click"],[1,"file-preview-list"],["class","file-preview-item",4,"ngFor","ngForOf"],[1,"file-preview-item"],[1,"file-preview-content"],["class","file-preview-image","alt","Preview",3,"src",4,"ngIf"],["class","file-preview-document",4,"ngIf"],[1,"file-info"],[1,"file-name"],[1,"file-size"],["title","Remove file",1,"remove-file-btn",3,"click"],["class","loading-overlay",4,"ngIf"],["alt","Preview",1,"file-preview-image",3,"src"],[1,"file-preview-document"],[1,"loading-overlay"],[1,"spinner"],[1,"user-suggestions"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"suggestion-avatar"],[1,"suggestion-info"],[1,"suggestion-name"],[1,"suggestion-email"],[1,"emoji-picker"],[1,"emoji-grid"],["class","emoji-item",3,"click",4,"ngFor","ngForOf"],[1,"emoji-item",3,"click"],[1,"context-menu-container",3,"click"],[1,"context-menu-list"],[3,"click",4,"ngIf"],[3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 22.7598C6.07 22.7598 1.25 17.9398 1.25 12.0098C1.25 6.07977 6.07 1.25977 12 1.25977C17.93 1.25977 22.75 6.07977 22.75 12.0098C22.75 17.9398 17.93 22.7598 12 22.7598ZM12 2.75977C6.9 2.75977 2.75 6.90977 2.75 12.0098C2.75 17.1098 6.9 21.2598 12 21.2598C17.1 21.2598 21.25 17.1098 21.25 12.0098C21.25 6.90977 17.1 2.75977 12 2.75977Z","fill","#89898A"],["d","M15.71 15.9395C15.58 15.9395 15.45 15.9095 15.33 15.8295L12.23 13.9795C11.46 13.5195 10.89 12.5095 10.89 11.6195V7.51953C10.89 7.10953 11.23 6.76953 11.64 6.76953C12.05 6.76953 12.39 7.10953 12.39 7.51953V11.6195C12.39 11.9795 12.69 12.5095 13 12.6895L16.1 14.5395C16.46 14.7495 16.57 15.2095 16.36 15.5695C16.21 15.8095 15.96 15.9395 15.71 15.9395Z","fill","#89898A"]],template:function(n,r){if(n&1){let i=Ee();b(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),re(4,"async"),B(5),re(6,"async"),re(7,"uppercase"),w(),b(8,"div",8)(9,"h3"),B(10),re(11,"async"),w(),b(12,"p"),B(13),re(14,"async"),w()()(),K(15,I2,21,0,"div",9),re(16,"async"),w(),b(17,"div",10,0),q("scroll",function(s){return Y(i),Q(r.onScroll(s))}),b(19,"div",11)(20,"span"),B(21,"00:07 Today"),w()(),K(22,C2,3,0,"div",12)(23,b2,3,0,"div",12)(24,j2,7,10,"div",13),w(),K(25,q2,8,2,"div",14),b(26,"div",15),K(27,W2,2,1,"div",16)(28,J2,3,1,"div",17),b(29,"div",18)(30,"button",19),q("click",function(){return Y(i),Q(r.onVideoSelect())}),we(),b(31,"svg",20),ae(32,"path",21)(33,"path",22)(34,"path",23),w()(),Be(),b(35,"button",24),q("click",function(){return Y(i),Q(r.onImageSelect())}),we(),b(36,"svg",20),ae(37,"path",25)(38,"path",26),w()(),Be(),b(39,"button",27),q("click",function(){return Y(i),Q(r.onDocumentSelect())}),we(),b(40,"svg",20),ae(41,"path",28)(42,"path",29)(43,"path",30)(44,"path",31),w()(),Be(),b(45,"button",32),q("click",function(){return Y(i),Q(r.toggleEmojiPicker())}),we(),b(46,"svg",33),ae(47,"circle",34)(48,"path",35)(49,"line",36)(50,"line",37),w()()(),Be(),b(51,"div",38)(52,"input",39),vo("ngModelChange",function(s){return Y(i),Ps(r.messageText,s)||(r.messageText=s),Q(s)}),q("input",function(s){return Y(i),Q(r.onMessageInput(s))})("keyup.enter",function(){return Y(i),Q(r.sendMessage())})("paste",function(s){return Y(i),Q(r.onPaste(s))}),w(),b(53,"button",40),q("click",function(){return Y(i),Q(r.sendMessage())}),we(),b(54,"svg",41),ae(55,"line",42)(56,"polygon",43),w()()(),Be(),b(57,"input",44,1),q("change",function(s){return Y(i),Q(r.onFileSelected(s,"image"))}),w(),b(59,"input",45,2),q("change",function(s){return Y(i),Q(r.onFileSelected(s,"document"))}),w(),b(61,"input",46,3),q("change",function(s){return Y(i),Q(r.onFileSelected(s,"video"))}),w()()(),K(63,Q2,3,5,"div",47)}if(n&2){let i,o,s,a;k(3),tr("background-color",((i=ie(4,15,r.selectedRoom$))==null?null:i.bgColor)||"#3b82f6"),k(2),tt(" ",ie(7,19,((o=ie(6,17,r.selectedRoom$))==null?null:o.symbol)||"R0")," "),k(5),Ae(((s=ie(11,21,r.selectedRoom$))==null?null:s.groupName)||"Room"),k(3),Ae((a=ie(14,23,r.selectedRoom$))==null?null:a.emails),k(2),F("ngIf",ie(16,25,r.chatService.layoutState$)==r.LayoutState.Minimize),k(7),F("ngIf",r.isLoadingMore),k(),F("ngIf",r.isLoadingHistory),k(),F("ngForOf",r.groupedMessages),k(),F("ngIf",r.selectedFiles.length>0),k(2),F("ngIf",r.showUserSuggestions),k(),F("ngIf",r.showEmojiPicker),k(24),mo("ngModel",r.messageText),k(),F("disabled",!r.canSendMessage()),k(10),F("ngIf",r.isContextMenuVisible)}},dependencies:[Ot,zr,qt,dn,Ri,No,Po,tl,fa,Ro,al,Oo],styles:['@charset "UTF-8";.center-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;background:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid #e5e7eb;background:#fff}.room-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.room-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:14px}.room-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#111827}.room-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:13px;color:#6b7280}.chat-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f3f4f6;border-radius:6px;color:#6b7280;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px}.action-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 24px;display:flex;flex-direction:column;gap:16px}.date-separator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:16px 0}.date-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.message[_ngcontent-%COMP%]{gap:12px;display:flex}.message.group[_ngcontent-%COMP%]   .message-attachments[_ngcontent-%COMP%]{margin-top:5px}.message.incoming[_ngcontent-%COMP%]{align-self:flex-start}.message.outgoing[_ngcontent-%COMP%]{align-self:flex-end;flex-direction:row-reverse}.message-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;flex-shrink:0}.message-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.message-text[_ngcontent-%COMP%]{background:#f3f4f6;padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.4;color:#111827}.message.outgoing[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.typing-indicator[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280;font-style:italic;position:relative}.typing-indicator[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:4px;height:4px;border-radius:50%;background:#6b7280;margin-left:4px;animation:_ngcontent-%COMP%_typing 1.4s infinite}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-10px)}}.chat-input[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e5e7eb;background:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:0 16px}.attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.attachment-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;outline:none;font-size:14px;color:#111827;padding:8px 12px;margin-left:8px}.send-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#3b82f6;color:#fff;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.chat-messages[_ngcontent-%COMP%]{padding:16px}.chat-input[_ngcontent-%COMP%]{padding:12px 16px}.input-container[_ngcontent-%COMP%]{padding:6px 12px}.attachment-btn[_ngcontent-%COMP%], .send-btn[_ngcontent-%COMP%]{width:28px;height:28px}}.user-suggestions[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:16px;right:16px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a;max-height:200px;overflow-y:auto;z-index:1000;margin-bottom:8px}.suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background-color .2s}.suggestion-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.suggestion-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f3f4f6}.suggestion-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#3b82f6;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px;flex-shrink:0}.suggestion-info[_ngcontent-%COMP%]{flex:1;min-width:0}.suggestion-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#111827;margin-bottom:2px}.suggestion-email[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mention[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8;padding:2px 4px;border-radius:4px;font-weight:500}.message-attachments[_ngcontent-%COMP%]{margin-top:8px}.attachment[_ngcontent-%COMP%]{margin-bottom:8px}.attachment-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;cursor:pointer}.attachment-document[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px 12px;background:#f3f4f6;border-radius:8px;flex-direction:column;border:1px solid #e5e7eb}.attachment-size[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.chat-input[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:column}.attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:8px 16px;min-height:48px}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;outline:none;font-size:14px;color:#111827;padding:8px 12px;min-width:0}.send-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#3b82f6;color:#fff;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s;flex-shrink:0}.send-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.selected-files[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb;padding:12px 16px}.selected-files-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:13px;color:#6b7280}.clear-files-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ef4444;cursor:pointer;font-size:12px;padding:2px 6px;border-radius:4px}.clear-files-btn[_ngcontent-%COMP%]:hover{background:#fee2e2}.file-preview-list[_ngcontent-%COMP%]{gap:8px;display:flex}.file-preview-item[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;justify-content:space-between;background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:8px 12px}.file-preview-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.file-preview-image[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:cover;border-radius:4px}.file-preview-document[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#f3f4f6;border-radius:4px;color:#6b7280}.file-info[_ngcontent-%COMP%]{flex:1}.file-name[_ngcontent-%COMP%]{font-size:13px;color:#111827;font-weight:500;margin-bottom:2px}.file-size[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}.remove-file-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;font-size:16px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%}.remove-file-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#ef4444}.attachment-image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.attachment-actions[_ngcontent-%COMP%]{display:flex;transition:opacity .2s}.attachment-image-container[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%], .attachment-document[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%]{opacity:1}.attachment-action-btn[_ngcontent-%COMP%]{background:#000000b3;border:none;color:#fff;width:24px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .2s}.attachment-action-btn[_ngcontent-%COMP%]:hover{background:#000000e6}.document-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.document-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.document-name[_ngcontent-%COMP%]{font-size:13px;color:#111827;font-weight:500}.attachment-document[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{position:static;opacity:1}.attachment-document[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]{background:#e5e7eb;color:#6b7280}.attachment-document[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]:hover{background:#d1d5db;color:#374151}.emoji-picker[_ngcontent-%COMP%]{position:absolute;bottom:80px;left:16px;right:16px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 8px 25px -5px #0000001a,0 10px 10px -5px #0000000a;padding:16px;z-index:1000;max-width:400px;max-height:300px;overflow-y:auto}.emoji-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:8px}.emoji-item[_ngcontent-%COMP%]{padding:8px;border-radius:6px;cursor:pointer;text-align:center;font-size:20px;transition:background-color .2s;display:flex;align-items:center;justify-content:center;min-height:36px}.emoji-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.emoji-item[_ngcontent-%COMP%]:active{background-color:#e5e7eb;transform:scale(.95)}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:24px;padding:8px 16px;min-height:48px}.attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.attachment-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.attachment-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#d1d5db}.attachment-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;outline:none;font-size:14px;color:#111827;padding:6px 12px 6px 0;min-width:0}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.send-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#3b82f6;color:#fff;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s;flex-shrink:0}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.send-btn[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed}.send-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px;color:#6b7280;font-size:13px}.avatar-initials[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff;font-weight:600;font-size:16px;text-transform:uppercase}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#01010159;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;gap:8px;border-radius:8px}.loading-text[_ngcontent-%COMP%]{font-size:.9em;font-weight:500;color:#333}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #f3f3f3;border-top:3px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.attachment-video-container[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden;border-radius:8px;display:block}.attachment-video-container[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:flex;gap:8px;opacity:0;transition:opacity .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]{background-color:#0009;border:none;border-radius:50%;width:28px;height:28px;display:flex;justify-content:center;align-items:center;cursor:pointer;color:#fff}.attachment-video-container[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]:hover{background-color:#000c}.attachment-video-container[_ngcontent-%COMP%]   .attachment-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.attachment-video[_ngcontent-%COMP%]{display:block;width:100%;height:auto;transition:filter .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]:hover   .attachment-video[_ngcontent-%COMP%]{filter:brightness(.7)}.video-play-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0003;transition:background-color .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]:hover   .video-play-overlay[_ngcontent-%COMP%]{background-color:#0006}.play-icon[_ngcontent-%COMP%]{width:56px;height:56px;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));transition:transform .2s ease-in-out}.attachment-video-container[_ngcontent-%COMP%]:hover   .play-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.video-duration[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;background-color:#0009;color:#fff;padding:2px 8px;border-radius:4px;font-size:12px;font-weight:500}.attachment-video-container[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%]{opacity:1}.message-meta[_ngcontent-%COMP%]{gap:6px;display:flex;align-items:center;font-size:12px;color:#657786b3}.message-meta.incoming[_ngcontent-%COMP%]{margin-left:46px}.message-meta.outgoing[_ngcontent-%COMP%]{justify-content:flex-end;margin-right:10px}.read-receipt-icon[_ngcontent-%COMP%]{width:16px;height:16px}.read-receipt-icon.seen[_ngcontent-%COMP%]{color:#0084ff}.context-menu-container[_ngcontent-%COMP%]{position:fixed;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;z-index:5000;padding:8px;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.context-menu-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.context-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:6px;cursor:pointer;font-size:15px}.context-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}.context-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#555}.revoked-message[_ngcontent-%COMP%]{font-style:italic;color:#8e8e93;font-size:14px}']})}});function K2(e,t){if(e&1){let n=Ee();b(0,"button",10),q("click",function(i){Y(n);let o=R(2);return o.previous(),Q(o.stopPropagation(i))}),B(1," \u276E "),w()}}function X2(e,t){if(e&1){let n=Ee();b(0,"button",11),q("click",function(i){Y(n);let o=R(2);return o.next(),Q(o.stopPropagation(i))}),B(1," \u276F "),w()}}function ek(e,t){if(e&1){let n=Ee();b(0,"div",1),q("click",function(){Y(n);let i=R();return Q(i.close())}),b(1,"button",2),q("click",function(){Y(n);let i=R();return Q(i.close())}),B(2,"\xD7"),w(),b(3,"a",3),q("click",function(i){Y(n);let o=R();return Q(o.stopPropagation(i))}),we(),b(4,"svg",4),ae(5,"path",5),w()(),K(6,K2,2,0,"button",6)(7,X2,2,0,"button",7),Be(),b(8,"div",8)(9,"img",9),q("click",function(i){Y(n);let o=R();return Q(o.stopPropagation(i))}),w()()()}if(e&2){let n=t.ngIf,r=R();k(3),F("href",r.currentImage,Tt),k(3),F("ngIf",n.images.length>1),k(),F("ngIf",n.images.length>1),k(2),F("src",r.currentImage,Tt)}}var ul,Y_=L(()=>{"use strict";Dt();qe();Js();Dt();ul=class e{constructor(t){this.imageViewerService=t;this.viewerData$=this.imageViewerService.viewerData$}viewerData$;currentImage=null;subscription;ngOnInit(){this.subscription=this.viewerData$.subscribe(t=>{t?this.currentImage=t.images[t.currentIndex]:this.currentImage=null})}ngOnDestroy(){this.subscription.unsubscribe()}handleKeyboardEvent(t){this.currentImage&&(t.key==="Escape"&&this.close(),t.key==="ArrowRight"&&this.next(),t.key==="ArrowLeft"&&this.previous())}close(){this.imageViewerService.close()}next(){this.imageViewerService.next()}previous(){this.imageViewerService.previous()}stopPropagation(t){t.stopPropagation()}static \u0275fac=function(n){return new(n||e)(he(or))};static \u0275cmp=Bt({type:e,selectors:[["app-image-viewer"]],hostBindings:function(n,r){n&1&&q("keydown",function(o){return r.handleKeyboardEvent(o)},Ss)},decls:2,vars:3,consts:[["class","viewer-overlay",3,"click",4,"ngIf"],[1,"viewer-overlay",3,"click"],[1,"control-btn","close-btn",3,"click"],["download","",1,"control-btn","download-btn",3,"click","href"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"],["class","control-btn nav-btn prev-btn",3,"click",4,"ngIf"],["class","control-btn nav-btn next-btn",3,"click",4,"ngIf"],[1,"image-container"],["alt","Image viewer",1,"main-image",3,"click","src"],[1,"control-btn","nav-btn","prev-btn",3,"click"],[1,"control-btn","nav-btn","next-btn",3,"click"]],template:function(n,r){n&1&&(K(0,ek,10,4,"div",0),re(1,"async")),n&2&&F("ngIf",ie(1,1,r.viewerData$))},dependencies:[Ot,qt,dn],styles:[".viewer-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;display:flex;justify-content:center;align-items:center;z-index:2000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.image-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:90%;height:90%}.main-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:4px;box-shadow:0 0 30px #00000080}.control-btn[_ngcontent-%COMP%]{position:absolute;background-color:#1e1e1e99;color:#fff;border:none;cursor:pointer;border-radius:50%;display:flex;justify-content:center;align-items:center;transition:background-color .2s}.control-btn[_ngcontent-%COMP%]:hover{background-color:#000c}.close-btn[_ngcontent-%COMP%]{top:20px;right:20px;width:44px;height:44px;font-size:28px;line-height:44px}.download-btn[_ngcontent-%COMP%]{top:20px;right:80px;width:44px;height:44px;text-decoration:none}.download-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.nav-btn[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);width:48px;height:48px;font-size:24px;font-weight:700}.prev-btn[_ngcontent-%COMP%]{left:20px}.next-btn[_ngcontent-%COMP%]{right:20px}"]})}});function tk(e,t){if(e&1){let n=Ee();b(0,"button",7),q("click",function(i){Y(n);let o=R(2);return o.previous(),Q(o.stopPropagation(i))}),B(1," \u276E "),w()}}function nk(e,t){if(e&1){let n=Ee();b(0,"button",8),q("click",function(i){Y(n);let o=R(2);return o.next(),Q(o.stopPropagation(i))}),B(1," \u276F "),w()}}function rk(e,t){if(e&1&&(b(0,"video",9),B(1," Your browser does not support the video tag. "),w()),e&2){let n=R(2);F("src",n.currentVideoUrl,Tt)}}function ik(e,t){if(e&1){let n=Ee();b(0,"div",1),q("click",function(){Y(n);let i=R();return Q(i.close())}),b(1,"button",2),q("click",function(){Y(n);let i=R();return Q(i.close())}),B(2,"\xD7"),w(),K(3,tk,2,0,"button",3)(4,nk,2,0,"button",4),b(5,"div",5),q("click",function(i){Y(n);let o=R();return Q(o.stopPropagation(i))}),K(6,rk,2,1,"video",6),w()()}if(e&2){let n=t.ngIf,r=R();k(3),F("ngIf",n.urls.length>1),k(),F("ngIf",n.urls.length>1),k(2),F("ngIf",r.currentVideoUrl)}}var ll,Q_=L(()=>{"use strict";Dt();qe();Zs();Dt();ll=class e{constructor(t){this.videoViewerService=t;this.viewerData$=this.videoViewerService.viewerData$}viewerData$;currentVideoUrl=null;subscription;ngOnInit(){this.subscription=this.viewerData$.subscribe(t=>{t?this.currentVideoUrl=t.urls[t.currentIndex]:this.currentVideoUrl=null})}ngOnDestroy(){this.subscription.unsubscribe()}handleKeyboardEvent(t){this.currentVideoUrl&&(t.key==="Escape"&&this.close(),t.key==="ArrowRight"&&this.next(),t.key==="ArrowLeft"&&this.previous())}close(){this.videoViewerService.close()}next(){this.videoViewerService.next()}previous(){this.videoViewerService.previous()}stopPropagation(t){t.stopPropagation()}static \u0275fac=function(n){return new(n||e)(he(ir))};static \u0275cmp=Bt({type:e,selectors:[["app-video-viewer"]],hostBindings:function(n,r){n&1&&q("keydown",function(o){return r.handleKeyboardEvent(o)},Ss)},decls:2,vars:3,consts:[["class","viewer-overlay",3,"click",4,"ngIf"],[1,"viewer-overlay",3,"click"],[1,"control-btn","close-btn",3,"click"],["class","control-btn nav-btn prev-btn",3,"click",4,"ngIf"],["class","control-btn nav-btn next-btn",3,"click",4,"ngIf"],[1,"video-container",3,"click"],["class","main-video","controls","","autoplay","","playsinline","",3,"src",4,"ngIf"],[1,"control-btn","nav-btn","prev-btn",3,"click"],[1,"control-btn","nav-btn","next-btn",3,"click"],["controls","","autoplay","","playsinline","",1,"main-video",3,"src"]],template:function(n,r){n&1&&(K(0,ik,7,3,"div",0),re(1,"async")),n&2&&F("ngIf",ie(1,1,r.viewerData$))},dependencies:[Ot,qt,dn],styles:['@charset "UTF-8";.viewer-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;display:flex;justify-content:center;align-items:center;z-index:3000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.video-container[_ngcontent-%COMP%]{position:relative;width:90%;max-width:1200px}.main-video[_ngcontent-%COMP%]{width:100%;max-height:90vh;border-radius:4px}.control-btn[_ngcontent-%COMP%]{position:absolute;background-color:#1e1e1e99;color:#fff;border:none;cursor:pointer;border-radius:50%;display:flex;justify-content:center;align-items:center;transition:background-color .2s;z-index:3001}.control-btn[_ngcontent-%COMP%]:hover{background-color:#000c}.close-btn[_ngcontent-%COMP%]{top:20px;right:20px;width:44px;height:44px;font-size:28px;line-height:44px}.nav-btn[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);width:48px;height:48px;font-size:24px;font-weight:700}.prev-btn[_ngcontent-%COMP%]{left:20px}.next-btn[_ngcontent-%COMP%]{right:20px}']})}});function ok(e,t){if(e&1&&(b(0,"div",3),ae(1,"app-left-panel"),w()),e&2){let n=R();F("ngStyle",Ti(1,K_,n.top))}}function sk(e,t){if(e&1&&(b(0,"div",4),re(1,"async"),ae(2,"app-left-panel")(3,"app-center-panel")(4,"app-right-panel"),w()),e&2){let n=R();Ke("maximize",ie(1,3,n.chatService.layoutState$)==n.LayoutState.Maximize),F("ngStyle",Ti(5,K_,n.top))}}function ak(e,t){e&1&&(b(0,"div",8),ae(1,"app-center-panel"),w())}function ck(e,t){if(e&1&&(b(0,"div",22),B(1),re(2,"async"),re(3,"async"),w()),e&2){let n,r=R(3);k(),tt(" ",((n=ie(2,1,r.selectedRoom$))==null?null:n.conversation)&&ie(3,3,r.selectedRoom$).conversation.unreadCount," ")}}function uk(e,t){if(e&1){let n=Ee();b(0,"div",9),q("click",function(){Y(n);let i=R(2);return Q(i.toggleChat(i.LayoutState.Minimize))}),b(1,"div",10)(2,"div",11),re(3,"async"),B(4),re(5,"async"),re(6,"uppercase"),w(),b(7,"div",12)(8,"div",13),B(9),re(10,"async"),w(),b(11,"div",14),B(12,"Online"),w()()(),b(13,"div",15),K(14,ck,4,5,"div",16),re(15,"async"),re(16,"async"),b(17,"button",17),q("click",function(i){Y(n);let o=R(2);return o.toggleChat(o.LayoutState.Icon),Q(i.stopPropagation())}),we(),b(18,"svg",18),ae(19,"path",19),w()(),Be(),b(20,"button",20),q("click",function(i){Y(n);let o=R(2);return o.toggleChat(o.LayoutState.Close),Q(i.stopPropagation())}),we(),b(21,"svg",18),ae(22,"path",21),w()()()()}if(e&2){let n,r,i,o,s=R(2);k(2),tr("background-color",((n=ie(3,5,s.selectedRoom$))==null?null:n.bgColor)||"#3b82f6"),k(2),tt(" ",ie(6,9,((r=ie(5,7,s.selectedRoom$))==null?null:r.symbol)||"R0")," "),k(5),Ae(((i=ie(10,11,s.selectedRoom$))==null?null:i.groupName)||"Room"),k(5),F("ngIf",((o=ie(15,13,s.selectedRoom$))==null?null:o.conversation)&&ie(16,15,s.selectedRoom$).conversation.unreadCount)}}function lk(e,t){if(e&1){let n=Ee();b(0,"button",9),q("click",function(){Y(n);let i=R(2);return Q(i.toggleChat(i.LayoutState.Minibar))}),we(),b(1,"svg",23),ae(2,"path",24),w()()}}function dk(e,t){if(e&1&&(b(0,"div",5),re(1,"async"),re(2,"async"),re(3,"async"),re(4,"async"),K(5,ak,2,0,"div",6),re(6,"async"),K(7,uk,23,17,"div",7),re(8,"async"),K(9,lk,3,0,"button",7),re(10,"async"),w()),e&2){let n=R();Ke("close",ie(1,11,n.chatService.layoutState$)==n.LayoutState.Close)("icon",ie(2,13,n.chatService.layoutState$)==n.LayoutState.Icon)("minibar",ie(3,15,n.chatService.layoutState$)==n.LayoutState.Minibar)("minimize",ie(4,17,n.chatService.layoutState$)==n.LayoutState.Minimize),k(5),F("ngIf",ie(6,19,n.chatService.layoutState$)==n.LayoutState.Minimize),k(2),F("ngIf",ie(8,21,n.chatService.layoutState$)==n.LayoutState.Minibar),k(2),F("ngIf",ie(10,23,n.chatService.layoutState$)==n.LayoutState.Icon)}}var K_,dl,X_=L(()=>{"use strict";vn();Ws();Sr();Dt();Da();Go();H_();q_();J_();Y_();Q_();qe();Us();So();Dt();K_=e=>({top:e});dl=class e{constructor(t,n){this.service=t;this.chatService=n}uid="";top="";email="";phone="";gender=0;avatar="";type="customer";layout=1;position=2;members=[];LayoutState=Vi;PositionState=ji;selectedRoom$;toggleChat(t){this.layout=t,this.chatService.layoutState$.next(t),t==4&&this.chatService.positionState$.next(2)}ngOnInit(){return ce(this,null,function*(){if(!this.uid)return;this.type||(this.type="customer"),this.layout||(this.layout=1),this.position||(this.position=2),this.chatService.layoutState$.next(this.layout),this.chatService.positionState$.next(this.position);let t=yield this.service.getUserToken(this.uid);t?(this.email||this.gender||this.phone)&&(yield this.service.updateUserInfo({type:this.type,userID:this.uid,phone:this.phone,email:this.email,gender:this.gender,faceURL:this.avatar})):yield this.service.userRegister({type:this.type,userID:this.uid,phone:this.phone,email:this.email,gender:this.gender,faceURL:this.avatar}),t&&(yield this.chatService.init(),yield this.chatService.login(this.uid).then(()=>ce(this,null,function*(){let n=yield this.service.getUsers(1e3);switch(this.type){case"sale":{let r=yield this.service.getJoinedRooms(this.uid);r&&r.length>0&&(this.chatService.listConversations=yield this.chatService.conversations(),this.chatService.listConversations&&this.chatService.listConversations.length>0&&r.forEach(i=>ce(this,null,function*(){let o=this.chatService.listConversations.find(a=>a.groupID==i.groupID);if(o&&(i.conversation=o,i.conversationID=o.conversationID,i.lastMessage=o.latestMsg?JSON.parse(o.latestMsg):null,i.lastMessage))switch(i.lastMessage.contentType){case ee.FileMessage:i.lastMessage.textElem={content:"New File..."};break;case ee.VideoMessage:i.lastMessage.textElem={content:"New Video..."};break;case ee.PictureMessage:i.lastMessage.textElem={content:"New Picture..."};break}let s=yield this.chatService.getGroupMembers(i.groupID);s&&s.length>0&&(i.members=s,s.forEach(a=>{let c=n.find(u=>u.userID==a.userID);c&&(a.email=c.email,a.phone=c.phone,a.type=c.type||"customer")}),i.emails=s.filter(a=>a.email).map(a=>a.email).join(", "))}))),this.chatService.setRooms(r)}break;case"customer":{let r=n.filter(i=>i.type=="sale");if(r&&r.length>0){let i=r.map(u=>u.userID),o=Ge.getRandomElement(r),s=yield this.service.getOnlineUsers(i);if(s&&s.length>0){let u=Ge.getRandomElement(s);u&&(o=r.find(l=>l.userID==u.userID))}let a=yield this.service.getJoinedRooms(this.uid);(!a||a.length==0)&&(yield this.service.createRoom({ownerUserID:o.userID,memberUserIDs:[this.uid],bgColor:Ge.getRandomDarkColor(),groupName:"Room: "+o.nickname+" - "+this.uid}),a=yield this.service.getJoinedRooms(this.uid));let c=yield this.chatService.conversations();c&&c.length>0&&a.forEach(u=>ce(this,null,function*(){let l=c.find(p=>p.groupID==u.groupID);l&&(u.conversation=l,u.conversationID=l.conversationID,u.lastMessage=l.latestMsg?JSON.parse(l.latestMsg):null);let d=yield this.chatService.getGroupMembers(u.groupID);d&&d.length>0&&(u.members=d,d.forEach(p=>{let f=n.find(h=>h.userID==p.userID);f&&(p.email=f.email,p.phone=f.phone,p.type=f.type||"customer")}),u.emails=d.map(p=>p.email).join(", "))})),this.chatService.setRooms(a)}}break}this.selectFirstAvailableRoom()})))})}openChat=()=>{this.chatService.positionState$.value==2?(this.chatService.layoutState$.value==4&&this.chatService.layoutState$.next(0),this.chatService.positionState$.next(1)):this.chatService.positionState$.next(2)};selectFirstAvailableRoom(){this.chatService.rooms$.pipe(xr(t=>t&&t.length>0),gd(1)).subscribe(t=>{let n=t[0];this.chatService.setSelectedRoom(n)}),this.selectedRoom$=this.chatService.selectedRoom$}static \u0275fac=function(n){return new(n||e)(he(nr),he(Sn))};static \u0275cmp=Bt({type:e,selectors:[["app-chat-widget"]],inputs:{uid:"uid",top:"top",email:"email",phone:"phone",gender:"gender",avatar:"avatar",type:"type",layout:"layout",position:"position",openChat:"openChat"},features:[yo([na])],decls:9,vars:11,consts:[["class","chat-widget position-top",3,"ngStyle",4,"ngIf"],["class","chat-widget",3,"maximize","ngStyle",4,"ngIf"],["class","chat-widget",3,"close","icon","minibar","minimize",4,"ngIf"],[1,"chat-widget","position-top",3,"ngStyle"],[1,"chat-widget",3,"ngStyle"],[1,"chat-widget"],["class","chat-container",4,"ngIf"],["class","chat-launcher","title","Open chat",3,"click",4,"ngIf"],[1,"chat-container"],["title","Open chat",1,"chat-launcher",3,"click"],[1,"header-info"],[1,"avatar"],[1,"room-details"],[1,"room-name"],[1,"room-status"],[1,"header-actions"],["class","notification-badge",4,"ngIf"],["title","Minimize",1,"header-btn",3,"click"],["viewBox","0 0 24 24","fill","currentColor"],["d","M19 13H5v-2h14v2z"],["title","Close",1,"header-btn",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],[1,"notification-badge"],["fill","currentColor","viewBox","0 0 24 24"],["d","M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"]],template:function(n,r){n&1&&(K(0,ok,2,3,"div",0),re(1,"async"),re(2,"async"),K(3,sk,5,7,"div",1),re(4,"async"),K(5,dk,11,25,"div",2),re(6,"async"),ae(7,"app-image-viewer")(8,"app-video-viewer")),n&2&&(F("ngIf",ie(1,3,r.chatService.positionState$)==r.PositionState.Top&&ie(2,5,r.chatService.layoutState$)!=r.LayoutState.Maximize),k(3),F("ngIf",ie(4,7,r.chatService.layoutState$)==r.LayoutState.Maximize),k(2),F("ngIf",ie(6,9,r.chatService.layoutState$)!=r.LayoutState.Maximize))},dependencies:[Ot,qt,Cg,dn,Ri,ol,cl,sl,ul,ll],styles:['@charset "UTF-8";.chat-widget[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-radius:8px;overflow:hidden}.chat-widget.icon[_ngcontent-%COMP%]{right:20px;width:60px;bottom:20px;height:60px;z-index:1000;position:fixed;border-radius:100%;background-color:transparent}.chat-widget.close[_ngcontent-%COMP%]{display:none}.chat-widget.maximize[_ngcontent-%COMP%]{top:0;bottom:0;height:auto;z-index:1000;position:fixed}.chat-widget.position-top[_ngcontent-%COMP%]{top:0;right:0;height:auto;width:405px;z-index:1000;position:fixed;max-height:525px}  .chat-widget.minibar{right:0;bottom:0;width:450px;height:auto;z-index:1000;position:fixed}  .chat-widget.minibar .chat-launcher{color:#000;border-radius:unset;background-color:transparent}  .chat-widget.minimize{right:0;bottom:0;width:450px;height:400px;z-index:1000;position:fixed}  .chat-widget.minimize .chat-container{width:100%}  .chat-widget.minimize .chat-container .center-panel{height:100%}  .chat-widget.position-top .left-panel{padding:16px 0 0}@media (max-width: 1024px){.chat-widget[_ngcontent-%COMP%]{height:auto;flex-direction:column}.chat-widget[_ngcontent-%COMP%]   app-left-panel[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow-y:auto}.chat-widget[_ngcontent-%COMP%]   app-right-panel[_ngcontent-%COMP%]{width:100%;height:auto;max-height:400px;overflow-y:auto}}@media (max-width: 768px){.chat-widget[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}}.chat-widget[_ngcontent-%COMP%]   app-center-panel[_ngcontent-%COMP%]{flex:1;min-width:0}.chat-launcher[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#007aff;color:#fff;border-radius:100%;border:none;cursor:pointer;display:flex;justify-content:center;align-items:center;box-shadow:0 3px 10px #0003;transform-origin:bottom right;opacity:1;transform:scale(1);transition:opacity .2s ease-out,transform .2s ease-out}.chat-launcher[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px}.chat-header[_ngcontent-%COMP%], .chat-launcher[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;flex-shrink:0}.chat-header[_ngcontent-%COMP%]{background-color:#f7f7f7;border-bottom:1px solid #e5e5e5}.header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-grow:1}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#007aff;color:#fff;display:flex;justify-content:center;align-items:center;font-weight:700}.room-details[_ngcontent-%COMP%]   .room-name[_ngcontent-%COMP%]{font-weight:600}.room-details[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]{font-size:13px;color:#34c759}.room-details[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]:before{content:"\\25cf";margin-right:4px}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.notification-badge[_ngcontent-%COMP%]{background-color:#ff3b30;color:#fff;width:24px;height:24px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:14px;font-weight:700}.header-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#8e8e93;width:28px;height:28px}.position-top[_ngcontent-%COMP%]{width:fit-content;border-radius:10px}']})}});var fk=gl(eI=>{pm();hm();j1();B1();I_();X_();ce(null,null,function*(){let e=yield Ng(V1),t=U1(dl,{injector:e.injector});customElements.define("chat-widget",t)})});fk();
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular v<unknown>
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/core/fesm2022/primitives/di.mjs:
@angular/core/fesm2022/signal.mjs:
@angular/core/fesm2022/untracked.mjs:
@angular/core/fesm2022/primitives/signals.mjs:
@angular/core/fesm2022/root_effect_scheduler.mjs:
@angular/core/fesm2022/resource.mjs:
@angular/common/fesm2022/xhr.mjs:
@angular/common/fesm2022/module.mjs:
@angular/common/fesm2022/http.mjs:
@angular/elements/fesm2022/elements.mjs:
@angular/common/fesm2022/location.mjs:
@angular/common/fesm2022/common_module.mjs:
@angular/common/fesm2022/common.mjs:
@angular/platform-browser/fesm2022/dom_renderer.mjs:
@angular/platform-browser/fesm2022/browser.mjs:
@angular/platform-browser/fesm2022/platform-browser.mjs:
@angular/forms/fesm2022/forms.mjs:
  (**
   * @license Angular v20.0.6
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/core/fesm2022/debug_node.mjs:
@angular/core/fesm2022/core.mjs:
  (**
   * @license Angular v20.0.6
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
*/

})();
